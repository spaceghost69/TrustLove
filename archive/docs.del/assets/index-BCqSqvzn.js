var $U=Object.defineProperty;var WU=(r,e,t)=>e in r?$U(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var VS=(r,e,t)=>(WU(r,typeof e!="symbol"?e+"":e,t),t);var mm=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)};function Wt(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function en(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function jt(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var tI={exports:{}},gm={},nI={exports:{}},An={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT;function GU(){if(lT)return An;lT=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function g(X){return X===null||typeof X!="object"?null:(X=m&&X[m]||X["@@iterator"],typeof X=="function"?X:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function _(X,ne,we){this.props=X,this.context=ne,this.refs=S,this.updater=we||y}_.prototype.isReactComponent={},_.prototype.setState=function(X,ne){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,ne,"setState")},_.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function E(){}E.prototype=_.prototype;function w(X,ne,we){this.props=X,this.context=ne,this.refs=S,this.updater=we||y}var C=w.prototype=new E;C.constructor=w,x(C,_.prototype),C.isPureReactComponent=!0;var T=Array.isArray,O=Object.prototype.hasOwnProperty,R={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function N(X,ne,we){var me,ye={},Pe=null,Le=null;if(ne!=null)for(me in ne.ref!==void 0&&(Le=ne.ref),ne.key!==void 0&&(Pe=""+ne.key),ne)O.call(ne,me)&&!P.hasOwnProperty(me)&&(ye[me]=ne[me]);var Je=arguments.length-2;if(Je===1)ye.children=we;else if(1<Je){for(var ot=Array(Je),ft=0;ft<Je;ft++)ot[ft]=arguments[ft+2];ye.children=ot}if(X&&X.defaultProps)for(me in Je=X.defaultProps,Je)ye[me]===void 0&&(ye[me]=Je[me]);return{$$typeof:r,type:X,key:Pe,ref:Le,props:ye,_owner:R.current}}function D(X,ne){return{$$typeof:r,type:X.type,key:ne,ref:X.ref,props:X.props,_owner:X._owner}}function I(X){return typeof X=="object"&&X!==null&&X.$$typeof===r}function V(X){var ne={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(we){return ne[we]})}var q=/\/+/g;function W(X,ne){return typeof X=="object"&&X!==null&&X.key!=null?V(""+X.key):ne.toString(36)}function ee(X,ne,we,me,ye){var Pe=typeof X;(Pe==="undefined"||Pe==="boolean")&&(X=null);var Le=!1;if(X===null)Le=!0;else switch(Pe){case"string":case"number":Le=!0;break;case"object":switch(X.$$typeof){case r:case e:Le=!0}}if(Le)return Le=X,ye=ye(Le),X=me===""?"."+W(Le,0):me,T(ye)?(we="",X!=null&&(we=X.replace(q,"$&/")+"/"),ee(ye,ne,we,"",function(ft){return ft})):ye!=null&&(I(ye)&&(ye=D(ye,we+(!ye.key||Le&&Le.key===ye.key?"":(""+ye.key).replace(q,"$&/")+"/")+X)),ne.push(ye)),1;if(Le=0,me=me===""?".":me+":",T(X))for(var Je=0;Je<X.length;Je++){Pe=X[Je];var ot=me+W(Pe,Je);Le+=ee(Pe,ne,we,ot,ye)}else if(ot=g(X),typeof ot=="function")for(X=ot.call(X),Je=0;!(Pe=X.next()).done;)Pe=Pe.value,ot=me+W(Pe,Je++),Le+=ee(Pe,ne,we,ot,ye);else if(Pe==="object")throw ne=String(X),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return Le}function te(X,ne,we){if(X==null)return X;var me=[],ye=0;return ee(X,me,"","",function(Pe){return ne.call(we,Pe,ye++)}),me}function re(X){if(X._status===-1){var ne=X._result;ne=ne(),ne.then(function(we){(X._status===0||X._status===-1)&&(X._status=1,X._result=we)},function(we){(X._status===0||X._status===-1)&&(X._status=2,X._result=we)}),X._status===-1&&(X._status=0,X._result=ne)}if(X._status===1)return X._result.default;throw X._result}var ue={current:null},G={transition:null},le={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:G,ReactCurrentOwner:R};function oe(){throw Error("act(...) is not supported in production builds of React.")}return An.Children={map:te,forEach:function(X,ne,we){te(X,function(){ne.apply(this,arguments)},we)},count:function(X){var ne=0;return te(X,function(){ne++}),ne},toArray:function(X){return te(X,function(ne){return ne})||[]},only:function(X){if(!I(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},An.Component=_,An.Fragment=t,An.Profiler=i,An.PureComponent=w,An.StrictMode=n,An.Suspense=c,An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,An.act=oe,An.cloneElement=function(X,ne,we){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var me=x({},X.props),ye=X.key,Pe=X.ref,Le=X._owner;if(ne!=null){if(ne.ref!==void 0&&(Pe=ne.ref,Le=R.current),ne.key!==void 0&&(ye=""+ne.key),X.type&&X.type.defaultProps)var Je=X.type.defaultProps;for(ot in ne)O.call(ne,ot)&&!P.hasOwnProperty(ot)&&(me[ot]=ne[ot]===void 0&&Je!==void 0?Je[ot]:ne[ot])}var ot=arguments.length-2;if(ot===1)me.children=we;else if(1<ot){Je=Array(ot);for(var ft=0;ft<ot;ft++)Je[ft]=arguments[ft+2];me.children=Je}return{$$typeof:r,type:X.type,key:ye,ref:Pe,props:me,_owner:Le}},An.createContext=function(X){return X={$$typeof:s,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:a,_context:X},X.Consumer=X},An.createElement=N,An.createFactory=function(X){var ne=N.bind(null,X);return ne.type=X,ne},An.createRef=function(){return{current:null}},An.forwardRef=function(X){return{$$typeof:o,render:X}},An.isValidElement=I,An.lazy=function(X){return{$$typeof:f,_payload:{_status:-1,_result:X},_init:re}},An.memo=function(X,ne){return{$$typeof:d,type:X,compare:ne===void 0?null:ne}},An.startTransition=function(X){var ne=G.transition;G.transition={};try{X()}finally{G.transition=ne}},An.unstable_act=oe,An.useCallback=function(X,ne){return ue.current.useCallback(X,ne)},An.useContext=function(X){return ue.current.useContext(X)},An.useDebugValue=function(){},An.useDeferredValue=function(X){return ue.current.useDeferredValue(X)},An.useEffect=function(X,ne){return ue.current.useEffect(X,ne)},An.useId=function(){return ue.current.useId()},An.useImperativeHandle=function(X,ne,we){return ue.current.useImperativeHandle(X,ne,we)},An.useInsertionEffect=function(X,ne){return ue.current.useInsertionEffect(X,ne)},An.useLayoutEffect=function(X,ne){return ue.current.useLayoutEffect(X,ne)},An.useMemo=function(X,ne){return ue.current.useMemo(X,ne)},An.useReducer=function(X,ne,we){return ue.current.useReducer(X,ne,we)},An.useRef=function(X){return ue.current.useRef(X)},An.useState=function(X){return ue.current.useState(X)},An.useSyncExternalStore=function(X,ne,we){return ue.current.useSyncExternalStore(X,ne,we)},An.useTransition=function(){return ue.current.useTransition()},An.version="18.3.1",An}nI.exports=GU();var z=nI.exports;const _i=en(z),Yh=Wt({__proto__:null,default:_i},[z]),ta=jt(Yh);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT;function qU(){if(cT)return gm;cT=1;var r=ta,e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(o,c,d){var f,m={},g=null,y=null;d!==void 0&&(g=""+d),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(y=c.ref);for(f in c)n.call(c,f)&&!a.hasOwnProperty(f)&&(m[f]=c[f]);if(o&&o.defaultProps)for(f in c=o.defaultProps,c)m[f]===void 0&&(m[f]=c[f]);return{$$typeof:e,type:o,key:g,ref:y,props:m,_owner:i.current}}return gm.Fragment=t,gm.jsx=s,gm.jsxs=s,gm}tI.exports=qU();var H=tI.exports,rI={exports:{}},Fa={},HS={exports:{}},jS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function XU(){return uT||(uT=1,function(r){function e(G,le){var oe=G.length;G.push(le);e:for(;0<oe;){var X=oe-1>>>1,ne=G[X];if(0<i(ne,le))G[X]=le,G[oe]=ne,oe=X;else break e}}function t(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var le=G[0],oe=G.pop();if(oe!==le){G[0]=oe;e:for(var X=0,ne=G.length,we=ne>>>1;X<we;){var me=2*(X+1)-1,ye=G[me],Pe=me+1,Le=G[Pe];if(0>i(ye,oe))Pe<ne&&0>i(Le,ye)?(G[X]=Le,G[Pe]=oe,X=Pe):(G[X]=ye,G[me]=oe,X=me);else if(Pe<ne&&0>i(Le,oe))G[X]=Le,G[Pe]=oe,X=Pe;else break e}}return le}function i(G,le){var oe=G.sortIndex-le.sortIndex;return oe!==0?oe:G.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();r.unstable_now=function(){return s.now()-o}}var c=[],d=[],f=1,m=null,g=3,y=!1,x=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(G){for(var le=t(d);le!==null;){if(le.callback===null)n(d);else if(le.startTime<=G)n(d),le.sortIndex=le.expirationTime,e(c,le);else break;le=t(d)}}function T(G){if(S=!1,C(G),!x)if(t(c)!==null)x=!0,re(O);else{var le=t(d);le!==null&&ue(T,le.startTime-G)}}function O(G,le){x=!1,S&&(S=!1,E(N),N=-1),y=!0;var oe=g;try{for(C(le),m=t(c);m!==null&&(!(m.expirationTime>le)||G&&!V());){var X=m.callback;if(typeof X=="function"){m.callback=null,g=m.priorityLevel;var ne=X(m.expirationTime<=le);le=r.unstable_now(),typeof ne=="function"?m.callback=ne:m===t(c)&&n(c),C(le)}else n(c);m=t(c)}if(m!==null)var we=!0;else{var me=t(d);me!==null&&ue(T,me.startTime-le),we=!1}return we}finally{m=null,g=oe,y=!1}}var R=!1,P=null,N=-1,D=5,I=-1;function V(){return!(r.unstable_now()-I<D)}function q(){if(P!==null){var G=r.unstable_now();I=G;var le=!0;try{le=P(!0,G)}finally{le?W():(R=!1,P=null)}}else R=!1}var W;if(typeof w=="function")W=function(){w(q)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,te=ee.port2;ee.port1.onmessage=q,W=function(){te.postMessage(null)}}else W=function(){_(q,0)};function re(G){P=G,R||(R=!0,W())}function ue(G,le){N=_(function(){G(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_continueExecution=function(){x||y||(x=!0,re(O))},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return g},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(G){switch(g){case 1:case 2:case 3:var le=3;break;default:le=g}var oe=g;g=le;try{return G()}finally{g=oe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(G,le){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var oe=g;g=G;try{return le()}finally{g=oe}},r.unstable_scheduleCallback=function(G,le,oe){var X=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?X+oe:X):oe=X,G){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=oe+ne,G={id:f++,callback:le,priorityLevel:G,startTime:oe,expirationTime:ne,sortIndex:-1},oe>X?(G.sortIndex=oe,e(d,G),t(c)===null&&G===t(d)&&(S?(E(N),N=-1):S=!0,ue(T,oe-X))):(G.sortIndex=ne,e(c,G),x||y||(x=!0,re(O))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var le=g;return function(){var oe=g;g=le;try{return G.apply(this,arguments)}finally{g=oe}}}}(jS)),jS}var dT;function YU(){return dT||(dT=1,HS.exports=XU()),HS.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function QU(){if(fT)return Fa;fT=1;var r=ta,e=YU();function t(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,v=1;v<arguments.length;v++)u+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(l,u){s(l,u),s(l+"Capture",u)}function s(l,u){for(i[l]=u,l=0;l<u.length;l++)n.add(u[l])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function g(l){return c.call(m,l)?!0:c.call(f,l)?!1:d.test(l)?m[l]=!0:(f[l]=!0,!1)}function y(l,u,v,M){if(v!==null&&v.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return M?!1:v!==null?!v.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function x(l,u,v,M){if(u===null||typeof u>"u"||y(l,u,v,M))return!0;if(M)return!1;if(v!==null)switch(v.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function S(l,u,v,M,k,U,Y){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=M,this.attributeNamespace=k,this.mustUseProperty=v,this.propertyName=l,this.type=u,this.sanitizeURL=U,this.removeEmptyString=Y}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){_[l]=new S(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];_[u]=new S(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){_[l]=new S(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){_[l]=new S(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){_[l]=new S(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){_[l]=new S(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){_[l]=new S(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){_[l]=new S(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){_[l]=new S(l,5,!1,l.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function w(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(E,w);_[u]=new S(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(E,w);_[u]=new S(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(E,w);_[u]=new S(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){_[l]=new S(l,1,!1,l.toLowerCase(),null,!1,!1)}),_.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){_[l]=new S(l,1,!1,l.toLowerCase(),null,!0,!0)});function C(l,u,v,M){var k=_.hasOwnProperty(u)?_[u]:null;(k!==null?k.type!==0:M||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(x(u,v,k,M)&&(v=null),M||k===null?g(u)&&(v===null?l.removeAttribute(u):l.setAttribute(u,""+v)):k.mustUseProperty?l[k.propertyName]=v===null?k.type===3?!1:"":v:(u=k.attributeName,M=k.attributeNamespace,v===null?l.removeAttribute(u):(k=k.type,v=k===3||k===4&&v===!0?"":""+v,M?l.setAttributeNS(M,u,v):l.setAttribute(u,v))))}var T=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),R=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),V=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),G=Symbol.iterator;function le(l){return l===null||typeof l!="object"?null:(l=G&&l[G]||l["@@iterator"],typeof l=="function"?l:null)}var oe=Object.assign,X;function ne(l){if(X===void 0)try{throw Error()}catch(v){var u=v.stack.trim().match(/\n( *(at )?)/);X=u&&u[1]||""}return`
`+X+l}var we=!1;function me(l,u){if(!l||we)return"";we=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Ne){var M=Ne}Reflect.construct(l,[],u)}else{try{u.call()}catch(Ne){M=Ne}l.call(u.prototype)}else{try{throw Error()}catch(Ne){M=Ne}l()}}catch(Ne){if(Ne&&M&&typeof Ne.stack=="string"){for(var k=Ne.stack.split(`
`),U=M.stack.split(`
`),Y=k.length-1,he=U.length-1;1<=Y&&0<=he&&k[Y]!==U[he];)he--;for(;1<=Y&&0<=he;Y--,he--)if(k[Y]!==U[he]){if(Y!==1||he!==1)do if(Y--,he--,0>he||k[Y]!==U[he]){var _e=`
`+k[Y].replace(" at new "," at ");return l.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",l.displayName)),_e}while(1<=Y&&0<=he);break}}}finally{we=!1,Error.prepareStackTrace=v}return(l=l?l.displayName||l.name:"")?ne(l):""}function ye(l){switch(l.tag){case 5:return ne(l.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return l=me(l.type,!1),l;case 11:return l=me(l.type.render,!1),l;case 1:return l=me(l.type,!0),l;default:return""}}function Pe(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case P:return"Fragment";case R:return"Portal";case D:return"Profiler";case N:return"StrictMode";case W:return"Suspense";case ee:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case V:return(l.displayName||"Context")+".Consumer";case I:return(l._context.displayName||"Context")+".Provider";case q:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case te:return u=l.displayName||null,u!==null?u:Pe(l.type)||"Memo";case re:u=l._payload,l=l._init;try{return Pe(l(u))}catch{}}return null}function Le(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(u);case 8:return u===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Je(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ot(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ft(l){var u=ot(l)?"checked":"value",v=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),M=""+l[u];if(!l.hasOwnProperty(u)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var k=v.get,U=v.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return k.call(this)},set:function(Y){M=""+Y,U.call(this,Y)}}),Object.defineProperty(l,u,{enumerable:v.enumerable}),{getValue:function(){return M},setValue:function(Y){M=""+Y},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function wt(l){l._valueTracker||(l._valueTracker=ft(l))}function Z(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var v=u.getValue(),M="";return l&&(M=ot(l)?l.checked?"true":"false":l.value),l=M,l!==v?(u.setValue(l),!0):!1}function Be(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Ge(l,u){var v=u.checked;return oe({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??l._wrapperState.initialChecked})}function qe(l,u){var v=u.defaultValue==null?"":u.defaultValue,M=u.checked!=null?u.checked:u.defaultChecked;v=Je(u.value!=null?u.value:v),l._wrapperState={initialChecked:M,initialValue:v,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Ue(l,u){u=u.checked,u!=null&&C(l,"checked",u,!1)}function xt(l,u){Ue(l,u);var v=Je(u.value),M=u.type;if(v!=null)M==="number"?(v===0&&l.value===""||l.value!=v)&&(l.value=""+v):l.value!==""+v&&(l.value=""+v);else if(M==="submit"||M==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?yt(l,u.type,v):u.hasOwnProperty("defaultValue")&&yt(l,u.type,Je(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function st(l,u,v){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var M=u.type;if(!(M!=="submit"&&M!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,v||u===l.value||(l.value=u),l.defaultValue=u}v=l.name,v!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,v!==""&&(l.name=v)}function yt(l,u,v){(u!=="number"||Be(l.ownerDocument)!==l)&&(v==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+v&&(l.defaultValue=""+v))}var se=Array.isArray;function K(l,u,v,M){if(l=l.options,u){u={};for(var k=0;k<v.length;k++)u["$"+v[k]]=!0;for(v=0;v<l.length;v++)k=u.hasOwnProperty("$"+l[v].value),l[v].selected!==k&&(l[v].selected=k),k&&M&&(l[v].defaultSelected=!0)}else{for(v=""+Je(v),u=null,k=0;k<l.length;k++){if(l[k].value===v){l[k].selected=!0,M&&(l[k].defaultSelected=!0);return}u!==null||l[k].disabled||(u=l[k])}u!==null&&(u.selected=!0)}}function Ce(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Xe(l,u){var v=u.value;if(v==null){if(v=u.children,u=u.defaultValue,v!=null){if(u!=null)throw Error(t(92));if(se(v)){if(1<v.length)throw Error(t(93));v=v[0]}u=v}u==null&&(u=""),v=u}l._wrapperState={initialValue:Je(v)}}function Ye(l,u){var v=Je(u.value),M=Je(u.defaultValue);v!=null&&(v=""+v,v!==l.value&&(l.value=v),u.defaultValue==null&&l.defaultValue!==v&&(l.defaultValue=v)),M!=null&&(l.defaultValue=""+M)}function We(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function Et(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?Et(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var F,B=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,v,M,k){MSApp.execUnsafeLocalFunction(function(){return l(u,v,M,k)})}:l}(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(F=F||document.createElement("div"),F.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=F.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function Q(l,u){if(u){var v=l.firstChild;if(v&&v===l.lastChild&&v.nodeType===3){v.nodeValue=u;return}}l.textContent=u}var ie={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];Object.keys(ie).forEach(function(l){pe.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),ie[u]=ie[l]})});function ve(l,u,v){return u==null||typeof u=="boolean"||u===""?"":v||typeof u!="number"||u===0||ie.hasOwnProperty(l)&&ie[l]?(""+u).trim():u+"px"}function Ve(l,u){l=l.style;for(var v in u)if(u.hasOwnProperty(v)){var M=v.indexOf("--")===0,k=ve(v,u[v],M);v==="float"&&(v="cssFloat"),M?l.setProperty(v,k):l[v]=k}}var de=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(l,u){if(u){if(de[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function tt(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fe=null;function Ke(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var He=null,$e=null,lt=null;function Ut(l){if(l=Ds(l)){if(typeof He!="function")throw Error(t(280));var u=l.stateNode;u&&(u=If(u),He(l.stateNode,l.type,u))}}function Xt(l){$e?lt?lt.push(l):lt=[l]:$e=l}function ge(){if($e){var l=$e,u=lt;if(lt=$e=null,Ut(l),u)for(l=0;l<u.length;l++)Ut(u[l])}}function Me(l,u){return l(u)}function Re(){}var Ze=!1;function ut(l,u,v){if(Ze)return l(u,v);Ze=!0;try{return Me(l,u,v)}finally{Ze=!1,($e!==null||lt!==null)&&(Re(),ge())}}function Vt(l,u){var v=l.stateNode;if(v===null)return null;var M=If(v);if(M===null)return null;v=M[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(l=l.type,M=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!M;break e;default:l=!1}if(l)return null;if(v&&typeof v!="function")throw Error(t(231,u,typeof v));return v}var Ct=!1;if(o)try{var pt={};Object.defineProperty(pt,"passive",{get:function(){Ct=!0}}),window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch{Ct=!1}function Jt(l,u,v,M,k,U,Y,he,_e){var Ne=Array.prototype.slice.call(arguments,3);try{u.apply(v,Ne)}catch(at){this.onError(at)}}var Pt=!1,hn=null,gn=!1,Ot=null,Cn={onError:function(l){Pt=!0,hn=l}};function Pn(l,u,v,M,k,U,Y,he,_e){Pt=!1,hn=null,Jt.apply(Cn,arguments)}function dn(l,u,v,M,k,U,Y,he,_e){if(Pn.apply(this,arguments),Pt){if(Pt){var Ne=hn;Pt=!1,hn=null}else throw Error(t(198));gn||(gn=!0,Ot=Ne)}}function Dt(l){var u=l,v=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,u.flags&4098&&(v=u.return),l=u.return;while(l)}return u.tag===3?v:null}function pn(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function J(l){if(Dt(l)!==l)throw Error(t(188))}function xe(l){var u=l.alternate;if(!u){if(u=Dt(l),u===null)throw Error(t(188));return u!==l?null:l}for(var v=l,M=u;;){var k=v.return;if(k===null)break;var U=k.alternate;if(U===null){if(M=k.return,M!==null){v=M;continue}break}if(k.child===U.child){for(U=k.child;U;){if(U===v)return J(k),l;if(U===M)return J(k),u;U=U.sibling}throw Error(t(188))}if(v.return!==M.return)v=k,M=U;else{for(var Y=!1,he=k.child;he;){if(he===v){Y=!0,v=k,M=U;break}if(he===M){Y=!0,M=k,v=U;break}he=he.sibling}if(!Y){for(he=U.child;he;){if(he===v){Y=!0,v=U,M=k;break}if(he===M){Y=!0,M=U,v=k;break}he=he.sibling}if(!Y)throw Error(t(189))}}if(v.alternate!==M)throw Error(t(190))}if(v.tag!==3)throw Error(t(188));return v.stateNode.current===v?l:u}function Ae(l){return l=xe(l),l!==null?Oe(l):null}function Oe(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=Oe(l);if(u!==null)return u;l=l.sibling}return null}var be=e.unstable_scheduleCallback,it=e.unstable_cancelCallback,et=e.unstable_shouldYield,mt=e.unstable_requestPaint,nt=e.unstable_now,Tt=e.unstable_getCurrentPriorityLevel,Yt=e.unstable_ImmediatePriority,Qt=e.unstable_UserBlockingPriority,Mn=e.unstable_NormalPriority,er=e.unstable_LowPriority,Vn=e.unstable_IdlePriority,ar=null,Lt=null;function vt(l){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(ar,l,void 0,(l.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:Di,sn=Math.log,tr=Math.LN2;function Di(l){return l>>>=0,l===0?32:31-(sn(l)/tr|0)|0}var dr=64,Sr=4194304;function $n(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Li(l,u){var v=l.pendingLanes;if(v===0)return 0;var M=0,k=l.suspendedLanes,U=l.pingedLanes,Y=v&268435455;if(Y!==0){var he=Y&~k;he!==0?M=$n(he):(U&=Y,U!==0&&(M=$n(U)))}else Y=v&~k,Y!==0?M=$n(Y):U!==0&&(M=$n(U));if(M===0)return 0;if(u!==0&&u!==M&&!(u&k)&&(k=M&-M,U=u&-u,k>=U||k===16&&(U&4194240)!==0))return u;if(M&4&&(M|=v&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=M;0<u;)v=31-Tn(u),k=1<<v,M|=l[v],u&=~k;return M}function tc(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jr(l,u){for(var v=l.suspendedLanes,M=l.pingedLanes,k=l.expirationTimes,U=l.pendingLanes;0<U;){var Y=31-Tn(U),he=1<<Y,_e=k[Y];_e===-1?(!(he&v)||he&M)&&(k[Y]=tc(he,u)):_e<=u&&(l.expiredLanes|=he),U&=~he}}function ho(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Ni(){var l=dr;return dr<<=1,!(dr&4194240)&&(dr=64),l}function nc(l){for(var u=[],v=0;31>v;v++)u.push(l);return u}function iu(l,u,v){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-Tn(u),l[u]=v}function dS(l,u){var v=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var M=l.eventTimes;for(l=l.expirationTimes;0<v;){var k=31-Tn(v),U=1<<k;u[k]=0,M[k]=-1,l[k]=-1,v&=~U}}function rc(l,u){var v=l.entangledLanes|=u;for(l=l.entanglements;v;){var M=31-Tn(v),k=1<<M;k&u|l[M]&u&&(l[M]|=u),v&=~k}}var Fn=0;function ic(l){return l&=-l,1<l?4<l?l&268435455?16:536870912:4:1}var au,Sp,ky,Jd,Zd,qo=!1,ef=[],os=null,Sn=null,Ts=null,Xo=new Map,ac=new Map,po=[],fS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lr(l,u){switch(l){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":Xo.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":ac.delete(u.pointerId)}}function Yo(l,u,v,M,k,U){return l===null||l.nativeEvent!==U?(l={blockedOn:u,domEventName:v,eventSystemFlags:M,nativeEvent:U,targetContainers:[k]},u!==null&&(u=Ds(u),u!==null&&Sp(u)),l):(l.eventSystemFlags|=M,u=l.targetContainers,k!==null&&u.indexOf(k)===-1&&u.push(k),l)}function hS(l,u,v,M,k){switch(u){case"focusin":return os=Yo(os,l,u,v,M,k),!0;case"dragenter":return Sn=Yo(Sn,l,u,v,M,k),!0;case"mouseover":return Ts=Yo(Ts,l,u,v,M,k),!0;case"pointerover":var U=k.pointerId;return Xo.set(U,Yo(Xo.get(U)||null,l,u,v,M,k)),!0;case"gotpointercapture":return U=k.pointerId,ac.set(U,Yo(ac.get(U)||null,l,u,v,M,k)),!0}return!1}function tf(l){var u=So(l.target);if(u!==null){var v=Dt(u);if(v!==null){if(u=v.tag,u===13){if(u=pn(v),u!==null){l.blockedOn=u,Zd(l.priority,function(){ky(v)});return}}else if(u===3&&v.stateNode.current.memoizedState.isDehydrated){l.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}l.blockedOn=null}function nf(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var v=Ca(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(v===null){v=l.nativeEvent;var M=new v.constructor(v.type,v);fe=M,v.target.dispatchEvent(M),fe=null}else return u=Ds(v),u!==null&&Sp(u),l.blockedOn=v,!1;u.shift()}return!0}function su(l,u,v){nf(l)&&v.delete(u)}function ls(){qo=!1,os!==null&&nf(os)&&(os=null),Sn!==null&&nf(Sn)&&(Sn=null),Ts!==null&&nf(Ts)&&(Ts=null),Xo.forEach(su),ac.forEach(su)}function ou(l,u){l.blockedOn===u&&(l.blockedOn=null,qo||(qo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ls)))}function lu(l){function u(k){return ou(k,l)}if(0<ef.length){ou(ef[0],l);for(var v=1;v<ef.length;v++){var M=ef[v];M.blockedOn===l&&(M.blockedOn=null)}}for(os!==null&&ou(os,l),Sn!==null&&ou(Sn,l),Ts!==null&&ou(Ts,l),Xo.forEach(u),ac.forEach(u),v=0;v<po.length;v++)M=po[v],M.blockedOn===l&&(M.blockedOn=null);for(;0<po.length&&(v=po[0],v.blockedOn===null);)tf(v),v.blockedOn===null&&po.shift()}var Si=T.ReactCurrentBatchConfig,wa=!0;function rf(l,u,v,M){var k=Fn,U=Si.transition;Si.transition=null;try{Fn=1,af(l,u,v,M)}finally{Fn=k,Si.transition=U}}function Ep(l,u,v,M){var k=Fn,U=Si.transition;Si.transition=null;try{Fn=4,af(l,u,v,M)}finally{Fn=k,Si.transition=U}}function af(l,u,v,M){if(wa){var k=Ca(l,u,v,M);if(k===null)bf(l,u,M,sf,v),Lr(l,M);else if(hS(k,l,u,v,M))M.stopPropagation();else if(Lr(l,M),u&4&&-1<fS.indexOf(l)){for(;k!==null;){var U=Ds(k);if(U!==null&&au(U),U=Ca(l,u,v,M),U===null&&bf(l,u,M,sf,v),U===k)break;k=U}k!==null&&M.stopPropagation()}else bf(l,u,M,null,v)}}var sf=null;function Ca(l,u,v,M){if(sf=null,l=Ke(M),l=So(l),l!==null)if(u=Dt(l),u===null)l=null;else if(v=u.tag,v===13){if(l=pn(u),l!==null)return l;l=null}else if(v===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return sf=l,null}function Fy(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tt()){case Yt:return 1;case Qt:return 4;case Mn:case er:return 16;case Vn:return 536870912;default:return 16}default:return 16}}var ja=null,wp=null,Ui=null;function cu(){if(Ui)return Ui;var l,u=wp,v=u.length,M,k="value"in ja?ja.value:ja.textContent,U=k.length;for(l=0;l<v&&u[l]===k[l];l++);var Y=v-l;for(M=1;M<=Y&&u[v-M]===k[U-M];M++);return Ui=k.slice(l,1<M?1-M:void 0)}function Qo(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function As(){return!0}function of(){return!1}function Ei(l){function u(v,M,k,U,Y){this._reactName=v,this._targetInst=k,this.type=M,this.nativeEvent=U,this.target=Y,this.currentTarget=null;for(var he in l)l.hasOwnProperty(he)&&(v=l[he],this[he]=v?v(U):U[he]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?As:of,this.isPropagationStopped=of,this}return oe(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),u}var Ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uu=Ei(Ko),Jo=oe({},Ko,{view:0,detail:0}),sc=Ei(Jo),Bi,ba,Ma,oc=oe({},Jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:go,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Ma&&(Ma&&l.type==="mousemove"?(Bi=l.screenX-Ma.screenX,ba=l.screenY-Ma.screenY):ba=Bi=0,Ma=l),Bi)},movementY:function(l){return"movementY"in l?l.movementY:ba}}),Cp=Ei(oc),Ps=oe({},oc,{dataTransfer:0}),mo=Ei(Ps),lf=oe({},Jo,{relatedTarget:0}),cf=Ei(lf),uf=oe({},Ko,{animationName:0,elapsedTime:0,pseudoElement:0}),Dy=Ei(uf),Ly=oe({},Ko,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),bp=Ei(Ly),df=oe({},Ko,{data:0}),Mp=Ei(df),Ny={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lc(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=Tp[l])?!!u[l]:!1}function go(){return lc}var ff=oe({},Jo,{key:function(l){if(l.key){var u=Ny[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Qo(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Uy[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:go,charCode:function(l){return l.type==="keypress"?Qo(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Qo(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),hf=Ei(ff),Ta=oe({},oc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),na=Ei(Ta),Zo=oe({},Jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:go}),Rs=Ei(Zo),Is=oe({},Ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),el=Ei(Is),By=oe({},oc,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Ap=Ei(By),Pp=[9,13,27,32],wi=o&&"CompositionEvent"in window,Zr=null;o&&"documentMode"in document&&(Zr=document.documentMode);var lr=o&&"TextEvent"in window&&!Zr,cc=o&&(!wi||Zr&&8<Zr&&11>=Zr),Aa=" ",Rp=!1;function Ip(l,u){switch(l){case"keyup":return Pp.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pf(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var yo=!1;function zy(l,u){switch(l){case"compositionend":return pf(u);case"keypress":return u.which!==32?null:(Rp=!0,Aa);case"textInput":return l=u.data,l===Aa&&Rp?null:l;default:return null}}function du(l,u){if(yo)return l==="compositionend"||!wi&&Ip(l,u)?(l=cu(),Ui=wp=ja=null,yo=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return cc&&u.locale!=="ko"?null:u.data;default:return null}}var uc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mf(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!uc[l.type]:u==="textarea"}function dc(l,u,v,M){Xt(M),u=Mf(u,"onChange"),0<u.length&&(v=new uu("onChange","change",null,v,M),l.push({event:v,listeners:u}))}var vo=null,fc=null;function Vy(l){gc(l,0)}function Os(l){var u=Er(l);if(Z(u))return l}function Hy(l,u){if(l==="change")return u}var hc=!1;if(o){var zi;if(o){var tl="oninput"in document;if(!tl){var nl=document.createElement("div");nl.setAttribute("oninput","return;"),tl=typeof nl.oninput=="function"}zi=tl}else zi=!1;hc=zi&&(!document.documentMode||9<document.documentMode)}function $a(){vo&&(vo.detachEvent("onpropertychange",gf),fc=vo=null)}function gf(l){if(l.propertyName==="value"&&Os(fc)){var u=[];dc(u,fc,l,Ke(l)),ut(Vy,u)}}function pc(l,u,v){l==="focusin"?($a(),vo=u,fc=v,vo.attachEvent("onpropertychange",gf)):l==="focusout"&&$a()}function jy(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Os(fc)}function Op(l,u){if(l==="click")return Os(u)}function fr(l,u){if(l==="input"||l==="change")return Os(u)}function yf(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var ra=typeof Object.is=="function"?Object.is:yf;function rl(l,u){if(ra(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var v=Object.keys(l),M=Object.keys(u);if(v.length!==M.length)return!1;for(M=0;M<v.length;M++){var k=v[M];if(!c.call(u,k)||!ra(l[k],u[k]))return!1}return!0}function fu(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function ia(l,u){var v=fu(l);l=0;for(var M;v;){if(v.nodeType===3){if(M=l+v.textContent.length,l<=u&&M>=u)return{node:v,offset:u-l};l=M}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=fu(v)}}function il(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?il(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function hr(){for(var l=window,u=Be();u instanceof l.HTMLIFrameElement;){try{var v=typeof u.contentWindow.location.href=="string"}catch{v=!1}if(v)l=u.contentWindow;else break;u=Be(l.document)}return u}function Hr(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function jr(l){var u=hr(),v=l.focusedElem,M=l.selectionRange;if(u!==v&&v&&v.ownerDocument&&il(v.ownerDocument.documentElement,v)){if(M!==null&&Hr(v)){if(u=M.start,l=M.end,l===void 0&&(l=u),"selectionStart"in v)v.selectionStart=u,v.selectionEnd=Math.min(l,v.value.length);else if(l=(u=v.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var k=v.textContent.length,U=Math.min(M.start,k);M=M.end===void 0?U:Math.min(M.end,k),!l.extend&&U>M&&(k=M,M=U,U=k),k=ia(v,U);var Y=ia(v,M);k&&Y&&(l.rangeCount!==1||l.anchorNode!==k.node||l.anchorOffset!==k.offset||l.focusNode!==Y.node||l.focusOffset!==Y.offset)&&(u=u.createRange(),u.setStart(k.node,k.offset),l.removeAllRanges(),U>M?(l.addRange(u),l.extend(Y.node,Y.offset)):(u.setEnd(Y.node,Y.offset),l.addRange(u)))}}for(u=[],l=v;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<u.length;v++)l=u[v],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var vf=o&&"documentMode"in document&&11>=document.documentMode,cs=null,al=null,hu=null,$r=!1;function _f(l,u,v){var M=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;$r||cs==null||cs!==Be(M)||(M=cs,"selectionStart"in M&&Hr(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),hu&&rl(hu,M)||(hu=M,M=Mf(al,"onSelect"),0<M.length&&(u=new uu("onSelect","select",null,u,v),l.push({event:u,listeners:M}),u.target=cs)))}function mc(l,u){var v={};return v[l.toLowerCase()]=u.toLowerCase(),v["Webkit"+l]="webkit"+u,v["Moz"+l]="moz"+u,v}var _o={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionend:mc("Transition","TransitionEnd")},Wa={},Ga={};o&&(Ga=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function us(l){if(Wa[l])return Wa[l];if(!_o[l])return l;var u=_o[l],v;for(v in u)if(u.hasOwnProperty(v)&&v in Ga)return Wa[l]=u[v];return l}var pu=us("animationend"),mu=us("animationiteration"),kp=us("animationstart"),Fp=us("transitionend"),Dp=new Map,Lp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ks(l,u){Dp.set(l,u),a(u,[l])}for(var xf=0;xf<Lp.length;xf++){var gu=Lp[xf],yu=gu.toLowerCase(),$y=gu[0].toUpperCase()+gu.slice(1);ks(yu,"on"+$y)}ks(pu,"onAnimationEnd"),ks(mu,"onAnimationIteration"),ks(kp,"onAnimationStart"),ks("dblclick","onDoubleClick"),ks("focusin","onFocus"),ks("focusout","onBlur"),ks(Fp,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sf=new Set("cancel close invalid load scroll toggle".split(" ").concat(xo));function Ef(l,u,v){var M=l.type||"unknown-event";l.currentTarget=v,dn(M,u,void 0,l),l.currentTarget=null}function gc(l,u){u=(u&4)!==0;for(var v=0;v<l.length;v++){var M=l[v],k=M.event;M=M.listeners;e:{var U=void 0;if(u)for(var Y=M.length-1;0<=Y;Y--){var he=M[Y],_e=he.instance,Ne=he.currentTarget;if(he=he.listener,_e!==U&&k.isPropagationStopped())break e;Ef(k,he,Ne),U=_e}else for(Y=0;Y<M.length;Y++){if(he=M[Y],_e=he.instance,Ne=he.currentTarget,he=he.listener,_e!==U&&k.isPropagationStopped())break e;Ef(k,he,Ne),U=_e}}}if(gn)throw l=Ot,gn=!1,Ot=null,l}function nr(l,u){var v=u[ll];v===void 0&&(v=u[ll]=new Set);var M=l+"__bubble";v.has(M)||(Cf(u,l,2,!1),v.add(M))}function wf(l,u,v){var M=0;u&&(M|=4),Cf(v,l,M,u)}var vu="_reactListening"+Math.random().toString(36).slice(2);function yc(l){if(!l[vu]){l[vu]=!0,n.forEach(function(v){v!=="selectionchange"&&(Sf.has(v)||wf(v,!1,l),wf(v,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[vu]||(u[vu]=!0,wf("selectionchange",!1,u))}}function Cf(l,u,v,M){switch(Fy(u)){case 1:var k=rf;break;case 4:k=Ep;break;default:k=af}v=k.bind(null,u,v,l),k=void 0,!Ct||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(k=!0),M?k!==void 0?l.addEventListener(u,v,{capture:!0,passive:k}):l.addEventListener(u,v,!0):k!==void 0?l.addEventListener(u,v,{passive:k}):l.addEventListener(u,v,!1)}function bf(l,u,v,M,k){var U=M;if(!(u&1)&&!(u&2)&&M!==null)e:for(;;){if(M===null)return;var Y=M.tag;if(Y===3||Y===4){var he=M.stateNode.containerInfo;if(he===k||he.nodeType===8&&he.parentNode===k)break;if(Y===4)for(Y=M.return;Y!==null;){var _e=Y.tag;if((_e===3||_e===4)&&(_e=Y.stateNode.containerInfo,_e===k||_e.nodeType===8&&_e.parentNode===k))return;Y=Y.return}for(;he!==null;){if(Y=So(he),Y===null)return;if(_e=Y.tag,_e===5||_e===6){M=U=Y;continue e}he=he.parentNode}}M=M.return}ut(function(){var Ne=U,at=Ke(v),ct=[];e:{var rt=Dp.get(l);if(rt!==void 0){var It=uu,Bt=l;switch(l){case"keypress":if(Qo(v)===0)break e;case"keydown":case"keyup":It=hf;break;case"focusin":Bt="focus",It=cf;break;case"focusout":Bt="blur",It=cf;break;case"beforeblur":case"afterblur":It=cf;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":It=Cp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":It=mo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":It=Rs;break;case pu:case mu:case kp:It=Dy;break;case Fp:It=el;break;case"scroll":It=sc;break;case"wheel":It=Ap;break;case"copy":case"cut":case"paste":It=bp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":It=na}var $t=(u&4)!==0,Ur=!$t&&l==="scroll",Ie=$t?rt!==null?rt+"Capture":null:rt;$t=[];for(var Se=Ne,Fe;Se!==null;){Fe=Se;var ht=Fe.stateNode;if(Fe.tag===5&&ht!==null&&(Fe=ht,Ie!==null&&(ht=Vt(Se,Ie),ht!=null&&$t.push(vc(Se,ht,Fe)))),Ur)break;Se=Se.return}0<$t.length&&(rt=new It(rt,Bt,null,v,at),ct.push({event:rt,listeners:$t}))}}if(!(u&7)){e:{if(rt=l==="mouseover"||l==="pointerover",It=l==="mouseout"||l==="pointerout",rt&&v!==fe&&(Bt=v.relatedTarget||v.fromElement)&&(So(Bt)||Bt[aa]))break e;if((It||rt)&&(rt=at.window===at?at:(rt=at.ownerDocument)?rt.defaultView||rt.parentWindow:window,It?(Bt=v.relatedTarget||v.toElement,It=Ne,Bt=Bt?So(Bt):null,Bt!==null&&(Ur=Dt(Bt),Bt!==Ur||Bt.tag!==5&&Bt.tag!==6)&&(Bt=null)):(It=null,Bt=Ne),It!==Bt)){if($t=Cp,ht="onMouseLeave",Ie="onMouseEnter",Se="mouse",(l==="pointerout"||l==="pointerover")&&($t=na,ht="onPointerLeave",Ie="onPointerEnter",Se="pointer"),Ur=It==null?rt:Er(It),Fe=Bt==null?rt:Er(Bt),rt=new $t(ht,Se+"leave",It,v,at),rt.target=Ur,rt.relatedTarget=Fe,ht=null,So(at)===Ne&&($t=new $t(Ie,Se+"enter",Bt,v,at),$t.target=Fe,$t.relatedTarget=Ur,ht=$t),Ur=ht,It&&Bt)t:{for($t=It,Ie=Bt,Se=0,Fe=$t;Fe;Fe=sl(Fe))Se++;for(Fe=0,ht=Ie;ht;ht=sl(ht))Fe++;for(;0<Se-Fe;)$t=sl($t),Se--;for(;0<Fe-Se;)Ie=sl(Ie),Fe--;for(;Se--;){if($t===Ie||Ie!==null&&$t===Ie.alternate)break t;$t=sl($t),Ie=sl(Ie)}$t=null}else $t=null;It!==null&&Wy(ct,rt,It,$t,!1),Bt!==null&&Ur!==null&&Wy(ct,Ur,Bt,$t,!0)}}e:{if(rt=Ne?Er(Ne):window,It=rt.nodeName&&rt.nodeName.toLowerCase(),It==="select"||It==="input"&&rt.type==="file")var Kt=Hy;else if(mf(rt))if(hc)Kt=fr;else{Kt=jy;var nn=pc}else(It=rt.nodeName)&&It.toLowerCase()==="input"&&(rt.type==="checkbox"||rt.type==="radio")&&(Kt=Op);if(Kt&&(Kt=Kt(l,Ne))){dc(ct,Kt,v,at);break e}nn&&nn(l,rt,Ne),l==="focusout"&&(nn=rt._wrapperState)&&nn.controlled&&rt.type==="number"&&yt(rt,"number",rt.value)}switch(nn=Ne?Er(Ne):window,l){case"focusin":(mf(nn)||nn.contentEditable==="true")&&(cs=nn,al=Ne,hu=null);break;case"focusout":hu=al=cs=null;break;case"mousedown":$r=!0;break;case"contextmenu":case"mouseup":case"dragend":$r=!1,_f(ct,v,at);break;case"selectionchange":if(vf)break;case"keydown":case"keyup":_f(ct,v,at)}var rn;if(wi)e:{switch(l){case"compositionstart":var on="onCompositionStart";break e;case"compositionend":on="onCompositionEnd";break e;case"compositionupdate":on="onCompositionUpdate";break e}on=void 0}else yo?Ip(l,v)&&(on="onCompositionEnd"):l==="keydown"&&v.keyCode===229&&(on="onCompositionStart");on&&(cc&&v.locale!=="ko"&&(yo||on!=="onCompositionStart"?on==="onCompositionEnd"&&yo&&(rn=cu()):(ja=at,wp="value"in ja?ja.value:ja.textContent,yo=!0)),nn=Mf(Ne,on),0<nn.length&&(on=new Mp(on,l,null,v,at),ct.push({event:on,listeners:nn}),rn?on.data=rn:(rn=pf(v),rn!==null&&(on.data=rn)))),(rn=lr?zy(l,v):du(l,v))&&(Ne=Mf(Ne,"onBeforeInput"),0<Ne.length&&(at=new Mp("onBeforeInput","beforeinput",null,v,at),ct.push({event:at,listeners:Ne}),at.data=rn))}gc(ct,u)})}function vc(l,u,v){return{instance:l,listener:u,currentTarget:v}}function Mf(l,u){for(var v=u+"Capture",M=[];l!==null;){var k=l,U=k.stateNode;k.tag===5&&U!==null&&(k=U,U=Vt(l,v),U!=null&&M.unshift(vc(l,U,k)),U=Vt(l,u),U!=null&&M.push(vc(l,U,k))),l=l.return}return M}function sl(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Wy(l,u,v,M,k){for(var U=u._reactName,Y=[];v!==null&&v!==M;){var he=v,_e=he.alternate,Ne=he.stateNode;if(_e!==null&&_e===M)break;he.tag===5&&Ne!==null&&(he=Ne,k?(_e=Vt(v,U),_e!=null&&Y.unshift(vc(v,_e,he))):k||(_e=Vt(v,U),_e!=null&&Y.push(vc(v,_e,he)))),v=v.return}Y.length!==0&&l.push({event:u,listeners:Y})}var pS=/\r\n?/g,Gy=/\u0000|\uFFFD/g;function Np(l){return(typeof l=="string"?l:""+l).replace(pS,`
`).replace(Gy,"")}function _u(l,u,v){if(u=Np(u),Np(l)!==u&&v)throw Error(t(425))}function xu(){}var _c=null,Up=null;function Bp(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var zp=typeof setTimeout=="function"?setTimeout:void 0,Vp=typeof clearTimeout=="function"?clearTimeout:void 0,Tf=typeof Promise=="function"?Promise:void 0,mS=typeof queueMicrotask=="function"?queueMicrotask:typeof Tf<"u"?function(l){return Tf.resolve(null).then(l).catch(qy)}:zp;function qy(l){setTimeout(function(){throw l})}function Af(l,u){var v=u,M=0;do{var k=v.nextSibling;if(l.removeChild(v),k&&k.nodeType===8)if(v=k.data,v==="/$"){if(M===0){l.removeChild(k),lu(u);return}M--}else v!=="$"&&v!=="$?"&&v!=="$!"||M++;v=k}while(v);lu(u)}function Fs(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function Hp(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var v=l.data;if(v==="$"||v==="$!"||v==="$?"){if(u===0)return l;u--}else v==="/$"&&u++}l=l.previousSibling}return null}var ol=Math.random().toString(36).slice(2),Nr="__reactFiber$"+ol,xc="__reactProps$"+ol,aa="__reactContainer$"+ol,ll="__reactEvents$"+ol,Pf="__reactListeners$"+ol,Rf="__reactHandles$"+ol;function So(l){var u=l[Nr];if(u)return u;for(var v=l.parentNode;v;){if(u=v[aa]||v[Nr]){if(v=u.alternate,u.child!==null||v!==null&&v.child!==null)for(l=Hp(l);l!==null;){if(v=l[Nr])return v;l=Hp(l)}return u}l=v,v=l.parentNode}return null}function Ds(l){return l=l[Nr]||l[aa],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Er(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(t(33))}function If(l){return l[xc]||null}var jp=[],Wr=-1;function yr(l){return{current:l}}function rr(l){0>Wr||(l.current=jp[Wr],jp[Wr]=null,Wr--)}function Zn(l,u){Wr++,jp[Wr]=l.current,l.current=u}var Ls={},ei=yr(Ls),Ci=yr(!1),Ns=Ls;function cl(l,u){var v=l.type.contextTypes;if(!v)return Ls;var M=l.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===u)return M.__reactInternalMemoizedMaskedChildContext;var k={},U;for(U in v)k[U]=u[U];return M&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=k),k}function ci(l){return l=l.childContextTypes,l!=null}function Su(){rr(Ci),rr(ei)}function $p(l,u,v){if(ei.current!==Ls)throw Error(t(168));Zn(ei,u),Zn(Ci,v)}function Eu(l,u,v){var M=l.stateNode;if(u=u.childContextTypes,typeof M.getChildContext!="function")return v;M=M.getChildContext();for(var k in M)if(!(k in u))throw Error(t(108,Le(l)||"Unknown",k));return oe({},v,M)}function ul(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Ls,Ns=ei.current,Zn(ei,l),Zn(Ci,Ci.current),!0}function Wp(l,u,v){var M=l.stateNode;if(!M)throw Error(t(169));v?(l=Eu(l,u,Ns),M.__reactInternalMemoizedMergedChildContext=l,rr(Ci),rr(ei),Zn(ei,l)):rr(Ci),Zn(Ci,v)}var qa=null,wu=!1,Of=!1;function Cu(l){qa===null?qa=[l]:qa.push(l)}function Xy(l){wu=!0,Cu(l)}function ds(){if(!Of&&qa!==null){Of=!0;var l=0,u=Fn;try{var v=qa;for(Fn=1;l<v.length;l++){var M=v[l];do M=M(!0);while(M!==null)}qa=null,wu=!1}catch(k){throw qa!==null&&(qa=qa.slice(l+1)),be(Yt,ds),k}finally{Fn=u,Of=!1}}return null}var dl=[],Vi=0,kf=null,Ff=0,bi=[],Gr=0,fl=null,_t=1,Pa="";function Us(l,u){dl[Vi++]=Ff,dl[Vi++]=kf,kf=l,Ff=u}function Gp(l,u,v){bi[Gr++]=_t,bi[Gr++]=Pa,bi[Gr++]=fl,fl=l;var M=_t;l=Pa;var k=32-Tn(M)-1;M&=~(1<<k),v+=1;var U=32-Tn(u)+k;if(30<U){var Y=k-k%5;U=(M&(1<<Y)-1).toString(32),M>>=Y,k-=Y,_t=1<<32-Tn(u)+k|v<<k|M,Pa=U+l}else _t=1<<U|v<<k|M,Pa=l}function qp(l){l.return!==null&&(Us(l,1),Gp(l,1,0))}function Bs(l){for(;l===kf;)kf=dl[--Vi],dl[Vi]=null,Ff=dl[--Vi],dl[Vi]=null;for(;l===fl;)fl=bi[--Gr],bi[Gr]=null,Pa=bi[--Gr],bi[Gr]=null,_t=bi[--Gr],bi[Gr]=null}var ti=null,Mi=null,sr=!1,Ra=null;function Xp(l,u){var v=gs(5,null,null,0);v.elementType="DELETED",v.stateNode=u,v.return=l,u=l.deletions,u===null?(l.deletions=[v],l.flags|=16):u.push(v)}function Yp(l,u){switch(l.tag){case 5:var v=l.type;return u=u.nodeType!==1||v.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,ti=l,Mi=Fs(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,ti=l,Mi=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(v=fl!==null?{id:_t,overflow:Pa}:null,l.memoizedState={dehydrated:u,treeContext:v,retryLane:1073741824},v=gs(18,null,null,0),v.stateNode=u,v.return=l,l.child=v,ti=l,Mi=null,!0):!1;default:return!1}}function Df(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Lf(l){if(sr){var u=Mi;if(u){var v=u;if(!Yp(l,u)){if(Df(l))throw Error(t(418));u=Fs(v.nextSibling);var M=ti;u&&Yp(l,u)?Xp(M,v):(l.flags=l.flags&-4097|2,sr=!1,ti=l)}}else{if(Df(l))throw Error(t(418));l.flags=l.flags&-4097|2,sr=!1,ti=l}}}function Nf(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;ti=l}function Sc(l){if(l!==ti)return!1;if(!sr)return Nf(l),sr=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!Bp(l.type,l.memoizedProps)),u&&(u=Mi)){if(Df(l))throw Qp(),Error(t(418));for(;u;)Xp(l,u),u=Fs(u.nextSibling)}if(Nf(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(t(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var v=l.data;if(v==="/$"){if(u===0){Mi=Fs(l.nextSibling);break e}u--}else v!=="$"&&v!=="$!"&&v!=="$?"||u++}l=l.nextSibling}Mi=null}}else Mi=ti?Fs(l.stateNode.nextSibling):null;return!0}function Qp(){for(var l=Mi;l;)l=Fs(l.nextSibling)}function Eo(){Mi=ti=null,sr=!1}function Ec(l){Ra===null?Ra=[l]:Ra.push(l)}var gS=T.ReactCurrentBatchConfig;function bu(l,u,v){if(l=v.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(t(309));var M=v.stateNode}if(!M)throw Error(t(147,l));var k=M,U=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===U?u.ref:(u=function(Y){var he=k.refs;Y===null?delete he[U]:he[U]=Y},u._stringRef=U,u)}if(typeof l!="string")throw Error(t(284));if(!v._owner)throw Error(t(290,l))}return l}function Mu(l,u){throw l=Object.prototype.toString.call(u),Error(t(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function Kp(l){var u=l._init;return u(l._payload)}function Jp(l){function u(Ie,Se){if(l){var Fe=Ie.deletions;Fe===null?(Ie.deletions=[Se],Ie.flags|=16):Fe.push(Se)}}function v(Ie,Se){if(!l)return null;for(;Se!==null;)u(Ie,Se),Se=Se.sibling;return null}function M(Ie,Se){for(Ie=new Map;Se!==null;)Se.key!==null?Ie.set(Se.key,Se):Ie.set(Se.index,Se),Se=Se.sibling;return Ie}function k(Ie,Se){return Ie=kc(Ie,Se),Ie.index=0,Ie.sibling=null,Ie}function U(Ie,Se,Fe){return Ie.index=Fe,l?(Fe=Ie.alternate,Fe!==null?(Fe=Fe.index,Fe<Se?(Ie.flags|=2,Se):Fe):(Ie.flags|=2,Se)):(Ie.flags|=1048576,Se)}function Y(Ie){return l&&Ie.alternate===null&&(Ie.flags|=2),Ie}function he(Ie,Se,Fe,ht){return Se===null||Se.tag!==6?(Se=DS(Fe,Ie.mode,ht),Se.return=Ie,Se):(Se=k(Se,Fe),Se.return=Ie,Se)}function _e(Ie,Se,Fe,ht){var Kt=Fe.type;return Kt===P?at(Ie,Se,Fe.props.children,ht,Fe.key):Se!==null&&(Se.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===re&&Kp(Kt)===Se.type)?(ht=k(Se,Fe.props),ht.ref=bu(Ie,Se,Fe),ht.return=Ie,ht):(ht=yv(Fe.type,Fe.key,Fe.props,null,Ie.mode,ht),ht.ref=bu(Ie,Se,Fe),ht.return=Ie,ht)}function Ne(Ie,Se,Fe,ht){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Fe.containerInfo||Se.stateNode.implementation!==Fe.implementation?(Se=LS(Fe,Ie.mode,ht),Se.return=Ie,Se):(Se=k(Se,Fe.children||[]),Se.return=Ie,Se)}function at(Ie,Se,Fe,ht,Kt){return Se===null||Se.tag!==7?(Se=ju(Fe,Ie.mode,ht,Kt),Se.return=Ie,Se):(Se=k(Se,Fe),Se.return=Ie,Se)}function ct(Ie,Se,Fe){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Se=DS(""+Se,Ie.mode,Fe),Se.return=Ie,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case O:return Fe=yv(Se.type,Se.key,Se.props,null,Ie.mode,Fe),Fe.ref=bu(Ie,null,Se),Fe.return=Ie,Fe;case R:return Se=LS(Se,Ie.mode,Fe),Se.return=Ie,Se;case re:var ht=Se._init;return ct(Ie,ht(Se._payload),Fe)}if(se(Se)||le(Se))return Se=ju(Se,Ie.mode,Fe,null),Se.return=Ie,Se;Mu(Ie,Se)}return null}function rt(Ie,Se,Fe,ht){var Kt=Se!==null?Se.key:null;if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return Kt!==null?null:he(Ie,Se,""+Fe,ht);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case O:return Fe.key===Kt?_e(Ie,Se,Fe,ht):null;case R:return Fe.key===Kt?Ne(Ie,Se,Fe,ht):null;case re:return Kt=Fe._init,rt(Ie,Se,Kt(Fe._payload),ht)}if(se(Fe)||le(Fe))return Kt!==null?null:at(Ie,Se,Fe,ht,null);Mu(Ie,Fe)}return null}function It(Ie,Se,Fe,ht,Kt){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return Ie=Ie.get(Fe)||null,he(Se,Ie,""+ht,Kt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case O:return Ie=Ie.get(ht.key===null?Fe:ht.key)||null,_e(Se,Ie,ht,Kt);case R:return Ie=Ie.get(ht.key===null?Fe:ht.key)||null,Ne(Se,Ie,ht,Kt);case re:var nn=ht._init;return It(Ie,Se,Fe,nn(ht._payload),Kt)}if(se(ht)||le(ht))return Ie=Ie.get(Fe)||null,at(Se,Ie,ht,Kt,null);Mu(Se,ht)}return null}function Bt(Ie,Se,Fe,ht){for(var Kt=null,nn=null,rn=Se,on=Se=0,hi=null;rn!==null&&on<Fe.length;on++){rn.index>on?(hi=rn,rn=null):hi=rn.sibling;var Hn=rt(Ie,rn,Fe[on],ht);if(Hn===null){rn===null&&(rn=hi);break}l&&rn&&Hn.alternate===null&&u(Ie,rn),Se=U(Hn,Se,on),nn===null?Kt=Hn:nn.sibling=Hn,nn=Hn,rn=hi}if(on===Fe.length)return v(Ie,rn),sr&&Us(Ie,on),Kt;if(rn===null){for(;on<Fe.length;on++)rn=ct(Ie,Fe[on],ht),rn!==null&&(Se=U(rn,Se,on),nn===null?Kt=rn:nn.sibling=rn,nn=rn);return sr&&Us(Ie,on),Kt}for(rn=M(Ie,rn);on<Fe.length;on++)hi=It(rn,Ie,on,Fe[on],ht),hi!==null&&(l&&hi.alternate!==null&&rn.delete(hi.key===null?on:hi.key),Se=U(hi,Se,on),nn===null?Kt=hi:nn.sibling=hi,nn=hi);return l&&rn.forEach(function(Fc){return u(Ie,Fc)}),sr&&Us(Ie,on),Kt}function $t(Ie,Se,Fe,ht){var Kt=le(Fe);if(typeof Kt!="function")throw Error(t(150));if(Fe=Kt.call(Fe),Fe==null)throw Error(t(151));for(var nn=Kt=null,rn=Se,on=Se=0,hi=null,Hn=Fe.next();rn!==null&&!Hn.done;on++,Hn=Fe.next()){rn.index>on?(hi=rn,rn=null):hi=rn.sibling;var Fc=rt(Ie,rn,Hn.value,ht);if(Fc===null){rn===null&&(rn=hi);break}l&&rn&&Fc.alternate===null&&u(Ie,rn),Se=U(Fc,Se,on),nn===null?Kt=Fc:nn.sibling=Fc,nn=Fc,rn=hi}if(Hn.done)return v(Ie,rn),sr&&Us(Ie,on),Kt;if(rn===null){for(;!Hn.done;on++,Hn=Fe.next())Hn=ct(Ie,Hn.value,ht),Hn!==null&&(Se=U(Hn,Se,on),nn===null?Kt=Hn:nn.sibling=Hn,nn=Hn);return sr&&Us(Ie,on),Kt}for(rn=M(Ie,rn);!Hn.done;on++,Hn=Fe.next())Hn=It(rn,Ie,on,Hn.value,ht),Hn!==null&&(l&&Hn.alternate!==null&&rn.delete(Hn.key===null?on:Hn.key),Se=U(Hn,Se,on),nn===null?Kt=Hn:nn.sibling=Hn,nn=Hn);return l&&rn.forEach(function(jU){return u(Ie,jU)}),sr&&Us(Ie,on),Kt}function Ur(Ie,Se,Fe,ht){if(typeof Fe=="object"&&Fe!==null&&Fe.type===P&&Fe.key===null&&(Fe=Fe.props.children),typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case O:e:{for(var Kt=Fe.key,nn=Se;nn!==null;){if(nn.key===Kt){if(Kt=Fe.type,Kt===P){if(nn.tag===7){v(Ie,nn.sibling),Se=k(nn,Fe.props.children),Se.return=Ie,Ie=Se;break e}}else if(nn.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===re&&Kp(Kt)===nn.type){v(Ie,nn.sibling),Se=k(nn,Fe.props),Se.ref=bu(Ie,nn,Fe),Se.return=Ie,Ie=Se;break e}v(Ie,nn);break}else u(Ie,nn);nn=nn.sibling}Fe.type===P?(Se=ju(Fe.props.children,Ie.mode,ht,Fe.key),Se.return=Ie,Ie=Se):(ht=yv(Fe.type,Fe.key,Fe.props,null,Ie.mode,ht),ht.ref=bu(Ie,Se,Fe),ht.return=Ie,Ie=ht)}return Y(Ie);case R:e:{for(nn=Fe.key;Se!==null;){if(Se.key===nn)if(Se.tag===4&&Se.stateNode.containerInfo===Fe.containerInfo&&Se.stateNode.implementation===Fe.implementation){v(Ie,Se.sibling),Se=k(Se,Fe.children||[]),Se.return=Ie,Ie=Se;break e}else{v(Ie,Se);break}else u(Ie,Se);Se=Se.sibling}Se=LS(Fe,Ie.mode,ht),Se.return=Ie,Ie=Se}return Y(Ie);case re:return nn=Fe._init,Ur(Ie,Se,nn(Fe._payload),ht)}if(se(Fe))return Bt(Ie,Se,Fe,ht);if(le(Fe))return $t(Ie,Se,Fe,ht);Mu(Ie,Fe)}return typeof Fe=="string"&&Fe!==""||typeof Fe=="number"?(Fe=""+Fe,Se!==null&&Se.tag===6?(v(Ie,Se.sibling),Se=k(Se,Fe),Se.return=Ie,Ie=Se):(v(Ie,Se),Se=DS(Fe,Ie.mode,ht),Se.return=Ie,Ie=Se),Y(Ie)):v(Ie,Se)}return Ur}var hl=Jp(!0),Tu=Jp(!1),pl=yr(null),ml=null,zs=null,wc=null;function gl(){wc=zs=ml=null}function Au(l){var u=pl.current;rr(pl),l._currentValue=u}function Pu(l,u,v){for(;l!==null;){var M=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,M!==null&&(M.childLanes|=u)):M!==null&&(M.childLanes&u)!==u&&(M.childLanes|=u),l===v)break;l=l.return}}function wo(l,u){ml=l,wc=zs=null,l=l.dependencies,l!==null&&l.firstContext!==null&&(l.lanes&u&&(yn=!0),l.firstContext=null)}function sa(l){var u=l._currentValue;if(wc!==l)if(l={context:l,memoizedValue:u,next:null},zs===null){if(ml===null)throw Error(t(308));zs=l,ml.dependencies={lanes:0,firstContext:l}}else zs=zs.next=l;return u}var Vs=null;function Zp(l){Vs===null?Vs=[l]:Vs.push(l)}function Ru(l,u,v,M){var k=u.interleaved;return k===null?(v.next=v,Zp(u)):(v.next=k.next,k.next=v),u.interleaved=v,Xa(l,M)}function Xa(l,u){l.lanes|=u;var v=l.alternate;for(v!==null&&(v.lanes|=u),v=l,l=l.return;l!==null;)l.childLanes|=u,v=l.alternate,v!==null&&(v.childLanes|=u),v=l,l=l.return;return v.tag===3?v.stateNode:null}var qn=!1;function mn(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wr(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Xn(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function cr(l,u,v){var M=l.updateQueue;if(M===null)return null;if(M=M.shared,Un&2){var k=M.pending;return k===null?u.next=u:(u.next=k.next,k.next=u),M.pending=u,Xa(l,v)}return k=M.interleaved,k===null?(u.next=u,Zp(M)):(u.next=k.next,k.next=u),M.interleaved=u,Xa(l,v)}function ui(l,u,v){if(u=u.updateQueue,u!==null&&(u=u.shared,(v&4194240)!==0)){var M=u.lanes;M&=l.pendingLanes,v|=M,u.lanes=v,rc(l,v)}}function yl(l,u){var v=l.updateQueue,M=l.alternate;if(M!==null&&(M=M.updateQueue,v===M)){var k=null,U=null;if(v=v.firstBaseUpdate,v!==null){do{var Y={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};U===null?k=U=Y:U=U.next=Y,v=v.next}while(v!==null);U===null?k=U=u:U=U.next=u}else k=U=u;v={baseState:M.baseState,firstBaseUpdate:k,lastBaseUpdate:U,shared:M.shared,effects:M.effects},l.updateQueue=v;return}l=v.lastBaseUpdate,l===null?v.firstBaseUpdate=u:l.next=u,v.lastBaseUpdate=u}function vr(l,u,v,M){var k=l.updateQueue;qn=!1;var U=k.firstBaseUpdate,Y=k.lastBaseUpdate,he=k.shared.pending;if(he!==null){k.shared.pending=null;var _e=he,Ne=_e.next;_e.next=null,Y===null?U=Ne:Y.next=Ne,Y=_e;var at=l.alternate;at!==null&&(at=at.updateQueue,he=at.lastBaseUpdate,he!==Y&&(he===null?at.firstBaseUpdate=Ne:he.next=Ne,at.lastBaseUpdate=_e))}if(U!==null){var ct=k.baseState;Y=0,at=Ne=_e=null,he=U;do{var rt=he.lane,It=he.eventTime;if((M&rt)===rt){at!==null&&(at=at.next={eventTime:It,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var Bt=l,$t=he;switch(rt=u,It=v,$t.tag){case 1:if(Bt=$t.payload,typeof Bt=="function"){ct=Bt.call(It,ct,rt);break e}ct=Bt;break e;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=$t.payload,rt=typeof Bt=="function"?Bt.call(It,ct,rt):Bt,rt==null)break e;ct=oe({},ct,rt);break e;case 2:qn=!0}}he.callback!==null&&he.lane!==0&&(l.flags|=64,rt=k.effects,rt===null?k.effects=[he]:rt.push(he))}else It={eventTime:It,lane:rt,tag:he.tag,payload:he.payload,callback:he.callback,next:null},at===null?(Ne=at=It,_e=ct):at=at.next=It,Y|=rt;if(he=he.next,he===null){if(he=k.shared.pending,he===null)break;rt=he,he=rt.next,rt.next=null,k.lastBaseUpdate=rt,k.shared.pending=null}}while(!0);if(at===null&&(_e=ct),k.baseState=_e,k.firstBaseUpdate=Ne,k.lastBaseUpdate=at,u=k.shared.interleaved,u!==null){k=u;do Y|=k.lane,k=k.next;while(k!==u)}else U===null&&(k.shared.lanes=0);Bu|=Y,l.lanes=Y,l.memoizedState=ct}}function Cc(l,u,v){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var M=l[u],k=M.callback;if(k!==null){if(M.callback=null,M=v,typeof k!="function")throw Error(t(191,k));k.call(M)}}}var fs={},oa=yr(fs),vl=yr(fs),Hs=yr(fs);function Pr(l){if(l===fs)throw Error(t(174));return l}function Iu(l,u){switch(Zn(Hs,u),Zn(vl,l),Zn(oa,fs),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:$(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=$(u,l)}rr(oa),Zn(oa,u)}function Co(){rr(oa),rr(vl),rr(Hs)}function _l(l){Pr(Hs.current);var u=Pr(oa.current),v=$(u,l.type);u!==v&&(Zn(vl,l),Zn(oa,v))}function bc(l){vl.current===l&&(rr(oa),rr(vl))}var or=yr(0);function Ya(l){for(var u=l;u!==null;){if(u.tag===13){var v=u.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Mc=[];function hs(){for(var l=0;l<Mc.length;l++)Mc[l]._workInProgressVersionPrimary=null;Mc.length=0}var xl=T.ReactCurrentDispatcher,Sl=T.ReactCurrentBatchConfig,js=0,ir=null,_r=null,Dn=null,Qa=!1,di=!1,bo=0,Hi=0;function ni(){throw Error(t(321))}function Ou(l,u){if(u===null)return!1;for(var v=0;v<u.length&&v<l.length;v++)if(!ra(l[v],u[v]))return!1;return!0}function ku(l,u,v,M,k,U){if(js=U,ir=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,xl.current=l===null||l.memoizedState===null?tv:nv,l=v(M,k),di){U=0;do{if(di=!1,bo=0,25<=U)throw Error(t(301));U+=1,Dn=_r=null,u.updateQueue=null,xl.current=rv,l=v(M,k)}while(di)}if(xl.current=$f,u=_r!==null&&_r.next!==null,js=0,Dn=_r=ir=null,Qa=!1,u)throw Error(t(300));return l}function em(){var l=bo!==0;return bo=0,l}function ri(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?ir.memoizedState=Dn=l:Dn=Dn.next=l,Dn}function la(){if(_r===null){var l=ir.alternate;l=l!==null?l.memoizedState:null}else l=_r.next;var u=Dn===null?ir.memoizedState:Dn.next;if(u!==null)Dn=u,_r=l;else{if(l===null)throw Error(t(310));_r=l,l={memoizedState:_r.memoizedState,baseState:_r.baseState,baseQueue:_r.baseQueue,queue:_r.queue,next:null},Dn===null?ir.memoizedState=Dn=l:Dn=Dn.next=l}return Dn}function Tc(l,u){return typeof u=="function"?u(l):u}function Fu(l){var u=la(),v=u.queue;if(v===null)throw Error(t(311));v.lastRenderedReducer=l;var M=_r,k=M.baseQueue,U=v.pending;if(U!==null){if(k!==null){var Y=k.next;k.next=U.next,U.next=Y}M.baseQueue=k=U,v.pending=null}if(k!==null){U=k.next,M=M.baseState;var he=Y=null,_e=null,Ne=U;do{var at=Ne.lane;if((js&at)===at)_e!==null&&(_e=_e.next={lane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),M=Ne.hasEagerState?Ne.eagerState:l(M,Ne.action);else{var ct={lane:at,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null};_e===null?(he=_e=ct,Y=M):_e=_e.next=ct,ir.lanes|=at,Bu|=at}Ne=Ne.next}while(Ne!==null&&Ne!==U);_e===null?Y=M:_e.next=he,ra(M,u.memoizedState)||(yn=!0),u.memoizedState=M,u.baseState=Y,u.baseQueue=_e,v.lastRenderedState=M}if(l=v.interleaved,l!==null){k=l;do U=k.lane,ir.lanes|=U,Bu|=U,k=k.next;while(k!==l)}else k===null&&(v.lanes=0);return[u.memoizedState,v.dispatch]}function $s(l){var u=la(),v=u.queue;if(v===null)throw Error(t(311));v.lastRenderedReducer=l;var M=v.dispatch,k=v.pending,U=u.memoizedState;if(k!==null){v.pending=null;var Y=k=k.next;do U=l(U,Y.action),Y=Y.next;while(Y!==k);ra(U,u.memoizedState)||(yn=!0),u.memoizedState=U,u.baseQueue===null&&(u.baseState=U),v.lastRenderedState=U}return[U,M]}function tm(){}function nm(l,u){var v=ir,M=la(),k=u(),U=!ra(M.memoizedState,k);if(U&&(M.memoizedState=k,yn=!0),M=M.queue,am(Yy.bind(null,v,M,l),[l]),M.getSnapshot!==u||U||Dn!==null&&Dn.memoizedState.tag&1){if(v.flags|=2048,Ka(9,Du.bind(null,v,M,k,u),void 0,null),fi===null)throw Error(t(349));js&30||Uf(v,u,k)}return k}function Uf(l,u,v){l.flags|=16384,l={getSnapshot:u,value:v},u=ir.updateQueue,u===null?(u={lastEffect:null,stores:null},ir.updateQueue=u,u.stores=[l]):(v=u.stores,v===null?u.stores=[l]:v.push(l))}function Du(l,u,v,M){u.value=v,u.getSnapshot=M,Qy(u)&&rm(l)}function Yy(l,u,v){return v(function(){Qy(u)&&rm(l)})}function Qy(l){var u=l.getSnapshot;l=l.value;try{var v=u();return!ra(l,v)}catch{return!0}}function rm(l){var u=Xa(l,1);u!==null&&Ys(u,l,1,-1)}function im(l){var u=ri();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:l},u.queue=l,l=l.dispatch=El.bind(null,ir,l),[u.memoizedState,l]}function Ka(l,u,v,M){return l={tag:l,create:u,destroy:v,deps:M,next:null},u=ir.updateQueue,u===null?(u={lastEffect:null,stores:null},ir.updateQueue=u,u.lastEffect=l.next=l):(v=u.lastEffect,v===null?u.lastEffect=l.next=l:(M=v.next,v.next=l,l.next=M,u.lastEffect=l)),l}function Ky(){return la().memoizedState}function ps(l,u,v,M){var k=ri();ir.flags|=l,k.memoizedState=Ka(1|u,v,void 0,M===void 0?null:M)}function Lu(l,u,v,M){var k=la();M=M===void 0?null:M;var U=void 0;if(_r!==null){var Y=_r.memoizedState;if(U=Y.destroy,M!==null&&Ou(M,Y.deps)){k.memoizedState=Ka(u,v,U,M);return}}ir.flags|=l,k.memoizedState=Ka(1|u,v,U,M)}function Ti(l,u){return ps(8390656,8,l,u)}function am(l,u){return Lu(2048,8,l,u)}function sm(l,u){return Lu(4,2,l,u)}function Jy(l,u){return Lu(4,4,l,u)}function Zy(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function om(l,u,v){return v=v!=null?v.concat([l]):null,Lu(4,4,Zy.bind(null,u,l),v)}function Bf(){}function ev(l,u){var v=la();u=u===void 0?null:u;var M=v.memoizedState;return M!==null&&u!==null&&Ou(u,M[1])?M[0]:(v.memoizedState=[l,u],l)}function ca(l,u){var v=la();u=u===void 0?null:u;var M=v.memoizedState;return M!==null&&u!==null&&Ou(u,M[1])?M[0]:(l=l(),v.memoizedState=[l,u],l)}function zf(l,u,v){return js&21?(ra(v,u)||(v=Ni(),ir.lanes|=v,Bu|=v,l.baseState=!0),u):(l.baseState&&(l.baseState=!1,yn=!0),l.memoizedState=v)}function yS(l,u){var v=Fn;Fn=v!==0&&4>v?v:4,l(!0);var M=Sl.transition;Sl.transition={};try{l(!1),u()}finally{Fn=v,Sl.transition=M}}function Ws(){return la().memoizedState}function Vf(l,u,v){var M=Ic(l);if(v={lane:M,action:v,hasEagerState:!1,eagerState:null,next:null},Nu(l))Hf(u,v);else if(v=Ru(l,u,v,M),v!==null){var k=da();Ys(v,l,M,k),jf(v,u,M)}}function El(l,u,v){var M=Ic(l),k={lane:M,action:v,hasEagerState:!1,eagerState:null,next:null};if(Nu(l))Hf(u,k);else{var U=l.alternate;if(l.lanes===0&&(U===null||U.lanes===0)&&(U=u.lastRenderedReducer,U!==null))try{var Y=u.lastRenderedState,he=U(Y,v);if(k.hasEagerState=!0,k.eagerState=he,ra(he,Y)){var _e=u.interleaved;_e===null?(k.next=k,Zp(u)):(k.next=_e.next,_e.next=k),u.interleaved=k;return}}catch{}finally{}v=Ru(l,u,k,M),v!==null&&(k=da(),Ys(v,l,M,k),jf(v,u,M))}}function Nu(l){var u=l.alternate;return l===ir||u!==null&&u===ir}function Hf(l,u){di=Qa=!0;var v=l.pending;v===null?u.next=u:(u.next=v.next,v.next=u),l.pending=u}function jf(l,u,v){if(v&4194240){var M=u.lanes;M&=l.pendingLanes,v|=M,u.lanes=v,rc(l,v)}}var $f={readContext:sa,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useInsertionEffect:ni,useLayoutEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useMutableSource:ni,useSyncExternalStore:ni,useId:ni,unstable_isNewReconciler:!1},tv={readContext:sa,useCallback:function(l,u){return ri().memoizedState=[l,u===void 0?null:u],l},useContext:sa,useEffect:Ti,useImperativeHandle:function(l,u,v){return v=v!=null?v.concat([l]):null,ps(4194308,4,Zy.bind(null,u,l),v)},useLayoutEffect:function(l,u){return ps(4194308,4,l,u)},useInsertionEffect:function(l,u){return ps(4,2,l,u)},useMemo:function(l,u){var v=ri();return u=u===void 0?null:u,l=l(),v.memoizedState=[l,u],l},useReducer:function(l,u,v){var M=ri();return u=v!==void 0?v(u):u,M.memoizedState=M.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},M.queue=l,l=l.dispatch=Vf.bind(null,ir,l),[M.memoizedState,l]},useRef:function(l){var u=ri();return l={current:l},u.memoizedState=l},useState:im,useDebugValue:Bf,useDeferredValue:function(l){return ri().memoizedState=l},useTransition:function(){var l=im(!1),u=l[0];return l=yS.bind(null,l[1]),ri().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,v){var M=ir,k=ri();if(sr){if(v===void 0)throw Error(t(407));v=v()}else{if(v=u(),fi===null)throw Error(t(349));js&30||Uf(M,u,v)}k.memoizedState=v;var U={value:v,getSnapshot:u};return k.queue=U,Ti(Yy.bind(null,M,U,l),[l]),M.flags|=2048,Ka(9,Du.bind(null,M,U,v,u),void 0,null),v},useId:function(){var l=ri(),u=fi.identifierPrefix;if(sr){var v=Pa,M=_t;v=(M&~(1<<32-Tn(M)-1)).toString(32)+v,u=":"+u+"R"+v,v=bo++,0<v&&(u+="H"+v.toString(32)),u+=":"}else v=Hi++,u=":"+u+"r"+v.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},nv={readContext:sa,useCallback:ev,useContext:sa,useEffect:am,useImperativeHandle:om,useInsertionEffect:sm,useLayoutEffect:Jy,useMemo:ca,useReducer:Fu,useRef:Ky,useState:function(){return Fu(Tc)},useDebugValue:Bf,useDeferredValue:function(l){var u=la();return zf(u,_r.memoizedState,l)},useTransition:function(){var l=Fu(Tc)[0],u=la().memoizedState;return[l,u]},useMutableSource:tm,useSyncExternalStore:nm,useId:Ws,unstable_isNewReconciler:!1},rv={readContext:sa,useCallback:ev,useContext:sa,useEffect:am,useImperativeHandle:om,useInsertionEffect:sm,useLayoutEffect:Jy,useMemo:ca,useReducer:$s,useRef:Ky,useState:function(){return $s(Tc)},useDebugValue:Bf,useDeferredValue:function(l){var u=la();return _r===null?u.memoizedState=l:zf(u,_r.memoizedState,l)},useTransition:function(){var l=$s(Tc)[0],u=la().memoizedState;return[l,u]},useMutableSource:tm,useSyncExternalStore:nm,useId:Ws,unstable_isNewReconciler:!1};function Ia(l,u){if(l&&l.defaultProps){u=oe({},u),l=l.defaultProps;for(var v in l)u[v]===void 0&&(u[v]=l[v]);return u}return u}function Uu(l,u,v,M){u=l.memoizedState,v=v(M,u),v=v==null?u:oe({},u,v),l.memoizedState=v,l.lanes===0&&(l.updateQueue.baseState=v)}var Wf={isMounted:function(l){return(l=l._reactInternals)?Dt(l)===l:!1},enqueueSetState:function(l,u,v){l=l._reactInternals;var M=da(),k=Ic(l),U=Xn(M,k);U.payload=u,v!=null&&(U.callback=v),u=cr(l,U,k),u!==null&&(Ys(u,l,k,M),ui(u,l,k))},enqueueReplaceState:function(l,u,v){l=l._reactInternals;var M=da(),k=Ic(l),U=Xn(M,k);U.tag=1,U.payload=u,v!=null&&(U.callback=v),u=cr(l,U,k),u!==null&&(Ys(u,l,k,M),ui(u,l,k))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var v=da(),M=Ic(l),k=Xn(v,M);k.tag=2,u!=null&&(k.callback=u),u=cr(l,k,M),u!==null&&(Ys(u,l,M,v),ui(u,l,M))}};function iv(l,u,v,M,k,U,Y){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(M,U,Y):u.prototype&&u.prototype.isPureReactComponent?!rl(v,M)||!rl(k,U):!0}function h(l,u,v){var M=!1,k=Ls,U=u.contextType;return typeof U=="object"&&U!==null?U=sa(U):(k=ci(u)?Ns:ei.current,M=u.contextTypes,U=(M=M!=null)?cl(l,k):Ls),u=new u(v,U),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Wf,l.stateNode=u,u._reactInternals=l,M&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=k,l.__reactInternalMemoizedMaskedChildContext=U),u}function p(l,u,v,M){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(v,M),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(v,M),u.state!==l&&Wf.enqueueReplaceState(u,u.state,null)}function b(l,u,v,M){var k=l.stateNode;k.props=v,k.state=l.memoizedState,k.refs={},mn(l);var U=u.contextType;typeof U=="object"&&U!==null?k.context=sa(U):(U=ci(u)?Ns:ei.current,k.context=cl(l,U)),k.state=l.memoizedState,U=u.getDerivedStateFromProps,typeof U=="function"&&(Uu(l,u,U,v),k.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(u=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),u!==k.state&&Wf.enqueueReplaceState(k,k.state,null),vr(l,v,k,M),k.state=l.memoizedState),typeof k.componentDidMount=="function"&&(l.flags|=4194308)}function A(l,u){try{var v="",M=u;do v+=ye(M),M=M.return;while(M);var k=v}catch(U){k=`
Error generating stack: `+U.message+`
`+U.stack}return{value:l,source:u,stack:k,digest:null}}function L(l,u,v){return{value:l,source:null,stack:v??null,digest:u??null}}function j(l,u){try{console.error(u.value)}catch(v){setTimeout(function(){throw v})}}var ce=typeof WeakMap=="function"?WeakMap:Map;function Ee(l,u,v){v=Xn(-1,v),v.tag=3,v.payload={element:null};var M=u.value;return v.callback=function(){dv||(dv=!0,TS=M),j(l,u)},v}function je(l,u,v){v=Xn(-1,v),v.tag=3;var M=l.type.getDerivedStateFromError;if(typeof M=="function"){var k=u.value;v.payload=function(){return M(k)},v.callback=function(){j(l,u)}}var U=l.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(v.callback=function(){j(l,u),typeof M!="function"&&(Pc===null?Pc=new Set([this]):Pc.add(this));var Y=u.stack;this.componentDidCatch(u.value,{componentStack:Y!==null?Y:""})}),v}function dt(l,u,v){var M=l.pingCache;if(M===null){M=l.pingCache=new ce;var k=new Set;M.set(u,k)}else k=M.get(u),k===void 0&&(k=new Set,M.set(u,k));k.has(v)||(k.add(v),l=OU.bind(null,l,u,v),u.then(l,l))}function kt(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function cn(l,u,v,M,k){return l.mode&1?(l.flags|=65536,l.lanes=k,l):(l===u?l.flags|=65536:(l.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(u=Xn(-1,1),u.tag=2,cr(v,u,1))),v.lanes|=1),l)}var Zt=T.ReactCurrentOwner,yn=!1;function Rt(l,u,v,M){u.child=l===null?Tu(u,null,v,M):hl(u,l.child,v,M)}function ii(l,u,v,M,k){v=v.render;var U=u.ref;return wo(u,k),M=ku(l,u,v,M,U,k),v=em(),l!==null&&!yn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~k,wl(l,u,k)):(sr&&v&&qp(u),u.flags|=1,Rt(l,u,M,k),u.child)}function ua(l,u,v,M,k){if(l===null){var U=v.type;return typeof U=="function"&&!FS(U)&&U.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(u.tag=15,u.type=U,De(l,u,U,M,k)):(l=yv(v.type,null,M,u,u.mode,k),l.ref=u.ref,l.return=u,u.child=l)}if(U=l.child,!(l.lanes&k)){var Y=U.memoizedProps;if(v=v.compare,v=v!==null?v:rl,v(Y,M)&&l.ref===u.ref)return wl(l,u,k)}return u.flags|=1,l=kc(U,M),l.ref=u.ref,l.return=u,u.child=l}function De(l,u,v,M,k){if(l!==null){var U=l.memoizedProps;if(rl(U,M)&&l.ref===u.ref)if(yn=!1,u.pendingProps=M=U,(l.lanes&k)!==0)l.flags&131072&&(yn=!0);else return u.lanes=l.lanes,wl(l,u,k)}return bt(l,u,v,M,k)}function Te(l,u,v){var M=u.pendingProps,k=M.children,U=l!==null?l.memoizedState:null;if(M.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zn(qf,Ja),Ja|=v;else{if(!(v&1073741824))return l=U!==null?U.baseLanes|v:v,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Zn(qf,Ja),Ja|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},M=U!==null?U.baseLanes:v,Zn(qf,Ja),Ja|=M}else U!==null?(M=U.baseLanes|v,u.memoizedState=null):M=v,Zn(qf,Ja),Ja|=M;return Rt(l,u,k,v),u.child}function ze(l,u){var v=u.ref;(l===null&&v!==null||l!==null&&l.ref!==v)&&(u.flags|=512,u.flags|=2097152)}function bt(l,u,v,M,k){var U=ci(v)?Ns:ei.current;return U=cl(u,U),wo(u,k),v=ku(l,u,v,M,U,k),M=em(),l!==null&&!yn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~k,wl(l,u,k)):(sr&&M&&qp(u),u.flags|=1,Rt(l,u,v,k),u.child)}function Gt(l,u,v,M,k){if(ci(v)){var U=!0;ul(u)}else U=!1;if(wo(u,k),u.stateNode===null)sv(l,u),h(u,v,M),b(u,v,M,k),M=!0;else if(l===null){var Y=u.stateNode,he=u.memoizedProps;Y.props=he;var _e=Y.context,Ne=v.contextType;typeof Ne=="object"&&Ne!==null?Ne=sa(Ne):(Ne=ci(v)?Ns:ei.current,Ne=cl(u,Ne));var at=v.getDerivedStateFromProps,ct=typeof at=="function"||typeof Y.getSnapshotBeforeUpdate=="function";ct||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(he!==M||_e!==Ne)&&p(u,Y,M,Ne),qn=!1;var rt=u.memoizedState;Y.state=rt,vr(u,M,Y,k),_e=u.memoizedState,he!==M||rt!==_e||Ci.current||qn?(typeof at=="function"&&(Uu(u,v,at,M),_e=u.memoizedState),(he=qn||iv(u,v,he,M,rt,_e,Ne))?(ct||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(u.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=M,u.memoizedState=_e),Y.props=M,Y.state=_e,Y.context=Ne,M=he):(typeof Y.componentDidMount=="function"&&(u.flags|=4194308),M=!1)}else{Y=u.stateNode,wr(l,u),he=u.memoizedProps,Ne=u.type===u.elementType?he:Ia(u.type,he),Y.props=Ne,ct=u.pendingProps,rt=Y.context,_e=v.contextType,typeof _e=="object"&&_e!==null?_e=sa(_e):(_e=ci(v)?Ns:ei.current,_e=cl(u,_e));var It=v.getDerivedStateFromProps;(at=typeof It=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(he!==ct||rt!==_e)&&p(u,Y,M,_e),qn=!1,rt=u.memoizedState,Y.state=rt,vr(u,M,Y,k);var Bt=u.memoizedState;he!==ct||rt!==Bt||Ci.current||qn?(typeof It=="function"&&(Uu(u,v,It,M),Bt=u.memoizedState),(Ne=qn||iv(u,v,Ne,M,rt,Bt,_e)||!1)?(at||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(M,Bt,_e),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(M,Bt,_e)),typeof Y.componentDidUpdate=="function"&&(u.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof Y.componentDidUpdate!="function"||he===l.memoizedProps&&rt===l.memoizedState||(u.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||he===l.memoizedProps&&rt===l.memoizedState||(u.flags|=1024),u.memoizedProps=M,u.memoizedState=Bt),Y.props=M,Y.state=Bt,Y.context=_e,M=Ne):(typeof Y.componentDidUpdate!="function"||he===l.memoizedProps&&rt===l.memoizedState||(u.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||he===l.memoizedProps&&rt===l.memoizedState||(u.flags|=1024),M=!1)}return fn(l,u,v,M,U,k)}function fn(l,u,v,M,k,U){ze(l,u);var Y=(u.flags&128)!==0;if(!M&&!Y)return k&&Wp(u,v,!1),wl(l,u,U);M=u.stateNode,Zt.current=u;var he=Y&&typeof v.getDerivedStateFromError!="function"?null:M.render();return u.flags|=1,l!==null&&Y?(u.child=hl(u,l.child,null,U),u.child=hl(u,null,he,U)):Rt(l,u,he,U),u.memoizedState=M.state,k&&Wp(u,v,!0),u.child}function un(l){var u=l.stateNode;u.pendingContext?$p(l,u.pendingContext,u.pendingContext!==u.context):u.context&&$p(l,u.context,!1),Iu(l,u.containerInfo)}function On(l,u,v,M,k){return Eo(),Ec(k),u.flags|=256,Rt(l,u,v,M),u.child}var Rr={dehydrated:null,treeContext:null,retryLane:0};function Rn(l){return{baseLanes:l,cachePool:null,transitions:null}}function Gs(l,u,v){var M=u.pendingProps,k=or.current,U=!1,Y=(u.flags&128)!==0,he;if((he=Y)||(he=l!==null&&l.memoizedState===null?!1:(k&2)!==0),he?(U=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(k|=1),Zn(or,k&1),l===null)return Lf(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?(u.mode&1?l.data==="$!"?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(Y=M.children,l=M.fallback,U?(M=u.mode,U=u.child,Y={mode:"hidden",children:Y},!(M&1)&&U!==null?(U.childLanes=0,U.pendingProps=Y):U=vv(Y,M,0,null),l=ju(l,M,v,null),U.return=u,l.return=u,U.sibling=l,u.child=U,u.child.memoizedState=Rn(v),u.memoizedState=Rr,l):lm(u,Y));if(k=l.memoizedState,k!==null&&(he=k.dehydrated,he!==null))return xU(l,u,Y,M,he,k,v);if(U){U=M.fallback,Y=u.mode,k=l.child,he=k.sibling;var _e={mode:"hidden",children:M.children};return!(Y&1)&&u.child!==k?(M=u.child,M.childLanes=0,M.pendingProps=_e,u.deletions=null):(M=kc(k,_e),M.subtreeFlags=k.subtreeFlags&14680064),he!==null?U=kc(he,U):(U=ju(U,Y,v,null),U.flags|=2),U.return=u,M.return=u,M.sibling=U,u.child=M,M=U,U=u.child,Y=l.child.memoizedState,Y=Y===null?Rn(v):{baseLanes:Y.baseLanes|v,cachePool:null,transitions:Y.transitions},U.memoizedState=Y,U.childLanes=l.childLanes&~v,u.memoizedState=Rr,M}return U=l.child,l=U.sibling,M=kc(U,{mode:"visible",children:M.children}),!(u.mode&1)&&(M.lanes=v),M.return=u,M.sibling=null,l!==null&&(v=u.deletions,v===null?(u.deletions=[l],u.flags|=16):v.push(l)),u.child=M,u.memoizedState=null,M}function lm(l,u){return u=vv({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function av(l,u,v,M){return M!==null&&Ec(M),hl(u,l.child,null,v),l=lm(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function xU(l,u,v,M,k,U,Y){if(v)return u.flags&256?(u.flags&=-257,M=L(Error(t(422))),av(l,u,Y,M)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(U=M.fallback,k=u.mode,M=vv({mode:"visible",children:M.children},k,0,null),U=ju(U,k,Y,null),U.flags|=2,M.return=u,U.return=u,M.sibling=U,u.child=M,u.mode&1&&hl(u,l.child,null,Y),u.child.memoizedState=Rn(Y),u.memoizedState=Rr,U);if(!(u.mode&1))return av(l,u,Y,null);if(k.data==="$!"){if(M=k.nextSibling&&k.nextSibling.dataset,M)var he=M.dgst;return M=he,U=Error(t(419)),M=L(U,M,void 0),av(l,u,Y,M)}if(he=(Y&l.childLanes)!==0,yn||he){if(M=fi,M!==null){switch(Y&-Y){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=k&(M.suspendedLanes|Y)?0:k,k!==0&&k!==U.retryLane&&(U.retryLane=k,Xa(l,k),Ys(M,l,k,-1))}return kS(),M=L(Error(t(421))),av(l,u,Y,M)}return k.data==="$?"?(u.flags|=128,u.child=l.child,u=kU.bind(null,l),k._reactRetry=u,null):(l=U.treeContext,Mi=Fs(k.nextSibling),ti=u,sr=!0,Ra=null,l!==null&&(bi[Gr++]=_t,bi[Gr++]=Pa,bi[Gr++]=fl,_t=l.id,Pa=l.overflow,fl=u),u=lm(u,M.children),u.flags|=4096,u)}function IM(l,u,v){l.lanes|=u;var M=l.alternate;M!==null&&(M.lanes|=u),Pu(l.return,u,v)}function vS(l,u,v,M,k){var U=l.memoizedState;U===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:M,tail:v,tailMode:k}:(U.isBackwards=u,U.rendering=null,U.renderingStartTime=0,U.last=M,U.tail=v,U.tailMode=k)}function OM(l,u,v){var M=u.pendingProps,k=M.revealOrder,U=M.tail;if(Rt(l,u,M.children,v),M=or.current,M&2)M=M&1|2,u.flags|=128;else{if(l!==null&&l.flags&128)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&IM(l,v,u);else if(l.tag===19)IM(l,v,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}M&=1}if(Zn(or,M),!(u.mode&1))u.memoizedState=null;else switch(k){case"forwards":for(v=u.child,k=null;v!==null;)l=v.alternate,l!==null&&Ya(l)===null&&(k=v),v=v.sibling;v=k,v===null?(k=u.child,u.child=null):(k=v.sibling,v.sibling=null),vS(u,!1,k,v,U);break;case"backwards":for(v=null,k=u.child,u.child=null;k!==null;){if(l=k.alternate,l!==null&&Ya(l)===null){u.child=k;break}l=k.sibling,k.sibling=v,v=k,k=l}vS(u,!0,v,null,U);break;case"together":vS(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function sv(l,u){!(u.mode&1)&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function wl(l,u,v){if(l!==null&&(u.dependencies=l.dependencies),Bu|=u.lanes,!(v&u.childLanes))return null;if(l!==null&&u.child!==l.child)throw Error(t(153));if(u.child!==null){for(l=u.child,v=kc(l,l.pendingProps),u.child=v,v.return=u;l.sibling!==null;)l=l.sibling,v=v.sibling=kc(l,l.pendingProps),v.return=u;v.sibling=null}return u.child}function SU(l,u,v){switch(u.tag){case 3:un(u),Eo();break;case 5:_l(u);break;case 1:ci(u.type)&&ul(u);break;case 4:Iu(u,u.stateNode.containerInfo);break;case 10:var M=u.type._context,k=u.memoizedProps.value;Zn(pl,M._currentValue),M._currentValue=k;break;case 13:if(M=u.memoizedState,M!==null)return M.dehydrated!==null?(Zn(or,or.current&1),u.flags|=128,null):v&u.child.childLanes?Gs(l,u,v):(Zn(or,or.current&1),l=wl(l,u,v),l!==null?l.sibling:null);Zn(or,or.current&1);break;case 19:if(M=(v&u.childLanes)!==0,l.flags&128){if(M)return OM(l,u,v);u.flags|=128}if(k=u.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),Zn(or,or.current),M)break;return null;case 22:case 23:return u.lanes=0,Te(l,u,v)}return wl(l,u,v)}var kM,_S,FM,DM;kM=function(l,u){for(var v=u.child;v!==null;){if(v.tag===5||v.tag===6)l.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===u)break;for(;v.sibling===null;){if(v.return===null||v.return===u)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},_S=function(){},FM=function(l,u,v,M){var k=l.memoizedProps;if(k!==M){l=u.stateNode,Pr(oa.current);var U=null;switch(v){case"input":k=Ge(l,k),M=Ge(l,M),U=[];break;case"select":k=oe({},k,{value:void 0}),M=oe({},M,{value:void 0}),U=[];break;case"textarea":k=Ce(l,k),M=Ce(l,M),U=[];break;default:typeof k.onClick!="function"&&typeof M.onClick=="function"&&(l.onclick=xu)}ke(v,M);var Y;v=null;for(Ne in k)if(!M.hasOwnProperty(Ne)&&k.hasOwnProperty(Ne)&&k[Ne]!=null)if(Ne==="style"){var he=k[Ne];for(Y in he)he.hasOwnProperty(Y)&&(v||(v={}),v[Y]="")}else Ne!=="dangerouslySetInnerHTML"&&Ne!=="children"&&Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&Ne!=="autoFocus"&&(i.hasOwnProperty(Ne)?U||(U=[]):(U=U||[]).push(Ne,null));for(Ne in M){var _e=M[Ne];if(he=k!=null?k[Ne]:void 0,M.hasOwnProperty(Ne)&&_e!==he&&(_e!=null||he!=null))if(Ne==="style")if(he){for(Y in he)!he.hasOwnProperty(Y)||_e&&_e.hasOwnProperty(Y)||(v||(v={}),v[Y]="");for(Y in _e)_e.hasOwnProperty(Y)&&he[Y]!==_e[Y]&&(v||(v={}),v[Y]=_e[Y])}else v||(U||(U=[]),U.push(Ne,v)),v=_e;else Ne==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,he=he?he.__html:void 0,_e!=null&&he!==_e&&(U=U||[]).push(Ne,_e)):Ne==="children"?typeof _e!="string"&&typeof _e!="number"||(U=U||[]).push(Ne,""+_e):Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ne)?(_e!=null&&Ne==="onScroll"&&nr("scroll",l),U||he===_e||(U=[])):(U=U||[]).push(Ne,_e))}v&&(U=U||[]).push("style",v);var Ne=U;(u.updateQueue=Ne)&&(u.flags|=4)}},DM=function(l,u,v,M){v!==M&&(u.flags|=4)};function cm(l,u){if(!sr)switch(l.tailMode){case"hidden":u=l.tail;for(var v=null;u!==null;)u.alternate!==null&&(v=u),u=u.sibling;v===null?l.tail=null:v.sibling=null;break;case"collapsed":v=l.tail;for(var M=null;v!==null;)v.alternate!==null&&(M=v),v=v.sibling;M===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:M.sibling=null}}function ji(l){var u=l.alternate!==null&&l.alternate.child===l.child,v=0,M=0;if(u)for(var k=l.child;k!==null;)v|=k.lanes|k.childLanes,M|=k.subtreeFlags&14680064,M|=k.flags&14680064,k.return=l,k=k.sibling;else for(k=l.child;k!==null;)v|=k.lanes|k.childLanes,M|=k.subtreeFlags,M|=k.flags,k.return=l,k=k.sibling;return l.subtreeFlags|=M,l.childLanes=v,u}function EU(l,u,v){var M=u.pendingProps;switch(Bs(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ji(u),null;case 1:return ci(u.type)&&Su(),ji(u),null;case 3:return M=u.stateNode,Co(),rr(Ci),rr(ei),hs(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(l===null||l.child===null)&&(Sc(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,Ra!==null&&(RS(Ra),Ra=null))),_S(l,u),ji(u),null;case 5:bc(u);var k=Pr(Hs.current);if(v=u.type,l!==null&&u.stateNode!=null)FM(l,u,v,M,k),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!M){if(u.stateNode===null)throw Error(t(166));return ji(u),null}if(l=Pr(oa.current),Sc(u)){M=u.stateNode,v=u.type;var U=u.memoizedProps;switch(M[Nr]=u,M[xc]=U,l=(u.mode&1)!==0,v){case"dialog":nr("cancel",M),nr("close",M);break;case"iframe":case"object":case"embed":nr("load",M);break;case"video":case"audio":for(k=0;k<xo.length;k++)nr(xo[k],M);break;case"source":nr("error",M);break;case"img":case"image":case"link":nr("error",M),nr("load",M);break;case"details":nr("toggle",M);break;case"input":qe(M,U),nr("invalid",M);break;case"select":M._wrapperState={wasMultiple:!!U.multiple},nr("invalid",M);break;case"textarea":Xe(M,U),nr("invalid",M)}ke(v,U),k=null;for(var Y in U)if(U.hasOwnProperty(Y)){var he=U[Y];Y==="children"?typeof he=="string"?M.textContent!==he&&(U.suppressHydrationWarning!==!0&&_u(M.textContent,he,l),k=["children",he]):typeof he=="number"&&M.textContent!==""+he&&(U.suppressHydrationWarning!==!0&&_u(M.textContent,he,l),k=["children",""+he]):i.hasOwnProperty(Y)&&he!=null&&Y==="onScroll"&&nr("scroll",M)}switch(v){case"input":wt(M),st(M,U,!0);break;case"textarea":wt(M),We(M);break;case"select":case"option":break;default:typeof U.onClick=="function"&&(M.onclick=xu)}M=k,u.updateQueue=M,M!==null&&(u.flags|=4)}else{Y=k.nodeType===9?k:k.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Et(v)),l==="http://www.w3.org/1999/xhtml"?v==="script"?(l=Y.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof M.is=="string"?l=Y.createElement(v,{is:M.is}):(l=Y.createElement(v),v==="select"&&(Y=l,M.multiple?Y.multiple=!0:M.size&&(Y.size=M.size))):l=Y.createElementNS(l,v),l[Nr]=u,l[xc]=M,kM(l,u,!1,!1),u.stateNode=l;e:{switch(Y=tt(v,M),v){case"dialog":nr("cancel",l),nr("close",l),k=M;break;case"iframe":case"object":case"embed":nr("load",l),k=M;break;case"video":case"audio":for(k=0;k<xo.length;k++)nr(xo[k],l);k=M;break;case"source":nr("error",l),k=M;break;case"img":case"image":case"link":nr("error",l),nr("load",l),k=M;break;case"details":nr("toggle",l),k=M;break;case"input":qe(l,M),k=Ge(l,M),nr("invalid",l);break;case"option":k=M;break;case"select":l._wrapperState={wasMultiple:!!M.multiple},k=oe({},M,{value:void 0}),nr("invalid",l);break;case"textarea":Xe(l,M),k=Ce(l,M),nr("invalid",l);break;default:k=M}ke(v,k),he=k;for(U in he)if(he.hasOwnProperty(U)){var _e=he[U];U==="style"?Ve(l,_e):U==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,_e!=null&&B(l,_e)):U==="children"?typeof _e=="string"?(v!=="textarea"||_e!=="")&&Q(l,_e):typeof _e=="number"&&Q(l,""+_e):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(i.hasOwnProperty(U)?_e!=null&&U==="onScroll"&&nr("scroll",l):_e!=null&&C(l,U,_e,Y))}switch(v){case"input":wt(l),st(l,M,!1);break;case"textarea":wt(l),We(l);break;case"option":M.value!=null&&l.setAttribute("value",""+Je(M.value));break;case"select":l.multiple=!!M.multiple,U=M.value,U!=null?K(l,!!M.multiple,U,!1):M.defaultValue!=null&&K(l,!!M.multiple,M.defaultValue,!0);break;default:typeof k.onClick=="function"&&(l.onclick=xu)}switch(v){case"button":case"input":case"select":case"textarea":M=!!M.autoFocus;break e;case"img":M=!0;break e;default:M=!1}}M&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return ji(u),null;case 6:if(l&&u.stateNode!=null)DM(l,u,l.memoizedProps,M);else{if(typeof M!="string"&&u.stateNode===null)throw Error(t(166));if(v=Pr(Hs.current),Pr(oa.current),Sc(u)){if(M=u.stateNode,v=u.memoizedProps,M[Nr]=u,(U=M.nodeValue!==v)&&(l=ti,l!==null))switch(l.tag){case 3:_u(M.nodeValue,v,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&_u(M.nodeValue,v,(l.mode&1)!==0)}U&&(u.flags|=4)}else M=(v.nodeType===9?v:v.ownerDocument).createTextNode(M),M[Nr]=u,u.stateNode=M}return ji(u),null;case 13:if(rr(or),M=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(sr&&Mi!==null&&u.mode&1&&!(u.flags&128))Qp(),Eo(),u.flags|=98560,U=!1;else if(U=Sc(u),M!==null&&M.dehydrated!==null){if(l===null){if(!U)throw Error(t(318));if(U=u.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(t(317));U[Nr]=u}else Eo(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;ji(u),U=!1}else Ra!==null&&(RS(Ra),Ra=null),U=!0;if(!U)return u.flags&65536?u:null}return u.flags&128?(u.lanes=v,u):(M=M!==null,M!==(l!==null&&l.memoizedState!==null)&&M&&(u.child.flags|=8192,u.mode&1&&(l===null||or.current&1?ai===0&&(ai=3):kS())),u.updateQueue!==null&&(u.flags|=4),ji(u),null);case 4:return Co(),_S(l,u),l===null&&yc(u.stateNode.containerInfo),ji(u),null;case 10:return Au(u.type._context),ji(u),null;case 17:return ci(u.type)&&Su(),ji(u),null;case 19:if(rr(or),U=u.memoizedState,U===null)return ji(u),null;if(M=(u.flags&128)!==0,Y=U.rendering,Y===null)if(M)cm(U,!1);else{if(ai!==0||l!==null&&l.flags&128)for(l=u.child;l!==null;){if(Y=Ya(l),Y!==null){for(u.flags|=128,cm(U,!1),M=Y.updateQueue,M!==null&&(u.updateQueue=M,u.flags|=4),u.subtreeFlags=0,M=v,v=u.child;v!==null;)U=v,l=M,U.flags&=14680066,Y=U.alternate,Y===null?(U.childLanes=0,U.lanes=l,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=Y.childLanes,U.lanes=Y.lanes,U.child=Y.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=Y.memoizedProps,U.memoizedState=Y.memoizedState,U.updateQueue=Y.updateQueue,U.type=Y.type,l=Y.dependencies,U.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),v=v.sibling;return Zn(or,or.current&1|2),u.child}l=l.sibling}U.tail!==null&&nt()>Xf&&(u.flags|=128,M=!0,cm(U,!1),u.lanes=4194304)}else{if(!M)if(l=Ya(Y),l!==null){if(u.flags|=128,M=!0,v=l.updateQueue,v!==null&&(u.updateQueue=v,u.flags|=4),cm(U,!0),U.tail===null&&U.tailMode==="hidden"&&!Y.alternate&&!sr)return ji(u),null}else 2*nt()-U.renderingStartTime>Xf&&v!==1073741824&&(u.flags|=128,M=!0,cm(U,!1),u.lanes=4194304);U.isBackwards?(Y.sibling=u.child,u.child=Y):(v=U.last,v!==null?v.sibling=Y:u.child=Y,U.last=Y)}return U.tail!==null?(u=U.tail,U.rendering=u,U.tail=u.sibling,U.renderingStartTime=nt(),u.sibling=null,v=or.current,Zn(or,M?v&1|2:v&1),u):(ji(u),null);case 22:case 23:return OS(),M=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==M&&(u.flags|=8192),M&&u.mode&1?Ja&1073741824&&(ji(u),u.subtreeFlags&6&&(u.flags|=8192)):ji(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function wU(l,u){switch(Bs(u),u.tag){case 1:return ci(u.type)&&Su(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Co(),rr(Ci),rr(ei),hs(),l=u.flags,l&65536&&!(l&128)?(u.flags=l&-65537|128,u):null;case 5:return bc(u),null;case 13:if(rr(or),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(t(340));Eo()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return rr(or),null;case 4:return Co(),null;case 10:return Au(u.type._context),null;case 22:case 23:return OS(),null;case 24:return null;default:return null}}var ov=!1,$i=!1,CU=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function Gf(l,u){var v=l.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(M){Ir(l,u,M)}else v.current=null}function xS(l,u,v){try{v()}catch(M){Ir(l,u,M)}}var LM=!1;function bU(l,u){if(_c=wa,l=hr(),Hr(l)){if("selectionStart"in l)var v={start:l.selectionStart,end:l.selectionEnd};else e:{v=(v=l.ownerDocument)&&v.defaultView||window;var M=v.getSelection&&v.getSelection();if(M&&M.rangeCount!==0){v=M.anchorNode;var k=M.anchorOffset,U=M.focusNode;M=M.focusOffset;try{v.nodeType,U.nodeType}catch{v=null;break e}var Y=0,he=-1,_e=-1,Ne=0,at=0,ct=l,rt=null;t:for(;;){for(var It;ct!==v||k!==0&&ct.nodeType!==3||(he=Y+k),ct!==U||M!==0&&ct.nodeType!==3||(_e=Y+M),ct.nodeType===3&&(Y+=ct.nodeValue.length),(It=ct.firstChild)!==null;)rt=ct,ct=It;for(;;){if(ct===l)break t;if(rt===v&&++Ne===k&&(he=Y),rt===U&&++at===M&&(_e=Y),(It=ct.nextSibling)!==null)break;ct=rt,rt=ct.parentNode}ct=It}v=he===-1||_e===-1?null:{start:he,end:_e}}else v=null}v=v||{start:0,end:0}}else v=null;for(Up={focusedElem:l,selectionRange:v},wa=!1,Nt=u;Nt!==null;)if(u=Nt,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Nt=l;else for(;Nt!==null;){u=Nt;try{var Bt=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Bt!==null){var $t=Bt.memoizedProps,Ur=Bt.memoizedState,Ie=u.stateNode,Se=Ie.getSnapshotBeforeUpdate(u.elementType===u.type?$t:Ia(u.type,$t),Ur);Ie.__reactInternalSnapshotBeforeUpdate=Se}break;case 3:var Fe=u.stateNode.containerInfo;Fe.nodeType===1?Fe.textContent="":Fe.nodeType===9&&Fe.documentElement&&Fe.removeChild(Fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ht){Ir(u,u.return,ht)}if(l=u.sibling,l!==null){l.return=u.return,Nt=l;break}Nt=u.return}return Bt=LM,LM=!1,Bt}function um(l,u,v){var M=u.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var k=M=M.next;do{if((k.tag&l)===l){var U=k.destroy;k.destroy=void 0,U!==void 0&&xS(u,v,U)}k=k.next}while(k!==M)}}function lv(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var v=u=u.next;do{if((v.tag&l)===l){var M=v.create;v.destroy=M()}v=v.next}while(v!==u)}}function SS(l){var u=l.ref;if(u!==null){var v=l.stateNode;switch(l.tag){case 5:l=v;break;default:l=v}typeof u=="function"?u(l):u.current=l}}function NM(l){var u=l.alternate;u!==null&&(l.alternate=null,NM(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[Nr],delete u[xc],delete u[ll],delete u[Pf],delete u[Rf])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function UM(l){return l.tag===5||l.tag===3||l.tag===4}function BM(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||UM(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function ES(l,u,v){var M=l.tag;if(M===5||M===6)l=l.stateNode,u?v.nodeType===8?v.parentNode.insertBefore(l,u):v.insertBefore(l,u):(v.nodeType===8?(u=v.parentNode,u.insertBefore(l,v)):(u=v,u.appendChild(l)),v=v._reactRootContainer,v!=null||u.onclick!==null||(u.onclick=xu));else if(M!==4&&(l=l.child,l!==null))for(ES(l,u,v),l=l.sibling;l!==null;)ES(l,u,v),l=l.sibling}function wS(l,u,v){var M=l.tag;if(M===5||M===6)l=l.stateNode,u?v.insertBefore(l,u):v.appendChild(l);else if(M!==4&&(l=l.child,l!==null))for(wS(l,u,v),l=l.sibling;l!==null;)wS(l,u,v),l=l.sibling}var Ai=null,qs=!1;function Ac(l,u,v){for(v=v.child;v!==null;)zM(l,u,v),v=v.sibling}function zM(l,u,v){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(ar,v)}catch{}switch(v.tag){case 5:$i||Gf(v,u);case 6:var M=Ai,k=qs;Ai=null,Ac(l,u,v),Ai=M,qs=k,Ai!==null&&(qs?(l=Ai,v=v.stateNode,l.nodeType===8?l.parentNode.removeChild(v):l.removeChild(v)):Ai.removeChild(v.stateNode));break;case 18:Ai!==null&&(qs?(l=Ai,v=v.stateNode,l.nodeType===8?Af(l.parentNode,v):l.nodeType===1&&Af(l,v),lu(l)):Af(Ai,v.stateNode));break;case 4:M=Ai,k=qs,Ai=v.stateNode.containerInfo,qs=!0,Ac(l,u,v),Ai=M,qs=k;break;case 0:case 11:case 14:case 15:if(!$i&&(M=v.updateQueue,M!==null&&(M=M.lastEffect,M!==null))){k=M=M.next;do{var U=k,Y=U.destroy;U=U.tag,Y!==void 0&&(U&2||U&4)&&xS(v,u,Y),k=k.next}while(k!==M)}Ac(l,u,v);break;case 1:if(!$i&&(Gf(v,u),M=v.stateNode,typeof M.componentWillUnmount=="function"))try{M.props=v.memoizedProps,M.state=v.memoizedState,M.componentWillUnmount()}catch(he){Ir(v,u,he)}Ac(l,u,v);break;case 21:Ac(l,u,v);break;case 22:v.mode&1?($i=(M=$i)||v.memoizedState!==null,Ac(l,u,v),$i=M):Ac(l,u,v);break;default:Ac(l,u,v)}}function VM(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var v=l.stateNode;v===null&&(v=l.stateNode=new CU),u.forEach(function(M){var k=FU.bind(null,l,M);v.has(M)||(v.add(M),M.then(k,k))})}}function Xs(l,u){var v=u.deletions;if(v!==null)for(var M=0;M<v.length;M++){var k=v[M];try{var U=l,Y=u,he=Y;e:for(;he!==null;){switch(he.tag){case 5:Ai=he.stateNode,qs=!1;break e;case 3:Ai=he.stateNode.containerInfo,qs=!0;break e;case 4:Ai=he.stateNode.containerInfo,qs=!0;break e}he=he.return}if(Ai===null)throw Error(t(160));zM(U,Y,k),Ai=null,qs=!1;var _e=k.alternate;_e!==null&&(_e.return=null),k.return=null}catch(Ne){Ir(k,u,Ne)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)HM(u,l),u=u.sibling}function HM(l,u){var v=l.alternate,M=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Xs(u,l),Mo(l),M&4){try{um(3,l,l.return),lv(3,l)}catch($t){Ir(l,l.return,$t)}try{um(5,l,l.return)}catch($t){Ir(l,l.return,$t)}}break;case 1:Xs(u,l),Mo(l),M&512&&v!==null&&Gf(v,v.return);break;case 5:if(Xs(u,l),Mo(l),M&512&&v!==null&&Gf(v,v.return),l.flags&32){var k=l.stateNode;try{Q(k,"")}catch($t){Ir(l,l.return,$t)}}if(M&4&&(k=l.stateNode,k!=null)){var U=l.memoizedProps,Y=v!==null?v.memoizedProps:U,he=l.type,_e=l.updateQueue;if(l.updateQueue=null,_e!==null)try{he==="input"&&U.type==="radio"&&U.name!=null&&Ue(k,U),tt(he,Y);var Ne=tt(he,U);for(Y=0;Y<_e.length;Y+=2){var at=_e[Y],ct=_e[Y+1];at==="style"?Ve(k,ct):at==="dangerouslySetInnerHTML"?B(k,ct):at==="children"?Q(k,ct):C(k,at,ct,Ne)}switch(he){case"input":xt(k,U);break;case"textarea":Ye(k,U);break;case"select":var rt=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!U.multiple;var It=U.value;It!=null?K(k,!!U.multiple,It,!1):rt!==!!U.multiple&&(U.defaultValue!=null?K(k,!!U.multiple,U.defaultValue,!0):K(k,!!U.multiple,U.multiple?[]:"",!1))}k[xc]=U}catch($t){Ir(l,l.return,$t)}}break;case 6:if(Xs(u,l),Mo(l),M&4){if(l.stateNode===null)throw Error(t(162));k=l.stateNode,U=l.memoizedProps;try{k.nodeValue=U}catch($t){Ir(l,l.return,$t)}}break;case 3:if(Xs(u,l),Mo(l),M&4&&v!==null&&v.memoizedState.isDehydrated)try{lu(u.containerInfo)}catch($t){Ir(l,l.return,$t)}break;case 4:Xs(u,l),Mo(l);break;case 13:Xs(u,l),Mo(l),k=l.child,k.flags&8192&&(U=k.memoizedState!==null,k.stateNode.isHidden=U,!U||k.alternate!==null&&k.alternate.memoizedState!==null||(MS=nt())),M&4&&VM(l);break;case 22:if(at=v!==null&&v.memoizedState!==null,l.mode&1?($i=(Ne=$i)||at,Xs(u,l),$i=Ne):Xs(u,l),Mo(l),M&8192){if(Ne=l.memoizedState!==null,(l.stateNode.isHidden=Ne)&&!at&&l.mode&1)for(Nt=l,at=l.child;at!==null;){for(ct=Nt=at;Nt!==null;){switch(rt=Nt,It=rt.child,rt.tag){case 0:case 11:case 14:case 15:um(4,rt,rt.return);break;case 1:Gf(rt,rt.return);var Bt=rt.stateNode;if(typeof Bt.componentWillUnmount=="function"){M=rt,v=rt.return;try{u=M,Bt.props=u.memoizedProps,Bt.state=u.memoizedState,Bt.componentWillUnmount()}catch($t){Ir(M,v,$t)}}break;case 5:Gf(rt,rt.return);break;case 22:if(rt.memoizedState!==null){WM(ct);continue}}It!==null?(It.return=rt,Nt=It):WM(ct)}at=at.sibling}e:for(at=null,ct=l;;){if(ct.tag===5){if(at===null){at=ct;try{k=ct.stateNode,Ne?(U=k.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none"):(he=ct.stateNode,_e=ct.memoizedProps.style,Y=_e!=null&&_e.hasOwnProperty("display")?_e.display:null,he.style.display=ve("display",Y))}catch($t){Ir(l,l.return,$t)}}}else if(ct.tag===6){if(at===null)try{ct.stateNode.nodeValue=Ne?"":ct.memoizedProps}catch($t){Ir(l,l.return,$t)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===l)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===l)break e;for(;ct.sibling===null;){if(ct.return===null||ct.return===l)break e;at===ct&&(at=null),ct=ct.return}at===ct&&(at=null),ct.sibling.return=ct.return,ct=ct.sibling}}break;case 19:Xs(u,l),Mo(l),M&4&&VM(l);break;case 21:break;default:Xs(u,l),Mo(l)}}function Mo(l){var u=l.flags;if(u&2){try{e:{for(var v=l.return;v!==null;){if(UM(v)){var M=v;break e}v=v.return}throw Error(t(160))}switch(M.tag){case 5:var k=M.stateNode;M.flags&32&&(Q(k,""),M.flags&=-33);var U=BM(l);wS(l,U,k);break;case 3:case 4:var Y=M.stateNode.containerInfo,he=BM(l);ES(l,he,Y);break;default:throw Error(t(161))}}catch(_e){Ir(l,l.return,_e)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function MU(l,u,v){Nt=l,jM(l)}function jM(l,u,v){for(var M=(l.mode&1)!==0;Nt!==null;){var k=Nt,U=k.child;if(k.tag===22&&M){var Y=k.memoizedState!==null||ov;if(!Y){var he=k.alternate,_e=he!==null&&he.memoizedState!==null||$i;he=ov;var Ne=$i;if(ov=Y,($i=_e)&&!Ne)for(Nt=k;Nt!==null;)Y=Nt,_e=Y.child,Y.tag===22&&Y.memoizedState!==null?GM(k):_e!==null?(_e.return=Y,Nt=_e):GM(k);for(;U!==null;)Nt=U,jM(U),U=U.sibling;Nt=k,ov=he,$i=Ne}$M(l)}else k.subtreeFlags&8772&&U!==null?(U.return=k,Nt=U):$M(l)}}function $M(l){for(;Nt!==null;){var u=Nt;if(u.flags&8772){var v=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:$i||lv(5,u);break;case 1:var M=u.stateNode;if(u.flags&4&&!$i)if(v===null)M.componentDidMount();else{var k=u.elementType===u.type?v.memoizedProps:Ia(u.type,v.memoizedProps);M.componentDidUpdate(k,v.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var U=u.updateQueue;U!==null&&Cc(u,U,M);break;case 3:var Y=u.updateQueue;if(Y!==null){if(v=null,u.child!==null)switch(u.child.tag){case 5:v=u.child.stateNode;break;case 1:v=u.child.stateNode}Cc(u,Y,v)}break;case 5:var he=u.stateNode;if(v===null&&u.flags&4){v=he;var _e=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":_e.autoFocus&&v.focus();break;case"img":_e.src&&(v.src=_e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Ne=u.alternate;if(Ne!==null){var at=Ne.memoizedState;if(at!==null){var ct=at.dehydrated;ct!==null&&lu(ct)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$i||u.flags&512&&SS(u)}catch(rt){Ir(u,u.return,rt)}}if(u===l){Nt=null;break}if(v=u.sibling,v!==null){v.return=u.return,Nt=v;break}Nt=u.return}}function WM(l){for(;Nt!==null;){var u=Nt;if(u===l){Nt=null;break}var v=u.sibling;if(v!==null){v.return=u.return,Nt=v;break}Nt=u.return}}function GM(l){for(;Nt!==null;){var u=Nt;try{switch(u.tag){case 0:case 11:case 15:var v=u.return;try{lv(4,u)}catch(_e){Ir(u,v,_e)}break;case 1:var M=u.stateNode;if(typeof M.componentDidMount=="function"){var k=u.return;try{M.componentDidMount()}catch(_e){Ir(u,k,_e)}}var U=u.return;try{SS(u)}catch(_e){Ir(u,U,_e)}break;case 5:var Y=u.return;try{SS(u)}catch(_e){Ir(u,Y,_e)}}}catch(_e){Ir(u,u.return,_e)}if(u===l){Nt=null;break}var he=u.sibling;if(he!==null){he.return=u.return,Nt=he;break}Nt=u.return}}var TU=Math.ceil,cv=T.ReactCurrentDispatcher,CS=T.ReactCurrentOwner,ms=T.ReactCurrentBatchConfig,Un=0,fi=null,qr=null,Pi=0,Ja=0,qf=yr(0),ai=0,dm=null,Bu=0,uv=0,bS=0,fm=null,Oa=null,MS=0,Xf=1/0,Cl=null,dv=!1,TS=null,Pc=null,fv=!1,Rc=null,hv=0,hm=0,AS=null,pv=-1,mv=0;function da(){return Un&6?nt():pv!==-1?pv:pv=nt()}function Ic(l){return l.mode&1?Un&2&&Pi!==0?Pi&-Pi:gS.transition!==null?(mv===0&&(mv=Ni()),mv):(l=Fn,l!==0||(l=window.event,l=l===void 0?16:Fy(l.type)),l):1}function Ys(l,u,v,M){if(50<hm)throw hm=0,AS=null,Error(t(185));iu(l,v,M),(!(Un&2)||l!==fi)&&(l===fi&&(!(Un&2)&&(uv|=v),ai===4&&Oc(l,Pi)),ka(l,M),v===1&&Un===0&&!(u.mode&1)&&(Xf=nt()+500,wu&&ds()))}function ka(l,u){var v=l.callbackNode;Jr(l,u);var M=Li(l,l===fi?Pi:0);if(M===0)v!==null&&it(v),l.callbackNode=null,l.callbackPriority=0;else if(u=M&-M,l.callbackPriority!==u){if(v!=null&&it(v),u===1)l.tag===0?Xy(XM.bind(null,l)):Cu(XM.bind(null,l)),mS(function(){!(Un&6)&&ds()}),v=null;else{switch(ic(M)){case 1:v=Yt;break;case 4:v=Qt;break;case 16:v=Mn;break;case 536870912:v=Vn;break;default:v=Mn}v=nT(v,qM.bind(null,l))}l.callbackPriority=u,l.callbackNode=v}}function qM(l,u){if(pv=-1,mv=0,Un&6)throw Error(t(327));var v=l.callbackNode;if(Yf()&&l.callbackNode!==v)return null;var M=Li(l,l===fi?Pi:0);if(M===0)return null;if(M&30||M&l.expiredLanes||u)u=gv(l,M);else{u=M;var k=Un;Un|=2;var U=QM();(fi!==l||Pi!==u)&&(Cl=null,Xf=nt()+500,Vu(l,u));do try{RU();break}catch(he){YM(l,he)}while(!0);gl(),cv.current=U,Un=k,qr!==null?u=0:(fi=null,Pi=0,u=ai)}if(u!==0){if(u===2&&(k=ho(l),k!==0&&(M=k,u=PS(l,k))),u===1)throw v=dm,Vu(l,0),Oc(l,M),ka(l,nt()),v;if(u===6)Oc(l,M);else{if(k=l.current.alternate,!(M&30)&&!AU(k)&&(u=gv(l,M),u===2&&(U=ho(l),U!==0&&(M=U,u=PS(l,U))),u===1))throw v=dm,Vu(l,0),Oc(l,M),ka(l,nt()),v;switch(l.finishedWork=k,l.finishedLanes=M,u){case 0:case 1:throw Error(t(345));case 2:Hu(l,Oa,Cl);break;case 3:if(Oc(l,M),(M&130023424)===M&&(u=MS+500-nt(),10<u)){if(Li(l,0)!==0)break;if(k=l.suspendedLanes,(k&M)!==M){da(),l.pingedLanes|=l.suspendedLanes&k;break}l.timeoutHandle=zp(Hu.bind(null,l,Oa,Cl),u);break}Hu(l,Oa,Cl);break;case 4:if(Oc(l,M),(M&4194240)===M)break;for(u=l.eventTimes,k=-1;0<M;){var Y=31-Tn(M);U=1<<Y,Y=u[Y],Y>k&&(k=Y),M&=~U}if(M=k,M=nt()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*TU(M/1960))-M,10<M){l.timeoutHandle=zp(Hu.bind(null,l,Oa,Cl),M);break}Hu(l,Oa,Cl);break;case 5:Hu(l,Oa,Cl);break;default:throw Error(t(329))}}}return ka(l,nt()),l.callbackNode===v?qM.bind(null,l):null}function PS(l,u){var v=fm;return l.current.memoizedState.isDehydrated&&(Vu(l,u).flags|=256),l=gv(l,u),l!==2&&(u=Oa,Oa=v,u!==null&&RS(u)),l}function RS(l){Oa===null?Oa=l:Oa.push.apply(Oa,l)}function AU(l){for(var u=l;;){if(u.flags&16384){var v=u.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var M=0;M<v.length;M++){var k=v[M],U=k.getSnapshot;k=k.value;try{if(!ra(U(),k))return!1}catch{return!1}}}if(v=u.child,u.subtreeFlags&16384&&v!==null)v.return=u,u=v;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Oc(l,u){for(u&=~bS,u&=~uv,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var v=31-Tn(u),M=1<<v;l[v]=-1,u&=~M}}function XM(l){if(Un&6)throw Error(t(327));Yf();var u=Li(l,0);if(!(u&1))return ka(l,nt()),null;var v=gv(l,u);if(l.tag!==0&&v===2){var M=ho(l);M!==0&&(u=M,v=PS(l,M))}if(v===1)throw v=dm,Vu(l,0),Oc(l,u),ka(l,nt()),v;if(v===6)throw Error(t(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,Hu(l,Oa,Cl),ka(l,nt()),null}function IS(l,u){var v=Un;Un|=1;try{return l(u)}finally{Un=v,Un===0&&(Xf=nt()+500,wu&&ds())}}function zu(l){Rc!==null&&Rc.tag===0&&!(Un&6)&&Yf();var u=Un;Un|=1;var v=ms.transition,M=Fn;try{if(ms.transition=null,Fn=1,l)return l()}finally{Fn=M,ms.transition=v,Un=u,!(Un&6)&&ds()}}function OS(){Ja=qf.current,rr(qf)}function Vu(l,u){l.finishedWork=null,l.finishedLanes=0;var v=l.timeoutHandle;if(v!==-1&&(l.timeoutHandle=-1,Vp(v)),qr!==null)for(v=qr.return;v!==null;){var M=v;switch(Bs(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&Su();break;case 3:Co(),rr(Ci),rr(ei),hs();break;case 5:bc(M);break;case 4:Co();break;case 13:rr(or);break;case 19:rr(or);break;case 10:Au(M.type._context);break;case 22:case 23:OS()}v=v.return}if(fi=l,qr=l=kc(l.current,null),Pi=Ja=u,ai=0,dm=null,bS=uv=Bu=0,Oa=fm=null,Vs!==null){for(u=0;u<Vs.length;u++)if(v=Vs[u],M=v.interleaved,M!==null){v.interleaved=null;var k=M.next,U=v.pending;if(U!==null){var Y=U.next;U.next=k,M.next=Y}v.pending=M}Vs=null}return l}function YM(l,u){do{var v=qr;try{if(gl(),xl.current=$f,Qa){for(var M=ir.memoizedState;M!==null;){var k=M.queue;k!==null&&(k.pending=null),M=M.next}Qa=!1}if(js=0,Dn=_r=ir=null,di=!1,bo=0,CS.current=null,v===null||v.return===null){ai=1,dm=u,qr=null;break}e:{var U=l,Y=v.return,he=v,_e=u;if(u=Pi,he.flags|=32768,_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var Ne=_e,at=he,ct=at.tag;if(!(at.mode&1)&&(ct===0||ct===11||ct===15)){var rt=at.alternate;rt?(at.updateQueue=rt.updateQueue,at.memoizedState=rt.memoizedState,at.lanes=rt.lanes):(at.updateQueue=null,at.memoizedState=null)}var It=kt(Y);if(It!==null){It.flags&=-257,cn(It,Y,he,U,u),It.mode&1&&dt(U,Ne,u),u=It,_e=Ne;var Bt=u.updateQueue;if(Bt===null){var $t=new Set;$t.add(_e),u.updateQueue=$t}else Bt.add(_e);break e}else{if(!(u&1)){dt(U,Ne,u),kS();break e}_e=Error(t(426))}}else if(sr&&he.mode&1){var Ur=kt(Y);if(Ur!==null){!(Ur.flags&65536)&&(Ur.flags|=256),cn(Ur,Y,he,U,u),Ec(A(_e,he));break e}}U=_e=A(_e,he),ai!==4&&(ai=2),fm===null?fm=[U]:fm.push(U),U=Y;do{switch(U.tag){case 3:U.flags|=65536,u&=-u,U.lanes|=u;var Ie=Ee(U,_e,u);yl(U,Ie);break e;case 1:he=_e;var Se=U.type,Fe=U.stateNode;if(!(U.flags&128)&&(typeof Se.getDerivedStateFromError=="function"||Fe!==null&&typeof Fe.componentDidCatch=="function"&&(Pc===null||!Pc.has(Fe)))){U.flags|=65536,u&=-u,U.lanes|=u;var ht=je(U,he,u);yl(U,ht);break e}}U=U.return}while(U!==null)}JM(v)}catch(Kt){u=Kt,qr===v&&v!==null&&(qr=v=v.return);continue}break}while(!0)}function QM(){var l=cv.current;return cv.current=$f,l===null?$f:l}function kS(){(ai===0||ai===3||ai===2)&&(ai=4),fi===null||!(Bu&268435455)&&!(uv&268435455)||Oc(fi,Pi)}function gv(l,u){var v=Un;Un|=2;var M=QM();(fi!==l||Pi!==u)&&(Cl=null,Vu(l,u));do try{PU();break}catch(k){YM(l,k)}while(!0);if(gl(),Un=v,cv.current=M,qr!==null)throw Error(t(261));return fi=null,Pi=0,ai}function PU(){for(;qr!==null;)KM(qr)}function RU(){for(;qr!==null&&!et();)KM(qr)}function KM(l){var u=tT(l.alternate,l,Ja);l.memoizedProps=l.pendingProps,u===null?JM(l):qr=u,CS.current=null}function JM(l){var u=l;do{var v=u.alternate;if(l=u.return,u.flags&32768){if(v=wU(v,u),v!==null){v.flags&=32767,qr=v;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{ai=6,qr=null;return}}else if(v=EU(v,u,Ja),v!==null){qr=v;return}if(u=u.sibling,u!==null){qr=u;return}qr=u=l}while(u!==null);ai===0&&(ai=5)}function Hu(l,u,v){var M=Fn,k=ms.transition;try{ms.transition=null,Fn=1,IU(l,u,v,M)}finally{ms.transition=k,Fn=M}return null}function IU(l,u,v,M){do Yf();while(Rc!==null);if(Un&6)throw Error(t(327));v=l.finishedWork;var k=l.finishedLanes;if(v===null)return null;if(l.finishedWork=null,l.finishedLanes=0,v===l.current)throw Error(t(177));l.callbackNode=null,l.callbackPriority=0;var U=v.lanes|v.childLanes;if(dS(l,U),l===fi&&(qr=fi=null,Pi=0),!(v.subtreeFlags&2064)&&!(v.flags&2064)||fv||(fv=!0,nT(Mn,function(){return Yf(),null})),U=(v.flags&15990)!==0,v.subtreeFlags&15990||U){U=ms.transition,ms.transition=null;var Y=Fn;Fn=1;var he=Un;Un|=4,CS.current=null,bU(l,v),HM(v,l),jr(Up),wa=!!_c,Up=_c=null,l.current=v,MU(v),mt(),Un=he,Fn=Y,ms.transition=U}else l.current=v;if(fv&&(fv=!1,Rc=l,hv=k),U=l.pendingLanes,U===0&&(Pc=null),vt(v.stateNode),ka(l,nt()),u!==null)for(M=l.onRecoverableError,v=0;v<u.length;v++)k=u[v],M(k.value,{componentStack:k.stack,digest:k.digest});if(dv)throw dv=!1,l=TS,TS=null,l;return hv&1&&l.tag!==0&&Yf(),U=l.pendingLanes,U&1?l===AS?hm++:(hm=0,AS=l):hm=0,ds(),null}function Yf(){if(Rc!==null){var l=ic(hv),u=ms.transition,v=Fn;try{if(ms.transition=null,Fn=16>l?16:l,Rc===null)var M=!1;else{if(l=Rc,Rc=null,hv=0,Un&6)throw Error(t(331));var k=Un;for(Un|=4,Nt=l.current;Nt!==null;){var U=Nt,Y=U.child;if(Nt.flags&16){var he=U.deletions;if(he!==null){for(var _e=0;_e<he.length;_e++){var Ne=he[_e];for(Nt=Ne;Nt!==null;){var at=Nt;switch(at.tag){case 0:case 11:case 15:um(8,at,U)}var ct=at.child;if(ct!==null)ct.return=at,Nt=ct;else for(;Nt!==null;){at=Nt;var rt=at.sibling,It=at.return;if(NM(at),at===Ne){Nt=null;break}if(rt!==null){rt.return=It,Nt=rt;break}Nt=It}}}var Bt=U.alternate;if(Bt!==null){var $t=Bt.child;if($t!==null){Bt.child=null;do{var Ur=$t.sibling;$t.sibling=null,$t=Ur}while($t!==null)}}Nt=U}}if(U.subtreeFlags&2064&&Y!==null)Y.return=U,Nt=Y;else e:for(;Nt!==null;){if(U=Nt,U.flags&2048)switch(U.tag){case 0:case 11:case 15:um(9,U,U.return)}var Ie=U.sibling;if(Ie!==null){Ie.return=U.return,Nt=Ie;break e}Nt=U.return}}var Se=l.current;for(Nt=Se;Nt!==null;){Y=Nt;var Fe=Y.child;if(Y.subtreeFlags&2064&&Fe!==null)Fe.return=Y,Nt=Fe;else e:for(Y=Se;Nt!==null;){if(he=Nt,he.flags&2048)try{switch(he.tag){case 0:case 11:case 15:lv(9,he)}}catch(Kt){Ir(he,he.return,Kt)}if(he===Y){Nt=null;break e}var ht=he.sibling;if(ht!==null){ht.return=he.return,Nt=ht;break e}Nt=he.return}}if(Un=k,ds(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(ar,l)}catch{}M=!0}return M}finally{Fn=v,ms.transition=u}}return!1}function ZM(l,u,v){u=A(v,u),u=Ee(l,u,1),l=cr(l,u,1),u=da(),l!==null&&(iu(l,1,u),ka(l,u))}function Ir(l,u,v){if(l.tag===3)ZM(l,l,v);else for(;u!==null;){if(u.tag===3){ZM(u,l,v);break}else if(u.tag===1){var M=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Pc===null||!Pc.has(M))){l=A(v,l),l=je(u,l,1),u=cr(u,l,1),l=da(),u!==null&&(iu(u,1,l),ka(u,l));break}}u=u.return}}function OU(l,u,v){var M=l.pingCache;M!==null&&M.delete(u),u=da(),l.pingedLanes|=l.suspendedLanes&v,fi===l&&(Pi&v)===v&&(ai===4||ai===3&&(Pi&130023424)===Pi&&500>nt()-MS?Vu(l,0):bS|=v),ka(l,u)}function eT(l,u){u===0&&(l.mode&1?(u=Sr,Sr<<=1,!(Sr&130023424)&&(Sr=4194304)):u=1);var v=da();l=Xa(l,u),l!==null&&(iu(l,u,v),ka(l,v))}function kU(l){var u=l.memoizedState,v=0;u!==null&&(v=u.retryLane),eT(l,v)}function FU(l,u){var v=0;switch(l.tag){case 13:var M=l.stateNode,k=l.memoizedState;k!==null&&(v=k.retryLane);break;case 19:M=l.stateNode;break;default:throw Error(t(314))}M!==null&&M.delete(u),eT(l,v)}var tT;tT=function(l,u,v){if(l!==null)if(l.memoizedProps!==u.pendingProps||Ci.current)yn=!0;else{if(!(l.lanes&v)&&!(u.flags&128))return yn=!1,SU(l,u,v);yn=!!(l.flags&131072)}else yn=!1,sr&&u.flags&1048576&&Gp(u,Ff,u.index);switch(u.lanes=0,u.tag){case 2:var M=u.type;sv(l,u),l=u.pendingProps;var k=cl(u,ei.current);wo(u,v),k=ku(null,u,M,l,k,v);var U=em();return u.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,ci(M)?(U=!0,ul(u)):U=!1,u.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,mn(u),k.updater=Wf,u.stateNode=k,k._reactInternals=u,b(u,M,l,v),u=fn(null,u,M,!0,U,v)):(u.tag=0,sr&&U&&qp(u),Rt(null,u,k,v),u=u.child),u;case 16:M=u.elementType;e:{switch(sv(l,u),l=u.pendingProps,k=M._init,M=k(M._payload),u.type=M,k=u.tag=LU(M),l=Ia(M,l),k){case 0:u=bt(null,u,M,l,v);break e;case 1:u=Gt(null,u,M,l,v);break e;case 11:u=ii(null,u,M,l,v);break e;case 14:u=ua(null,u,M,Ia(M.type,l),v);break e}throw Error(t(306,M,""))}return u;case 0:return M=u.type,k=u.pendingProps,k=u.elementType===M?k:Ia(M,k),bt(l,u,M,k,v);case 1:return M=u.type,k=u.pendingProps,k=u.elementType===M?k:Ia(M,k),Gt(l,u,M,k,v);case 3:e:{if(un(u),l===null)throw Error(t(387));M=u.pendingProps,U=u.memoizedState,k=U.element,wr(l,u),vr(u,M,null,v);var Y=u.memoizedState;if(M=Y.element,U.isDehydrated)if(U={element:M,isDehydrated:!1,cache:Y.cache,pendingSuspenseBoundaries:Y.pendingSuspenseBoundaries,transitions:Y.transitions},u.updateQueue.baseState=U,u.memoizedState=U,u.flags&256){k=A(Error(t(423)),u),u=On(l,u,M,v,k);break e}else if(M!==k){k=A(Error(t(424)),u),u=On(l,u,M,v,k);break e}else for(Mi=Fs(u.stateNode.containerInfo.firstChild),ti=u,sr=!0,Ra=null,v=Tu(u,null,M,v),u.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Eo(),M===k){u=wl(l,u,v);break e}Rt(l,u,M,v)}u=u.child}return u;case 5:return _l(u),l===null&&Lf(u),M=u.type,k=u.pendingProps,U=l!==null?l.memoizedProps:null,Y=k.children,Bp(M,k)?Y=null:U!==null&&Bp(M,U)&&(u.flags|=32),ze(l,u),Rt(l,u,Y,v),u.child;case 6:return l===null&&Lf(u),null;case 13:return Gs(l,u,v);case 4:return Iu(u,u.stateNode.containerInfo),M=u.pendingProps,l===null?u.child=hl(u,null,M,v):Rt(l,u,M,v),u.child;case 11:return M=u.type,k=u.pendingProps,k=u.elementType===M?k:Ia(M,k),ii(l,u,M,k,v);case 7:return Rt(l,u,u.pendingProps,v),u.child;case 8:return Rt(l,u,u.pendingProps.children,v),u.child;case 12:return Rt(l,u,u.pendingProps.children,v),u.child;case 10:e:{if(M=u.type._context,k=u.pendingProps,U=u.memoizedProps,Y=k.value,Zn(pl,M._currentValue),M._currentValue=Y,U!==null)if(ra(U.value,Y)){if(U.children===k.children&&!Ci.current){u=wl(l,u,v);break e}}else for(U=u.child,U!==null&&(U.return=u);U!==null;){var he=U.dependencies;if(he!==null){Y=U.child;for(var _e=he.firstContext;_e!==null;){if(_e.context===M){if(U.tag===1){_e=Xn(-1,v&-v),_e.tag=2;var Ne=U.updateQueue;if(Ne!==null){Ne=Ne.shared;var at=Ne.pending;at===null?_e.next=_e:(_e.next=at.next,at.next=_e),Ne.pending=_e}}U.lanes|=v,_e=U.alternate,_e!==null&&(_e.lanes|=v),Pu(U.return,v,u),he.lanes|=v;break}_e=_e.next}}else if(U.tag===10)Y=U.type===u.type?null:U.child;else if(U.tag===18){if(Y=U.return,Y===null)throw Error(t(341));Y.lanes|=v,he=Y.alternate,he!==null&&(he.lanes|=v),Pu(Y,v,u),Y=U.sibling}else Y=U.child;if(Y!==null)Y.return=U;else for(Y=U;Y!==null;){if(Y===u){Y=null;break}if(U=Y.sibling,U!==null){U.return=Y.return,Y=U;break}Y=Y.return}U=Y}Rt(l,u,k.children,v),u=u.child}return u;case 9:return k=u.type,M=u.pendingProps.children,wo(u,v),k=sa(k),M=M(k),u.flags|=1,Rt(l,u,M,v),u.child;case 14:return M=u.type,k=Ia(M,u.pendingProps),k=Ia(M.type,k),ua(l,u,M,k,v);case 15:return De(l,u,u.type,u.pendingProps,v);case 17:return M=u.type,k=u.pendingProps,k=u.elementType===M?k:Ia(M,k),sv(l,u),u.tag=1,ci(M)?(l=!0,ul(u)):l=!1,wo(u,v),h(u,M,k),b(u,M,k,v),fn(null,u,M,!0,l,v);case 19:return OM(l,u,v);case 22:return Te(l,u,v)}throw Error(t(156,u.tag))};function nT(l,u){return be(l,u)}function DU(l,u,v,M){this.tag=l,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gs(l,u,v,M){return new DU(l,u,v,M)}function FS(l){return l=l.prototype,!(!l||!l.isReactComponent)}function LU(l){if(typeof l=="function")return FS(l)?1:0;if(l!=null){if(l=l.$$typeof,l===q)return 11;if(l===te)return 14}return 2}function kc(l,u){var v=l.alternate;return v===null?(v=gs(l.tag,u,l.key,l.mode),v.elementType=l.elementType,v.type=l.type,v.stateNode=l.stateNode,v.alternate=l,l.alternate=v):(v.pendingProps=u,v.type=l.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=l.flags&14680064,v.childLanes=l.childLanes,v.lanes=l.lanes,v.child=l.child,v.memoizedProps=l.memoizedProps,v.memoizedState=l.memoizedState,v.updateQueue=l.updateQueue,u=l.dependencies,v.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},v.sibling=l.sibling,v.index=l.index,v.ref=l.ref,v}function yv(l,u,v,M,k,U){var Y=2;if(M=l,typeof l=="function")FS(l)&&(Y=1);else if(typeof l=="string")Y=5;else e:switch(l){case P:return ju(v.children,k,U,u);case N:Y=8,k|=8;break;case D:return l=gs(12,v,u,k|2),l.elementType=D,l.lanes=U,l;case W:return l=gs(13,v,u,k),l.elementType=W,l.lanes=U,l;case ee:return l=gs(19,v,u,k),l.elementType=ee,l.lanes=U,l;case ue:return vv(v,k,U,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case I:Y=10;break e;case V:Y=9;break e;case q:Y=11;break e;case te:Y=14;break e;case re:Y=16,M=null;break e}throw Error(t(130,l==null?l:typeof l,""))}return u=gs(Y,v,u,k),u.elementType=l,u.type=M,u.lanes=U,u}function ju(l,u,v,M){return l=gs(7,l,M,u),l.lanes=v,l}function vv(l,u,v,M){return l=gs(22,l,M,u),l.elementType=ue,l.lanes=v,l.stateNode={isHidden:!1},l}function DS(l,u,v){return l=gs(6,l,null,u),l.lanes=v,l}function LS(l,u,v){return u=gs(4,l.children!==null?l.children:[],l.key,u),u.lanes=v,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function NU(l,u,v,M,k){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nc(0),this.expirationTimes=nc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nc(0),this.identifierPrefix=M,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function NS(l,u,v,M,k,U,Y,he,_e){return l=new NU(l,u,v,he,_e),u===1?(u=1,U===!0&&(u|=8)):u=0,U=gs(3,null,null,u),l.current=U,U.stateNode=l,U.memoizedState={element:M,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},mn(U),l}function UU(l,u,v){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:M==null?null:""+M,children:l,containerInfo:u,implementation:v}}function rT(l){if(!l)return Ls;l=l._reactInternals;e:{if(Dt(l)!==l||l.tag!==1)throw Error(t(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(ci(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(l.tag===1){var v=l.type;if(ci(v))return Eu(l,v,u)}return u}function iT(l,u,v,M,k,U,Y,he,_e){return l=NS(v,M,!0,l,k,U,Y,he,_e),l.context=rT(null),v=l.current,M=da(),k=Ic(v),U=Xn(M,k),U.callback=u??null,cr(v,U,k),l.current.lanes=k,iu(l,k,M),ka(l,M),l}function _v(l,u,v,M){var k=u.current,U=da(),Y=Ic(k);return v=rT(v),u.context===null?u.context=v:u.pendingContext=v,u=Xn(U,Y),u.payload={element:l},M=M===void 0?null:M,M!==null&&(u.callback=M),l=cr(k,u,Y),l!==null&&(Ys(l,k,Y,U),ui(l,k,Y)),Y}function xv(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function aT(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var v=l.retryLane;l.retryLane=v!==0&&v<u?v:u}}function US(l,u){aT(l,u),(l=l.alternate)&&aT(l,u)}function BU(){return null}var sT=typeof reportError=="function"?reportError:function(l){console.error(l)};function BS(l){this._internalRoot=l}Sv.prototype.render=BS.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(t(409));_v(l,u,null,null)},Sv.prototype.unmount=BS.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;zu(function(){_v(null,l,null,null)}),u[aa]=null}};function Sv(l){this._internalRoot=l}Sv.prototype.unstable_scheduleHydration=function(l){if(l){var u=Jd();l={blockedOn:null,target:l,priority:u};for(var v=0;v<po.length&&u!==0&&u<po[v].priority;v++);po.splice(v,0,l),v===0&&tf(l)}};function zS(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Ev(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function oT(){}function zU(l,u,v,M,k){if(k){if(typeof M=="function"){var U=M;M=function(){var Ne=xv(Y);U.call(Ne)}}var Y=iT(u,M,l,0,null,!1,!1,"",oT);return l._reactRootContainer=Y,l[aa]=Y.current,yc(l.nodeType===8?l.parentNode:l),zu(),Y}for(;k=l.lastChild;)l.removeChild(k);if(typeof M=="function"){var he=M;M=function(){var Ne=xv(_e);he.call(Ne)}}var _e=NS(l,0,!1,null,null,!1,!1,"",oT);return l._reactRootContainer=_e,l[aa]=_e.current,yc(l.nodeType===8?l.parentNode:l),zu(function(){_v(u,_e,v,M)}),_e}function wv(l,u,v,M,k){var U=v._reactRootContainer;if(U){var Y=U;if(typeof k=="function"){var he=k;k=function(){var _e=xv(Y);he.call(_e)}}_v(u,Y,l,k)}else Y=zU(v,u,l,k,M);return xv(Y)}au=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var v=$n(u.pendingLanes);v!==0&&(rc(u,v|1),ka(u,nt()),!(Un&6)&&(Xf=nt()+500,ds()))}break;case 13:zu(function(){var M=Xa(l,1);if(M!==null){var k=da();Ys(M,l,1,k)}}),US(l,1)}},Sp=function(l){if(l.tag===13){var u=Xa(l,134217728);if(u!==null){var v=da();Ys(u,l,134217728,v)}US(l,134217728)}},ky=function(l){if(l.tag===13){var u=Ic(l),v=Xa(l,u);if(v!==null){var M=da();Ys(v,l,u,M)}US(l,u)}},Jd=function(){return Fn},Zd=function(l,u){var v=Fn;try{return Fn=l,u()}finally{Fn=v}},He=function(l,u,v){switch(u){case"input":if(xt(l,v),u=v.name,v.type==="radio"&&u!=null){for(v=l;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<v.length;u++){var M=v[u];if(M!==l&&M.form===l.form){var k=If(M);if(!k)throw Error(t(90));Z(M),xt(M,k)}}}break;case"textarea":Ye(l,v);break;case"select":u=v.value,u!=null&&K(l,!!v.multiple,u,!1)}},Me=IS,Re=zu;var VU={usingClientEntryPoint:!1,Events:[Ds,Er,If,Xt,ge,IS]},pm={findFiberByHostInstance:So,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HU={bundleType:pm.bundleType,version:pm.version,rendererPackageName:pm.rendererPackageName,rendererConfig:pm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Ae(l),l===null?null:l.stateNode},findFiberByHostInstance:pm.findFiberByHostInstance||BU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cv.isDisabled&&Cv.supportsFiber)try{ar=Cv.inject(HU),Lt=Cv}catch{}}return Fa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VU,Fa.createPortal=function(l,u){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zS(u))throw Error(t(200));return UU(l,u,null,v)},Fa.createRoot=function(l,u){if(!zS(l))throw Error(t(299));var v=!1,M="",k=sT;return u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(M=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),u=NS(l,1,!1,null,null,v,!1,M,k),l[aa]=u.current,yc(l.nodeType===8?l.parentNode:l),new BS(u)},Fa.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(t(188)):(l=Object.keys(l).join(","),Error(t(268,l)));return l=Ae(u),l=l===null?null:l.stateNode,l},Fa.flushSync=function(l){return zu(l)},Fa.hydrate=function(l,u,v){if(!Ev(u))throw Error(t(200));return wv(null,l,u,!0,v)},Fa.hydrateRoot=function(l,u,v){if(!zS(l))throw Error(t(405));var M=v!=null&&v.hydratedSources||null,k=!1,U="",Y=sT;if(v!=null&&(v.unstable_strictMode===!0&&(k=!0),v.identifierPrefix!==void 0&&(U=v.identifierPrefix),v.onRecoverableError!==void 0&&(Y=v.onRecoverableError)),u=iT(u,null,l,1,v??null,k,!1,U,Y),l[aa]=u.current,yc(l),M)for(l=0;l<M.length;l++)v=M[l],k=v._getVersion,k=k(v._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[v,k]:u.mutableSourceEagerHydrationData.push(v,k);return new Sv(u)},Fa.render=function(l,u,v){if(!Ev(u))throw Error(t(200));return wv(null,l,u,!1,v)},Fa.unmountComponentAtNode=function(l){if(!Ev(l))throw Error(t(40));return l._reactRootContainer?(zu(function(){wv(null,null,l,!1,function(){l._reactRootContainer=null,l[aa]=null})}),!0):!1},Fa.unstable_batchedUpdates=IS,Fa.unstable_renderSubtreeIntoContainer=function(l,u,v,M){if(!Ev(v))throw Error(t(200));if(l==null||l._reactInternals===void 0)throw Error(t(38));return wv(l,u,v,!1,M)},Fa.version="18.3.1-next-f1338f8080-20240426",Fa}function iI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iI)}catch(r){console.error(r)}}iI(),rI.exports=QU();var aI=rI.exports;const fd=en(aI),sI=Wt({__proto__:null,default:fd},[aI]),KU=jt(sI);var oI,hT=KU;oI=hT.createRoot,hT.hydrateRoot;var lI={exports:{}},$S={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT;function JU(){if(pT)return $S;pT=1;var r=ta;function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var t=typeof Object.is=="function"?Object.is:e,n=r.useSyncExternalStore,i=r.useRef,a=r.useEffect,s=r.useMemo,o=r.useDebugValue;return $S.useSyncExternalStoreWithSelector=function(c,d,f,m,g){var y=i(null);if(y.current===null){var x={hasValue:!1,value:null};y.current=x}else x=y.current;y=s(function(){function _(O){if(!E){if(E=!0,w=O,O=m(O),g!==void 0&&x.hasValue){var R=x.value;if(g(R,O))return C=R}return C=O}if(R=C,t(w,O))return R;var P=m(O);return g!==void 0&&g(R,P)?R:(w=O,C=P)}var E=!1,w,C,T=f===void 0?null:f;return[function(){return _(d())},T===null?void 0:function(){return _(T())}]},[d,f,m,g]);var S=n(c,y[0],y[1]);return a(function(){x.hasValue=!0,x.value=S},[S]),o(S),S},$S}lI.exports=JU();var ZU=lI.exports,Ln="default"in Yh?_i:Yh,mT=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function eB(){if(!Ln.createContext)return{};const r=gT[mT]??(gT[mT]=new Map);let e=r.get(Ln.createContext);return e||(e=Ln.createContext(null),r.set(Ln.createContext,e)),e}var Vo=eB(),cI=()=>{throw new Error("uSES not initialized!")};function Xw(r=Vo){return function(){return Ln.useContext(r)}}var uI=Xw(),dI=cI,tB=r=>{dI=r},nB=(r,e)=>r===e;function fI(r=Vo){const e=r===Vo?uI:Xw(r),t=(n,i={})=>{const{equalityFn:a=nB,devModeChecks:s={}}=typeof i=="function"?{equalityFn:i}:i,{store:o,subscription:c,getServerState:d,stabilityCheck:f,identityFunctionCheck:m}=e();Ln.useRef(!0);const g=Ln.useCallback({[n.name](x){return n(x)}}[n.name],[n,f,s.stabilityCheck]),y=dI(c.addNestedSub,o.getState,d||o.getState,g,a);return Ln.useDebugValue(y),y};return Object.assign(t,{withTypes:()=>t}),t}var hI=fI(),rB=Symbol.for("react.element"),iB=Symbol.for("react.portal"),aB=Symbol.for("react.fragment"),sB=Symbol.for("react.strict_mode"),oB=Symbol.for("react.profiler"),lB=Symbol.for("react.provider"),cB=Symbol.for("react.context"),uB=Symbol.for("react.server_context"),pI=Symbol.for("react.forward_ref"),dB=Symbol.for("react.suspense"),fB=Symbol.for("react.suspense_list"),Yw=Symbol.for("react.memo"),hB=Symbol.for("react.lazy"),pB=pI,mB=Yw;function gB(r){if(typeof r=="object"&&r!==null){const e=r.$$typeof;switch(e){case rB:{const t=r.type;switch(t){case aB:case oB:case sB:case dB:case fB:return t;default:{const n=t&&t.$$typeof;switch(n){case uB:case cB:case pI:case hB:case Yw:case lB:return n;default:return e}}}}case iB:return e}}}function yB(r){return gB(r)===Yw}function vB(r,e,t,n,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:s}){let o=!1,c,d,f,m,g;function y(w,C){return c=w,d=C,f=r(c,d),m=e(n,d),g=t(f,m,d),o=!0,g}function x(){return f=r(c,d),e.dependsOnOwnProps&&(m=e(n,d)),g=t(f,m,d),g}function S(){return r.dependsOnOwnProps&&(f=r(c,d)),e.dependsOnOwnProps&&(m=e(n,d)),g=t(f,m,d),g}function _(){const w=r(c,d),C=!s(w,f);return f=w,C&&(g=t(f,m,d)),g}function E(w,C){const T=!a(C,d),O=!i(w,c,C,d);return c=w,d=C,T&&O?x():T?S():O?_():g}return function(C,T){return o?E(C,T):y(C,T)}}function _B(r,{initMapStateToProps:e,initMapDispatchToProps:t,initMergeProps:n,...i}){const a=e(r,i),s=t(r,i),o=n(r,i);return vB(a,s,o,r,i)}function xB(r,e){const t={};for(const n in r){const i=r[n];typeof i=="function"&&(t[n]=(...a)=>e(i(...a)))}return t}function bE(r){return function(t){const n=r(t);function i(){return n}return i.dependsOnOwnProps=!1,i}}function yT(r){return r.dependsOnOwnProps?!!r.dependsOnOwnProps:r.length!==1}function mI(r,e){return function(n,{displayName:i}){const a=function(o,c){return a.dependsOnOwnProps?a.mapToProps(o,c):a.mapToProps(o,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(o,c){a.mapToProps=r,a.dependsOnOwnProps=yT(r);let d=a(o,c);return typeof d=="function"&&(a.mapToProps=d,a.dependsOnOwnProps=yT(d),d=a(o,c)),d},a}}function Qw(r,e){return(t,n)=>{throw new Error(`Invalid value of type ${typeof r} for ${e} argument when connecting component ${n.wrappedComponentName}.`)}}function SB(r){return r&&typeof r=="object"?bE(e=>xB(r,e)):r?typeof r=="function"?mI(r):Qw(r,"mapDispatchToProps"):bE(e=>({dispatch:e}))}function EB(r){return r?typeof r=="function"?mI(r):Qw(r,"mapStateToProps"):bE(()=>({}))}function wB(r,e,t){return{...t,...r,...e}}function CB(r){return function(t,{displayName:n,areMergedPropsEqual:i}){let a=!1,s;return function(c,d,f){const m=r(c,d,f);return a?i(m,s)||(s=m):(a=!0,s=m),s}}}function bB(r){return r?typeof r=="function"?CB(r):Qw(r,"mergeProps"):()=>wB}function gI(r){r()}function MB(){let r=null,e=null;return{clear(){r=null,e=null},notify(){gI(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=r;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let n=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:r=i,function(){!n||r===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:r=i.next)}}}}var vT={notify(){},get:()=>[]};function yI(r,e){let t,n=vT,i=0,a=!1;function s(S){f();const _=n.subscribe(S);let E=!1;return()=>{E||(E=!0,_(),m())}}function o(){n.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return a}function f(){i++,t||(t=e?e.addNestedSub(c):r.subscribe(c),n=MB())}function m(){i--,t&&i===0&&(t(),t=void 0,n.clear(),n=vT)}function g(){a||(a=!0,f())}function y(){a&&(a=!1,m())}const x={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:d,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>n};return x}var TB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AB=typeof navigator<"u"&&navigator.product==="ReactNative",t_=TB||AB?Ln.useLayoutEffect:Ln.useEffect;function _T(r,e){return r===e?r!==0||e!==0||1/r===1/e:r!==r&&e!==e}function Nl(r,e){if(_T(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;const t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!_T(r[t[i]],e[t[i]]))return!1;return!0}var PB={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},RB={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},IB={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},vI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},OB={[pB]:IB,[mB]:vI};function xT(r){return yB(r)?vI:OB[r.$$typeof]||PB}var kB=Object.defineProperty,FB=Object.getOwnPropertyNames,ST=Object.getOwnPropertySymbols,DB=Object.getOwnPropertyDescriptor,LB=Object.getPrototypeOf,ET=Object.prototype;function ME(r,e){if(typeof e!="string"){if(ET){const a=LB(e);a&&a!==ET&&ME(r,a)}let t=FB(e);ST&&(t=t.concat(ST(e)));const n=xT(r),i=xT(e);for(let a=0;a<t.length;++a){const s=t[a];if(!RB[s]&&!(i&&i[s])&&!(n&&n[s])){const o=DB(e,s);try{kB(r,s,o)}catch{}}}}return r}var _I=cI,NB=r=>{_I=r},UB=[null,null];function BB(r,e,t){t_(()=>r(...e),t)}function zB(r,e,t,n,i,a){r.current=n,t.current=!1,i.current&&(i.current=null,a())}function VB(r,e,t,n,i,a,s,o,c,d,f){if(!r)return()=>{};let m=!1,g=null;const y=()=>{if(m||!o.current)return;const S=e.getState();let _,E;try{_=n(S,i.current)}catch(w){E=w,g=w}E||(g=null),_===a.current?s.current||d():(a.current=_,c.current=_,s.current=!0,f())};return t.onStateChange=y,t.trySubscribe(),y(),()=>{if(m=!0,t.tryUnsubscribe(),t.onStateChange=null,g)throw g}}function HB(r,e){return r===e}function jB(r,e,t,{pure:n,areStatesEqual:i=HB,areOwnPropsEqual:a=Nl,areStatePropsEqual:s=Nl,areMergedPropsEqual:o=Nl,forwardRef:c=!1,context:d=Vo}={}){const f=d,m=EB(r),g=SB(e),y=bB(t),x=!!r;return _=>{const E=_.displayName||_.name||"Component",w=`Connect(${E})`,C={shouldHandleStateChanges:x,displayName:w,wrappedComponentName:E,WrappedComponent:_,initMapStateToProps:m,initMapDispatchToProps:g,initMergeProps:y,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:a,areMergedPropsEqual:o};function T(P){const[N,D,I]=Ln.useMemo(()=>{const{reactReduxForwardedRef:Z,...Be}=P;return[P.context,Z,Be]},[P]),V=Ln.useMemo(()=>{let Z=f;return N!=null&&N.Consumer,Z},[N,f]),q=Ln.useContext(V),W=!!P.store&&!!P.store.getState&&!!P.store.dispatch,ee=!!q&&!!q.store,te=W?P.store:q.store,re=ee?q.getServerState:te.getState,ue=Ln.useMemo(()=>_B(te.dispatch,C),[te]),[G,le]=Ln.useMemo(()=>{if(!x)return UB;const Z=yI(te,W?void 0:q.subscription),Be=Z.notifyNestedSubs.bind(Z);return[Z,Be]},[te,W,q]),oe=Ln.useMemo(()=>W?q:{...q,subscription:G},[W,q,G]),X=Ln.useRef(void 0),ne=Ln.useRef(I),we=Ln.useRef(void 0),me=Ln.useRef(!1),ye=Ln.useRef(!1),Pe=Ln.useRef(void 0);t_(()=>(ye.current=!0,()=>{ye.current=!1}),[]);const Le=Ln.useMemo(()=>()=>we.current&&I===ne.current?we.current:ue(te.getState(),I),[te,I]),Je=Ln.useMemo(()=>Be=>G?VB(x,te,G,ue,ne,X,me,ye,we,le,Be):()=>{},[G]);BB(zB,[ne,X,me,I,we,le]);let ot;try{ot=_I(Je,Le,re?()=>ue(re(),I):Le)}catch(Z){throw Pe.current&&(Z.message+=`
The error may be correlated with this previous error:
${Pe.current.stack}

`),Z}t_(()=>{Pe.current=void 0,we.current=void 0,X.current=ot});const ft=Ln.useMemo(()=>Ln.createElement(_,{...ot,ref:D}),[D,_,ot]);return Ln.useMemo(()=>x?Ln.createElement(V.Provider,{value:oe},ft):ft,[V,ft,oe])}const R=Ln.memo(T);if(R.WrappedComponent=_,R.displayName=T.displayName=w,c){const N=Ln.forwardRef(function(I,V){return Ln.createElement(R,{...I,reactReduxForwardedRef:V})});return N.displayName=w,N.WrappedComponent=_,ME(N,_)}return ME(R,_)}}var $B=jB;function WB({store:r,context:e,children:t,serverState:n,stabilityCheck:i="once",identityFunctionCheck:a="once"}){const s=Ln.useMemo(()=>{const d=yI(r);return{store:r,subscription:d,getServerState:n?()=>n:void 0,stabilityCheck:i,identityFunctionCheck:a}},[r,n,i,a]),o=Ln.useMemo(()=>r.getState(),[r]);t_(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==r.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,o]);const c=e||Vo;return Ln.createElement(c.Provider,{value:s},t)}var xI=WB;function Kw(r=Vo){const e=r===Vo?uI:Xw(r),t=()=>{const{store:n}=e();return n};return Object.assign(t,{withTypes:()=>t}),t}var Jw=Kw();function SI(r=Vo){const e=r===Vo?Jw:Kw(r),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var EI=SI(),wI=gI;tB(ZU.useSyncExternalStoreWithSelector);NB(z.useSyncExternalStore);const GB=Object.freeze(Object.defineProperty({__proto__:null,Provider:xI,ReactReduxContext:Vo,batch:wI,connect:$B,createDispatchHook:SI,createSelectorHook:fI,createStoreHook:Kw,shallowEqual:Nl,useDispatch:EI,useSelector:hI,useStore:Jw},Symbol.toStringTag,{value:"Module"}));var CI={},Zw={},bI={exports:{}},Yn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function qB(){if(wT)return Yn;wT=1;var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,n=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,a=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,o=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,x=r?Symbol.for("react.lazy"):60116,S=r?Symbol.for("react.block"):60121,_=r?Symbol.for("react.fundamental"):60117,E=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function C(O){if(typeof O=="object"&&O!==null){var R=O.$$typeof;switch(R){case e:switch(O=O.type,O){case c:case d:case n:case a:case i:case m:return O;default:switch(O=O&&O.$$typeof,O){case o:case f:case x:case y:case s:return O;default:return R}}case t:return R}}}function T(O){return C(O)===d}return Yn.AsyncMode=c,Yn.ConcurrentMode=d,Yn.ContextConsumer=o,Yn.ContextProvider=s,Yn.Element=e,Yn.ForwardRef=f,Yn.Fragment=n,Yn.Lazy=x,Yn.Memo=y,Yn.Portal=t,Yn.Profiler=a,Yn.StrictMode=i,Yn.Suspense=m,Yn.isAsyncMode=function(O){return T(O)||C(O)===c},Yn.isConcurrentMode=T,Yn.isContextConsumer=function(O){return C(O)===o},Yn.isContextProvider=function(O){return C(O)===s},Yn.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},Yn.isForwardRef=function(O){return C(O)===f},Yn.isFragment=function(O){return C(O)===n},Yn.isLazy=function(O){return C(O)===x},Yn.isMemo=function(O){return C(O)===y},Yn.isPortal=function(O){return C(O)===t},Yn.isProfiler=function(O){return C(O)===a},Yn.isStrictMode=function(O){return C(O)===i},Yn.isSuspense=function(O){return C(O)===m},Yn.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===n||O===d||O===a||O===i||O===m||O===g||typeof O=="object"&&O!==null&&(O.$$typeof===x||O.$$typeof===y||O.$$typeof===s||O.$$typeof===o||O.$$typeof===f||O.$$typeof===_||O.$$typeof===E||O.$$typeof===w||O.$$typeof===S)},Yn.typeOf=C,Yn}bI.exports=qB();var MI=bI.exports;const XB=en(MI),YB=Wt({__proto__:null,default:XB},[MI]),QB=jt(YB);var eC=QB,KB={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},JB={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ZB={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},TI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},tC={};tC[eC.ForwardRef]=ZB;tC[eC.Memo]=TI;function CT(r){return eC.isMemo(r)?TI:tC[r.$$typeof]||KB}var e4=Object.defineProperty,t4=Object.getOwnPropertyNames,bT=Object.getOwnPropertySymbols,n4=Object.getOwnPropertyDescriptor,r4=Object.getPrototypeOf,MT=Object.prototype;function AI(r,e,t){if(typeof e!="string"){if(MT){var n=r4(e);n&&n!==MT&&AI(r,n,t)}var i=t4(e);bT&&(i=i.concat(bT(e)));for(var a=CT(r),s=CT(e),o=0;o<i.length;++o){var c=i[o];if(!JB[c]&&!(t&&t[c])&&!(s&&s[c])&&!(a&&a[c])){var d=n4(e,c);try{e4(r,c,d)}catch{}}}}return r}var PI=AI;const i4=en(PI),a4=Wt({__proto__:null,default:i4},[PI]),s4=jt(a4),zd=jt(GB);var nC={},pr={};Object.defineProperty(pr,"__esModule",{value:!0});var RI=pr.UPDATE_ENTITIES=zI=pr.RESET=kI=pr.REQUEST_SUCCESS=OI=pr.REQUEST_START=FI=pr.REQUEST_FAILURE=II=pr.REQUEST_ASYNC=UI=pr.MUTATE_SUCCESS=NI=pr.MUTATE_START=BI=pr.MUTATE_FAILURE=LI=pr.MUTATE_ASYNC=DI=pr.CANCEL_QUERY=void 0,o4="@@query/REQUEST_ASYNC",II=pr.REQUEST_ASYNC=o4,l4="@@query/REQUEST_START",OI=pr.REQUEST_START=l4,c4="@@query/REQUEST_SUCCESS",kI=pr.REQUEST_SUCCESS=c4,u4="@@query/REQUEST_FAILURE",FI=pr.REQUEST_FAILURE=u4,d4="@@query/CANCEL_QUERY",DI=pr.CANCEL_QUERY=d4,f4="@@query/MUTATE_ASYNC",LI=pr.MUTATE_ASYNC=f4,h4="@@query/MUTATE_START",NI=pr.MUTATE_START=h4,p4="@@query/MUTATE_SUCCESS",UI=pr.MUTATE_SUCCESS=p4,m4="@@query/MUTATE_FAILURE",BI=pr.MUTATE_FAILURE=m4,g4="@@query/RESET",zI=pr.RESET=g4,y4="@@query/UPDATE_ENTITIES";RI=pr.UPDATE_ENTITIES=y4;const v4=Wt({__proto__:null,get CANCEL_QUERY(){return DI},get MUTATE_ASYNC(){return LI},get MUTATE_FAILURE(){return BI},get MUTATE_START(){return NI},get MUTATE_SUCCESS(){return UI},get REQUEST_ASYNC(){return II},get REQUEST_FAILURE(){return FI},get REQUEST_START(){return OI},get REQUEST_SUCCESS(){return kI},get RESET(){return zI},get UPDATE_ENTITIES(){return RI},default:pr},[pr]),cp=jt(v4);var rC={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e={DELETE:"DELETE",GET:"GET",HEAD:"HEAD",POST:"POST",PUT:"PUT",PATCH:"PATCH"},t=e;r.default=t})(rC);const _4=en(rC),x4=Wt({__proto__:null,default:_4},[rC]),VI=jt(x4);var Ul={},ug={},bv={},WS,TT;function S4(){if(TT)return WS;TT=1;var r,e,t={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},n;function i(y){throw{name:"SyntaxError",message:y,at:r,text:n}}function a(y){return y&&y!==e&&i("Expected '"+y+"' instead of '"+e+"'"),e=n.charAt(r),r+=1,e}function s(){var y,x="";for(e==="-"&&(x="-",a("-"));e>="0"&&e<="9";)x+=e,a();if(e===".")for(x+=".";a()&&e>="0"&&e<="9";)x+=e;if(e==="e"||e==="E")for(x+=e,a(),(e==="-"||e==="+")&&(x+=e,a());e>="0"&&e<="9";)x+=e,a();return y=Number(x),isFinite(y)||i("Bad number"),y}function o(){var y,x,S="",_;if(e==='"')for(;a();){if(e==='"')return a(),S;if(e==="\\")if(a(),e==="u"){for(_=0,x=0;x<4&&(y=parseInt(a(),16),!!isFinite(y));x+=1)_=_*16+y;S+=String.fromCharCode(_)}else if(typeof t[e]=="string")S+=t[e];else break;else S+=e}i("Bad string")}function c(){for(;e&&e<=" ";)a()}function d(){switch(e){case"t":return a("t"),a("r"),a("u"),a("e"),!0;case"f":return a("f"),a("a"),a("l"),a("s"),a("e"),!1;case"n":return a("n"),a("u"),a("l"),a("l"),null;default:i("Unexpected '"+e+"'")}}function f(){var y=[];if(e==="["){if(a("["),c(),e==="]")return a("]"),y;for(;e;){if(y.push(g()),c(),e==="]")return a("]"),y;a(","),c()}}i("Bad array")}function m(){var y,x={};if(e==="{"){if(a("{"),c(),e==="}")return a("}"),x;for(;e;){if(y=o(),c(),a(":"),Object.prototype.hasOwnProperty.call(x,y)&&i('Duplicate key "'+y+'"'),x[y]=g(),c(),e==="}")return a("}"),x;a(","),c()}}i("Bad object")}function g(){switch(c(),e){case"{":return m();case"[":return f();case'"':return o();case"-":return s();default:return e>="0"&&e<="9"?s():d()}}return WS=function(y,x){var S;return n=y,r=0,e=" ",S=g(),c(),e&&i("Syntax error"),typeof x=="function"?function _(E,w){var C,T,O=E[w];if(O&&typeof O=="object")for(C in g)Object.prototype.hasOwnProperty.call(O,C)&&(T=_(O,C),typeof T>"u"?delete O[C]:O[C]=T);return x.call(E,w,O)}({"":S},""):S},WS}var GS,AT;function E4(){if(AT)return GS;AT=1;var r=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,t,n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i;function a(o){return r.lastIndex=0,r.test(o)?'"'+o.replace(r,function(c){var d=n[c];return typeof d=="string"?d:"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+o+'"'}function s(o,c){var d,f,m,g,y=e,x,S=c[o];switch(S&&typeof S=="object"&&typeof S.toJSON=="function"&&(S=S.toJSON(o)),typeof i=="function"&&(S=i.call(c,o,S)),typeof S){case"string":return a(S);case"number":return isFinite(S)?String(S):"null";case"boolean":case"null":return String(S);case"object":if(!S)return"null";if(e+=t,x=[],Object.prototype.toString.apply(S)==="[object Array]"){for(g=S.length,d=0;d<g;d+=1)x[d]=s(d,S)||"null";return m=x.length===0?"[]":e?`[
`+e+x.join(`,
`+e)+`
`+y+"]":"["+x.join(",")+"]",e=y,m}if(i&&typeof i=="object")for(g=i.length,d=0;d<g;d+=1)f=i[d],typeof f=="string"&&(m=s(f,S),m&&x.push(a(f)+(e?": ":":")+m));else for(f in S)Object.prototype.hasOwnProperty.call(S,f)&&(m=s(f,S),m&&x.push(a(f)+(e?": ":":")+m));return m=x.length===0?"{}":e?`{
`+e+x.join(`,
`+e)+`
`+y+"}":"{"+x.join(",")+"}",e=y,m}}return GS=function(o,c,d){var f;if(e="",t="",typeof d=="number")for(f=0;f<d;f+=1)t+=" ";else typeof d=="string"&&(t=d);if(i=c,c&&typeof c!="function"&&(typeof c!="object"||typeof c.length!="number"))throw new Error("JSON.stringify");return s("",{"":o})},GS}var PT;function w4(){return PT||(PT=1,bv.parse=S4(),bv.stringify=E4()),bv}var C4={}.toString,HI=Array.isArray||function(r){return C4.call(r)=="[object Array]"};const b4=en(HI),M4=Wt({__proto__:null,default:b4},[HI]),T4=jt(M4);var RT=Object.prototype.toString,jI=function(e){var t=RT.call(e),n=t==="[object Arguments]";return n||(n=t!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&RT.call(e.callee)==="[object Function]"),n};const A4=en(jI),P4=Wt({__proto__:null,default:A4},[jI]),$I=jt(P4);var qS,IT;function R4(){if(IT)return qS;IT=1;var r;if(!Object.keys){var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=$I,i=Object.prototype.propertyIsEnumerable,a=!i.call({toString:null},"toString"),s=i.call(function(){},"prototype"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(g){var y=g.constructor;return y&&y.prototype===g},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if(typeof window>"u")return!1;for(var g in window)try{if(!d["$"+g]&&e.call(window,g)&&window[g]!==null&&typeof window[g]=="object")try{c(window[g])}catch{return!0}}catch{return!0}return!1}(),m=function(g){if(typeof window>"u"||!f)return c(g);try{return c(g)}catch{return!1}};r=function(y){var x=y!==null&&typeof y=="object",S=t.call(y)==="[object Function]",_=n(y),E=x&&t.call(y)==="[object String]",w=[];if(!x&&!S&&!_)throw new TypeError("Object.keys called on a non-object");var C=s&&S;if(E&&y.length>0&&!e.call(y,0))for(var T=0;T<y.length;++T)w.push(String(T));if(_&&y.length>0)for(var O=0;O<y.length;++O)w.push(String(O));else for(var R in y)!(C&&R==="prototype")&&e.call(y,R)&&w.push(String(R));if(a)for(var P=m(y),N=0;N<o.length;++N)!(P&&o[N]==="constructor")&&e.call(y,o[N])&&w.push(o[N]);return w}}return qS=r,qS}var I4=Array.prototype.slice,O4=$I,OT=Object.keys,L0=OT?function(e){return OT(e)}:R4(),kT=Object.keys;L0.shim=function(){if(Object.keys){var e=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);e||(Object.keys=function(n){return O4(n)?kT(I4.call(n)):kT(n)})}else Object.keys=L0;return Object.keys||L0};var WI=L0;const k4=en(WI),F4=Wt({__proto__:null,default:k4},[WI]),D4=jt(F4);var GI={exports:{}},L4="Function.prototype.bind called on incompatible ",N4=Object.prototype.toString,U4=Math.max,B4="[object Function]",FT=function(e,t){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var a=0;a<t.length;a+=1)n[a+e.length]=t[a];return n},z4=function(e,t){for(var n=[],i=t,a=0;i<e.length;i+=1,a+=1)n[a]=e[i];return n},V4=function(r,e){for(var t="",n=0;n<r.length;n+=1)t+=r[n],n+1<r.length&&(t+=e);return t},qI=function(e){var t=this;if(typeof t!="function"||N4.apply(t)!==B4)throw new TypeError(L4+t);for(var n=z4(arguments,1),i,a=function(){if(this instanceof i){var f=t.apply(this,FT(n,arguments));return Object(f)===f?f:this}return t.apply(e,FT(n,arguments))},s=U4(0,t.length-n.length),o=[],c=0;c<s;c++)o[c]="$"+c;if(i=Function("binder","return function ("+V4(o,",")+"){ return binder.apply(this,arguments); }")(a),t.prototype){var d=function(){};d.prototype=t.prototype,i.prototype=new d,d.prototype=null}return i};const H4=en(qI),j4=Wt({__proto__:null,default:H4},[qI]),$4=jt(j4);var W4=$4,XI=Function.prototype.bind||W4;const G4=en(XI),q4=Wt({__proto__:null,default:G4},[XI]),iC=jt(q4);var YI=Error;const X4=en(YI),Y4=Wt({__proto__:null,default:X4},[YI]),Q4=jt(Y4);var QI=EvalError;const K4=en(QI),J4=Wt({__proto__:null,default:K4},[QI]),Z4=jt(J4);var KI=RangeError;const ez=en(KI),tz=Wt({__proto__:null,default:ez},[KI]),nz=jt(tz);var JI=ReferenceError;const rz=en(JI),iz=Wt({__proto__:null,default:rz},[JI]),az=jt(iz);var ZI=SyntaxError;const sz=en(ZI),oz=Wt({__proto__:null,default:sz},[ZI]),eO=jt(oz);var tO=TypeError;const lz=en(tO),cz=Wt({__proto__:null,default:lz},[tO]),ax=jt(cz);var nO=URIError;const uz=en(nO),dz=Wt({__proto__:null,default:uz},[nO]),fz=jt(dz);var rO=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,t);if(s.value!==i||s.enumerable!==!0)return!1}return!0};const hz=en(rO),pz=Wt({__proto__:null,default:hz},[rO]),mz=jt(pz);var DT=typeof Symbol<"u"&&Symbol,gz=mz,iO=function(){return typeof DT!="function"||typeof Symbol!="function"||typeof DT("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:gz()};const yz=en(iO),vz=Wt({__proto__:null,default:yz},[iO]),_z=jt(vz);var XS={__proto__:null,foo:{}},xz=Object,aO=function(){return{__proto__:XS}.foo===XS.foo&&!(XS instanceof xz)};const Sz=en(aO),Ez=Wt({__proto__:null,default:Sz},[aO]),wz=jt(Ez);var Cz=Function.prototype.call,bz=Object.prototype.hasOwnProperty,Mz=iC,sO=Mz.call(Cz,bz);const Tz=en(sO),Az=Wt({__proto__:null,default:Tz},[sO]),Pz=jt(Az);var In,Rz=Q4,Iz=Z4,Oz=nz,kz=az,Qh=eO,Hh=ax,Fz=fz,oO=Function,YS=function(r){try{return oO('"use strict"; return ('+r+").constructor;")()}catch{}},xd=Object.getOwnPropertyDescriptor;if(xd)try{xd({},"")}catch{xd=null}var QS=function(){throw new Hh},Dz=xd?function(){try{return arguments.callee,QS}catch{try{return xd(arguments,"callee").get}catch{return QS}}}():QS,Qf=_z(),Lz=wz(),yi=Object.getPrototypeOf||(Lz?function(r){return r.__proto__}:null),Ph={},Nz=typeof Uint8Array>"u"||!yi?In:yi(Uint8Array),Sd={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?In:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?In:ArrayBuffer,"%ArrayIteratorPrototype%":Qf&&yi?yi([][Symbol.iterator]()):In,"%AsyncFromSyncIteratorPrototype%":In,"%AsyncFunction%":Ph,"%AsyncGenerator%":Ph,"%AsyncGeneratorFunction%":Ph,"%AsyncIteratorPrototype%":Ph,"%Atomics%":typeof Atomics>"u"?In:Atomics,"%BigInt%":typeof BigInt>"u"?In:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?In:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?In:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?In:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Rz,"%eval%":eval,"%EvalError%":Iz,"%Float32Array%":typeof Float32Array>"u"?In:Float32Array,"%Float64Array%":typeof Float64Array>"u"?In:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?In:FinalizationRegistry,"%Function%":oO,"%GeneratorFunction%":Ph,"%Int8Array%":typeof Int8Array>"u"?In:Int8Array,"%Int16Array%":typeof Int16Array>"u"?In:Int16Array,"%Int32Array%":typeof Int32Array>"u"?In:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Qf&&yi?yi(yi([][Symbol.iterator]())):In,"%JSON%":typeof JSON=="object"?JSON:In,"%Map%":typeof Map>"u"?In:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Qf||!yi?In:yi(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?In:Promise,"%Proxy%":typeof Proxy>"u"?In:Proxy,"%RangeError%":Oz,"%ReferenceError%":kz,"%Reflect%":typeof Reflect>"u"?In:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?In:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Qf||!yi?In:yi(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?In:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Qf&&yi?yi(""[Symbol.iterator]()):In,"%Symbol%":Qf?Symbol:In,"%SyntaxError%":Qh,"%ThrowTypeError%":Dz,"%TypedArray%":Nz,"%TypeError%":Hh,"%Uint8Array%":typeof Uint8Array>"u"?In:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?In:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?In:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?In:Uint32Array,"%URIError%":Fz,"%WeakMap%":typeof WeakMap>"u"?In:WeakMap,"%WeakRef%":typeof WeakRef>"u"?In:WeakRef,"%WeakSet%":typeof WeakSet>"u"?In:WeakSet};if(yi)try{null.error}catch(r){var Uz=yi(yi(r));Sd["%Error.prototype%"]=Uz}var Bz=function r(e){var t;if(e==="%AsyncFunction%")t=YS("async function () {}");else if(e==="%GeneratorFunction%")t=YS("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=YS("async function* () {}");else if(e==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=r("%AsyncGenerator%");i&&yi&&(t=yi(i.prototype))}return Sd[e]=t,t},LT={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},iy=iC,n_=Pz,zz=iy.call(Function.call,Array.prototype.concat),Vz=iy.call(Function.apply,Array.prototype.splice),NT=iy.call(Function.call,String.prototype.replace),r_=iy.call(Function.call,String.prototype.slice),Hz=iy.call(Function.call,RegExp.prototype.exec),jz=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,$z=/\\(\\)?/g,Wz=function(e){var t=r_(e,0,1),n=r_(e,-1);if(t==="%"&&n!=="%")throw new Qh("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new Qh("invalid intrinsic syntax, expected opening `%`");var i=[];return NT(e,jz,function(a,s,o,c){i[i.length]=o?NT(c,$z,"$1"):s||a}),i},Gz=function(e,t){var n=e,i;if(n_(LT,n)&&(i=LT[n],n="%"+i[0]+"%"),n_(Sd,n)){var a=Sd[n];if(a===Ph&&(a=Bz(n)),typeof a>"u"&&!t)throw new Hh("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new Qh("intrinsic "+e+" does not exist!")},lO=function(e,t){if(typeof e!="string"||e.length===0)throw new Hh("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Hh('"allowMissing" argument must be a boolean');if(Hz(/^%?[^%]*%?$/,e)===null)throw new Qh("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Wz(e),i=n.length>0?n[0]:"",a=Gz("%"+i+"%",t),s=a.name,o=a.value,c=!1,d=a.alias;d&&(i=d[0],Vz(n,zz([0,1],d)));for(var f=1,m=!0;f<n.length;f+=1){var g=n[f],y=r_(g,0,1),x=r_(g,-1);if((y==='"'||y==="'"||y==="`"||x==='"'||x==="'"||x==="`")&&y!==x)throw new Qh("property names with quotes must have matching quotes");if((g==="constructor"||!m)&&(c=!0),i+="."+g,s="%"+i+"%",n_(Sd,s))o=Sd[s];else if(o!=null){if(!(g in o)){if(!t)throw new Hh("base intrinsic for "+e+" exists, but the property is not available.");return}if(xd&&f+1>=n.length){var S=xd(o,g);m=!!S,m&&"get"in S&&!("originalValue"in S.get)?o=S.get:o=o[g]}else m=n_(o,g),o=o[g];m&&!c&&(Sd[s]=o)}}return o};const qz=en(lO),Xz=Wt({__proto__:null,default:qz},[lO]),ay=jt(Xz);var KS,UT;function aC(){if(UT)return KS;UT=1;var r=ay,e=r("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return KS=e,KS}var Yz=ay,N0=Yz("%Object.getOwnPropertyDescriptor%",!0);if(N0)try{N0([],"length")}catch{N0=null}var cO=N0;const Qz=en(cO),Kz=Wt({__proto__:null,default:Qz},[cO]),uO=jt(Kz);var BT=aC(),Jz=eO,Kf=ax,zT=uO,dO=function(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Kf("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new Kf("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Kf("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Kf("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Kf("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Kf("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,o=arguments.length>6?arguments[6]:!1,c=!!zT&&zT(e,t);if(BT)BT(e,t,{configurable:s===null&&c?c.configurable:!s,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:a===null&&c?c.writable:!a});else if(o||!i&&!a&&!s)e[t]=n;else throw new Jz("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")};const Zz=en(dO),eV=Wt({__proto__:null,default:Zz},[dO]),tV=jt(eV);var TE=aC(),fO=function(){return!!TE};fO.hasArrayLengthDefineBug=function(){if(!TE)return null;try{return TE([],"length",{value:1}).length!==1}catch{return!0}};var hO=fO;const nV=en(hO),rV=Wt({__proto__:null,default:nV},[hO]),iV=jt(rV);var aV=ay,VT=tV,sV=iV(),HT=uO,jT=ax,oV=aV("%Math.floor%"),pO=function(e,t){if(typeof e!="function")throw new jT("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||oV(t)!==t)throw new jT("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&HT){var s=HT(e,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(a=!1)}return(i||a||!n)&&(sV?VT(e,"length",t,!0,!0):VT(e,"length",t)),e};const lV=en(pO),cV=Wt({__proto__:null,default:lV},[pO]),uV=jt(cV);(function(r){var e=iC,t=ay,n=uV,i=ax,a=t("%Function.prototype.apply%"),s=t("%Function.prototype.call%"),o=t("%Reflect.apply%",!0)||e.call(s,a),c=aC(),d=t("%Math.max%");r.exports=function(g){if(typeof g!="function")throw new i("a function is required");var y=o(e,s,arguments);return n(y,1+d(0,g.length-(arguments.length-1)),!0)};var f=function(){return o(e,a,arguments)};c?c(r.exports,"apply",{value:f}):r.exports.apply=f})(GI);var mO=GI.exports;const dV=en(mO),fV=Wt({__proto__:null,default:dV},[mO]),gO=jt(fV);var yO=ay,vO=gO,hV=vO(yO("String.prototype.indexOf")),_O=function(e,t){var n=yO(e,!!t);return typeof n=="function"&&hV(e,".prototype.")>-1?vO(n):n};const pV=en(_O),mV=Wt({__proto__:null,default:pV},[_O]),gV=jt(mV);var Mv=(typeof JSON<"u"?JSON:w4()).stringify,yV=T4,vV=D4,_V=gO,xO=gV,$T=xO("Array.prototype.join"),JS=xO("Array.prototype.push"),WT=function(e,t){for(var n="",i=0;i<e;i+=1)n+=t;return n},xV=function(r,e,t){return t},SO=function(e){var t=arguments.length>1?arguments[1]:void 0,n=t&&t.space||"";typeof n=="number"&&(n=WT(n," "));var i=!!t&&typeof t.cycles=="boolean"&&t.cycles,a=t&&t.replacer?_V(t.replacer):xV,s=typeof t=="function"?t:t&&t.cmp,o=s&&function(d){var f=s.length>2&&function(g){return d[g]};return function(m,g){return s({key:m,value:d[m]},{key:g,value:d[g]},f?{__proto__:null,get:f}:void 0)}},c=[];return function d(f,m,g,y){var x=n?`
`+WT(y,n):"",S=n?": ":":";if(g&&g.toJSON&&typeof g.toJSON=="function"&&(g=g.toJSON()),g=a(f,m,g),g!==void 0){if(typeof g!="object"||g===null)return Mv(g);if(yV(g)){for(var C=[],_=0;_<g.length;_++){var E=d(g,_,g[_],y+1)||Mv(null);JS(C,x+n+E)}return"["+$T(C,",")+x+"]"}if(c.indexOf(g)!==-1){if(i)return Mv("__cycle__");throw new TypeError("Converting circular structure to JSON")}else JS(c,g);for(var w=vV(g).sort(o&&o(g)),C=[],_=0;_<w.length;_++){var m=w[_],T=d(g,m,g[m],y+1);if(T){var O=Mv(m)+S+T;JS(C,x+n+O)}}return c.splice(c.indexOf(g),1),"{"+$T(C,",")+x+"}"}}({"":e},"",e,0)};const SV=en(SO),EV=Wt({__proto__:null,default:SV},[SO]),wV=jt(EV);Object.defineProperty(ug,"__esModule",{value:!0});var EO=ug.getQueryKey=void 0,CV=bV(wV);function bV(r){return r&&r.__esModule?r:{default:r}}var MV=function(e){if(!e)return null;var t=e.url,n=e.body,i=e.queryKey;return i??(0,CV.default)({url:t,body:n})};EO=ug.getQueryKey=MV;const TV=Wt({__proto__:null,default:ug,get getQueryKey(){return EO}},[ug]),sx=jt(TV);Object.defineProperty(Ul,"__esModule",{value:!0});var wO=Ul.responseText=bO=Ul.responseHeaders=CO=Ul.responseBody=void 0,sC=sx,AV=function(e,t){var n,i=(0,sC.getQueryKey)(t);return i?e==null||(n=e[i])===null||n===void 0?void 0:n.responseBody:null},CO=Ul.responseBody=AV,PV=function(e,t){var n,i=(0,sC.getQueryKey)(t);return i?e==null||(n=e[i])===null||n===void 0?void 0:n.responseText:null};wO=Ul.responseText=PV;var RV=function(e,t){var n,i=(0,sC.getQueryKey)(t);return i?e==null||(n=e[i])===null||n===void 0?void 0:n.responseHeaders:null},bO=Ul.responseHeaders=RV;const IV=Wt({__proto__:null,default:Ul,get responseBody(){return CO},get responseHeaders(){return bO},get responseText(){return wO}},[Ul]),OV=jt(IV);var Ii={},i_="NOT_FOUND";function kV(r){var e;return{get:function(n){return e&&r(e.key,n)?e.value:i_},put:function(n,i){e={key:n,value:i}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function FV(r,e){var t=[];function n(o){var c=t.findIndex(function(f){return e(o,f.key)});if(c>-1){var d=t[c];return c>0&&(t.splice(c,1),t.unshift(d)),d.value}return i_}function i(o,c){n(o)===i_&&(t.unshift({key:o,value:c}),t.length>r&&t.pop())}function a(){return t}function s(){t=[]}return{get:n,put:i,getEntries:a,clear:s}}var MO=function(e,t){return e===t};function DV(r){return function(t,n){if(t===null||n===null||t.length!==n.length)return!1;for(var i=t.length,a=0;a<i;a++)if(!r(t[a],n[a]))return!1;return!0}}function TO(r,e){var t=typeof e=="object"?e:{equalityCheck:e},n=t.equalityCheck,i=n===void 0?MO:n,a=t.maxSize,s=a===void 0?1:a,o=t.resultEqualityCheck,c=DV(i),d=s===1?kV(c):FV(s,c);function f(){var m=d.get(arguments);if(m===i_){if(m=r.apply(null,arguments),o){var g=d.getEntries(),y=g.find(function(x){return o(x.value,m)});y&&(m=y.value)}d.put(arguments,m)}return m}return f.clearCache=function(){return d.clear()},f}function LV(r){var e=Array.isArray(r[0])?r[0]:r;if(!e.every(function(n){return typeof n=="function"})){var t=e.map(function(n){return typeof n=="function"?"function "+(n.name||"unnamed")+"()":typeof n}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return e}function AO(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var i=function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var d=0,f,m={memoizeOptions:void 0},g=o.pop();if(typeof g=="object"&&(m=g,g=o.pop()),typeof g!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof g+"]");var y=m,x=y.memoizeOptions,S=x===void 0?t:x,_=Array.isArray(S)?S:[S],E=LV(o),w=r.apply(void 0,[function(){return d++,g.apply(null,arguments)}].concat(_)),C=r(function(){for(var O=[],R=E.length,P=0;P<R;P++)O.push(E[P].apply(null,arguments));return f=w.apply(null,O),f});return Object.assign(C,{resultFunc:g,memoizedResultFunc:w,dependencies:E,lastResult:function(){return f},recomputations:function(){return d},resetRecomputations:function(){return d=0}}),C};return i}var PO=AO(TO),NV=function(e,t){if(t===void 0&&(t=PO),typeof e!="object")throw new Error("createStructuredSelector expects first argument to be an object "+("where each property is a selector, instead received a "+typeof e));var n=Object.keys(e),i=t(n.map(function(a){return e[a]}),function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return s.reduce(function(c,d,f){return c[n[f]]=d,c},{})});return i};const UV=Object.freeze(Object.defineProperty({__proto__:null,createSelector:PO,createSelectorCreator:AO,createStructuredSelector:NV,defaultEqualityCheck:MO,defaultMemoize:TO},Symbol.toStringTag,{value:"Module"})),BV=jt(UV);Object.defineProperty(Ii,"__esModule",{value:!0});var RO=Ii.status=LO=Ii.queryCount=DO=Ii.lastUpdated=kO=Ii.isPending=OO=Ii.isFinished=FO=Ii.headers=IO=Ii.getQueryDetails=void 0,zV=sx,up=BV,GT={isFinished:!1,isPending:!1,headers:null,queryCount:0},Vd=function(e,t){var n,i=(0,zV.getQueryKey)(t);return i&&(n=e==null?void 0:e[i])!==null&&n!==void 0?n:GT},IO=Ii.getQueryDetails=Vd,VV=(0,up.createSelector)(Vd,function(r){return r.isFinished}),OO=Ii.isFinished=VV,HV=(0,up.createSelector)(Vd,function(r){return r.isPending}),kO=Ii.isPending=HV,jV=(0,up.createSelector)(Vd,function(r){return r.status});RO=Ii.status=jV;var $V=(0,up.createSelector)(Vd,function(r){return r.headers}),FO=Ii.headers=$V,WV=(0,up.createSelector)(Vd,function(r){return r.lastUpdated}),DO=Ii.lastUpdated=WV,GV=(0,up.createSelector)(Vd,function(r){return r.queryCount}),LO=Ii.queryCount=GV;const qV=Wt({__proto__:null,default:Ii,get getQueryDetails(){return IO},get headers(){return FO},get isFinished(){return OO},get isPending(){return kO},get lastUpdated(){return DO},get queryCount(){return LO},get status(){return RO}},[Ii]),XV=jt(qV);var oC={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=n(cp);function t(y){if(typeof WeakMap!="function")return null;var x=new WeakMap,S=new WeakMap;return(t=function(E){return E?S:x})(y)}function n(y,x){if(y&&y.__esModule)return y;if(y===null||i(y)!=="object"&&typeof y!="function")return{default:y};var S=t(x);if(S&&S.has(y))return S.get(y);var _={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in y)if(w!=="default"&&Object.prototype.hasOwnProperty.call(y,w)){var C=E?Object.getOwnPropertyDescriptor(y,w):null;C&&(C.get||C.set)?Object.defineProperty(_,w,C):_[w]=y[w]}return _.default=y,S&&S.set(y,_),_}function i(y){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},i(y)}function a(y,x){var S=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);x&&(_=_.filter(function(E){return Object.getOwnPropertyDescriptor(y,E).enumerable})),S.push.apply(S,_)}return S}function s(y){for(var x=1;x<arguments.length;x++){var S=arguments[x]!=null?arguments[x]:{};x%2?a(Object(S),!0).forEach(function(_){o(y,_,S[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(S)):a(Object(S)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(S,_))})}return y}function o(y,x,S){return x=c(x),x in y?Object.defineProperty(y,x,{value:S,enumerable:!0,configurable:!0,writable:!0}):y[x]=S,y}function c(y){var x=d(y,"string");return i(x)==="symbol"?x:String(x)}function d(y,x){if(i(y)!=="object"||y===null)return y;var S=y[Symbol.toPrimitive];if(S!==void 0){var _=S.call(y,x||"default");if(i(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(y)}var f={},m=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,S=arguments.length>1?arguments[1]:void 0;switch(S.type){case e.RESET:return{};case e.MUTATE_START:case e.REQUEST_START:{var _=S.queryKey;return s(s({},x),{},o({},_,{isFinished:!1,isPending:!0,isMutation:S.type===e.MUTATE_START,queryCount:x[_]?x[_].queryCount+1:1}))}case e.REQUEST_SUCCESS:case e.MUTATE_FAILURE:case e.MUTATE_SUCCESS:case e.REQUEST_FAILURE:{var E=S.queryKey;return s(s({},x),{},o({},E,s(s({},x[E]),{},{isFinished:!0,isPending:!1,lastUpdated:S.time,status:S.status,headers:S.responseHeaders})))}case e.CANCEL_QUERY:{var w=S.queryKey;return w&&x[w].isPending?s(s({},x),{},o({},w,s(s({},x[w]),{},{isFinished:!0,isPending:!1,status:0}))):x}default:return x}},g=m;r.default=g})(oC);const YV=en(oC),QV=Wt({__proto__:null,default:YV},[oC]),KV=jt(QV);var lC={},Bl={};Object.defineProperty(Bl,"__esModule",{value:!0});var NO=Bl.updateEntities=BO=Bl.rollbackEntities=UO=Bl.optimisticUpdateEntities=void 0,JV=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(e).reduce(function(i,a){return i[a]=e[a](t[a],n[a]),i},{})};NO=Bl.updateEntities=JV;var ZV=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,i){return n[i]=e[i](t[i]),n},{})},UO=Bl.optimisticUpdateEntities=ZV,e5=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(t).reduce(function(i,a){return e[a]?i[a]=e[a](t[a],n[a]):i[a]=t[a],i},{})},BO=Bl.rollbackEntities=e5;const t5=Wt({__proto__:null,default:Bl,get optimisticUpdateEntities(){return UO},get rollbackEntities(){return BO},get updateEntities(){return NO}},[Bl]),zO=jt(t5);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=cp,t=zO;function n(g){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},n(g)}function i(g,y){var x=Object.keys(g);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(g);y&&(S=S.filter(function(_){return Object.getOwnPropertyDescriptor(g,_).enumerable})),x.push.apply(x,S)}return x}function a(g){for(var y=1;y<arguments.length;y++){var x=arguments[y]!=null?arguments[y]:{};y%2?i(Object(x),!0).forEach(function(S){s(g,S,x[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(x)):i(Object(x)).forEach(function(S){Object.defineProperty(g,S,Object.getOwnPropertyDescriptor(x,S))})}return g}function s(g,y,x){return y=o(y),y in g?Object.defineProperty(g,y,{value:x,enumerable:!0,configurable:!0,writable:!0}):g[y]=x,g}function o(g){var y=c(g,"string");return n(y)==="symbol"?y:String(y)}function c(g,y){if(n(g)!=="object"||g===null)return g;var x=g[Symbol.toPrimitive];if(x!==void 0){var S=x.call(g,y||"default");if(n(S)!=="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(g)}var d={},f=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,x=arguments.length>1?arguments[1]:void 0;return x.type===e.RESET?"entities"in x?x.entities:d:x.type===e.MUTATE_START&&x.optimisticEntities?a(a({},y),x.optimisticEntities):x.type===e.MUTATE_FAILURE&&x.rolledBackEntities?a(a({},y),x.rolledBackEntities):x.type===e.REQUEST_SUCCESS||x.type===e.MUTATE_SUCCESS?a(a({},y),x.entities):x.type===e.UPDATE_ENTITIES?a(a({},y),(0,t.optimisticUpdateEntities)(x.update,y)):y},m=f;r.default=m})(lC);const n5=en(lC),r5=Wt({__proto__:null,default:n5},[lC]),i5=jt(r5);var cC={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=n(cp);function t(y){if(typeof WeakMap!="function")return null;var x=new WeakMap,S=new WeakMap;return(t=function(E){return E?S:x})(y)}function n(y,x){if(y&&y.__esModule)return y;if(y===null||i(y)!=="object"&&typeof y!="function")return{default:y};var S=t(x);if(S&&S.has(y))return S.get(y);var _={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in y)if(w!=="default"&&Object.prototype.hasOwnProperty.call(y,w)){var C=E?Object.getOwnPropertyDescriptor(y,w):null;C&&(C.get||C.set)?Object.defineProperty(_,w,C):_[w]=y[w]}return _.default=y,S&&S.set(y,_),_}function i(y){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},i(y)}function a(y,x){var S=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);x&&(_=_.filter(function(E){return Object.getOwnPropertyDescriptor(y,E).enumerable})),S.push.apply(S,_)}return S}function s(y){for(var x=1;x<arguments.length;x++){var S=arguments[x]!=null?arguments[x]:{};x%2?a(Object(S),!0).forEach(function(_){o(y,_,S[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(S)):a(Object(S)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(S,_))})}return y}function o(y,x,S){return x=c(x),x in y?Object.defineProperty(y,x,{value:S,enumerable:!0,configurable:!0,writable:!0}):y[x]=S,y}function c(y){var x=d(y,"string");return i(x)==="symbol"?x:String(x)}function d(y,x){if(i(y)!=="object"||y===null)return y;var S=y[Symbol.toPrimitive];if(S!==void 0){var _=S.call(y,x||"default");if(i(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(y)}var f={},m=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,S=arguments.length>1?arguments[1]:void 0;switch(S.type){case e.RESET:return{};case e.MUTATE_START:case e.REQUEST_START:{var _=S.queryKey,E=s({},x);return delete E[_],E}case e.MUTATE_FAILURE:case e.REQUEST_FAILURE:{var w=S.queryKey;return s(s({},x),{},o({},w,s(s({},x[w]),{},{responseBody:S.responseBody,responseText:S.responseText,responseHeaders:S.responseHeaders})))}default:return x}},g=m;r.default=g})(cC);const a5=en(cC),s5=Wt({__proto__:null,default:a5},[cC]),o5=jt(s5);var uC={},VO=dC;function dC(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}dC.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*r);r=Math.floor(e*10)&1?r+t:r-t}return Math.min(r,this.max)|0};dC.prototype.reset=function(){this.attempts=0};const l5=en(VO),c5=Wt({__proto__:null,default:l5},[VO]),u5=jt(c5);var mr={};function AE(r){"@babel/helpers - typeof";return AE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AE(r)}Object.defineProperty(mr,"__esModule",{value:!0});var HO=mr.updateEntities=ZO=mr.reset=WO=mr.requestSuccess=$O=mr.requestStart=GO=mr.requestFailure=QO=mr.requestAsync=XO=mr.mutateSuccess=qO=mr.mutateStart=YO=mr.mutateFailure=KO=mr.mutateAsync=JO=mr.cancelQuery=void 0,co=d5(cp);function jO(r){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(jO=function(i){return i?t:e})(r)}function d5(r,e){if(r&&r.__esModule)return r;if(r===null||AE(r)!=="object"&&typeof r!="function")return{default:r};var t=jO(e);if(t&&t.has(r))return t.get(r);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in r)if(a!=="default"&&Object.prototype.hasOwnProperty.call(r,a)){var s=i?Object.getOwnPropertyDescriptor(r,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=r[a]}return n.default=r,t&&t.set(r,n),n}var f5=function(e){var t=e.body,n=e.meta,i=e.queryKey,a=e.url;return{type:co.REQUEST_START,url:a,body:t,meta:n,queryKey:i}},$O=mr.requestStart=f5,h5=function(e){var t=e.body,n=e.duration,i=e.entities,a=e.meta,s=e.queryKey,o=e.responseBody,c=e.responseHeaders,d=e.responseText,f=e.status,m=e.url;return{type:co.REQUEST_SUCCESS,url:m,body:t,duration:n,status:f,entities:i,responseBody:o,responseText:d,responseHeaders:c,meta:a,queryKey:s,time:Date.now()}},WO=mr.requestSuccess=h5,p5=function(e){var t=e.body,n=e.duration,i=e.meta,a=e.queryKey,s=e.responseBody,o=e.responseHeaders,c=e.responseText,d=e.status,f=e.url;return{type:co.REQUEST_FAILURE,url:f,body:t,duration:n,status:d,responseBody:s,responseText:c,responseHeaders:o,meta:i,queryKey:a,time:Date.now()}},GO=mr.requestFailure=p5,m5=function(e){var t=e.body,n=e.meta,i=e.optimisticEntities,a=e.queryKey,s=e.url;return{type:co.MUTATE_START,url:s,body:t,optimisticEntities:i,queryKey:a,meta:n}},qO=mr.mutateStart=m5,g5=function(e){var t=e.body,n=e.duration,i=e.entities,a=e.meta,s=e.queryKey,o=e.responseBody,c=e.responseHeaders,d=e.responseText,f=e.status,m=e.url;return{type:co.MUTATE_SUCCESS,url:m,body:t,duration:n,status:f,responseBody:o,responseText:d,responseHeaders:c,entities:i,queryKey:s,time:Date.now(),meta:a}},XO=mr.mutateSuccess=g5,y5=function(e){var t=e.body,n=e.duration,i=e.meta,a=e.queryKey,s=e.responseBody,o=e.responseHeaders,c=e.responseText,d=e.rolledBackEntities,f=e.status,m=e.url;return{type:co.MUTATE_FAILURE,url:m,body:t,duration:n,status:f,responseBody:s,responseText:c,responseHeaders:o,rolledBackEntities:d,queryKey:a,time:Date.now(),meta:i}},YO=mr.mutateFailure=y5,v5=function(e){var t=e.body,n=e.force,i=e.meta,a=e.options,s=e.queryKey,o=e.retry,c=e.transform,d=e.update,f=e.url,m=e.unstable_preDispatchCallback,g=e.customQueryMiddlewareConfig;return{type:co.REQUEST_ASYNC,body:t,force:n,queryKey:s,meta:i,options:a,retry:o,transform:c,update:d,url:f,unstable_preDispatchCallback:m,customQueryMiddlewareConfig:g}},QO=mr.requestAsync=v5,_5=function(e){var t=e.body,n=e.meta,i=e.optimisticUpdate,a=e.options,s=e.queryKey,o=e.rollback,c=e.transform,d=e.update,f=e.url,m=e.customQueryMiddlewareConfig;return{type:co.MUTATE_ASYNC,body:t,meta:n,optimisticUpdate:i,options:a,queryKey:s,rollback:o,transform:c,update:d,url:f,customQueryMiddlewareConfig:m}},KO=mr.mutateAsync=_5,x5=function(e){return{type:co.CANCEL_QUERY,queryKey:e}},JO=mr.cancelQuery=x5,S5=function(e){return{type:co.UPDATE_ENTITIES,update:e}};HO=mr.updateEntities=S5;var E5=function(e){var t=e.entities;return{type:co.RESET,entities:t}},ZO=mr.reset=E5;const w5=Wt({__proto__:null,get cancelQuery(){return JO},default:mr,get mutateAsync(){return KO},get mutateFailure(){return YO},get mutateStart(){return qO},get mutateSuccess(){return XO},get requestAsync(){return QO},get requestFailure(){return GO},get requestStart(){return $O},get requestSuccess(){return WO},get reset(){return ZO},get updateEntities(){return HO}},[mr]),ek=jt(w5);var ts={};Object.defineProperty(ts,"__esModule",{value:!0});var tk=ts.UNKNOWN=rk=ts.TOO_MANY_REQUESTS=ik=ts.SERVICE_UNAVAILABLE=nk=ts.REQUEST_TIMEOUT=ak=ts.GATEWAY_TIMEOUT=void 0,C5=0;tk=ts.UNKNOWN=C5;var b5=408,nk=ts.REQUEST_TIMEOUT=b5,M5=429,rk=ts.TOO_MANY_REQUESTS=M5,T5=503,ik=ts.SERVICE_UNAVAILABLE=T5,A5=504,ak=ts.GATEWAY_TIMEOUT=A5;const P5=Wt({__proto__:null,get GATEWAY_TIMEOUT(){return ak},get REQUEST_TIMEOUT(){return nk},get SERVICE_UNAVAILABLE(){return ik},get TOO_MANY_REQUESTS(){return rk},get UNKNOWN(){return tk},default:ts},[ts]),R5=jt(P5);var dg={};Object.defineProperty(dg,"__esModule",{value:!0});var sk=dg.pick=void 0;function fg(r){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(r)}function I5(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=O5(r))||e){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){t=t.call(r)},n:function(){var d=t.next();return a=d.done,d},e:function(d){s=!0,o=d},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(s)throw o}}}}function O5(r,e){if(r){if(typeof r=="string")return qT(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return qT(r,e)}}function qT(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function XT(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function k5(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(t),!0).forEach(function(n){F5(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):XT(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function F5(r,e,t){return e=D5(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function D5(r){var e=L5(r,"string");return fg(e)==="symbol"?e:String(e)}function L5(r,e){if(fg(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(fg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var N5=function(e,t){var n=k5({},e),i=new Set(t),a=Object.keys(e).filter(function(d){return!i.has(d)}),s=I5(a),o;try{for(s.s();!(o=s.n()).done;){var c=o.value;n.hasOwnProperty(c)&&delete n[c]}}catch(d){s.e(d)}finally{s.f()}return n};sk=dg.pick=N5;const U5=Wt({__proto__:null,default:dg,get pick(){return sk}},[dg]),B5=jt(U5);var hg={},a_={};Object.defineProperty(a_,"__esModule",{value:!0});var z5=a_.getCookie=V5;function V5(r){if(!(!document||!document.cookie)){var e="; ".concat(document.cookie),t=e.split("; ".concat(r,"="));if(t.length===2)return t.pop().split(";").shift()}}const H5=Wt({__proto__:null,default:a_,getCookie:z5},[a_]),j5=jt(H5);Object.defineProperty(hg,"__esModule",{value:!0});var ok=hg.RequestsForTestData=void 0,$5=j5;function pg(r){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(r)}function W5(r,e,t){return Object.defineProperty(r,"prototype",{writable:!1}),r}function G5(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ym(r,e,t){return e=q5(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function q5(r){var e=X5(r,"string");return pg(e)==="symbol"?e:String(e)}function X5(r,e){if(pg(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(pg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var YT=function(){return{rest:{},gql:{}}},Y5="redux_query_store_requests_for_test_data",Q5=W5(function r(){var e=this;G5(this,r),ym(this,"requests",YT()),ym(this,"getShouldStoreRequests",function(){return(0,$5.getCookie)(Y5)==="true"}),ym(this,"getRequests",function(){return e.requests}),ym(this,"clearRequests",function(){e.requests=YT()}),ym(this,"addRequest",function(t,n,i,a){if(e.getShouldStoreRequests()){var s=null,o=t;if(n&&n.hasOwnProperty("query")){var c=n.query,d=c.indexOf("(")!==-1?c.indexOf("("):c.indexOf(" {");s=c.slice(6,d),e.requests.gql[s]={response:a}}else o=t.indexOf("?")!==-1?t.slice(0,t.indexOf("?")):t,e.requests.rest[o]={method:i,body:n,response:a}}}),this.getShouldStoreRequests()&&(window.getRequestsForTestData=this.getRequests,window.clearRequestsForTestData=this.clearRequests)});ok=hg.RequestsForTestData=Q5;const K5=Wt({__proto__:null,get RequestsForTestData(){return ok},default:hg},[hg]),J5=jt(K5);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=g(u5),t=ek,n=m(cp),i=g(VI),a=m(R5),s=B5,o=sx,c=zO,d=J5;function f(D){if(typeof WeakMap!="function")return null;var I=new WeakMap,V=new WeakMap;return(f=function(W){return W?V:I})(D)}function m(D,I){if(D&&D.__esModule)return D;if(D===null||y(D)!=="object"&&typeof D!="function")return{default:D};var V=f(I);if(V&&V.has(D))return V.get(D);var q={},W=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ee in D)if(ee!=="default"&&Object.prototype.hasOwnProperty.call(D,ee)){var te=W?Object.getOwnPropertyDescriptor(D,ee):null;te&&(te.get||te.set)?Object.defineProperty(q,ee,te):q[ee]=D[ee]}return q.default=D,V&&V.set(D,q),q}function g(D){return D&&D.__esModule?D:{default:D}}function y(D){"@babel/helpers - typeof";return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},y(D)}function x(D,I){var V=Object.keys(D);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(D);I&&(q=q.filter(function(W){return Object.getOwnPropertyDescriptor(D,W).enumerable})),V.push.apply(V,q)}return V}function S(D){for(var I=1;I<arguments.length;I++){var V=arguments[I]!=null?arguments[I]:{};I%2?x(Object(V),!0).forEach(function(q){_(D,q,V[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(V)):x(Object(V)).forEach(function(q){Object.defineProperty(D,q,Object.getOwnPropertyDescriptor(V,q))})}return D}function _(D,I,V){return I=E(I),I in D?Object.defineProperty(D,I,{value:V,enumerable:!0,configurable:!0,writable:!0}):D[I]=V,D}function E(D){var I=w(D,"string");return y(I)==="symbol"?I:String(I)}function w(D,I){if(y(D)!=="object"||D===null)return D;var V=D[Symbol.toPrimitive];if(V!==void 0){var q=V.call(D,I||"default");if(y(q)!=="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(D)}var C={backoff:{maxAttempts:5,minDuration:300,maxDuration:5e3},retryableStatusCodes:[a.UNKNOWN,a.REQUEST_TIMEOUT,a.TOO_MANY_REQUESTS,a.SERVICE_UNAVAILABLE,a.GATEWAY_TIMEOUT]},T=function(I){var V={};for(var q in I)if(I.hasOwnProperty(q)){var W=I[q];W.isPending&&(V[q]=W)}return V},O=function(I){return I!=null&&I>=200&&I<300},R=function(I){return I||{}},P=function(I,V,q,W){var ee={},te=function(G){var le=ee[G];le&&(le.abort(),delete ee[G])},re=new d.RequestsForTestData;return function(ue){var G=ue.dispatch,le=ue.getState;return function(oe){return function(X){var ne,we=X.customQueryMiddlewareConfig||{},me=S(S(S({},C),W),we);switch(X.type){case n.REQUEST_ASYNC:{var ye=X.url,Pe=X.body,Le=X.force,Je=X.retry,ot=X.transform,ft=ot===void 0?R:ot,wt=X.update,Z=X.options,Be=Z===void 0?{}:Z,Ge=X.meta;if(!ye)throw new Error("Missing required url field for request");var qe=(0,o.getQueryKey)({body:X.body,queryKey:X.queryKey,url:X.url});if(!qe)throw new Error("Failed to generate queryKey for request");var Ue=le(),xt=V(Ue),st=xt[qe],yt=st==null?void 0:st.isPending,se=st==null?void 0:st.status,K=O(se);(Le||!st||Je&&!yt&&!K)&&(ne=new Promise(function(Xt){var ge=new Date,Me=Be.method,Re=Me===void 0?i.default.GET:Me,Ze=0,ut=new e.default({min:me.backoff.minDuration,max:me.backoff.maxDuration}),Vt=function Ct(){var pt=I(ye,Re,{body:Pe,headers:Be.headers,credentials:Be.credentials});ee[qe]=pt,G((0,t.requestStart)({body:Pe,meta:Ge,queryKey:qe,url:ye})),Ze+=1,pt.execute(function(Jt,Pt,hn,gn,Ot){if(re.addRequest(ye,Pe,Re,hn),me.retryableStatusCodes.includes(Pt)&&Ze<me.backoff.maxAttempts){setTimeout(Ct,ut.duration());return}var Cn=new Date,Pn=Cn-ge,dn,Dt;if(X.unstable_preDispatchCallback&&X.unstable_preDispatchCallback(),Jt||!O(Pt))G((0,t.requestFailure)({body:Pe,duration:Pn,meta:Ge,queryKey:qe,responseBody:hn,responseHeaders:Ot,status:Pt,responseText:gn,url:ye})),Xt({body:hn,duration:Pn,status:Pt,text:gn,headers:Ot});else{var pn=le(),J=q(pn);dn=ft(hn,gn),Dt=(0,c.updateEntities)(wt,J,dn),G((0,t.requestSuccess)({body:Pe,duration:Pn,meta:Ge,entities:Dt,queryKey:qe,responseBody:hn,responseHeaders:Ot,status:Pt,responseText:gn,url:ye})),Xt({body:hn,duration:Pn,status:Pt,text:gn,transformed:dn,entities:Dt,headers:Ot})}delete ee[qe]})};Vt()}));break}case n.MUTATE_ASYNC:{var Ce=X.url,Xe=X.transform,Ye=Xe===void 0?R:Xe,We=X.update,Et=X.rollback,$=X.body,F=X.optimisticUpdate,B=X.options,Q=B===void 0?{}:B,ie=X.meta;if(!Ce)throw new Error("Missing required url field for mutation");var pe=le(),ve=q(pe),Ve;F&&(Ve=(0,c.optimisticUpdateEntities)(F,ve));var de=(0,o.getQueryKey)({queryKey:X.queryKey,url:X.url,body:X.body});if(!de)throw new Error("Failed to generate queryKey for mutation");ne=new Promise(function(Xt){var ge=new Date,Me=Q.method,Re=Me===void 0?i.default.POST:Me,Ze=I(Ce,Re,{body:$,headers:Q.headers,credentials:Q.credentials});ee[de]=Ze,G((0,t.mutateStart)({body:$,meta:ie,optimisticEntities:Ve,queryKey:de,url:Ce})),Ze.execute(function(ut,Vt,Ct,pt,Jt){re.addRequest(Ce,$,Re,Ct);var Pt=new Date,hn=Pt-ge,gn=le(),Ot=q(gn),Cn,Pn;if(X.unstable_preDispatchCallback&&X.unstable_preDispatchCallback(),ut||!O(Vt)){var dn;F&&(dn=(0,c.rollbackEntities)(Et,(0,s.pick)(ve,Object.keys(Ve)),(0,s.pick)(Ot,Object.keys(Ve)))),G((0,t.mutateFailure)({body:$,duration:hn,meta:ie,queryKey:de,responseBody:Ct,responseHeaders:Jt,status:Vt,responseText:pt,rolledBackEntities:dn,url:Ce})),Xt({body:Ct,duration:hn,status:Vt,text:pt,headers:Jt})}else Cn=Ye(Ct,pt),Pn=(0,c.updateEntities)(We,Ot,Cn),G((0,t.mutateSuccess)({url:Ce,body:$,duration:hn,status:Vt,entities:Pn,queryKey:de,responseBody:Ct,responseText:pt,responseHeaders:Jt,meta:ie})),Xt({body:Ct,duration:hn,status:Vt,text:pt,transformed:Cn,entities:Pn,headers:Jt});delete ee[de]})});break}case n.CANCEL_QUERY:{var ke=X.queryKey;if(!ke)throw new Error("Missing required queryKey field");var tt=le(),fe=V(tt),Ke=T(fe);ke in Ke?(te(ke),ne=oe(X)):(console.warn("Trying to cancel a request that is not in flight: ",ke),ne=null);break}case n.RESET:{var He=le(),$e=V(He),lt=T($e);for(var Ut in lt)lt.hasOwnProperty(Ut)&&te(Ut);ne=oe(X);break}default:ne=oe(X)}return ne}}}},N=P;r.default=N})(uC);const Z5=en(uC),e8=Wt({__proto__:null,default:Z5},[uC]),t8=jt(e8);(function(r){function e(S){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},e(S)}Object.defineProperty(r,"__esModule",{value:!0}),r.actionTypes=void 0,Object.defineProperty(r,"cancelQuery",{enumerable:!0,get:function(){return m.cancelQuery}}),Object.defineProperty(r,"entitiesReducer",{enumerable:!0,get:function(){return c.default}}),r.errorSelectors=void 0,Object.defineProperty(r,"errorsReducer",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"getQueryKey",{enumerable:!0,get:function(){return s.getQueryKey}}),Object.defineProperty(r,"httpMethods",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"mutateAsync",{enumerable:!0,get:function(){return m.mutateAsync}}),Object.defineProperty(r,"queriesReducer",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"queryMiddleware",{enumerable:!0,get:function(){return f.default}}),r.querySelectors=void 0,Object.defineProperty(r,"requestAsync",{enumerable:!0,get:function(){return m.requestAsync}}),Object.defineProperty(r,"updateEntities",{enumerable:!0,get:function(){return m.updateEntities}});var t=x(cp);r.actionTypes=t;var n=g(VI),i=x(OV);r.errorSelectors=i;var a=x(XV);r.querySelectors=a;var s=sx,o=g(KV),c=g(i5),d=g(o5),f=g(t8),m=ek;function g(S){return S&&S.__esModule?S:{default:S}}function y(S){if(typeof WeakMap!="function")return null;var _=new WeakMap,E=new WeakMap;return(y=function(C){return C?E:_})(S)}function x(S,_){if(S&&S.__esModule)return S;if(S===null||e(S)!=="object"&&typeof S!="function")return{default:S};var E=y(_);if(E&&E.has(S))return E.get(S);var w={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in S)if(T!=="default"&&Object.prototype.hasOwnProperty.call(S,T)){var O=C?Object.getOwnPropertyDescriptor(S,T):null;O&&(O.get||O.set)?Object.defineProperty(w,T,O):w[T]=S[T]}return w.default=S,E&&E.set(S,w),w}})(nC);const n8=en(nC),r8=Wt({__proto__:null,default:n8},[nC]),Ql=jt(r8);var fC={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=t(ta);function t(a){return a&&a.__esModule?a:{default:a}}var n=function(s){var o=e.default.useRef(s);return o.current},i=n;r.default=i})(fC);const i8=en(fC),a8=Wt({__proto__:null,default:i8},[fC]),hC=jt(a8);var pC={};(function(r){function e(S){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},e(S)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=a(ta),n=Ql;function i(S){if(typeof WeakMap!="function")return null;var _=new WeakMap,E=new WeakMap;return(i=function(C){return C?E:_})(S)}function a(S,_){if(S&&S.__esModule)return S;if(S===null||e(S)!=="object"&&typeof S!="function")return{default:S};var E=i(_);if(E&&E.has(S))return E.get(S);var w={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in S)if(T!=="default"&&Object.prototype.hasOwnProperty.call(S,T)){var O=C?Object.getOwnPropertyDescriptor(S,T):null;O&&(O.get||O.set)?Object.defineProperty(w,T,O):w[T]=S[T]}return w.default=S,E&&E.set(S,w),w}function s(S,_){return m(S)||f(S,_)||c(S,_)||o()}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(S,_){if(S){if(typeof S=="string")return d(S,_);var E=Object.prototype.toString.call(S).slice(8,-1);if(E==="Object"&&S.constructor&&(E=S.constructor.name),E==="Map"||E==="Set")return Array.from(S);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return d(S,_)}}function d(S,_){(_==null||_>S.length)&&(_=S.length);for(var E=0,w=new Array(_);E<_;E++)w[E]=S[E];return w}function f(S,_){var E=S==null?null:typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(E!=null){var w,C,T,O,R=[],P=!0,N=!1;try{if(T=(E=E.call(S)).next,_!==0)for(;!(P=(w=T.call(E)).done)&&(R.push(w.value),R.length!==_);P=!0);}catch(D){N=!0,C=D}finally{try{if(!P&&E.return!=null&&(O=E.return(),Object(O)!==O))return}finally{if(N)throw C}}return R}}function m(S){if(Array.isArray(S))return S}var g=function(_){return _},y=function(_){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g,w=_?_.map(function(N){var D=(0,n.getQueryKey)(N);if(D)return E(N)}).filter(Boolean):[],C=t.useState(w),T=s(C,2),O=T[0],R=T[1],P=t.useRef(w.map(n.getQueryKey).filter(Boolean));return t.useEffect(function(){var N=w.map(n.getQueryKey).filter(Boolean);(N.length!==P.current.length||N.some(function(D,I){return P.current[I]!==D}))&&(P.current=N,R(w))},[w]),O},x=y;r.default=x})(pC);const s8=en(pC),o8=Wt({__proto__:null,default:s8},[pC]),lk=jt(o8);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=d(s4),t=c(ta),n=zd,i=Ql,a=d(hC),s=d(lk);function o(W){if(typeof WeakMap!="function")return null;var ee=new WeakMap,te=new WeakMap;return(o=function(ue){return ue?te:ee})(W)}function c(W,ee){if(W&&W.__esModule)return W;if(W===null||f(W)!=="object"&&typeof W!="function")return{default:W};var te=o(ee);if(te&&te.has(W))return te.get(W);var re={},ue=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var G in W)if(G!=="default"&&Object.prototype.hasOwnProperty.call(W,G)){var le=ue?Object.getOwnPropertyDescriptor(W,G):null;le&&(le.get||le.set)?Object.defineProperty(re,G,le):re[G]=W[G]}return re.default=W,te&&te.set(W,re),re}function d(W){return W&&W.__esModule?W:{default:W}}function f(W){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},f(W)}function m(){return m=Object.assign?Object.assign.bind():function(W){for(var ee=1;ee<arguments.length;ee++){var te=arguments[ee];for(var re in te)Object.prototype.hasOwnProperty.call(te,re)&&(W[re]=te[re])}return W},m.apply(this,arguments)}function g(W){return _(W)||S(W)||x(W)||y()}function y(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(W,ee){if(W){if(typeof W=="string")return E(W,ee);var te=Object.prototype.toString.call(W).slice(8,-1);if(te==="Object"&&W.constructor&&(te=W.constructor.name),te==="Map"||te==="Set")return Array.from(W);if(te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te))return E(W,ee)}}function S(W){if(typeof Symbol<"u"&&W[Symbol.iterator]!=null||W["@@iterator"]!=null)return Array.from(W)}function _(W){if(Array.isArray(W))return E(W)}function E(W,ee){(ee==null||ee>W.length)&&(ee=W.length);for(var te=0,re=new Array(ee);te<ee;te++)re[te]=W[te];return re}function w(W,ee){var te=Object.keys(W);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(W);ee&&(re=re.filter(function(ue){return Object.getOwnPropertyDescriptor(W,ue).enumerable})),te.push.apply(te,re)}return te}function C(W){for(var ee=1;ee<arguments.length;ee++){var te=arguments[ee]!=null?arguments[ee]:{};ee%2?w(Object(te),!0).forEach(function(re){T(W,re,te[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(te)):w(Object(te)).forEach(function(re){Object.defineProperty(W,re,Object.getOwnPropertyDescriptor(te,re))})}return W}function T(W,ee,te){return ee=O(ee),ee in W?Object.defineProperty(W,ee,{value:te,enumerable:!0,configurable:!0,writable:!0}):W[ee]=te,W}function O(W){var ee=R(W,"string");return f(ee)==="symbol"?ee:String(ee)}function R(W,ee){if(f(W)!=="object"||W===null)return W;var te=W[Symbol.toPrimitive];if(te!==void 0){var re=te.call(W,ee||"default");if(f(re)!=="object")return re;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ee==="string"?String:Number)(W)}var P=function(ee){return(Array.isArray(ee)?ee:[ee]).filter(Boolean)},N=function(ee,te){var re=new Set(te);return ee.filter(function(ue){return!re.has(ue)})},D=function(ee,te){var re=ee.map(function(ne){return(0,i.getQueryKey)(ne)}),ue=te.map(function(ne){return(0,i.getQueryKey)(ne)}),G=ue.reduce(function(ne,we,me){var ye=te[me];return ye&&ne.set(we,ye),ne},new Map),le=N(re,ue).filter(Boolean),oe=N(ue,re).filter(Boolean),X=oe.map(function(ne){return G.get(ne)}).filter(Boolean);return{cancelKeys:le,requestQueryConfigs:X}},I=function(ee,te){var re=(0,n.useDispatch)(),ue=t.useRef([]),G=t.useRef(new Set),le=(0,a.default)(function(ye){var Pe=re((0,i.requestAsync)(ye));if(Pe){var Le=(0,i.getQueryKey)(ye);Le&&G.current.add(Le)}}),oe=(0,a.default)(function(ye){G.current.has(ye)&&(re((0,i.cancelQuery)(ye)),G.current.delete(ye))}),X=(0,a.default)(function(ye){return function(){ye!=null&&G.current.delete(ye)}}),ne=(0,a.default)(function(ye){return C(C({},ye),{},{unstable_preDispatchCallback:X((0,i.getQueryKey)(ye)),retry:!0})}),we=(0,s.default)(P(ee(te)),ne),me=t.useCallback(function(){we.forEach(function(ye){le(C(C({},ye),{},{force:!0}))})},[le,we]);return t.useEffect(function(){var ye=D(ue.current,we),Pe=ye.cancelKeys,Le=ye.requestQueryConfigs;Le.forEach(le),Pe.forEach(function(Je){return oe(Je)}),ue.current=we},[oe,le,we]),t.useEffect(function(){return function(){g(G.current).forEach(oe)}},[oe]),me},V=function(ee,te){return function(re){var ue=te||{},G=ue.pure,le=G===void 0?!0:G,oe=ue.forwardRef,X=oe===void 0?!1:oe,ne=function(Je){var ot=I(ee,Je);return t.createElement(re,m({},Je,{forceRequest:ot}))},we=le?t.memo(ne):ne,me=re.displayName||re.name||"Component",ye="ConnectRequest(".concat(me,")");if(we.displayName=ye,X){var Pe=t.forwardRef(function(Le,Je){return t.createElement(we,m({},Le,{forwardedRef:Je}))});return Pe.displayName=ye,(0,e.default)(Pe,re)}return(0,e.default)(we,re)}},q=V;r.default=q})(Zw);const l8=en(Zw),c8=Wt({__proto__:null,default:l8},[Zw]),u8=jt(c8);var mC={},gC={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=t(ta);function t(a){return a&&a.__esModule?a:{default:a}}var n=e.default.createContext(null),i=n;r.default=i})(gC);const d8=en(gC),f8=Wt({__proto__:null,default:d8},[gC]),yC=jt(f8);(function(r){function e(d){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},e(d)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=s(ta),n=i(yC);function i(d){return d&&d.__esModule?d:{default:d}}function a(d){if(typeof WeakMap!="function")return null;var f=new WeakMap,m=new WeakMap;return(a=function(y){return y?m:f})(d)}function s(d,f){if(d&&d.__esModule)return d;if(d===null||e(d)!=="object"&&typeof d!="function")return{default:d};var m=a(f);if(m&&m.has(d))return m.get(d);var g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in d)if(x!=="default"&&Object.prototype.hasOwnProperty.call(d,x)){var S=y?Object.getOwnPropertyDescriptor(d,x):null;S&&(S.get||S.set)?Object.defineProperty(g,x,S):g[x]=d[x]}return g.default=d,m&&m.set(d,g),g}var o=function(f){var m=f.queriesSelector,g=t.useMemo(function(){return{queriesSelector:m}},[m]);return t.createElement(n.default.Provider,{value:g},f.children)},c=t.memo(o);r.default=c})(mC);const h8=en(mC),p8=Wt({__proto__:null,default:h8},[mC]),m8=jt(p8);var vC={},_C={};(function(r){function e(m){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(m)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=c(ta),n=zd,i=Ql,a=s(yC);function s(m){return m&&m.__esModule?m:{default:m}}function o(m){if(typeof WeakMap!="function")return null;var g=new WeakMap,y=new WeakMap;return(o=function(S){return S?y:g})(m)}function c(m,g){if(m&&m.__esModule)return m;if(m===null||e(m)!=="object"&&typeof m!="function")return{default:m};var y=o(g);if(y&&y.has(m))return y.get(m);var x={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in m)if(_!=="default"&&Object.prototype.hasOwnProperty.call(m,_)){var E=S?Object.getOwnPropertyDescriptor(m,_):null;E&&(E.get||E.set)?Object.defineProperty(x,_,E):x[_]=m[_]}return x.default=m,y&&y.set(m,x),x}var d=function(g){var y=t.useContext(a.default);if(!y)throw new Error("Could not find redux-query-react's context. Be sure to render a redux-query <Provider> near the root of your React tree.");var x=y.queriesSelector,S=(0,n.useSelector)(function(R){return i.querySelectors.isPending(x(R),g)}),_=(0,n.useSelector)(function(R){return i.querySelectors.isFinished(x(R),g)}),E=(0,n.useSelector)(function(R){return i.querySelectors.status(x(R),g)}),w=(0,n.useSelector)(function(R){return i.querySelectors.headers(x(R),g)}),C=(0,n.useSelector)(function(R){return i.querySelectors.lastUpdated(x(R),g)}),T=(0,n.useSelector)(function(R){return i.querySelectors.queryCount(x(R),g)}),O=t.useMemo(function(){return{isPending:S,isFinished:_,status:E,headers:w,lastUpdated:C,queryCount:T}},[w,_,S,C,T,E]);return O},f=d;r.default=f})(_C);const g8=en(_C),y8=Wt({__proto__:null,default:g8},[_C]),xC=jt(y8);(function(r){function e(E){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},e(E)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=c(ta),n=zd,i=Ql,a=s(xC);function s(E){return E&&E.__esModule?E:{default:E}}function o(E){if(typeof WeakMap!="function")return null;var w=new WeakMap,C=new WeakMap;return(o=function(O){return O?C:w})(E)}function c(E,w){if(E&&E.__esModule)return E;if(E===null||e(E)!=="object"&&typeof E!="function")return{default:E};var C=o(w);if(C&&C.has(E))return C.get(E);var T={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in E)if(R!=="default"&&Object.prototype.hasOwnProperty.call(E,R)){var P=O?Object.getOwnPropertyDescriptor(E,R):null;P&&(P.get||P.set)?Object.defineProperty(T,R,P):T[R]=E[R]}return T.default=E,C&&C.set(E,T),T}function d(E,w){return x(E)||y(E,w)||m(E,w)||f()}function f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(E,w){if(E){if(typeof E=="string")return g(E,w);var C=Object.prototype.toString.call(E).slice(8,-1);if(C==="Object"&&E.constructor&&(C=E.constructor.name),C==="Map"||C==="Set")return Array.from(E);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return g(E,w)}}function g(E,w){(w==null||w>E.length)&&(w=E.length);for(var C=0,T=new Array(w);C<w;C++)T[C]=E[C];return T}function y(E,w){var C=E==null?null:typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(C!=null){var T,O,R,P,N=[],D=!0,I=!1;try{if(R=(C=C.call(E)).next,w!==0)for(;!(D=(T=R.call(C)).done)&&(N.push(T.value),N.length!==w);D=!0);}catch(V){I=!0,O=V}finally{try{if(!D&&C.return!=null&&(P=C.return(),Object(P)!==P))return}finally{if(I)throw O}}return N}}function x(E){if(Array.isArray(E))return E}var S=function(w){var C=(0,n.useDispatch)(),T=t.useState(null),O=d(T,2),R=O[0],P=O[1],N=(0,a.default)(R),D=t.useCallback(function(){var I=w.apply(void 0,arguments);return P(I),C((0,i.mutateAsync)(I))},[w,C]);return[N,D]},_=S;r.default=_})(vC);const v8=en(vC),_8=Wt({__proto__:null,default:v8},[vC]),x8=jt(_8);var SC={},EC={};(function(r){function e(S){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},e(S)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=a(ta),n=Ql;function i(S){if(typeof WeakMap!="function")return null;var _=new WeakMap,E=new WeakMap;return(i=function(C){return C?E:_})(S)}function a(S,_){if(S&&S.__esModule)return S;if(S===null||e(S)!=="object"&&typeof S!="function")return{default:S};var E=i(_);if(E&&E.has(S))return E.get(S);var w={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in S)if(T!=="default"&&Object.prototype.hasOwnProperty.call(S,T)){var O=C?Object.getOwnPropertyDescriptor(S,T):null;O&&(O.get||O.set)?Object.defineProperty(w,T,O):w[T]=S[T]}return w.default=S,E&&E.set(S,w),w}function s(S,_){return m(S)||f(S,_)||c(S,_)||o()}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(S,_){if(S){if(typeof S=="string")return d(S,_);var E=Object.prototype.toString.call(S).slice(8,-1);if(E==="Object"&&S.constructor&&(E=S.constructor.name),E==="Map"||E==="Set")return Array.from(S);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return d(S,_)}}function d(S,_){(_==null||_>S.length)&&(_=S.length);for(var E=0,w=new Array(_);E<_;E++)w[E]=S[E];return w}function f(S,_){var E=S==null?null:typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(E!=null){var w,C,T,O,R=[],P=!0,N=!1;try{if(T=(E=E.call(S)).next,_!==0)for(;!(P=(w=T.call(E)).done)&&(R.push(w.value),R.length!==_);P=!0);}catch(D){N=!0,C=D}finally{try{if(!P&&E.return!=null&&(O=E.return(),Object(O)!==O))return}finally{if(N)throw C}}return R}}function m(S){if(Array.isArray(S))return S}var g=function(_){return _},y=function(_){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g,w=t.useState(_?E(_):null),C=s(w,2),T=C[0],O=C[1],R=t.useRef((0,n.getQueryKey)(_));return t.useEffect(function(){var P=(0,n.getQueryKey)(_);P!==R.current&&(R.current=P,O(_?E(_):null))},[_,E]),T},x=y;r.default=x})(EC);const S8=en(EC),E8=Wt({__proto__:null,default:S8},[EC]),w8=jt(E8);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=d(ta),t=zd,n=Ql,i=o(hC),a=o(w8),s=o(xC);function o(w){return w&&w.__esModule?w:{default:w}}function c(w){if(typeof WeakMap!="function")return null;var C=new WeakMap,T=new WeakMap;return(c=function(R){return R?T:C})(w)}function d(w,C){if(w&&w.__esModule)return w;if(w===null||f(w)!=="object"&&typeof w!="function")return{default:w};var T=c(C);if(T&&T.has(w))return T.get(w);var O={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in w)if(P!=="default"&&Object.prototype.hasOwnProperty.call(w,P)){var N=R?Object.getOwnPropertyDescriptor(w,P):null;N&&(N.get||N.set)?Object.defineProperty(O,P,N):O[P]=w[P]}return O.default=w,T&&T.set(w,O),O}function f(w){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},f(w)}function m(w,C){var T=Object.keys(w);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(w);C&&(O=O.filter(function(R){return Object.getOwnPropertyDescriptor(w,R).enumerable})),T.push.apply(T,O)}return T}function g(w){for(var C=1;C<arguments.length;C++){var T=arguments[C]!=null?arguments[C]:{};C%2?m(Object(T),!0).forEach(function(O){y(w,O,T[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(T)):m(Object(T)).forEach(function(O){Object.defineProperty(w,O,Object.getOwnPropertyDescriptor(T,O))})}return w}function y(w,C,T){return C=x(C),C in w?Object.defineProperty(w,C,{value:T,enumerable:!0,configurable:!0,writable:!0}):w[C]=T,w}function x(w){var C=S(w,"string");return f(C)==="symbol"?C:String(C)}function S(w,C){if(f(w)!=="object"||w===null)return w;var T=w[Symbol.toPrimitive];if(T!==void 0){var O=T.call(w,C||"default");if(f(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(w)}var _=function(C){var T=(0,t.useDispatch)(),O=e.useRef(!1),R=(0,i.default)(function(){O.current=!1}),P=(0,i.default)(function(W){return g(g({},W),{},{unstable_preDispatchCallback:R,retry:!0})}),N=(0,a.default)(C,P),D=(0,s.default)(N),I=(0,i.default)(function(W){var ee=T((0,n.requestAsync)(W));return ee&&(O.current=!0),ee}),V=(0,i.default)(function(W){T((0,n.cancelQuery)(W)),O.current=!1}),q=e.useCallback(function(){if(N)return I(g(g({},N),{},{force:!0}))},[I,N]);return e.useEffect(function(){return N&&I(N),function(){if(O.current){var W=(0,n.getQueryKey)(N);W&&V(W)}}},[V,I,N]),[D,q]},E=_;r.default=E})(SC);const C8=en(SC),b8=Wt({__proto__:null,default:C8},[SC]),M8=jt(b8);var wC={};(function(r){function e(R){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},e(R)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=c(ta),n=zd,i=Ql,a=s(xC);function s(R){return R&&R.__esModule?R:{default:R}}function o(R){if(typeof WeakMap!="function")return null;var P=new WeakMap,N=new WeakMap;return(o=function(I){return I?N:P})(R)}function c(R,P){if(R&&R.__esModule)return R;if(R===null||e(R)!=="object"&&typeof R!="function")return{default:R};var N=o(P);if(N&&N.has(R))return N.get(R);var D={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in R)if(V!=="default"&&Object.prototype.hasOwnProperty.call(R,V)){var q=I?Object.getOwnPropertyDescriptor(R,V):null;q&&(q.get||q.set)?Object.defineProperty(D,V,q):D[V]=R[V]}return D.default=R,N&&N.set(R,D),D}function d(R,P){var N=Object.keys(R);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(R);P&&(D=D.filter(function(I){return Object.getOwnPropertyDescriptor(R,I).enumerable})),N.push.apply(N,D)}return N}function f(R){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?d(Object(N),!0).forEach(function(D){m(R,D,N[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(N)):d(Object(N)).forEach(function(D){Object.defineProperty(R,D,Object.getOwnPropertyDescriptor(N,D))})}return R}function m(R,P,N){return P=g(P),P in R?Object.defineProperty(R,P,{value:N,enumerable:!0,configurable:!0,writable:!0}):R[P]=N,R}function g(R){var P=y(R,"string");return e(P)==="symbol"?P:String(P)}function y(R,P){if(e(R)!=="object"||R===null)return R;var N=R[Symbol.toPrimitive];if(N!==void 0){var D=N.call(R,P||"default");if(e(D)!=="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(R)}function x(R,P){return C(R)||w(R,P)||_(R,P)||S()}function S(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(R,P){if(R){if(typeof R=="string")return E(R,P);var N=Object.prototype.toString.call(R).slice(8,-1);if(N==="Object"&&R.constructor&&(N=R.constructor.name),N==="Map"||N==="Set")return Array.from(R);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return E(R,P)}}function E(R,P){(P==null||P>R.length)&&(P=R.length);for(var N=0,D=new Array(P);N<P;N++)D[N]=R[N];return D}function w(R,P){var N=R==null?null:typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(N!=null){var D,I,V,q,W=[],ee=!0,te=!1;try{if(V=(N=N.call(R)).next,P!==0)for(;!(ee=(D=V.call(N)).done)&&(W.push(D.value),W.length!==P);ee=!0);}catch(re){te=!0,I=re}finally{try{if(!ee&&N.return!=null&&(q=N.return(),Object(q)!==q))return}finally{if(te)throw I}}return W}}function C(R){if(Array.isArray(R))return R}var T=function(P){var N=(0,n.useDispatch)(),D=t.useState(null),I=x(D,2),V=I[0],q=I[1],W=(0,a.default)(V),ee=t.useCallback(function(){var te=f({force:!0},P.apply(void 0,arguments));return q(te),N((0,i.requestAsync)(te))},[P,N]);return[W,ee]},O=T;r.default=O})(wC);const T8=en(wC),A8=Wt({__proto__:null,default:T8},[wC]),P8=jt(A8);var CC={},bC={};(function(r){function e(m){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(m)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=c(ta),n=zd,i=Ql,a=s(yC);function s(m){return m&&m.__esModule?m:{default:m}}function o(m){if(typeof WeakMap!="function")return null;var g=new WeakMap,y=new WeakMap;return(o=function(S){return S?y:g})(m)}function c(m,g){if(m&&m.__esModule)return m;if(m===null||e(m)!=="object"&&typeof m!="function")return{default:m};var y=o(g);if(y&&y.has(m))return y.get(m);var x={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in m)if(_!=="default"&&Object.prototype.hasOwnProperty.call(m,_)){var E=S?Object.getOwnPropertyDescriptor(m,_):null;E&&(E.get||E.set)?Object.defineProperty(x,_,E):x[_]=m[_]}return x.default=m,y&&y.set(m,x),x}var d=function(g){var y=t.useContext(a.default);if(!y)throw new Error("Could not find redux-query-react's context. Be sure to render a redux-query <Provider> near the root of your React tree.");var x=y.queriesSelector,S=(0,n.useSelector)(function(w){return g.some(function(C){return i.querySelectors.isPending(x(w),C)})}),_=(0,n.useSelector)(function(w){return g.every(function(C){return i.querySelectors.isFinished(x(w),C)})}),E=t.useMemo(function(){return{isPending:S,isFinished:_}},[_,S]);return E},f=d;r.default=f})(bC);const R8=en(bC),I8=Wt({__proto__:null,default:R8},[bC]),O8=jt(I8);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=d(ta),t=zd,n=Ql,i=o(hC),a=o(lk),s=o(O8);function o(I){return I&&I.__esModule?I:{default:I}}function c(I){if(typeof WeakMap!="function")return null;var V=new WeakMap,q=new WeakMap;return(c=function(ee){return ee?q:V})(I)}function d(I,V){if(I&&I.__esModule)return I;if(I===null||f(I)!=="object"&&typeof I!="function")return{default:I};var q=c(V);if(q&&q.has(I))return q.get(I);var W={},ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var te in I)if(te!=="default"&&Object.prototype.hasOwnProperty.call(I,te)){var re=ee?Object.getOwnPropertyDescriptor(I,te):null;re&&(re.get||re.set)?Object.defineProperty(W,te,re):W[te]=I[te]}return W.default=I,q&&q.set(I,W),W}function f(I){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},f(I)}function m(I){return S(I)||x(I)||y(I)||g()}function g(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(I,V){if(I){if(typeof I=="string")return _(I,V);var q=Object.prototype.toString.call(I).slice(8,-1);if(q==="Object"&&I.constructor&&(q=I.constructor.name),q==="Map"||q==="Set")return Array.from(I);if(q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return _(I,V)}}function x(I){if(typeof Symbol<"u"&&I[Symbol.iterator]!=null||I["@@iterator"]!=null)return Array.from(I)}function S(I){if(Array.isArray(I))return _(I)}function _(I,V){(V==null||V>I.length)&&(V=I.length);for(var q=0,W=new Array(V);q<V;q++)W[q]=I[q];return W}function E(I,V){var q=Object.keys(I);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(I);V&&(W=W.filter(function(ee){return Object.getOwnPropertyDescriptor(I,ee).enumerable})),q.push.apply(q,W)}return q}function w(I){for(var V=1;V<arguments.length;V++){var q=arguments[V]!=null?arguments[V]:{};V%2?E(Object(q),!0).forEach(function(W){C(I,W,q[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(q)):E(Object(q)).forEach(function(W){Object.defineProperty(I,W,Object.getOwnPropertyDescriptor(q,W))})}return I}function C(I,V,q){return V=T(V),V in I?Object.defineProperty(I,V,{value:q,enumerable:!0,configurable:!0,writable:!0}):I[V]=q,I}function T(I){var V=O(I,"string");return f(V)==="symbol"?V:String(V)}function O(I,V){if(f(I)!=="object"||I===null)return I;var q=I[Symbol.toPrimitive];if(q!==void 0){var W=q.call(I,V||"default");if(f(W)!=="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(I)}var R=function(V,q){var W=new Set(q);return V.filter(function(ee){return!W.has(ee)})},P=function(V,q){var W=V.map(function(le){return(0,n.getQueryKey)(le)}),ee=q.map(function(le){return(0,n.getQueryKey)(le)}),te=ee.reduce(function(le,oe,X){var ne=q[X];return ne&&le.set(oe,ne),le},new Map),re=R(W,ee).filter(Boolean),ue=R(ee,W).filter(Boolean),G=ue.map(function(le){return te.get(le)}).filter(Boolean);return{cancelKeys:re,requestQueryConfigs:G}},N=function(V){var q=(0,t.useDispatch)(),W=e.useRef([]),ee=e.useRef(new Set),te=(0,i.default)(function(ne){var we=q((0,n.requestAsync)(ne));if(we){var me=(0,n.getQueryKey)(ne);me&&ee.current.add(me)}}),re=(0,i.default)(function(ne){ee.current.has(ne)&&(q((0,n.cancelQuery)(ne)),ee.current.delete(ne))}),ue=(0,i.default)(function(ne){return function(){ne!=null&&ee.current.delete(ne)}}),G=(0,i.default)(function(ne){return w(w({},ne),{},{unstable_preDispatchCallback:ue((0,n.getQueryKey)(ne)),retry:!0})}),le=(0,a.default)(V,G),oe=(0,s.default)(le),X=e.useCallback(function(){le.forEach(function(ne){te(w(w({},ne),{},{force:!0}))})},[te,le]);return e.useEffect(function(){var ne=P(W.current,le),we=ne.cancelKeys,me=ne.requestQueryConfigs;me.forEach(te),we.forEach(function(ye){return re(ye)}),W.current=le},[re,te,le]),e.useEffect(function(){return function(){m(ee.current).forEach(re)}},[re]),[oe,X]},D=N;r.default=D})(CC);const k8=en(CC),F8=Wt({__proto__:null,default:k8},[CC]),D8=jt(F8);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Provider",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(r,"connectRequest",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(r,"useMutation",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"useRequest",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"useRequestOnDemand",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"useRequests",{enumerable:!0,get:function(){return s.default}});var e=o(u8),t=o(m8),n=o(x8),i=o(M8),a=o(P8),s=o(D8);function o(c){return c&&c.__esModule?c:{default:c}}})(CI);/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cr(){return Cr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Cr.apply(this,arguments)}var zr;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(zr||(zr={}));const QT="popstate";function L8(r){r===void 0&&(r={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return mg("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Pd(i)}return U8(e,t,null,r)}function wn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Kh(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N8(){return Math.random().toString(36).substr(2,8)}function KT(r,e){return{usr:r.state,key:r.key,idx:e}}function mg(r,e,t,n){return t===void 0&&(t=null),Cr({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Kl(e):e,{state:t,key:e&&e.key||n||N8()})}function Pd(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Kl(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function U8(r,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=zr.Pop,c=null,d=f();d==null&&(d=0,s.replaceState(Cr({},s.state,{idx:d}),""));function f(){return(s.state||{idx:null}).idx}function m(){o=zr.Pop;let _=f(),E=_==null?null:_-d;d=_,c&&c({action:o,location:S.location,delta:E})}function g(_,E){o=zr.Push;let w=mg(S.location,_,E);d=f()+1;let C=KT(w,d),T=S.createHref(w);try{s.pushState(C,"",T)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(T)}a&&c&&c({action:o,location:S.location,delta:1})}function y(_,E){o=zr.Replace;let w=mg(S.location,_,E);d=f();let C=KT(w,d),T=S.createHref(w);s.replaceState(C,"",T),a&&c&&c({action:o,location:S.location,delta:0})}function x(_){let E=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof _=="string"?_:Pd(_);return w=w.replace(/ $/,"%20"),wn(E,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,E)}let S={get action(){return o},get location(){return r(i,s)},listen(_){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(QT,m),c=_,()=>{i.removeEventListener(QT,m),c=null}},createHref(_){return e(i,_)},createURL:x,encodeLocation(_){let E=x(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:y,go(_){return s.go(_)}};return S}var xr;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(xr||(xr={}));const B8=new Set(["lazy","caseSensitive","path","id","index","children"]);function z8(r){return r.index===!0}function PE(r,e,t,n){return t===void 0&&(t=[]),n===void 0&&(n={}),r.map((i,a)=>{let s=[...t,a],o=typeof i.id=="string"?i.id:s.join("-");if(wn(i.index!==!0||!i.children,"Cannot specify children on an index route"),wn(!n[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),z8(i)){let c=Cr({},i,e(i),{id:o});return n[o]=c,c}else{let c=Cr({},i,e(i),{id:o,children:void 0});return n[o]=c,i.children&&(c.children=PE(i.children,e,s,n)),c}})}function kh(r,e,t){t===void 0&&(t="/");let n=typeof e=="string"?Kl(e):e,i=dp(n.pathname||"/",t);if(i==null)return null;let a=ck(r);H8(a);let s=null;for(let o=0;s==null&&o<a.length;++o){let c=e6(i);s=K8(a[o],c)}return s}function V8(r,e){let{route:t,pathname:n,params:i}=r;return{id:t.id,pathname:n,params:i,data:e[t.id],handle:t.handle}}function ck(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let i=(a,s,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(wn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=zl([n,c.relativePath]),f=t.concat(c);a.children&&a.children.length>0&&(wn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),ck(a.children,e,f,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:Y8(d,a.index),routesMeta:f})};return r.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let c of uk(a.path))i(a,s,c)}),e}function uk(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=uk(n.join("/")),o=[];return o.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...s),o.map(c=>r.startsWith("/")&&c===""?"/":c)}function H8(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Q8(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const j8=/^:[\w-]+$/,$8=3,W8=2,G8=1,q8=10,X8=-2,JT=r=>r==="*";function Y8(r,e){let t=r.split("/"),n=t.length;return t.some(JT)&&(n+=X8),e&&(n+=W8),t.filter(i=>!JT(i)).reduce((i,a)=>i+(j8.test(a)?$8:a===""?G8:q8),n)}function Q8(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function K8(r,e){let{routesMeta:t}=r,n={},i="/",a=[];for(let s=0;s<t.length;++s){let o=t[s],c=s===t.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=J8({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},d);if(!f)return null;Object.assign(n,f.params);let m=o.route;a.push({params:n,pathname:zl([i,f.pathname]),pathnameBase:r6(zl([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=zl([i,f.pathnameBase]))}return a}function J8(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=Z8(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((d,f,m)=>{let{paramName:g,isOptional:y}=f;if(g==="*"){let S=o[m]||"";s=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const x=o[m];return y&&!x?d[g]=void 0:d[g]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:s,pattern:r}}function Z8(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Kh(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function e6(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kh(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function dp(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function t6(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?Kl(r):r;return{pathname:t?t.startsWith("/")?t:n6(t,e):e,search:i6(n),hash:a6(i)}}function n6(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function ZS(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dk(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function MC(r,e){let t=dk(r);return e?t.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function TC(r,e,t,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=Kl(r):(i=Cr({},r),wn(!i.pathname||!i.pathname.includes("?"),ZS("?","pathname","search",i)),wn(!i.pathname||!i.pathname.includes("#"),ZS("#","pathname","hash",i)),wn(!i.search||!i.search.includes("#"),ZS("#","search","hash",i)));let a=r===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=t;else{let m=e.length-1;if(!n&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}o=m>=0?e[m]:"/"}let c=t6(i,o),d=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const zl=r=>r.join("/").replace(/\/\/+/g,"/"),r6=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),i6=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,a6=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;class AC{constructor(e,t,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function PC(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const fk=["post","put","patch","delete"],s6=new Set(fk),o6=["get",...fk],l6=new Set(o6),c6=new Set([301,302,303,307,308]),u6=new Set([307,308]),e1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},d6={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vm={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},RC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f6=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),hk="remix-router-transitions";function h6(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!t;wn(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(r.mapRouteProperties)i=r.mapRouteProperties;else if(r.detectErrorBoundary){let ge=r.detectErrorBoundary;i=Me=>({hasErrorBoundary:ge(Me)})}else i=f6;let a={},s=PE(r.routes,i,void 0,a),o,c=r.basename||"/",d=r.unstable_dataStrategy||y6,f=Cr({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},r.future),m=null,g=new Set,y=null,x=null,S=null,_=r.hydrationData!=null,E=kh(s,r.history.location,c),w=null;if(E==null){let ge=xs(404,{pathname:r.history.location.pathname}),{matches:Me,route:Re}=lA(s);E=Me,w={[Re.id]:ge}}let C,T=E.some(ge=>ge.route.lazy),O=E.some(ge=>ge.route.loader);if(T)C=!1;else if(!O)C=!0;else if(f.v7_partialHydration){let ge=r.hydrationData?r.hydrationData.loaderData:null,Me=r.hydrationData?r.hydrationData.errors:null,Re=Ze=>Ze.route.loader?typeof Ze.route.loader=="function"&&Ze.route.loader.hydrate===!0?!1:ge&&ge[Ze.route.id]!==void 0||Me&&Me[Ze.route.id]!==void 0:!0;if(Me){let Ze=E.findIndex(ut=>Me[ut.route.id]!==void 0);C=E.slice(0,Ze+1).every(Re)}else C=E.every(Re)}else C=r.hydrationData!=null;let R,P={historyAction:r.history.action,location:r.history.location,matches:E,initialized:C,navigation:e1,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||w,fetchers:new Map,blockers:new Map},N=zr.Pop,D=!1,I,V=!1,q=new Map,W=null,ee=!1,te=!1,re=[],ue=[],G=new Map,le=0,oe=-1,X=new Map,ne=new Set,we=new Map,me=new Map,ye=new Set,Pe=new Map,Le=new Map,Je=!1;function ot(){if(m=r.history.listen(ge=>{let{action:Me,location:Re,delta:Ze}=ge;if(Je){Je=!1;return}Kh(Le.size===0||Ze!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ut=fe({currentLocation:P.location,nextLocation:Re,historyAction:Me});if(ut&&Ze!=null){Je=!0,r.history.go(Ze*-1),tt(ut,{state:"blocked",location:Re,proceed(){tt(ut,{state:"proceeding",proceed:void 0,reset:void 0,location:Re}),r.history.go(Ze)},reset(){let Vt=new Map(P.blockers);Vt.set(ut,vm),Z({blockers:Vt})}});return}return Ue(Me,Re)}),t){P6(e,q);let ge=()=>R6(e,q);e.addEventListener("pagehide",ge),W=()=>e.removeEventListener("pagehide",ge)}return P.initialized||Ue(zr.Pop,P.location,{initialHydration:!0}),R}function ft(){m&&m(),W&&W(),g.clear(),I&&I.abort(),P.fetchers.forEach((ge,Me)=>B(Me)),P.blockers.forEach((ge,Me)=>ke(Me))}function wt(ge){return g.add(ge),()=>g.delete(ge)}function Z(ge,Me){Me===void 0&&(Me={}),P=Cr({},P,ge);let Re=[],Ze=[];f.v7_fetcherPersist&&P.fetchers.forEach((ut,Vt)=>{ut.state==="idle"&&(ye.has(Vt)?Ze.push(Vt):Re.push(Vt))}),[...g].forEach(ut=>ut(P,{deletedFetchers:Ze,unstable_viewTransitionOpts:Me.viewTransitionOpts,unstable_flushSync:Me.flushSync===!0})),f.v7_fetcherPersist&&(Re.forEach(ut=>P.fetchers.delete(ut)),Ze.forEach(ut=>B(ut)))}function Be(ge,Me,Re){var Ze,ut;let{flushSync:Vt}=Re===void 0?{}:Re,Ct=P.actionData!=null&&P.navigation.formMethod!=null&&eo(P.navigation.formMethod)&&P.navigation.state==="loading"&&((Ze=ge.state)==null?void 0:Ze._isRedirect)!==!0,pt;Me.actionData?Object.keys(Me.actionData).length>0?pt=Me.actionData:pt=null:Ct?pt=P.actionData:pt=null;let Jt=Me.loaderData?sA(P.loaderData,Me.loaderData,Me.matches||[],Me.errors):P.loaderData,Pt=P.blockers;Pt.size>0&&(Pt=new Map(Pt),Pt.forEach((Ot,Cn)=>Pt.set(Cn,vm)));let hn=D===!0||P.navigation.formMethod!=null&&eo(P.navigation.formMethod)&&((ut=ge.state)==null?void 0:ut._isRedirect)!==!0;o&&(s=o,o=void 0),ee||N===zr.Pop||(N===zr.Push?r.history.push(ge,ge.state):N===zr.Replace&&r.history.replace(ge,ge.state));let gn;if(N===zr.Pop){let Ot=q.get(P.location.pathname);Ot&&Ot.has(ge.pathname)?gn={currentLocation:P.location,nextLocation:ge}:q.has(ge.pathname)&&(gn={currentLocation:ge,nextLocation:P.location})}else if(V){let Ot=q.get(P.location.pathname);Ot?Ot.add(ge.pathname):(Ot=new Set([ge.pathname]),q.set(P.location.pathname,Ot)),gn={currentLocation:P.location,nextLocation:ge}}Z(Cr({},Me,{actionData:pt,loaderData:Jt,historyAction:N,location:ge,initialized:!0,navigation:e1,revalidation:"idle",restoreScrollPosition:Ut(ge,Me.matches||P.matches),preventScrollReset:hn,blockers:Pt}),{viewTransitionOpts:gn,flushSync:Vt===!0}),N=zr.Pop,D=!1,V=!1,ee=!1,te=!1,re=[],ue=[]}async function Ge(ge,Me){if(typeof ge=="number"){r.history.go(ge);return}let Re=RE(P.location,P.matches,c,f.v7_prependBasename,ge,f.v7_relativeSplatPath,Me==null?void 0:Me.fromRouteId,Me==null?void 0:Me.relative),{path:Ze,submission:ut,error:Vt}=ZT(f.v7_normalizeFormMethod,!1,Re,Me),Ct=P.location,pt=mg(P.location,Ze,Me&&Me.state);pt=Cr({},pt,r.history.encodeLocation(pt));let Jt=Me&&Me.replace!=null?Me.replace:void 0,Pt=zr.Push;Jt===!0?Pt=zr.Replace:Jt===!1||ut!=null&&eo(ut.formMethod)&&ut.formAction===P.location.pathname+P.location.search&&(Pt=zr.Replace);let hn=Me&&"preventScrollReset"in Me?Me.preventScrollReset===!0:void 0,gn=(Me&&Me.unstable_flushSync)===!0,Ot=fe({currentLocation:Ct,nextLocation:pt,historyAction:Pt});if(Ot){tt(Ot,{state:"blocked",location:pt,proceed(){tt(Ot,{state:"proceeding",proceed:void 0,reset:void 0,location:pt}),Ge(ge,Me)},reset(){let Cn=new Map(P.blockers);Cn.set(Ot,vm),Z({blockers:Cn})}});return}return await Ue(Pt,pt,{submission:ut,pendingError:Vt,preventScrollReset:hn,replace:Me&&Me.replace,enableViewTransition:Me&&Me.unstable_viewTransition,flushSync:gn})}function qe(){if(We(),Z({revalidation:"loading"}),P.navigation.state!=="submitting"){if(P.navigation.state==="idle"){Ue(P.historyAction,P.location,{startUninterruptedRevalidation:!0});return}Ue(N||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation})}}async function Ue(ge,Me,Re){I&&I.abort(),I=null,N=ge,ee=(Re&&Re.startUninterruptedRevalidation)===!0,lt(P.location,P.matches),D=(Re&&Re.preventScrollReset)===!0,V=(Re&&Re.enableViewTransition)===!0;let Ze=o||s,ut=Re&&Re.overrideNavigation,Vt=kh(Ze,Me,c),Ct=(Re&&Re.flushSync)===!0;if(!Vt){let Ot=xs(404,{pathname:Me.pathname}),{matches:Cn,route:Pn}=lA(Ze);Ke(),Be(Me,{matches:Cn,loaderData:{},errors:{[Pn.id]:Ot}},{flushSync:Ct});return}if(P.initialized&&!te&&w6(P.location,Me)&&!(Re&&Re.submission&&eo(Re.submission.formMethod))){Be(Me,{matches:Vt},{flushSync:Ct});return}I=new AbortController;let pt=Jf(r.history,Me,I.signal,Re&&Re.submission),Jt;if(Re&&Re.pendingError)Jt=[Xm(Vt).route.id,{type:xr.error,error:Re.pendingError}];else if(Re&&Re.submission&&eo(Re.submission.formMethod)){let Ot=await xt(pt,Me,Re.submission,Vt,{replace:Re.replace,flushSync:Ct});if(Ot.shortCircuited)return;Jt=Ot.pendingActionResult,ut=t1(Me,Re.submission),Ct=!1,pt=Jf(r.history,pt.url,pt.signal)}let{shortCircuited:Pt,loaderData:hn,errors:gn}=await st(pt,Me,Vt,ut,Re&&Re.submission,Re&&Re.fetcherSubmission,Re&&Re.replace,Re&&Re.initialHydration===!0,Ct,Jt);Pt||(I=null,Be(Me,Cr({matches:Vt},oA(Jt),{loaderData:hn,errors:gn})))}async function xt(ge,Me,Re,Ze,ut){ut===void 0&&(ut={}),We();let Vt=T6(Me,Re);Z({navigation:Vt},{flushSync:ut.flushSync===!0});let Ct,pt=OE(Ze,Me);if(!pt.route.action&&!pt.route.lazy)Ct={type:xr.error,error:xs(405,{method:ge.method,pathname:Me.pathname,routeId:pt.route.id})};else if(Ct=(await Xe("action",ge,[pt],Ze))[0],ge.signal.aborted)return{shortCircuited:!0};if(pd(Ct)){let Jt;return ut&&ut.replace!=null?Jt=ut.replace:Jt=rA(Ct.response.headers.get("Location"),new URL(ge.url),c)===P.location.pathname+P.location.search,await Ce(ge,Ct,{submission:Re,replace:Jt}),{shortCircuited:!0}}if(hd(Ct))throw xs(400,{type:"defer-action"});if(Es(Ct)){let Jt=Xm(Ze,pt.route.id);return(ut&&ut.replace)!==!0&&(N=zr.Push),{pendingActionResult:[Jt.route.id,Ct]}}return{pendingActionResult:[pt.route.id,Ct]}}async function st(ge,Me,Re,Ze,ut,Vt,Ct,pt,Jt,Pt){let hn=Ze||t1(Me,ut),gn=ut||Vt||dA(hn),Ot=o||s,[Cn,Pn]=eA(r.history,P,Re,gn,Me,f.v7_partialHydration&&pt===!0,f.unstable_skipActionErrorRevalidation,te,re,ue,ye,we,ne,Ot,c,Pt);if(Ke(et=>!(Re&&Re.some(mt=>mt.route.id===et))||Cn&&Cn.some(mt=>mt.route.id===et)),oe=++le,Cn.length===0&&Pn.length===0){let et=ve();return Be(Me,Cr({matches:Re,loaderData:{},errors:Pt&&Es(Pt[1])?{[Pt[0]]:Pt[1].error}:null},oA(Pt),et?{fetchers:new Map(P.fetchers)}:{}),{flushSync:Jt}),{shortCircuited:!0}}if(!ee&&(!f.v7_partialHydration||!pt)){Pn.forEach(mt=>{let nt=P.fetchers.get(mt.key),Tt=_m(void 0,nt?nt.data:void 0);P.fetchers.set(mt.key,Tt)});let et;Pt&&!Es(Pt[1])?et={[Pt[0]]:Pt[1].data}:P.actionData&&(Object.keys(P.actionData).length===0?et=null:et=P.actionData),Z(Cr({navigation:hn},et!==void 0?{actionData:et}:{},Pn.length>0?{fetchers:new Map(P.fetchers)}:{}),{flushSync:Jt})}Pn.forEach(et=>{G.has(et.key)&&ie(et.key),et.controller&&G.set(et.key,et.controller)});let dn=()=>Pn.forEach(et=>ie(et.key));I&&I.signal.addEventListener("abort",dn);let{loaderResults:Dt,fetcherResults:pn}=await Ye(P.matches,Re,Cn,Pn,ge);if(ge.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",dn),Pn.forEach(et=>G.delete(et.key));let J=cA([...Dt,...pn]);if(J){if(J.idx>=Cn.length){let et=Pn[J.idx-Cn.length].key;ne.add(et)}return await Ce(ge,J.result,{replace:Ct}),{shortCircuited:!0}}let{loaderData:xe,errors:Ae}=aA(P,Re,Cn,Dt,Pt,Pn,pn,Pe);Pe.forEach((et,mt)=>{et.subscribe(nt=>{(nt||et.done)&&Pe.delete(mt)})}),f.v7_partialHydration&&pt&&P.errors&&Object.entries(P.errors).filter(et=>{let[mt]=et;return!Cn.some(nt=>nt.route.id===mt)}).forEach(et=>{let[mt,nt]=et;Ae=Object.assign(Ae||{},{[mt]:nt})});let Oe=ve(),be=Ve(oe),it=Oe||be||Pn.length>0;return Cr({loaderData:xe,errors:Ae},it?{fetchers:new Map(P.fetchers)}:{})}function yt(ge,Me,Re,Ze){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");G.has(ge)&&ie(ge);let ut=(Ze&&Ze.unstable_flushSync)===!0,Vt=o||s,Ct=RE(P.location,P.matches,c,f.v7_prependBasename,Re,f.v7_relativeSplatPath,Me,Ze==null?void 0:Ze.relative),pt=kh(Vt,Ct,c);if(!pt){$(ge,Me,xs(404,{pathname:Ct}),{flushSync:ut});return}let{path:Jt,submission:Pt,error:hn}=ZT(f.v7_normalizeFormMethod,!0,Ct,Ze);if(hn){$(ge,Me,hn,{flushSync:ut});return}let gn=OE(pt,Jt);if(D=(Ze&&Ze.preventScrollReset)===!0,Pt&&eo(Pt.formMethod)){se(ge,Me,Jt,gn,pt,ut,Pt);return}we.set(ge,{routeId:Me,path:Jt}),K(ge,Me,Jt,gn,pt,ut,Pt)}async function se(ge,Me,Re,Ze,ut,Vt,Ct){if(We(),we.delete(ge),!Ze.route.action&&!Ze.route.lazy){let Tt=xs(405,{method:Ct.formMethod,pathname:Re,routeId:Me});$(ge,Me,Tt,{flushSync:Vt});return}let pt=P.fetchers.get(ge);Et(ge,A6(Ct,pt),{flushSync:Vt});let Jt=new AbortController,Pt=Jf(r.history,Re,Jt.signal,Ct);G.set(ge,Jt);let hn=le,Ot=(await Xe("action",Pt,[Ze],ut))[0];if(Pt.signal.aborted){G.get(ge)===Jt&&G.delete(ge);return}if(f.v7_fetcherPersist&&ye.has(ge)){if(pd(Ot)||Es(Ot)){Et(ge,Wc(void 0));return}}else{if(pd(Ot))if(G.delete(ge),oe>hn){Et(ge,Wc(void 0));return}else return ne.add(ge),Et(ge,_m(Ct)),Ce(Pt,Ot,{fetcherSubmission:Ct});if(Es(Ot)){$(ge,Me,Ot.error);return}}if(hd(Ot))throw xs(400,{type:"defer-action"});let Cn=P.navigation.location||P.location,Pn=Jf(r.history,Cn,Jt.signal),dn=o||s,Dt=P.navigation.state!=="idle"?kh(dn,P.navigation.location,c):P.matches;wn(Dt,"Didn't find any matches after fetcher action");let pn=++le;X.set(ge,pn);let J=_m(Ct,Ot.data);P.fetchers.set(ge,J);let[xe,Ae]=eA(r.history,P,Dt,Ct,Cn,!1,f.unstable_skipActionErrorRevalidation,te,re,ue,ye,we,ne,dn,c,[Ze.route.id,Ot]);Ae.filter(Tt=>Tt.key!==ge).forEach(Tt=>{let Yt=Tt.key,Qt=P.fetchers.get(Yt),Mn=_m(void 0,Qt?Qt.data:void 0);P.fetchers.set(Yt,Mn),G.has(Yt)&&ie(Yt),Tt.controller&&G.set(Yt,Tt.controller)}),Z({fetchers:new Map(P.fetchers)});let Oe=()=>Ae.forEach(Tt=>ie(Tt.key));Jt.signal.addEventListener("abort",Oe);let{loaderResults:be,fetcherResults:it}=await Ye(P.matches,Dt,xe,Ae,Pn);if(Jt.signal.aborted)return;Jt.signal.removeEventListener("abort",Oe),X.delete(ge),G.delete(ge),Ae.forEach(Tt=>G.delete(Tt.key));let et=cA([...be,...it]);if(et){if(et.idx>=xe.length){let Tt=Ae[et.idx-xe.length].key;ne.add(Tt)}return Ce(Pn,et.result)}let{loaderData:mt,errors:nt}=aA(P,P.matches,xe,be,void 0,Ae,it,Pe);if(P.fetchers.has(ge)){let Tt=Wc(Ot.data);P.fetchers.set(ge,Tt)}Ve(pn),P.navigation.state==="loading"&&pn>oe?(wn(N,"Expected pending action"),I&&I.abort(),Be(P.navigation.location,{matches:Dt,loaderData:mt,errors:nt,fetchers:new Map(P.fetchers)})):(Z({errors:nt,loaderData:sA(P.loaderData,mt,Dt,nt),fetchers:new Map(P.fetchers)}),te=!1)}async function K(ge,Me,Re,Ze,ut,Vt,Ct){let pt=P.fetchers.get(ge);Et(ge,_m(Ct,pt?pt.data:void 0),{flushSync:Vt});let Jt=new AbortController,Pt=Jf(r.history,Re,Jt.signal);G.set(ge,Jt);let hn=le,Ot=(await Xe("loader",Pt,[Ze],ut))[0];if(hd(Ot)&&(Ot=await yk(Ot,Pt.signal,!0)||Ot),G.get(ge)===Jt&&G.delete(ge),!Pt.signal.aborted){if(ye.has(ge)){Et(ge,Wc(void 0));return}if(pd(Ot))if(oe>hn){Et(ge,Wc(void 0));return}else{ne.add(ge),await Ce(Pt,Ot);return}if(Es(Ot)){$(ge,Me,Ot.error);return}wn(!hd(Ot),"Unhandled fetcher deferred data"),Et(ge,Wc(Ot.data))}}async function Ce(ge,Me,Re){let{submission:Ze,fetcherSubmission:ut,replace:Vt}=Re===void 0?{}:Re;Me.response.headers.has("X-Remix-Revalidate")&&(te=!0);let Ct=Me.response.headers.get("Location");wn(Ct,"Expected a Location header on the redirect Response"),Ct=rA(Ct,new URL(ge.url),c);let pt=mg(P.location,Ct,{_isRedirect:!0});if(t){let Cn=!1;if(Me.response.headers.has("X-Remix-Reload-Document"))Cn=!0;else if(RC.test(Ct)){const Pn=r.history.createURL(Ct);Cn=Pn.origin!==e.location.origin||dp(Pn.pathname,c)==null}if(Cn){Vt?e.location.replace(Ct):e.location.assign(Ct);return}}I=null;let Jt=Vt===!0?zr.Replace:zr.Push,{formMethod:Pt,formAction:hn,formEncType:gn}=P.navigation;!Ze&&!ut&&Pt&&hn&&gn&&(Ze=dA(P.navigation));let Ot=Ze||ut;if(u6.has(Me.response.status)&&Ot&&eo(Ot.formMethod))await Ue(Jt,pt,{submission:Cr({},Ot,{formAction:Ct}),preventScrollReset:D});else{let Cn=t1(pt,Ze);await Ue(Jt,pt,{overrideNavigation:Cn,fetcherSubmission:ut,preventScrollReset:D})}}async function Xe(ge,Me,Re,Ze){try{let ut=await v6(d,ge,Me,Re,Ze,a,i);return await Promise.all(ut.map((Vt,Ct)=>{if(C6(Vt)){let pt=Vt.result;return{type:xr.redirect,response:S6(pt,Me,Re[Ct].route.id,Ze,c,f.v7_relativeSplatPath)}}return x6(Vt)}))}catch(ut){return Re.map(()=>({type:xr.error,error:ut}))}}async function Ye(ge,Me,Re,Ze,ut){let[Vt,...Ct]=await Promise.all([Re.length?Xe("loader",ut,Re,Me):[],...Ze.map(pt=>{if(pt.matches&&pt.match&&pt.controller){let Jt=Jf(r.history,pt.path,pt.controller.signal);return Xe("loader",Jt,[pt.match],pt.matches).then(Pt=>Pt[0])}else return Promise.resolve({type:xr.error,error:xs(404,{pathname:pt.path})})})]);return await Promise.all([uA(ge,Re,Vt,Vt.map(()=>ut.signal),!1,P.loaderData),uA(ge,Ze.map(pt=>pt.match),Ct,Ze.map(pt=>pt.controller?pt.controller.signal:null),!0)]),{loaderResults:Vt,fetcherResults:Ct}}function We(){te=!0,re.push(...Ke()),we.forEach((ge,Me)=>{G.has(Me)&&(ue.push(Me),ie(Me))})}function Et(ge,Me,Re){Re===void 0&&(Re={}),P.fetchers.set(ge,Me),Z({fetchers:new Map(P.fetchers)},{flushSync:(Re&&Re.flushSync)===!0})}function $(ge,Me,Re,Ze){Ze===void 0&&(Ze={});let ut=Xm(P.matches,Me);B(ge),Z({errors:{[ut.route.id]:Re},fetchers:new Map(P.fetchers)},{flushSync:(Ze&&Ze.flushSync)===!0})}function F(ge){return f.v7_fetcherPersist&&(me.set(ge,(me.get(ge)||0)+1),ye.has(ge)&&ye.delete(ge)),P.fetchers.get(ge)||d6}function B(ge){let Me=P.fetchers.get(ge);G.has(ge)&&!(Me&&Me.state==="loading"&&X.has(ge))&&ie(ge),we.delete(ge),X.delete(ge),ne.delete(ge),ye.delete(ge),P.fetchers.delete(ge)}function Q(ge){if(f.v7_fetcherPersist){let Me=(me.get(ge)||0)-1;Me<=0?(me.delete(ge),ye.add(ge)):me.set(ge,Me)}else B(ge);Z({fetchers:new Map(P.fetchers)})}function ie(ge){let Me=G.get(ge);wn(Me,"Expected fetch controller: "+ge),Me.abort(),G.delete(ge)}function pe(ge){for(let Me of ge){let Re=F(Me),Ze=Wc(Re.data);P.fetchers.set(Me,Ze)}}function ve(){let ge=[],Me=!1;for(let Re of ne){let Ze=P.fetchers.get(Re);wn(Ze,"Expected fetcher: "+Re),Ze.state==="loading"&&(ne.delete(Re),ge.push(Re),Me=!0)}return pe(ge),Me}function Ve(ge){let Me=[];for(let[Re,Ze]of X)if(Ze<ge){let ut=P.fetchers.get(Re);wn(ut,"Expected fetcher: "+Re),ut.state==="loading"&&(ie(Re),X.delete(Re),Me.push(Re))}return pe(Me),Me.length>0}function de(ge,Me){let Re=P.blockers.get(ge)||vm;return Le.get(ge)!==Me&&Le.set(ge,Me),Re}function ke(ge){P.blockers.delete(ge),Le.delete(ge)}function tt(ge,Me){let Re=P.blockers.get(ge)||vm;wn(Re.state==="unblocked"&&Me.state==="blocked"||Re.state==="blocked"&&Me.state==="blocked"||Re.state==="blocked"&&Me.state==="proceeding"||Re.state==="blocked"&&Me.state==="unblocked"||Re.state==="proceeding"&&Me.state==="unblocked","Invalid blocker state transition: "+Re.state+" -> "+Me.state);let Ze=new Map(P.blockers);Ze.set(ge,Me),Z({blockers:Ze})}function fe(ge){let{currentLocation:Me,nextLocation:Re,historyAction:Ze}=ge;if(Le.size===0)return;Le.size>1&&Kh(!1,"A router only supports one blocker at a time");let ut=Array.from(Le.entries()),[Vt,Ct]=ut[ut.length-1],pt=P.blockers.get(Vt);if(!(pt&&pt.state==="proceeding")&&Ct({currentLocation:Me,nextLocation:Re,historyAction:Ze}))return Vt}function Ke(ge){let Me=[];return Pe.forEach((Re,Ze)=>{(!ge||ge(Ze))&&(Re.cancel(),Me.push(Ze),Pe.delete(Ze))}),Me}function He(ge,Me,Re){if(y=ge,S=Me,x=Re||null,!_&&P.navigation===e1){_=!0;let Ze=Ut(P.location,P.matches);Ze!=null&&Z({restoreScrollPosition:Ze})}return()=>{y=null,S=null,x=null}}function $e(ge,Me){return x&&x(ge,Me.map(Ze=>V8(Ze,P.loaderData)))||ge.key}function lt(ge,Me){if(y&&S){let Re=$e(ge,Me);y[Re]=S()}}function Ut(ge,Me){if(y){let Re=$e(ge,Me),Ze=y[Re];if(typeof Ze=="number")return Ze}return null}function Xt(ge){a={},o=PE(ge,i,void 0,a)}return R={get basename(){return c},get future(){return f},get state(){return P},get routes(){return s},get window(){return e},initialize:ot,subscribe:wt,enableScrollRestoration:He,navigate:Ge,fetch:yt,revalidate:qe,createHref:ge=>r.history.createHref(ge),encodeLocation:ge=>r.history.encodeLocation(ge),getFetcher:F,deleteFetcher:Q,dispose:ft,getBlocker:de,deleteBlocker:ke,_internalFetchControllers:G,_internalActiveDeferreds:Pe,_internalSetRoutes:Xt},R}function p6(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function RE(r,e,t,n,i,a,s,o){let c,d;if(s){c=[];for(let m of e)if(c.push(m),m.route.id===s){d=m;break}}else c=e,d=e[e.length-1];let f=TC(i||".",MC(c,a),dp(r.pathname,t)||r.pathname,o==="path");return i==null&&(f.search=r.search,f.hash=r.hash),(i==null||i===""||i===".")&&d&&d.route.index&&!IC(f.search)&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),n&&t!=="/"&&(f.pathname=f.pathname==="/"?t:zl([t,f.pathname])),Pd(f)}function ZT(r,e,t,n){if(!n||!p6(n))return{path:t};if(n.formMethod&&!M6(n.formMethod))return{path:t,error:xs(405,{method:n.formMethod})};let i=()=>({path:t,error:xs(400,{type:"invalid-body"})}),a=n.formMethod||"get",s=r?a.toUpperCase():a.toLowerCase(),o=mk(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!eo(s))return i();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,x)=>{let[S,_]=x;return""+y+S+"="+_+`
`},""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!eo(s))return i();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}wn(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=IE(n.formData),d=n.formData;else if(n.body instanceof FormData)c=IE(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=iA(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=iA(c)}catch{return i()}let f={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(eo(f.formMethod))return{path:t,submission:f};let m=Kl(t);return e&&m.search&&IC(m.search)&&c.append("index",""),m.search="?"+c,{path:Pd(m),submission:f}}function m6(r,e){let t=r;if(e){let n=r.findIndex(i=>i.route.id===e);n>=0&&(t=r.slice(0,n))}return t}function eA(r,e,t,n,i,a,s,o,c,d,f,m,g,y,x,S){let _=S?Es(S[1])?S[1].error:S[1].data:void 0,E=r.createURL(e.location),w=r.createURL(i),C=S&&Es(S[1])?S[0]:void 0,T=C?m6(t,C):t,O=S?S[1].statusCode:void 0,R=s&&O&&O>=400,P=T.filter((D,I)=>{let{route:V}=D;if(V.lazy)return!0;if(V.loader==null)return!1;if(a)return typeof V.loader!="function"||V.loader.hydrate?!0:e.loaderData[V.id]===void 0&&(!e.errors||e.errors[V.id]===void 0);if(g6(e.loaderData,e.matches[I],D)||c.some(ee=>ee===D.route.id))return!0;let q=e.matches[I],W=D;return tA(D,Cr({currentUrl:E,currentParams:q.params,nextUrl:w,nextParams:W.params},n,{actionResult:_,unstable_actionStatus:O,defaultShouldRevalidate:R?!1:o||E.pathname+E.search===w.pathname+w.search||E.search!==w.search||pk(q,W)}))}),N=[];return m.forEach((D,I)=>{if(a||!t.some(te=>te.route.id===D.routeId)||f.has(I))return;let V=kh(y,D.path,x);if(!V){N.push({key:I,routeId:D.routeId,path:D.path,matches:null,match:null,controller:null});return}let q=e.fetchers.get(I),W=OE(V,D.path),ee=!1;g.has(I)?ee=!1:d.includes(I)?ee=!0:q&&q.state!=="idle"&&q.data===void 0?ee=o:ee=tA(W,Cr({currentUrl:E,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:t[t.length-1].params},n,{actionResult:_,unstable_actionStatus:O,defaultShouldRevalidate:R?!1:o})),ee&&N.push({key:I,routeId:D.routeId,path:D.path,matches:V,match:W,controller:new AbortController})}),[P,N]}function g6(r,e,t){let n=!e||t.route.id!==e.route.id,i=r[t.route.id]===void 0;return n||i}function pk(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function tA(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function nA(r,e,t){if(!r.lazy)return;let n=await r.lazy();if(!r.lazy)return;let i=t[r.id];wn(i,"No route found in manifest");let a={};for(let s in n){let c=i[s]!==void 0&&s!=="hasErrorBoundary";Kh(!c,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!c&&!B8.has(s)&&(a[s]=n[s])}Object.assign(i,a),Object.assign(i,Cr({},e(i),{lazy:void 0}))}function y6(r){return Promise.all(r.matches.map(e=>e.resolve()))}async function v6(r,e,t,n,i,a,s,o){let c=n.reduce((m,g)=>m.add(g.route.id),new Set),d=new Set,f=await r({matches:i.map(m=>{let g=c.has(m.route.id);return Cr({},m,{shouldLoad:g,resolve:x=>(d.add(m.route.id),g?_6(e,t,m,a,s,x,o):Promise.resolve({type:xr.data,result:void 0}))})}),request:t,params:i[0].params,context:o});return i.forEach(m=>wn(d.has(m.route.id),'`match.resolve()` was not called for route id "'+m.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),f.filter((m,g)=>c.has(i[g].route.id))}async function _6(r,e,t,n,i,a,s){let o,c,d=f=>{let m,g=new Promise((S,_)=>m=_);c=()=>m(),e.signal.addEventListener("abort",c);let y=S=>typeof f!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+r+'" [routeId: '+t.route.id+"]"))):f({request:e,params:t.params,context:s},...S!==void 0?[S]:[]),x;return a?x=a(S=>y(S)):x=(async()=>{try{return{type:"data",result:await y()}}catch(S){return{type:"error",result:S}}})(),Promise.race([x,g])};try{let f=t.route[r];if(t.route.lazy)if(f){let m,[g]=await Promise.all([d(f).catch(y=>{m=y}),nA(t.route,i,n)]);if(m!==void 0)throw m;o=g}else if(await nA(t.route,i,n),f=t.route[r],f)o=await d(f);else if(r==="action"){let m=new URL(e.url),g=m.pathname+m.search;throw xs(405,{method:e.method,pathname:g,routeId:t.route.id})}else return{type:xr.data,result:void 0};else if(f)o=await d(f);else{let m=new URL(e.url),g=m.pathname+m.search;throw xs(404,{pathname:g})}wn(o.result!==void 0,"You defined "+(r==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+r+"` ")+"function. Please return a value or `null`.")}catch(f){return{type:xr.error,result:f}}finally{c&&e.signal.removeEventListener("abort",c)}return o}async function x6(r){let{result:e,type:t,status:n}=r;if(gk(e)){let s;try{let o=e.headers.get("Content-Type");o&&/\bapplication\/json\b/.test(o)?e.body==null?s=null:s=await e.json():s=await e.text()}catch(o){return{type:xr.error,error:o}}return t===xr.error?{type:xr.error,error:new AC(e.status,e.statusText,s),statusCode:e.status,headers:e.headers}:{type:xr.data,data:s,statusCode:e.status,headers:e.headers}}if(t===xr.error)return{type:xr.error,error:e,statusCode:PC(e)?e.status:n};if(b6(e)){var i,a;return{type:xr.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((a=e.init)==null?void 0:a.headers)&&new Headers(e.init.headers)}}return{type:xr.data,data:e,statusCode:n}}function S6(r,e,t,n,i,a){let s=r.headers.get("Location");if(wn(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!RC.test(s)){let o=n.slice(0,n.findIndex(c=>c.route.id===t)+1);s=RE(new URL(e.url),o,i,!0,s,a),r.headers.set("Location",s)}return r}function rA(r,e,t){if(RC.test(r)){let n=r,i=n.startsWith("//")?new URL(e.protocol+n):new URL(n),a=dp(i.pathname,t)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return r}function Jf(r,e,t,n){let i=r.createURL(mk(e)).toString(),a={signal:t};if(n&&eo(n.formMethod)){let{formMethod:s,formEncType:o}=n;a.method=s.toUpperCase(),o==="application/json"?(a.headers=new Headers({"Content-Type":o}),a.body=JSON.stringify(n.json)):o==="text/plain"?a.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?a.body=IE(n.formData):a.body=n.formData}return new Request(i,a)}function IE(r){let e=new URLSearchParams;for(let[t,n]of r.entries())e.append(t,typeof n=="string"?n:n.name);return e}function iA(r){let e=new FormData;for(let[t,n]of r.entries())e.append(t,n);return e}function E6(r,e,t,n,i,a){let s={},o=null,c,d=!1,f={},m=n&&Es(n[1])?n[1].error:void 0;return t.forEach((g,y)=>{let x=e[y].route.id;if(wn(!pd(g),"Cannot handle redirect results in processLoaderData"),Es(g)){let S=g.error;m!==void 0&&(S=m,m=void 0),o=o||{};{let _=Xm(r,x);o[_.route.id]==null&&(o[_.route.id]=S)}s[x]=void 0,d||(d=!0,c=PC(g.error)?g.error.status:500),g.headers&&(f[x]=g.headers)}else hd(g)?(i.set(x,g.deferredData),s[x]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!d&&(c=g.statusCode),g.headers&&(f[x]=g.headers)):(s[x]=g.data,g.statusCode&&g.statusCode!==200&&!d&&(c=g.statusCode),g.headers&&(f[x]=g.headers))}),m!==void 0&&n&&(o={[n[0]]:m},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:c||200,loaderHeaders:f}}function aA(r,e,t,n,i,a,s,o){let{loaderData:c,errors:d}=E6(e,t,n,i,o);for(let f=0;f<a.length;f++){let{key:m,match:g,controller:y}=a[f];wn(s!==void 0&&s[f]!==void 0,"Did not find corresponding fetcher result");let x=s[f];if(!(y&&y.signal.aborted))if(Es(x)){let S=Xm(r.matches,g==null?void 0:g.route.id);d&&d[S.route.id]||(d=Cr({},d,{[S.route.id]:x.error})),r.fetchers.delete(m)}else if(pd(x))wn(!1,"Unhandled fetcher revalidation redirect");else if(hd(x))wn(!1,"Unhandled fetcher deferred data");else{let S=Wc(x.data);r.fetchers.set(m,S)}}return{loaderData:c,errors:d}}function sA(r,e,t,n){let i=Cr({},e);for(let a of t){let s=a.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):r[s]!==void 0&&a.route.loader&&(i[s]=r[s]),n&&n.hasOwnProperty(s))break}return i}function oA(r){return r?Es(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Xm(r,e){return(e?r.slice(0,r.findIndex(n=>n.route.id===e)+1):[...r]).reverse().find(n=>n.route.hasErrorBoundary===!0)||r[0]}function lA(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function xs(r,e){let{pathname:t,routeId:n,method:i,type:a}=e===void 0?{}:e,s="Unknown Server Error",o="Unknown @remix-run/router error";return r===400?(s="Bad Request",i&&t&&n?o="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":a==="defer-action"?o="defer() is not supported in actions":a==="invalid-body"&&(o="Unable to encode submission body")):r===403?(s="Forbidden",o='Route "'+n+'" does not match URL "'+t+'"'):r===404?(s="Not Found",o='No route matches URL "'+t+'"'):r===405&&(s="Method Not Allowed",i&&t&&n?o="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(o='Invalid request method "'+i.toUpperCase()+'"')),new AC(r||500,s,new Error(o),!0)}function cA(r){for(let e=r.length-1;e>=0;e--){let t=r[e];if(pd(t))return{result:t,idx:e}}}function mk(r){let e=typeof r=="string"?Kl(r):r;return Pd(Cr({},e,{hash:""}))}function w6(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function C6(r){return gk(r.result)&&c6.has(r.result.status)}function hd(r){return r.type===xr.deferred}function Es(r){return r.type===xr.error}function pd(r){return(r&&r.type)===xr.redirect}function b6(r){let e=r;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function gk(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function M6(r){return l6.has(r.toLowerCase())}function eo(r){return s6.has(r.toLowerCase())}async function uA(r,e,t,n,i,a){for(let s=0;s<t.length;s++){let o=t[s],c=e[s];if(!c)continue;let d=r.find(m=>m.route.id===c.route.id),f=d!=null&&!pk(d,c)&&(a&&a[c.route.id])!==void 0;if(hd(o)&&(i||f)){let m=n[s];wn(m,"Expected an AbortSignal for revalidating fetcher deferred result"),await yk(o,m,i).then(g=>{g&&(t[s]=g||t[s])})}}}async function yk(r,e,t){if(t===void 0&&(t=!1),!await r.deferredData.resolveData(e)){if(t)try{return{type:xr.data,data:r.deferredData.unwrappedData}}catch(i){return{type:xr.error,error:i}}return{type:xr.data,data:r.deferredData.data}}}function IC(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function OE(r,e){let t=typeof e=="string"?Kl(e).search:e.search;if(r[r.length-1].route.index&&IC(t||""))return r[r.length-1];let n=dk(r);return n[n.length-1]}function dA(r){let{formMethod:e,formAction:t,formEncType:n,text:i,formData:a,json:s}=r;if(!(!e||!t||!n)){if(i!=null)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:t,formEncType:n,formData:a,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:s,text:void 0}}}function t1(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function T6(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function _m(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function A6(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Wc(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function P6(r,e){try{let t=r.sessionStorage.getItem(hk);if(t){let n=JSON.parse(t);for(let[i,a]of Object.entries(n||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function R6(r,e){if(e.size>0){let t={};for(let[n,i]of e)t[n]=[...i];try{r.sessionStorage.setItem(hk,JSON.stringify(t))}catch(n){Kh(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gg(){return gg=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},gg.apply(this,arguments)}const ox=z.createContext(null),vk=z.createContext(null),Hd=z.createContext(null),lx=z.createContext(null),Jl=z.createContext({outlet:null,matches:[],isDataRoute:!1}),_k=z.createContext(null);function I6(r,e){let{relative:t}=e===void 0?{}:e;sy()||wn(!1);let{basename:n,navigator:i}=z.useContext(Hd),{hash:a,pathname:s,search:o}=Sk(r,{relative:t}),c=s;return n!=="/"&&(c=s==="/"?n:zl([n,s])),i.createHref({pathname:c,search:o,hash:a})}function sy(){return z.useContext(lx)!=null}function cx(){return sy()||wn(!1),z.useContext(lx).location}function xk(r){z.useContext(Hd).static||z.useLayoutEffect(r)}function O6(){let{isDataRoute:r}=z.useContext(Jl);return r?q6():k6()}function k6(){sy()||wn(!1);let r=z.useContext(ox),{basename:e,future:t,navigator:n}=z.useContext(Hd),{matches:i}=z.useContext(Jl),{pathname:a}=cx(),s=JSON.stringify(MC(i,t.v7_relativeSplatPath)),o=z.useRef(!1);return xk(()=>{o.current=!0}),z.useCallback(function(d,f){if(f===void 0&&(f={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let m=TC(d,JSON.parse(s),a,f.relative==="path");r==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:zl([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,s,a,r])}const F6=z.createContext(null);function D6(r){let e=z.useContext(Jl).outlet;return e&&z.createElement(F6.Provider,{value:r},e)}function L6(){let{matches:r}=z.useContext(Jl),e=r[r.length-1];return e?e.params:{}}function Sk(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=z.useContext(Hd),{matches:i}=z.useContext(Jl),{pathname:a}=cx(),s=JSON.stringify(MC(i,n.v7_relativeSplatPath));return z.useMemo(()=>TC(r,JSON.parse(s),a,t==="path"),[r,s,a,t])}function N6(r,e){return Ek(r,e)}function Ek(r,e,t,n){sy()||wn(!1);let{navigator:i}=z.useContext(Hd),{matches:a}=z.useContext(Jl),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let d=cx(),f;if(e){var m;let _=typeof e=="string"?Kl(e):e;c==="/"||(m=_.pathname)!=null&&m.startsWith(c)||wn(!1),f=_}else f=d;let g=f.pathname||"/",y=g;if(c!=="/"){let _=c.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=kh(r,{pathname:y}),S=H6(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:zl([c,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:zl([c,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),a,t,n);return e&&S?z.createElement(lx.Provider,{value:{location:gg({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:zr.Pop}},S):S}function U6(){let r=G6(),e=PC(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:i},t):null,null)}const B6=z.createElement(U6,null);class z6 extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?z.createElement(Jl.Provider,{value:this.props.routeContext},z.createElement(_k.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function V6(r){let{routeContext:e,match:t,children:n}=r,i=z.useContext(ox);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(Jl.Provider,{value:e},n)}function H6(r,e,t,n){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var a;if((a=t)!=null&&a.errors)r=t.matches;else return null}let s=r,o=(i=t)==null?void 0:i.errors;if(o!=null){let f=s.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);f>=0||wn(!1),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,d=-1;if(t&&n&&n.v7_partialHydration)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:g,errors:y}=t,x=m.route.loader&&g[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||x){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,m,g)=>{let y,x=!1,S=null,_=null;t&&(y=o&&m.route.id?o[m.route.id]:void 0,S=m.route.errorElement||B6,c&&(d<0&&g===0?(X6("route-fallback"),x=!0,_=null):d===g&&(x=!0,_=m.route.hydrateFallbackElement||null)));let E=e.concat(s.slice(0,g+1)),w=()=>{let C;return y?C=S:x?C=_:m.route.Component?C=z.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=f,z.createElement(V6,{match:m,routeContext:{outlet:f,matches:E,isDataRoute:t!=null},children:C})};return t&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?z.createElement(z6,{location:t.location,revalidation:t.revalidation,component:S,error:y,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):w()},null)}var wk=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(wk||{}),s_=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(s_||{});function j6(r){let e=z.useContext(ox);return e||wn(!1),e}function $6(r){let e=z.useContext(vk);return e||wn(!1),e}function W6(r){let e=z.useContext(Jl);return e||wn(!1),e}function Ck(r){let e=W6(),t=e.matches[e.matches.length-1];return t.route.id||wn(!1),t.route.id}function G6(){var r;let e=z.useContext(_k),t=$6(s_.UseRouteError),n=Ck(s_.UseRouteError);return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function q6(){let{router:r}=j6(wk.UseNavigateStable),e=Ck(s_.UseNavigateStable),t=z.useRef(!1);return xk(()=>{t.current=!0}),z.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,gg({fromRouteId:e},a)))},[r,e])}const fA={};function X6(r,e,t){fA[r]||(fA[r]=!0)}function Y6(r){return D6(r.context)}function rd(r){wn(!1)}function Q6(r){let{basename:e="/",children:t=null,location:n,navigationType:i=zr.Pop,navigator:a,static:s=!1,future:o}=r;sy()&&wn(!1);let c=e.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:c,navigator:a,static:s,future:gg({v7_relativeSplatPath:!1},o)}),[c,o,a,s]);typeof n=="string"&&(n=Kl(n));let{pathname:f="/",search:m="",hash:g="",state:y=null,key:x="default"}=n,S=z.useMemo(()=>{let _=dp(f,c);return _==null?null:{location:{pathname:_,search:m,hash:g,state:y,key:x},navigationType:i}},[c,f,m,g,y,x,i]);return S==null?null:z.createElement(Hd.Provider,{value:d},z.createElement(lx.Provider,{children:t,value:S}))}function K6(r){let{children:e,location:t}=r;return N6(kE(e),t)}new Promise(()=>{});function kE(r,e){e===void 0&&(e=[]);let t=[];return z.Children.forEach(r,(n,i)=>{if(!z.isValidElement(n))return;let a=[...e,i];if(n.type===z.Fragment){t.push.apply(t,kE(n.props.children,a));return}n.type!==rd&&wn(!1),!n.props.index||!n.props.children||wn(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=kE(n.props.children,a)),t.push(s)}),t}function J6(r){let e={hasErrorBoundary:r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&Object.assign(e,{element:z.createElement(r.Component),Component:void 0}),r.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:z.createElement(r.HydrateFallback),HydrateFallback:void 0}),r.ErrorBoundary&&Object.assign(e,{errorElement:z.createElement(r.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yg(){return yg=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},yg.apply(this,arguments)}function Z6(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function eH(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function tH(r,e){return r.button===0&&(!e||e==="_self")&&!eH(r)}const nH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],rH="6";try{window.__reactRouterVersion=rH}catch{}function iH(r,e){return h6({basename:void 0,future:yg({},void 0,{v7_prependBasename:!0}),history:L8({window:void 0}),hydrationData:aH(),routes:r,mapRouteProperties:J6,unstable_dataStrategy:void 0,window:void 0}).initialize()}function aH(){var r;let e=(r=window)==null?void 0:r.__staticRouterHydrationData;return e&&e.errors&&(e=yg({},e,{errors:sH(e.errors)})),e}function sH(r){if(!r)return null;let e=Object.entries(r),t={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")t[n]=new AC(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let s=new a(i.message);s.stack="",t[n]=s}catch{}}if(t[n]==null){let a=new Error(i.message);a.stack="",t[n]=a}}else t[n]=i;return t}const oH=z.createContext({isTransitioning:!1}),lH=z.createContext(new Map),cH="startTransition",hA=Yh[cH],uH="flushSync",pA=sI[uH];function dH(r){hA?hA(r):r()}function xm(r){pA?pA(r):r()}class fH{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}}function hH(r){let{fallbackElement:e,router:t,future:n}=r,[i,a]=z.useState(t.state),[s,o]=z.useState(),[c,d]=z.useState({isTransitioning:!1}),[f,m]=z.useState(),[g,y]=z.useState(),[x,S]=z.useState(),_=z.useRef(new Map),{v7_startTransition:E}=n||{},w=z.useCallback(P=>{E?dH(P):P()},[E]),C=z.useCallback((P,N)=>{let{deletedFetchers:D,unstable_flushSync:I,unstable_viewTransitionOpts:V}=N;D.forEach(W=>_.current.delete(W)),P.fetchers.forEach((W,ee)=>{W.data!==void 0&&_.current.set(ee,W.data)});let q=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!V||q){I?xm(()=>a(P)):w(()=>a(P));return}if(I){xm(()=>{g&&(f&&f.resolve(),g.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let W=t.window.document.startViewTransition(()=>{xm(()=>a(P))});W.finished.finally(()=>{xm(()=>{m(void 0),y(void 0),o(void 0),d({isTransitioning:!1})})}),xm(()=>y(W));return}g?(f&&f.resolve(),g.skipTransition(),S({state:P,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(o(P),d({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[t.window,g,f,_,w]);z.useLayoutEffect(()=>t.subscribe(C),[t,C]),z.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new fH)},[c]),z.useEffect(()=>{if(f&&s&&t.window){let P=s,N=f.promise,D=t.window.document.startViewTransition(async()=>{w(()=>a(P)),await N});D.finished.finally(()=>{m(void 0),y(void 0),o(void 0),d({isTransitioning:!1})}),y(D)}},[w,s,f,t.window]),z.useEffect(()=>{f&&s&&i.location.key===s.location.key&&f.resolve()},[f,g,i.location,s]),z.useEffect(()=>{!c.isTransitioning&&x&&(o(x.state),d({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),S(void 0))},[c.isTransitioning,x]),z.useEffect(()=>{},[]);let T=z.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:P=>t.navigate(P),push:(P,N,D)=>t.navigate(P,{state:N,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(P,N,D)=>t.navigate(P,{replace:!0,state:N,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[t]),O=t.basename||"/",R=z.useMemo(()=>({router:t,navigator:T,static:!1,basename:O}),[t,T,O]);return z.createElement(z.Fragment,null,z.createElement(ox.Provider,{value:R},z.createElement(vk.Provider,{value:i},z.createElement(lH.Provider,{value:_.current},z.createElement(oH.Provider,{value:c},z.createElement(Q6,{basename:O,location:i.location,navigationType:i.historyAction,navigator:T,future:{v7_relativeSplatPath:t.future.v7_relativeSplatPath}},i.initialized||t.future.v7_partialHydration?z.createElement(pH,{routes:t.routes,future:t.future,state:i}):e))))),null)}function pH(r){let{routes:e,future:t,state:n}=r;return Ek(e,void 0,n,t)}const mH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tv=z.forwardRef(function(e,t){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:c,to:d,preventScrollReset:f,unstable_viewTransition:m}=e,g=Z6(e,nH),{basename:y}=z.useContext(Hd),x,S=!1;if(typeof d=="string"&&gH.test(d)&&(x=d,mH))try{let C=new URL(window.location.href),T=d.startsWith("//")?new URL(C.protocol+d):new URL(d),O=dp(T.pathname,y);T.origin===C.origin&&O!=null?d=O+T.search+T.hash:S=!0}catch{}let _=I6(d,{relative:i}),E=yH(d,{replace:s,state:o,target:c,preventScrollReset:f,relative:i,unstable_viewTransition:m});function w(C){n&&n(C),C.defaultPrevented||E(C)}return z.createElement("a",yg({},g,{href:x||_,onClick:S||a?n:w,ref:t,target:c}))});var mA;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(mA||(mA={}));var gA;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(gA||(gA={}));function yH(r,e){let{target:t,replace:n,state:i,preventScrollReset:a,relative:s,unstable_viewTransition:o}=e===void 0?{}:e,c=O6(),d=cx(),f=Sk(r,{relative:s});return z.useCallback(m=>{if(tH(m,t)){m.preventDefault();let g=n!==void 0?n:Pd(d)===Pd(f);c(r,{replace:g,state:i,preventScrollReset:a,relative:s,unstable_viewTransition:o})}},[d,c,f,n,i,t,r,a,s,o])}var bk={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(r){(function(){var e={}.hasOwnProperty;function t(){for(var a="",s=0;s<arguments.length;s++){var o=arguments[s];o&&(a=i(a,n(o)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var s="";for(var o in a)e.call(a,o)&&a[o]&&(s=i(s,o));return s}function i(a,s){return s?a?a+" "+s:a+s:a}r.exports?(t.default=t,r.exports=t):window.classNames=t})()})(bk);var vH=bk.exports;const Ft=en(vH);function Rd(){return Rd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Rd.apply(null,arguments)}function OC(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function yA(r){return"default"+r.charAt(0).toUpperCase()+r.substr(1)}function _H(r){var e=xH(r,"string");return typeof e=="symbol"?e:String(e)}function xH(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function SH(r,e,t){var n=z.useRef(r!==void 0),i=z.useState(e),a=i[0],s=i[1],o=r!==void 0,c=n.current;return n.current=o,!o&&c&&a!==e&&s(e),[o?r:a,z.useCallback(function(d){for(var f=arguments.length,m=new Array(f>1?f-1:0),g=1;g<f;g++)m[g-1]=arguments[g];t&&t.apply(void 0,[d].concat(m)),s(d)},[t])]}function ux(r,e){return Object.keys(e).reduce(function(t,n){var i,a=t,s=a[yA(n)],o=a[n],c=OC(a,[yA(n),n].map(_H)),d=e[n],f=SH(o,s,r[d]),m=f[0],g=f[1];return Rd({},c,(i={},i[n]=m,i[d]=g,i))},r)}function FE(r,e){return FE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},FE(r,e)}function EH(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,FE(r,e)}const wH=["xxl","xl","lg","md","sm","xs"],CH="xs",dx=z.createContext({prefixes:{},breakpoints:wH,minBreakpoint:CH});function tn(r,e){const{prefixes:t}=z.useContext(dx);return r||t[e]||e}function Mk(){const{breakpoints:r}=z.useContext(dx);return r}function Tk(){const{minBreakpoint:r}=z.useContext(dx);return r}function bH(){const{dir:r}=z.useContext(dx);return r==="rtl"}function kC(r){return r&&r.ownerDocument||document}function MH(r){var e=kC(r);return e&&e.defaultView||window}function TH(r,e){return MH(r).getComputedStyle(r,e)}var AH=/([A-Z])/g;function PH(r){return r.replace(AH,"-$1").toLowerCase()}var RH=/^ms-/;function Av(r){return PH(r).replace(RH,"-ms-")}var IH=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function OH(r){return!!(r&&IH.test(r))}function Vl(r,e){var t="",n="";if(typeof e=="string")return r.style.getPropertyValue(Av(e))||TH(r).getPropertyValue(Av(e));Object.keys(e).forEach(function(i){var a=e[i];!a&&a!==0?r.style.removeProperty(Av(i)):OH(i)?n+=i+"("+a+") ":t+=Av(i)+": "+a+";"}),n&&(t+="transform: "+n+";"),r.style.cssText+=";"+t}var Ak={exports:{}},n1,vA;function kH(){if(vA)return n1;vA=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return n1=r,n1}var r1,_A;function FH(){if(_A)return r1;_A=1;var r=kH();function e(){}function t(){}return t.resetWarningCache=e,r1=function(){function n(s,o,c,d,f,m){if(m!==r){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},r1}Ak.exports=FH()();var DH=Ak.exports;const Ua=en(DH),xA={disabled:!1},Pk=_i.createContext(null);var LH=function(e){return e.scrollTop},Hm="unmounted",Gc="exited",ws="entering",Ol="entered",Jh="exiting",Zl=function(r){EH(e,r);function e(n,i){var a;a=r.call(this,n,i)||this;var s=i,o=s&&!s.isMounting?n.enter:n.appear,c;return a.appearStatus=null,n.in?o?(c=Gc,a.appearStatus=ws):c=Ol:n.unmountOnExit||n.mountOnEnter?c=Hm:c=Gc,a.state={status:c},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var s=i.in;return s&&a.status===Hm?{status:Gc}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var a=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==ws&&s!==Ol&&(a=ws):(s===ws||s===Ol)&&(a=Jh)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,a,s,o;return a=s=o=i,i!=null&&typeof i!="number"&&(a=i.exit,s=i.enter,o=i.appear!==void 0?i.appear:s),{exit:a,enter:s,appear:o}},t.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===ws){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:fd.findDOMNode(this);s&&LH(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Gc&&this.setState({status:Hm})},t.performEnter=function(i){var a=this,s=this.props.enter,o=this.context?this.context.isMounting:i,c=this.props.nodeRef?[o]:[fd.findDOMNode(this),o],d=c[0],f=c[1],m=this.getTimeouts(),g=o?m.appear:m.enter;if(!i&&!s||xA.disabled){this.safeSetState({status:Ol},function(){a.props.onEntered(d)});return}this.props.onEnter(d,f),this.safeSetState({status:ws},function(){a.props.onEntering(d,f),a.onTransitionEnd(g,function(){a.safeSetState({status:Ol},function(){a.props.onEntered(d,f)})})})},t.performExit=function(){var i=this,a=this.props.exit,s=this.getTimeouts(),o=this.props.nodeRef?void 0:fd.findDOMNode(this);if(!a||xA.disabled){this.safeSetState({status:Gc},function(){i.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:Jh},function(){i.props.onExiting(o),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Gc},function(){i.props.onExited(o)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},t.setNextCallback=function(i){var a=this,s=!0;return this.nextCallback=function(o){s&&(s=!1,a.nextCallback=null,i(o))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},t.onTransitionEnd=function(i,a){this.setNextCallback(a);var s=this.props.nodeRef?this.props.nodeRef.current:fd.findDOMNode(this),o=i==null&&!this.props.addEndListener;if(!s||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],d=c[0],f=c[1];this.props.addEndListener(d,f)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Hm)return null;var a=this.props,s=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var o=OC(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return _i.createElement(Pk.Provider,{value:null},typeof s=="function"?s(i,o):_i.cloneElement(_i.Children.only(s),o))},e}(_i.Component);Zl.contextType=Pk;Zl.propTypes={};function Zf(){}Zl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Zf,onEntering:Zf,onEntered:Zf,onExit:Zf,onExiting:Zf,onExited:Zf};Zl.UNMOUNTED=Hm;Zl.EXITED=Gc;Zl.ENTERING=ws;Zl.ENTERED=Ol;Zl.EXITING=Jh;const fx=!!(typeof window<"u"&&window.document&&window.document.createElement);var DE=!1,LE=!1;try{var i1={get passive(){return DE=!0},get once(){return LE=DE=!0}};fx&&(window.addEventListener("test",i1,i1),window.removeEventListener("test",i1,!0))}catch{}function NH(r,e,t,n){if(n&&typeof n!="boolean"&&!LE){var i=n.once,a=n.capture,s=t;!LE&&i&&(s=t.__once||function o(c){this.removeEventListener(e,o,a),t.call(this,c)},t.__once=s),r.addEventListener(e,s,DE?n:a)}r.addEventListener(e,t,n)}function UH(r,e,t,n){var i=n&&typeof n!="boolean"?n.capture:n;r.removeEventListener(e,t,i),t.__once&&r.removeEventListener(e,t.__once,i)}function o_(r,e,t,n){return NH(r,e,t,n),function(){UH(r,e,t,n)}}function BH(r,e,t,n){if(n===void 0&&(n=!0),r){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,n),r.dispatchEvent(i)}}function zH(r){var e=Vl(r,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function VH(r,e,t){t===void 0&&(t=5);var n=!1,i=setTimeout(function(){n||BH(r,"transitionend",!0)},e+t),a=o_(r,"transitionend",function(){n=!0},{once:!0});return function(){clearTimeout(i),a()}}function HH(r,e,t,n){t==null&&(t=zH(r)||0);var i=VH(r,t,n),a=o_(r,"transitionend",e);return function(){i(),a()}}function SA(r,e){const t=Vl(r,e)||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function hx(r,e){const t=SA(r,"transitionDuration"),n=SA(r,"transitionDelay"),i=HH(r,a=>{a.target===r&&(i(),e(a))},t+n)}function Sm(...r){return r.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...i){e.apply(this,i),t.apply(this,i)}},null)}function FC(r){r.offsetHeight}const EA=r=>!r||typeof r=="function"?r:e=>{r.current=e};function jH(r,e){const t=EA(r),n=EA(e);return i=>{t&&t(i),n&&n(i)}}function oy(r,e){return z.useMemo(()=>jH(r,e),[r,e])}function $H(r){return r&&"setState"in r?fd.findDOMNode(r):r??null}const px=_i.forwardRef(({onEnter:r,onEntering:e,onEntered:t,onExit:n,onExiting:i,onExited:a,addEndListener:s,children:o,childRef:c,...d},f)=>{const m=z.useRef(null),g=oy(m,c),y=R=>{g($H(R))},x=R=>P=>{R&&m.current&&R(m.current,P)},S=z.useCallback(x(r),[r]),_=z.useCallback(x(e),[e]),E=z.useCallback(x(t),[t]),w=z.useCallback(x(n),[n]),C=z.useCallback(x(i),[i]),T=z.useCallback(x(a),[a]),O=z.useCallback(x(s),[s]);return H.jsx(Zl,{ref:f,...d,onEnter:S,onEntered:E,onEntering:_,onExit:w,onExited:T,onExiting:C,addEndListener:O,nodeRef:m,children:typeof o=="function"?(R,P)=>o(R,{...P,ref:y}):_i.cloneElement(o,{ref:y})})}),WH={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function GH(r,e){const t=`offset${r[0].toUpperCase()}${r.slice(1)}`,n=e[t],i=WH[r];return n+parseInt(Vl(e,i[0]),10)+parseInt(Vl(e,i[1]),10)}const qH={[Gc]:"collapse",[Jh]:"collapsing",[ws]:"collapsing",[Ol]:"collapse show"},Rk=_i.forwardRef(({onEnter:r,onEntering:e,onEntered:t,onExit:n,onExiting:i,className:a,children:s,dimension:o="height",in:c=!1,timeout:d=300,mountOnEnter:f=!1,unmountOnExit:m=!1,appear:g=!1,getDimensionValue:y=GH,...x},S)=>{const _=typeof o=="function"?o():o,E=z.useMemo(()=>Sm(R=>{R.style[_]="0"},r),[_,r]),w=z.useMemo(()=>Sm(R=>{const P=`scroll${_[0].toUpperCase()}${_.slice(1)}`;R.style[_]=`${R[P]}px`},e),[_,e]),C=z.useMemo(()=>Sm(R=>{R.style[_]=null},t),[_,t]),T=z.useMemo(()=>Sm(R=>{R.style[_]=`${y(_,R)}px`,FC(R)},n),[n,y,_]),O=z.useMemo(()=>Sm(R=>{R.style[_]=null},i),[_,i]);return H.jsx(px,{ref:S,addEndListener:hx,...x,"aria-expanded":x.role?c:null,onEnter:E,onEntering:w,onEntered:C,onExit:T,onExiting:O,childRef:s.ref,in:c,timeout:d,mountOnEnter:f,unmountOnExit:m,appear:g,children:(R,P)=>_i.cloneElement(s,{...P,className:Ft(a,s.props.className,qH[R],_==="width"&&"collapse-horizontal")})})});function Ik(r,e){return Array.isArray(r)?r.includes(e):r===e}const ly=z.createContext({});ly.displayName="AccordionContext";const DC=z.forwardRef(({as:r="div",bsPrefix:e,className:t,children:n,eventKey:i,...a},s)=>{const{activeEventKey:o}=z.useContext(ly);return e=tn(e,"accordion-collapse"),H.jsx(Rk,{ref:s,in:Ik(o,i),...a,className:Ft(t,e),children:H.jsx(r,{children:z.Children.only(n)})})});DC.displayName="AccordionCollapse";const mx=z.createContext({eventKey:""});mx.displayName="AccordionItemContext";const Ok=z.forwardRef(({as:r="div",bsPrefix:e,className:t,onEnter:n,onEntering:i,onEntered:a,onExit:s,onExiting:o,onExited:c,...d},f)=>{e=tn(e,"accordion-body");const{eventKey:m}=z.useContext(mx);return H.jsx(DC,{eventKey:m,onEnter:n,onEntering:i,onEntered:a,onExit:s,onExiting:o,onExited:c,children:H.jsx(r,{ref:f,...d,className:Ft(t,e)})})});Ok.displayName="AccordionBody";function XH(r,e){const{activeEventKey:t,onSelect:n,alwaysOpen:i}=z.useContext(ly);return a=>{let s=r===t?null:r;i&&(Array.isArray(t)?t.includes(r)?s=t.filter(o=>o!==r):s=[...t,r]:s=[r]),n==null||n(s,a),e==null||e(a)}}const LC=z.forwardRef(({as:r="button",bsPrefix:e,className:t,onClick:n,...i},a)=>{e=tn(e,"accordion-button");const{eventKey:s}=z.useContext(mx),o=XH(s,n),{activeEventKey:c}=z.useContext(ly);return r==="button"&&(i.type="button"),H.jsx(r,{ref:a,onClick:o,...i,"aria-expanded":Array.isArray(c)?c.includes(s):s===c,className:Ft(t,e,!Ik(c,s)&&"collapsed")})});LC.displayName="AccordionButton";const kk=z.forwardRef(({as:r="h2",bsPrefix:e,className:t,children:n,onClick:i,...a},s)=>(e=tn(e,"accordion-header"),H.jsx(r,{ref:s,...a,className:Ft(t,e),children:H.jsx(LC,{onClick:i,children:n})})));kk.displayName="AccordionHeader";const Fk=z.forwardRef(({as:r="div",bsPrefix:e,className:t,eventKey:n,...i},a)=>{e=tn(e,"accordion-item");const s=z.useMemo(()=>({eventKey:n}),[n]);return H.jsx(mx.Provider,{value:s,children:H.jsx(r,{ref:a,...i,className:Ft(t,e)})})});Fk.displayName="AccordionItem";const Dk=z.forwardRef((r,e)=>{const{as:t="div",activeKey:n,bsPrefix:i,className:a,onSelect:s,flush:o,alwaysOpen:c,...d}=ux(r,{activeKey:"onSelect"}),f=tn(i,"accordion"),m=z.useMemo(()=>({activeEventKey:n,onSelect:s,alwaysOpen:c}),[n,s,c]);return H.jsx(ly.Provider,{value:m,children:H.jsx(t,{ref:e,...d,className:Ft(a,f,o&&`${f}-flush`)})})});Dk.displayName="Accordion";const mi=Object.assign(Dk,{Button:LC,Collapse:DC,Item:Fk,Header:kk,Body:Ok});function Lk(r){const e=z.useRef(r);return z.useEffect(()=>{e.current=r},[r]),e}function ma(r){const e=Lk(r);return z.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const NC=r=>z.forwardRef((e,t)=>H.jsx("div",{...e,ref:t,className:Ft(e.className,r)}));function Nk(){const r=z.useRef(!0),e=z.useRef(()=>r.current);return z.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),e.current}function YH(r){const e=z.useRef(null);return z.useEffect(()=>{e.current=r}),e.current}const QH=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",KH=typeof document<"u",NE=KH||QH?z.useLayoutEffect:z.useEffect,JH=["as","disabled"];function ZH(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function ej(r){return!r||r.trim()==="#"}function Uk({tagName:r,disabled:e,href:t,target:n,rel:i,role:a,onClick:s,tabIndex:o=0,type:c}){r||(t!=null||n!=null||i!=null?r="a":r="button");const d={tagName:r};if(r==="button")return[{type:c||"button",disabled:e},d];const f=g=>{if((e||r==="a"&&ej(t))&&g.preventDefault(),e){g.stopPropagation();return}s==null||s(g)},m=g=>{g.key===" "&&(g.preventDefault(),f(g))};return r==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:o,href:t,target:r==="a"?n:void 0,"aria-disabled":e||void 0,rel:r==="a"?i:void 0,onClick:f,onKeyDown:m},d]}const Bk=z.forwardRef((r,e)=>{let{as:t,disabled:n}=r,i=ZH(r,JH);const[a,{tagName:s}]=Uk(Object.assign({tagName:t,disabled:n},i));return H.jsx(s,Object.assign({},i,a,{ref:e}))});Bk.displayName="Button";const tj=Bk,nj=["onKeyDown"];function rj(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function ij(r){return!r||r.trim()==="#"}const l_=z.forwardRef((r,e)=>{let{onKeyDown:t}=r,n=rj(r,nj);const[i]=Uk(Object.assign({tagName:"a"},n)),a=ma(s=>{i.onKeyDown(s),t==null||t(s)});return ij(n.href)||n.role==="button"?H.jsx("a",Object.assign({ref:e},n,i,{onKeyDown:a})):H.jsx("a",Object.assign({ref:e},n,{onKeyDown:t}))});l_.displayName="Anchor";const aj={[ws]:"show",[Ol]:"show"},UC=z.forwardRef(({className:r,children:e,transitionClasses:t={},onEnter:n,...i},a)=>{const s={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},o=z.useCallback((c,d)=>{FC(c),n==null||n(c,d)},[n]);return H.jsx(px,{ref:a,addEndListener:hx,...s,onEnter:o,childRef:e.ref,children:(c,d)=>z.cloneElement(e,{...d,className:Ft("fade",r,e.props.className,aj[c],t[c])})})});UC.displayName="Fade";const sj={"aria-label":Ua.string,onClick:Ua.func,variant:Ua.oneOf(["white"])},gx=z.forwardRef(({className:r,variant:e,"aria-label":t="Close",...n},i)=>H.jsx("button",{ref:i,type:"button",className:Ft("btn-close",e&&`btn-close-${e}`,r),"aria-label":t,...n}));gx.displayName="CloseButton";gx.propTypes=sj;const Ed=z.forwardRef(({bsPrefix:r,bg:e="primary",pill:t=!1,text:n,className:i,as:a="span",...s},o)=>{const c=tn(r,"badge");return H.jsx(a,{ref:o,...s,className:Ft(i,c,t&&"rounded-pill",n&&`text-${n}`,e&&`bg-${e}`)})});Ed.displayName="Badge";const UE=z.forwardRef(({bsPrefix:r,size:e,vertical:t=!1,className:n,role:i="group",as:a="div",...s},o)=>{const c=tn(r,"btn-group");let d=c;return t&&(d=`${c}-vertical`),H.jsx(a,{...s,ref:o,role:i,className:Ft(n,d,e&&`${c}-${e}`)})});UE.displayName="ButtonGroup";const BC=z.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=tn(e,"card-body"),H.jsx(t,{ref:i,className:Ft(r,e),...n})));BC.displayName="CardBody";const zk=z.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=tn(e,"card-footer"),H.jsx(t,{ref:i,className:Ft(r,e),...n})));zk.displayName="CardFooter";const zC=z.createContext(null);zC.displayName="CardHeaderContext";const Vk=z.forwardRef(({bsPrefix:r,className:e,as:t="div",...n},i)=>{const a=tn(r,"card-header"),s=z.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return H.jsx(zC.Provider,{value:s,children:H.jsx(t,{ref:i,...n,className:Ft(e,a)})})});Vk.displayName="CardHeader";const Hk=z.forwardRef(({bsPrefix:r,className:e,variant:t,as:n="img",...i},a)=>{const s=tn(r,"card-img");return H.jsx(n,{ref:a,className:Ft(t?`${s}-${t}`:s,e),...i})});Hk.displayName="CardImg";const jk=z.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=tn(e,"card-img-overlay"),H.jsx(t,{ref:i,className:Ft(r,e),...n})));jk.displayName="CardImgOverlay";const $k=z.forwardRef(({className:r,bsPrefix:e,as:t="a",...n},i)=>(e=tn(e,"card-link"),H.jsx(t,{ref:i,className:Ft(r,e),...n})));$k.displayName="CardLink";const oj=NC("h6"),Wk=z.forwardRef(({className:r,bsPrefix:e,as:t=oj,...n},i)=>(e=tn(e,"card-subtitle"),H.jsx(t,{ref:i,className:Ft(r,e),...n})));Wk.displayName="CardSubtitle";const Gk=z.forwardRef(({className:r,bsPrefix:e,as:t="p",...n},i)=>(e=tn(e,"card-text"),H.jsx(t,{ref:i,className:Ft(r,e),...n})));Gk.displayName="CardText";const lj=NC("h5"),qk=z.forwardRef(({className:r,bsPrefix:e,as:t=lj,...n},i)=>(e=tn(e,"card-title"),H.jsx(t,{ref:i,className:Ft(r,e),...n})));qk.displayName="CardTitle";const Xk=z.forwardRef(({bsPrefix:r,className:e,bg:t,text:n,border:i,body:a=!1,children:s,as:o="div",...c},d)=>{const f=tn(r,"card");return H.jsx(o,{ref:d,...c,className:Ft(e,f,t&&`bg-${t}`,n&&`text-${n}`,i&&`border-${i}`),children:a?H.jsx(BC,{children:s}):s})});Xk.displayName="Card";const bn=Object.assign(Xk,{Img:Hk,Title:qk,Subtitle:Wk,Body:BC,Link:$k,Text:Gk,Header:Vk,Footer:zk,ImgOverlay:jk});function cj(r,e){const t=z.useRef(!0);z.useEffect(()=>{if(t.current){t.current=!1;return}return r()},e)}function uj(r){const e=z.useRef(r);return e.current=r,e}function Yk(r){const e=uj(r);z.useEffect(()=>()=>e.current(),[])}const BE=2**31-1;function Qk(r,e,t){const n=t-Date.now();r.current=n<=BE?setTimeout(e,n):setTimeout(()=>Qk(r,e,t),BE)}function Kk(){const r=Nk(),e=z.useRef();return Yk(()=>clearTimeout(e.current)),z.useMemo(()=>{const t=()=>clearTimeout(e.current);function n(i,a=0){r()&&(t(),a<=BE?e.current=setTimeout(i,a):Qk(e,i,Date.now()+a))}return{set:n,clear:t,handleRef:e}},[])}const Jk=z.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=tn(e,"carousel-caption"),H.jsx(t,{ref:i,className:Ft(r,e),...n})));Jk.displayName="CarouselCaption";const Zk=z.forwardRef(({as:r="div",bsPrefix:e,className:t,...n},i)=>{const a=Ft(t,tn(e,"carousel-item"));return H.jsx(r,{ref:i,...n,className:a})});Zk.displayName="CarouselItem";function wA(r,e){let t=0;return z.Children.map(r,n=>z.isValidElement(n)?e(n,t++):n)}function dj(r,e){let t=0;z.Children.forEach(r,n=>{z.isValidElement(n)&&e(n,t++)})}function fj(r,e){return z.Children.toArray(r).some(t=>z.isValidElement(t)&&t.type===e)}const hj=40;function pj(r){if(!r||!r.style||!r.parentNode||!r.parentNode.style)return!1;const e=getComputedStyle(r);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(r.parentNode).display!=="none"}const eF=z.forwardRef(({defaultActiveIndex:r=0,...e},t)=>{const{as:n="div",bsPrefix:i,slide:a=!0,fade:s=!1,controls:o=!0,indicators:c=!0,indicatorLabels:d=[],activeIndex:f,onSelect:m,onSlide:g,onSlid:y,interval:x=5e3,keyboard:S=!0,onKeyDown:_,pause:E="hover",onMouseOver:w,onMouseOut:C,wrap:T=!0,touch:O=!0,onTouchStart:R,onTouchMove:P,onTouchEnd:N,prevIcon:D=H.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:I="Previous",nextIcon:V=H.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:q="Next",variant:W,className:ee,children:te,...re}=ux({defaultActiveIndex:r,...e},{activeIndex:"onSelect"}),ue=tn(i,"carousel"),G=bH(),le=z.useRef(null),[oe,X]=z.useState("next"),[ne,we]=z.useState(!1),[me,ye]=z.useState(!1),[Pe,Le]=z.useState(f||0);z.useEffect(()=>{!me&&f!==Pe&&(le.current?X(le.current):X((f||0)>Pe?"next":"prev"),a&&ye(!0),Le(f||0))},[f,me,Pe,a]),z.useEffect(()=>{le.current&&(le.current=null)});let Je=0,ot;dj(te,(pe,ve)=>{++Je,ve===f&&(ot=pe.props.interval)});const ft=Lk(ot),wt=z.useCallback(pe=>{if(me)return;let ve=Pe-1;if(ve<0){if(!T)return;ve=Je-1}le.current="prev",m==null||m(ve,pe)},[me,Pe,m,T,Je]),Z=ma(pe=>{if(me)return;let ve=Pe+1;if(ve>=Je){if(!T)return;ve=0}le.current="next",m==null||m(ve,pe)}),Be=z.useRef();z.useImperativeHandle(t,()=>({element:Be.current,prev:wt,next:Z}));const Ge=ma(()=>{!document.hidden&&pj(Be.current)&&(G?wt():Z())}),qe=oe==="next"?"start":"end";cj(()=>{a||(g==null||g(Pe,qe),y==null||y(Pe,qe))},[Pe]);const Ue=`${ue}-item-${oe}`,xt=`${ue}-item-${qe}`,st=z.useCallback(pe=>{FC(pe),g==null||g(Pe,qe)},[g,Pe,qe]),yt=z.useCallback(()=>{ye(!1),y==null||y(Pe,qe)},[y,Pe,qe]),se=z.useCallback(pe=>{if(S&&!/input|textarea/i.test(pe.target.tagName))switch(pe.key){case"ArrowLeft":pe.preventDefault(),G?Z(pe):wt(pe);return;case"ArrowRight":pe.preventDefault(),G?wt(pe):Z(pe);return}_==null||_(pe)},[S,_,wt,Z,G]),K=z.useCallback(pe=>{E==="hover"&&we(!0),w==null||w(pe)},[E,w]),Ce=z.useCallback(pe=>{we(!1),C==null||C(pe)},[C]),Xe=z.useRef(0),Ye=z.useRef(0),We=Kk(),Et=z.useCallback(pe=>{Xe.current=pe.touches[0].clientX,Ye.current=0,E==="hover"&&we(!0),R==null||R(pe)},[E,R]),$=z.useCallback(pe=>{pe.touches&&pe.touches.length>1?Ye.current=0:Ye.current=pe.touches[0].clientX-Xe.current,P==null||P(pe)},[P]),F=z.useCallback(pe=>{if(O){const ve=Ye.current;Math.abs(ve)>hj&&(ve>0?wt(pe):Z(pe))}E==="hover"&&We.set(()=>{we(!1)},x||void 0),N==null||N(pe)},[O,E,wt,Z,We,x,N]),B=x!=null&&!ne&&!me,Q=z.useRef();z.useEffect(()=>{var pe,ve;if(!B)return;const Ve=G?wt:Z;return Q.current=window.setInterval(document.visibilityState?Ge:Ve,(pe=(ve=ft.current)!=null?ve:x)!=null?pe:void 0),()=>{Q.current!==null&&clearInterval(Q.current)}},[B,wt,Z,ft,x,Ge,G]);const ie=z.useMemo(()=>c&&Array.from({length:Je},(pe,ve)=>Ve=>{m==null||m(ve,Ve)}),[c,Je,m]);return H.jsxs(n,{ref:Be,...re,onKeyDown:se,onMouseOver:K,onMouseOut:Ce,onTouchStart:Et,onTouchMove:$,onTouchEnd:F,className:Ft(ee,ue,a&&"slide",s&&`${ue}-fade`,W&&`${ue}-${W}`),children:[c&&H.jsx("div",{className:`${ue}-indicators`,children:wA(te,(pe,ve)=>H.jsx("button",{type:"button","data-bs-target":"","aria-label":d!=null&&d.length?d[ve]:`Slide ${ve+1}`,className:ve===Pe?"active":void 0,onClick:ie?ie[ve]:void 0,"aria-current":ve===Pe},ve))}),H.jsx("div",{className:`${ue}-inner`,children:wA(te,(pe,ve)=>{const Ve=ve===Pe;return a?H.jsx(px,{in:Ve,onEnter:Ve?st:void 0,onEntered:Ve?yt:void 0,addEndListener:hx,children:(de,ke)=>z.cloneElement(pe,{...ke,className:Ft(pe.props.className,Ve&&de!=="entered"&&Ue,(de==="entered"||de==="exiting")&&"active",(de==="entering"||de==="exiting")&&xt)})}):z.cloneElement(pe,{className:Ft(pe.props.className,Ve&&"active")})})}),o&&H.jsxs(H.Fragment,{children:[(T||f!==0)&&H.jsxs(l_,{className:`${ue}-control-prev`,onClick:wt,children:[D,I&&H.jsx("span",{className:"visually-hidden",children:I})]}),(T||f!==Je-1)&&H.jsxs(l_,{className:`${ue}-control-next`,onClick:Z,children:[V,q&&H.jsx("span",{className:"visually-hidden",children:q})]})]})]})});eF.displayName="Carousel";const a1=Object.assign(eF,{Caption:Jk,Item:Zk});function mj({as:r,bsPrefix:e,className:t,...n}){e=tn(e,"col");const i=Mk(),a=Tk(),s=[],o=[];return i.forEach(c=>{const d=n[c];delete n[c];let f,m,g;typeof d=="object"&&d!=null?{span:f,offset:m,order:g}=d:f=d;const y=c!==a?`-${c}`:"";f&&s.push(f===!0?`${e}${y}`:`${e}${y}-${f}`),g!=null&&o.push(`order${y}-${g}`),m!=null&&o.push(`offset${y}-${m}`)}),[{...n,className:Ft(t,...s,...o)},{as:r,bsPrefix:e,spans:s}]}const Nn=z.forwardRef((r,e)=>{const[{className:t,...n},{as:i="div",bsPrefix:a,spans:s}]=mj(r);return H.jsx(i,{...n,ref:e,className:Ft(t,!s.length&&a)})});Nn.displayName="Col";const Ms=z.forwardRef(({bsPrefix:r,fluid:e=!1,as:t="div",className:n,...i},a)=>{const s=tn(r,"container"),o=typeof e=="string"?`-${e}`:"-fluid";return H.jsx(t,{ref:a,...i,className:Ft(n,e?`${s}${o}`:s)})});Ms.displayName="Container";var gj=Function.prototype.bind.call(Function.prototype.call,[].slice);function id(r,e){return gj(r.querySelectorAll(e))}function yj(){const[,r]=z.useReducer(e=>!e,!1);return r}function CA(r,e){if(r.contains)return r.contains(e);if(r.compareDocumentPosition)return r===e||!!(r.compareDocumentPosition(e)&16)}const vj=z.createContext(null),VC=(r,e=null)=>r!=null?String(r):e||null,c_=vj,HC=z.createContext(null);HC.displayName="NavContext";const _j="data-rr-ui-",xj="rrUi";function yx(r){return`${_j}${r}`}function Sj(r){return`${xj}${r}`}const tF=z.createContext(fx?window:void 0);tF.Provider;function jC(){return z.useContext(tF)}const jd=z.createContext(null);jd.displayName="NavbarContext";Ua.string,Ua.bool,Ua.bool,Ua.bool,Ua.bool;const u_=z.forwardRef(({bsPrefix:r,className:e,fluid:t=!1,rounded:n=!1,roundedCircle:i=!1,thumbnail:a=!1,...s},o)=>(r=tn(r,"img"),H.jsx("img",{ref:o,...s,className:Ft(e,t&&`${r}-fluid`,n&&"rounded",i&&"rounded-circle",a&&`${r}-thumbnail`)})));u_.displayName="Image";const Ej={type:Ua.string,tooltip:Ua.bool,as:Ua.elementType},vx=z.forwardRef(({as:r="div",className:e,type:t="valid",tooltip:n=!1,...i},a)=>H.jsx(r,{...i,ref:a,className:Ft(e,`${t}-${n?"tooltip":"feedback"}`)}));vx.displayName="Feedback";vx.propTypes=Ej;const jl=z.createContext({}),$C=z.forwardRef(({id:r,bsPrefix:e,className:t,type:n="checkbox",isValid:i=!1,isInvalid:a=!1,as:s="input",...o},c)=>{const{controlId:d}=z.useContext(jl);return e=tn(e,"form-check-input"),H.jsx(s,{...o,ref:c,type:n,id:r||d,className:Ft(t,e,i&&"is-valid",a&&"is-invalid")})});$C.displayName="FormCheckInput";const d_=z.forwardRef(({bsPrefix:r,className:e,htmlFor:t,...n},i)=>{const{controlId:a}=z.useContext(jl);return r=tn(r,"form-check-label"),H.jsx("label",{...n,ref:i,htmlFor:t||a,className:Ft(e,r)})});d_.displayName="FormCheckLabel";const nF=z.forwardRef(({id:r,bsPrefix:e,bsSwitchPrefix:t,inline:n=!1,reverse:i=!1,disabled:a=!1,isValid:s=!1,isInvalid:o=!1,feedbackTooltip:c=!1,feedback:d,feedbackType:f,className:m,style:g,title:y="",type:x="checkbox",label:S,children:_,as:E="input",...w},C)=>{e=tn(e,"form-check"),t=tn(t,"form-switch");const{controlId:T}=z.useContext(jl),O=z.useMemo(()=>({controlId:r||T}),[T,r]),R=!_&&S!=null&&S!==!1||fj(_,d_),P=H.jsx($C,{...w,type:x==="switch"?"checkbox":x,ref:C,isValid:s,isInvalid:o,disabled:a,as:E});return H.jsx(jl.Provider,{value:O,children:H.jsx("div",{style:g,className:Ft(m,R&&e,n&&`${e}-inline`,i&&`${e}-reverse`,x==="switch"&&t),children:_||H.jsxs(H.Fragment,{children:[P,R&&H.jsx(d_,{title:y,children:S}),d&&H.jsx(vx,{type:f,tooltip:c,children:d})]})})})});nF.displayName="FormCheck";const f_=Object.assign(nF,{Input:$C,Label:d_}),rF=z.forwardRef(({bsPrefix:r,type:e,size:t,htmlSize:n,id:i,className:a,isValid:s=!1,isInvalid:o=!1,plaintext:c,readOnly:d,as:f="input",...m},g)=>{const{controlId:y}=z.useContext(jl);return r=tn(r,"form-control"),H.jsx(f,{...m,type:e,size:n,ref:g,readOnly:d,id:i||y,className:Ft(a,c?`${r}-plaintext`:r,t&&`${r}-${t}`,e==="color"&&`${r}-color`,s&&"is-valid",o&&"is-invalid")})});rF.displayName="FormControl";const wj=Object.assign(rF,{Feedback:vx}),iF=z.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=tn(e,"form-floating"),H.jsx(t,{ref:i,className:Ft(r,e),...n})));iF.displayName="FormFloating";const WC=z.forwardRef(({controlId:r,as:e="div",...t},n)=>{const i=z.useMemo(()=>({controlId:r}),[r]);return H.jsx(jl.Provider,{value:i,children:H.jsx(e,{...t,ref:n})})});WC.displayName="FormGroup";const aF=z.forwardRef(({as:r="label",bsPrefix:e,column:t=!1,visuallyHidden:n=!1,className:i,htmlFor:a,...s},o)=>{const{controlId:c}=z.useContext(jl);e=tn(e,"form-label");let d="col-form-label";typeof t=="string"&&(d=`${d} ${d}-${t}`);const f=Ft(i,e,n&&"visually-hidden",t&&d);return a=a||c,t?H.jsx(Nn,{ref:o,as:"label",className:f,htmlFor:a,...s}):H.jsx(r,{ref:o,className:f,htmlFor:a,...s})});aF.displayName="FormLabel";const sF=z.forwardRef(({bsPrefix:r,className:e,id:t,...n},i)=>{const{controlId:a}=z.useContext(jl);return r=tn(r,"form-range"),H.jsx("input",{...n,type:"range",ref:i,className:Ft(e,r),id:t||a})});sF.displayName="FormRange";const oF=z.forwardRef(({bsPrefix:r,size:e,htmlSize:t,className:n,isValid:i=!1,isInvalid:a=!1,id:s,...o},c)=>{const{controlId:d}=z.useContext(jl);return r=tn(r,"form-select"),H.jsx("select",{...o,size:t,ref:c,className:Ft(n,r,e&&`${r}-${e}`,i&&"is-valid",a&&"is-invalid"),id:s||d})});oF.displayName="FormSelect";const lF=z.forwardRef(({bsPrefix:r,className:e,as:t="small",muted:n,...i},a)=>(r=tn(r,"form-text"),H.jsx(t,{...i,ref:a,className:Ft(e,r,n&&"text-muted")})));lF.displayName="FormText";const cF=z.forwardRef((r,e)=>H.jsx(f_,{...r,ref:e,type:"switch"}));cF.displayName="Switch";const Cj=Object.assign(cF,{Input:f_.Input,Label:f_.Label}),uF=z.forwardRef(({bsPrefix:r,className:e,children:t,controlId:n,label:i,...a},s)=>(r=tn(r,"form-floating"),H.jsxs(WC,{ref:s,className:Ft(e,r),controlId:n,...a,children:[t,H.jsx("label",{htmlFor:n,children:i})]})));uF.displayName="FloatingLabel";const bj={_ref:Ua.any,validated:Ua.bool,as:Ua.elementType},GC=z.forwardRef(({className:r,validated:e,as:t="form",...n},i)=>H.jsx(t,{...n,ref:i,className:Ft(r,e&&"was-validated")}));GC.displayName="Form";GC.propTypes=bj;const Mj=Object.assign(GC,{Group:WC,Control:wj,Floating:iF,Check:f_,Switch:Cj,Label:aF,Text:lF,Range:sF,Select:oF,FloatingLabel:uF}),dF=z.createContext(null),Tj=["as","active","eventKey"];function Aj(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function fF({key:r,onClick:e,active:t,id:n,role:i,disabled:a}){const s=z.useContext(c_),o=z.useContext(HC),c=z.useContext(dF);let d=t;const f={role:i};if(o){!i&&o.role==="tablist"&&(f.role="tab");const m=o.getControllerId(r??null),g=o.getControlledId(r??null);f[yx("event-key")]=r,f.id=m||n,d=t==null&&r!=null?o.activeKey===r:t,(d||!(c!=null&&c.unmountOnExit)&&!(c!=null&&c.mountOnEnter))&&(f["aria-controls"]=g)}return f.role==="tab"&&(f["aria-selected"]=d,d||(f.tabIndex=-1),a&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=ma(m=>{a||(e==null||e(m),r!=null&&s&&!m.isPropagationStopped()&&s(r,m))}),[f,{isActive:d}]}const hF=z.forwardRef((r,e)=>{let{as:t=tj,active:n,eventKey:i}=r,a=Aj(r,Tj);const[s,o]=fF(Object.assign({key:VC(i,a.href),active:n},a));return s[yx("active")]=o.isActive,H.jsx(t,Object.assign({},a,s,{ref:e}))});hF.displayName="NavItem";const Pj=hF,Rj=["as","onSelect","activeKey","role","onKeyDown"];function Ij(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}const bA=()=>{},MA=yx("event-key"),pF=z.forwardRef((r,e)=>{let{as:t="div",onSelect:n,activeKey:i,role:a,onKeyDown:s}=r,o=Ij(r,Rj);const c=yj(),d=z.useRef(!1),f=z.useContext(c_),m=z.useContext(dF);let g,y;m&&(a=a||"tablist",i=m.activeKey,g=m.getControlledId,y=m.getControllerId);const x=z.useRef(null),S=C=>{const T=x.current;if(!T)return null;const O=id(T,`[${MA}]:not([aria-disabled=true])`),R=T.querySelector("[aria-selected=true]");if(!R||R!==document.activeElement)return null;const P=O.indexOf(R);if(P===-1)return null;let N=P+C;return N>=O.length&&(N=0),N<0&&(N=O.length-1),O[N]},_=(C,T)=>{C!=null&&(n==null||n(C,T),f==null||f(C,T))},E=C=>{if(s==null||s(C),!m)return;let T;switch(C.key){case"ArrowLeft":case"ArrowUp":T=S(-1);break;case"ArrowRight":case"ArrowDown":T=S(1);break;default:return}T&&(C.preventDefault(),_(T.dataset[Sj("EventKey")]||null,C),d.current=!0,c())};z.useEffect(()=>{if(x.current&&d.current){const C=x.current.querySelector(`[${MA}][aria-selected=true]`);C==null||C.focus()}d.current=!1});const w=oy(e,x);return H.jsx(c_.Provider,{value:_,children:H.jsx(HC.Provider,{value:{role:a,activeKey:VC(i),getControlledId:g||bA,getControllerId:y||bA},children:H.jsx(t,Object.assign({},o,{onKeyDown:E,ref:w,role:a}))})})});pF.displayName="Nav";const Oj=Object.assign(pF,{Item:Pj});function s1(r){r===void 0&&(r=kC());try{var e=r.activeElement;return!e||!e.nodeName?null:e}catch{return r.body}}function kj(r=document){const e=r.defaultView;return Math.abs(e.innerWidth-r.documentElement.clientWidth)}const TA=yx("modal-open");class qC{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}={}){this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return kj(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[n]:i.style[n]},e.scrollBarWidth&&(t[n]=`${parseInt(Vl(i,n)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(TA,""),Vl(i,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(TA),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const o1=(r,e)=>fx?r==null?(e||kC()).body:(typeof r=="function"&&(r=r()),r&&"current"in r&&(r=r.current),r&&("nodeType"in r||r.getBoundingClientRect)?r:null):null;function Fj(r,e){const t=jC(),[n,i]=z.useState(()=>o1(r,t==null?void 0:t.document));if(!n){const a=o1(r);a&&i(a)}return z.useEffect(()=>{},[e,n]),z.useEffect(()=>{const a=o1(r);a!==n&&i(a)},[r,n]),n}function Dj({children:r,in:e,onExited:t,mountOnEnter:n,unmountOnExit:i}){const a=z.useRef(null),s=z.useRef(e),o=ma(t);z.useEffect(()=>{e?s.current=!0:o(a.current)},[e,o]);const c=oy(a,r.ref),d=z.cloneElement(r,{ref:c});return e?d:i||!s.current&&n?null:d}function Lj(r){return r.code==="Escape"||r.keyCode===27}function Nj(){const r=z.version.split(".");return{major:+r[0],minor:+r[1],patch:+r[2]}}const Uj=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Bj(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function zj(r){let{onEnter:e,onEntering:t,onEntered:n,onExit:i,onExiting:a,onExited:s,addEndListener:o,children:c}=r,d=Bj(r,Uj);const{major:f}=Nj(),m=f>=19?c.props.ref:c.ref,g=z.useRef(null),y=oy(g,typeof c=="function"?null:m),x=R=>P=>{R&&g.current&&R(g.current,P)},S=z.useCallback(x(e),[e]),_=z.useCallback(x(t),[t]),E=z.useCallback(x(n),[n]),w=z.useCallback(x(i),[i]),C=z.useCallback(x(a),[a]),T=z.useCallback(x(s),[s]),O=z.useCallback(x(o),[o]);return Object.assign({},d,{nodeRef:g},e&&{onEnter:S},t&&{onEntering:_},n&&{onEntered:E},i&&{onExit:w},a&&{onExiting:C},s&&{onExited:T},o&&{addEndListener:O},{children:typeof c=="function"?(R,P)=>c(R,Object.assign({},P,{ref:y})):z.cloneElement(c,{ref:y})})}const Vj=["component"];function Hj(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}const jj=z.forwardRef((r,e)=>{let{component:t}=r,n=Hj(r,Vj);const i=zj(n);return H.jsx(t,Object.assign({ref:e},i))});function $j({in:r,onTransition:e}){const t=z.useRef(null),n=z.useRef(!0),i=ma(e);return NE(()=>{if(!t.current)return;let a=!1;return i({in:r,element:t.current,initial:n.current,isStale:()=>a}),()=>{a=!0}},[r,i]),NE(()=>(n.current=!1,()=>{n.current=!0}),[]),t}function Wj({children:r,in:e,onExited:t,onEntered:n,transition:i}){const[a,s]=z.useState(!e);e&&a&&s(!1);const o=$j({in:!!e,onTransition:d=>{const f=()=>{d.isStale()||(d.in?n==null||n(d.element,d.initial):(s(!0),t==null||t(d.element)))};Promise.resolve(i(d)).then(f,m=>{throw d.in||s(!0),m})}}),c=oy(o,r.ref);return a&&!e?null:z.cloneElement(r,{ref:c})}function AA(r,e,t){return r?H.jsx(jj,Object.assign({},t,{component:r})):e?H.jsx(Wj,Object.assign({},t,{transition:e})):H.jsx(Dj,Object.assign({},t))}const Gj=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function qj(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}let l1;function Xj(r){return l1||(l1=new qC({ownerDocument:r==null?void 0:r.document})),l1}function Yj(r){const e=jC(),t=r||Xj(e),n=z.useRef({dialog:null,backdrop:null});return Object.assign(n.current,{add:()=>t.add(n.current),remove:()=>t.remove(n.current),isTopModal:()=>t.isTopModal(n.current),setDialogRef:z.useCallback(i=>{n.current.dialog=i},[]),setBackdropRef:z.useCallback(i=>{n.current.backdrop=i},[])})}const mF=z.forwardRef((r,e)=>{let{show:t=!1,role:n="dialog",className:i,style:a,children:s,backdrop:o=!0,keyboard:c=!0,onBackdropClick:d,onEscapeKeyDown:f,transition:m,runTransition:g,backdropTransition:y,runBackdropTransition:x,autoFocus:S=!0,enforceFocus:_=!0,restoreFocus:E=!0,restoreFocusOptions:w,renderDialog:C,renderBackdrop:T=qe=>H.jsx("div",Object.assign({},qe)),manager:O,container:R,onShow:P,onHide:N=()=>{},onExit:D,onExited:I,onExiting:V,onEnter:q,onEntering:W,onEntered:ee}=r,te=qj(r,Gj);const re=jC(),ue=Fj(R),G=Yj(O),le=Nk(),oe=YH(t),[X,ne]=z.useState(!t),we=z.useRef(null);z.useImperativeHandle(e,()=>G,[G]),fx&&!oe&&t&&(we.current=s1(re==null?void 0:re.document)),t&&X&&ne(!1);const me=ma(()=>{if(G.add(),ft.current=o_(document,"keydown",Je),ot.current=o_(document,"focus",()=>setTimeout(Pe),!0),P&&P(),S){var qe,Ue;const xt=s1((qe=(Ue=G.dialog)==null?void 0:Ue.ownerDocument)!=null?qe:re==null?void 0:re.document);G.dialog&&xt&&!CA(G.dialog,xt)&&(we.current=xt,G.dialog.focus())}}),ye=ma(()=>{if(G.remove(),ft.current==null||ft.current(),ot.current==null||ot.current(),E){var qe;(qe=we.current)==null||qe.focus==null||qe.focus(w),we.current=null}});z.useEffect(()=>{!t||!ue||me()},[t,ue,me]),z.useEffect(()=>{X&&ye()},[X,ye]),Yk(()=>{ye()});const Pe=ma(()=>{if(!_||!le()||!G.isTopModal())return;const qe=s1(re==null?void 0:re.document);G.dialog&&qe&&!CA(G.dialog,qe)&&G.dialog.focus()}),Le=ma(qe=>{qe.target===qe.currentTarget&&(d==null||d(qe),o===!0&&N())}),Je=ma(qe=>{c&&Lj(qe)&&G.isTopModal()&&(f==null||f(qe),qe.defaultPrevented||N())}),ot=z.useRef(),ft=z.useRef(),wt=(...qe)=>{ne(!0),I==null||I(...qe)};if(!ue)return null;const Z=Object.assign({role:n,ref:G.setDialogRef,"aria-modal":n==="dialog"?!0:void 0},te,{style:a,className:i,tabIndex:-1});let Be=C?C(Z):H.jsx("div",Object.assign({},Z,{children:z.cloneElement(s,{role:"document"})}));Be=AA(m,g,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:D,onExiting:V,onExited:wt,onEnter:q,onEntering:W,onEntered:ee,children:Be});let Ge=null;return o&&(Ge=T({ref:G.setBackdropRef,onClick:Le}),Ge=AA(y,x,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Ge})),H.jsx(H.Fragment,{children:fd.createPortal(H.jsxs(H.Fragment,{children:[Ge,Be]}),ue)})});mF.displayName="Modal";const Qj=Object.assign(mF,{Manager:qC});function Kj(r,e){return r.classList?r.classList.contains(e):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+e+" ")!==-1}function Jj(r,e){r.classList?r.classList.add(e):Kj(r,e)||(typeof r.className=="string"?r.className=r.className+" "+e:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+e))}function PA(r,e){return r.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Zj(r,e){r.classList?r.classList.remove(e):typeof r.className=="string"?r.className=PA(r.className,e):r.setAttribute("class",PA(r.className&&r.className.baseVal||"",e))}const eh={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class gF extends qC{adjustAndStore(e,t,n){const i=t.style[e];t.dataset[e]=i,Vl(t,{[e]:`${parseFloat(Vl(t,e))+n}px`})}restore(e,t){const n=t.dataset[e];n!==void 0&&(delete t.dataset[e],Vl(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(Jj(t,"modal-open"),!e.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";id(t,eh.FIXED_CONTENT).forEach(a=>this.adjustAndStore(n,a,e.scrollBarWidth)),id(t,eh.STICKY_CONTENT).forEach(a=>this.adjustAndStore(i,a,-e.scrollBarWidth)),id(t,eh.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(i,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();Zj(t,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";id(t,eh.FIXED_CONTENT).forEach(a=>this.restore(n,a)),id(t,eh.STICKY_CONTENT).forEach(a=>this.restore(i,a)),id(t,eh.NAVBAR_TOGGLER).forEach(a=>this.restore(i,a))}}let c1;function e$(r){return c1||(c1=new gF(r)),c1}const yF=z.createContext({onHide(){}}),t$=z.forwardRef(({closeLabel:r="Close",closeVariant:e,closeButton:t=!1,onHide:n,children:i,...a},s)=>{const o=z.useContext(yF),c=ma(()=>{o==null||o.onHide(),n==null||n()});return H.jsxs("div",{ref:s,...a,children:[i,t&&H.jsx(gx,{"aria-label":r,variant:e,onClick:c})]})});var RA={exports:{}},zE={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n){function i(s,o,c,d,f,m){var g=d||"<<anonymous>>",y=m||c;if(o[c]==null)return s?new Error("Required "+f+" `"+y+"` was not specified "+("in `"+g+"`.")):null;for(var x=arguments.length,S=Array(x>6?x-6:0),_=6;_<x;_++)S[_-6]=arguments[_];return n.apply(void 0,[o,c,g,f,y].concat(S))}var a=i.bind(null,!1);return a.isRequired=i.bind(null,!0),a}r.exports=e.default})(zE,zE.exports);var vF=zE.exports;const n$=en(vF),r$=Wt({__proto__:null,default:n$},[vF]),i$=jt(r$);(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i$,n=i(t);function i(s){return s&&s.__esModule?s:{default:s}}function a(){for(var s=arguments.length,o=Array(s),c=0;c<s;c++)o[c]=arguments[c];function d(){for(var f=arguments.length,m=Array(f),g=0;g<f;g++)m[g]=arguments[g];var y=null;return o.forEach(function(x){if(y==null){var S=x.apply(void 0,m);S!=null&&(y=S)}}),y}return(0,n.default)(d)}r.exports=e.default})(RA,RA.exports);const _F=z.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=tn(e,"nav-item"),H.jsx(t,{ref:i,className:Ft(r,e),...n})));_F.displayName="NavItem";const xF=z.forwardRef(({bsPrefix:r,className:e,as:t=l_,active:n,eventKey:i,disabled:a=!1,...s},o)=>{r=tn(r,"nav-link");const[c,d]=fF({key:VC(i,s.href),active:n,disabled:a,...s});return H.jsx(t,{...s,...c,ref:o,disabled:a,className:Ft(e,r,a&&"disabled",d.isActive&&"active")})});xF.displayName="NavLink";const SF=z.forwardRef((r,e)=>{const{as:t="div",bsPrefix:n,variant:i,fill:a=!1,justify:s=!1,navbar:o,navbarScroll:c,className:d,activeKey:f,...m}=ux(r,{activeKey:"onSelect"}),g=tn(n,"nav");let y,x,S=!1;const _=z.useContext(jd),E=z.useContext(zC);return _?(y=_.bsPrefix,S=o??!0):E&&({cardHeaderBsPrefix:x}=E),H.jsx(Oj,{as:t,ref:e,activeKey:f,className:Ft(d,{[g]:!S,[`${y}-nav`]:S,[`${y}-nav-scroll`]:S&&c,[`${x}-${i}`]:!!x,[`${g}-${i}`]:!!i,[`${g}-fill`]:a,[`${g}-justified`]:s}),...m})});SF.displayName="Nav";const $u=Object.assign(SF,{Item:_F,Link:xF}),EF=z.forwardRef(({bsPrefix:r,className:e,as:t,...n},i)=>{r=tn(r,"navbar-brand");const a=t||(n.href?"a":"span");return H.jsx(a,{...n,ref:i,className:Ft(e,r)})});EF.displayName="NavbarBrand";const wF=z.forwardRef(({children:r,bsPrefix:e,...t},n)=>{e=tn(e,"navbar-collapse");const i=z.useContext(jd);return H.jsx(Rk,{in:!!(i&&i.expanded),...t,children:H.jsx("div",{ref:n,className:e,children:r})})});wF.displayName="NavbarCollapse";const CF=z.forwardRef(({bsPrefix:r,className:e,children:t,label:n="Toggle navigation",as:i="button",onClick:a,...s},o)=>{r=tn(r,"navbar-toggler");const{onToggle:c,expanded:d}=z.useContext(jd)||{},f=ma(m=>{a&&a(m),c&&c()});return i==="button"&&(s.type="button"),H.jsx(i,{...s,ref:o,onClick:f,"aria-label":n,className:Ft(e,r,!d&&"collapsed"),children:t||H.jsx("span",{className:`${r}-icon`})})});CF.displayName="NavbarToggle";const VE=new WeakMap,IA=(r,e)=>{if(!r||!e)return;const t=VE.get(e)||new Map;VE.set(e,t);let n=t.get(r);return n||(n=e.matchMedia(r),n.refCount=0,t.set(n.media,n)),n};function a$(r,e=typeof window>"u"?void 0:window){const t=IA(r,e),[n,i]=z.useState(()=>t?t.matches:!1);return NE(()=>{let a=IA(r,e);if(!a)return i(!1);let s=VE.get(e);const o=()=>{i(a.matches)};return a.refCount++,a.addListener(o),o(),()=>{a.removeListener(o),a.refCount--,a.refCount<=0&&(s==null||s.delete(a.media)),a=void 0}},[r]),n}function s$(r){const e=Object.keys(r);function t(o,c){return o===c?c:o?`${o} and ${c}`:c}function n(o){return e[Math.min(e.indexOf(o)+1,e.length-1)]}function i(o){const c=n(o);let d=r[c];return typeof d=="number"?d=`${d-.2}px`:d=`calc(${d} - 0.2px)`,`(max-width: ${d})`}function a(o){let c=r[o];return typeof c=="number"&&(c=`${c}px`),`(min-width: ${c})`}function s(o,c,d){let f;typeof o=="object"?(f=o,d=c,c=!0):(c=c||!0,f={[o]:c});let m=z.useMemo(()=>Object.entries(f).reduce((g,[y,x])=>((x==="up"||x===!0)&&(g=t(g,a(y))),(x==="down"||x===!0)&&(g=t(g,i(y))),g),""),[JSON.stringify(f)]);return a$(m,d)}return s}const o$=s$({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),bF=z.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=tn(e,"offcanvas-body"),H.jsx(t,{ref:i,className:Ft(r,e),...n})));bF.displayName="OffcanvasBody";const l$={[ws]:"show",[Ol]:"show"},MF=z.forwardRef(({bsPrefix:r,className:e,children:t,in:n=!1,mountOnEnter:i=!1,unmountOnExit:a=!1,appear:s=!1,...o},c)=>(r=tn(r,"offcanvas"),H.jsx(px,{ref:c,addEndListener:hx,in:n,mountOnEnter:i,unmountOnExit:a,appear:s,...o,childRef:t.ref,children:(d,f)=>z.cloneElement(t,{...f,className:Ft(e,t.props.className,(d===ws||d===Jh)&&`${r}-toggling`,l$[d])})})));MF.displayName="OffcanvasToggling";const TF=z.forwardRef(({bsPrefix:r,className:e,closeLabel:t="Close",closeButton:n=!1,...i},a)=>(r=tn(r,"offcanvas-header"),H.jsx(t$,{ref:a,...i,className:Ft(e,r),closeLabel:t,closeButton:n})));TF.displayName="OffcanvasHeader";const c$=NC("h5"),AF=z.forwardRef(({className:r,bsPrefix:e,as:t=c$,...n},i)=>(e=tn(e,"offcanvas-title"),H.jsx(t,{ref:i,className:Ft(r,e),...n})));AF.displayName="OffcanvasTitle";function u$(r){return H.jsx(MF,{...r})}function d$(r){return H.jsx(UC,{...r})}const PF=z.forwardRef(({bsPrefix:r,className:e,children:t,"aria-labelledby":n,placement:i="start",responsive:a,show:s=!1,backdrop:o=!0,keyboard:c=!0,scroll:d=!1,onEscapeKeyDown:f,onShow:m,onHide:g,container:y,autoFocus:x=!0,enforceFocus:S=!0,restoreFocus:_=!0,restoreFocusOptions:E,onEntered:w,onExit:C,onExiting:T,onEnter:O,onEntering:R,onExited:P,backdropClassName:N,manager:D,renderStaticNode:I=!1,...V},q)=>{const W=z.useRef();r=tn(r,"offcanvas");const{onToggle:ee}=z.useContext(jd)||{},[te,re]=z.useState(!1),ue=o$(a||"xs","up");z.useEffect(()=>{re(a?s&&!ue:s)},[s,a,ue]);const G=ma(()=>{ee==null||ee(),g==null||g()}),le=z.useMemo(()=>({onHide:G}),[G]);function oe(){return D||(d?(W.current||(W.current=new gF({handleContainerOverflow:!1})),W.current):e$())}const X=(ye,...Pe)=>{ye&&(ye.style.visibility="visible"),O==null||O(ye,...Pe)},ne=(ye,...Pe)=>{ye&&(ye.style.visibility=""),P==null||P(...Pe)},we=z.useCallback(ye=>H.jsx("div",{...ye,className:Ft(`${r}-backdrop`,N)}),[N,r]),me=ye=>H.jsx("div",{...ye,...V,className:Ft(e,a?`${r}-${a}`:r,`${r}-${i}`),"aria-labelledby":n,children:t});return H.jsxs(H.Fragment,{children:[!te&&(a||I)&&me({}),H.jsx(yF.Provider,{value:le,children:H.jsx(Qj,{show:te,ref:q,backdrop:o,container:y,keyboard:c,autoFocus:x,enforceFocus:S&&!d,restoreFocus:_,restoreFocusOptions:E,onEscapeKeyDown:f,onShow:m,onHide:G,onEnter:X,onEntering:R,onEntered:w,onExit:C,onExiting:T,onExited:ne,manager:oe(),transition:u$,backdropTransition:d$,renderBackdrop:we,renderDialog:me})})]})});PF.displayName="Offcanvas";const f$=Object.assign(PF,{Body:bF,Header:TF,Title:AF}),RF=z.forwardRef((r,e)=>{const t=z.useContext(jd);return H.jsx(f$,{ref:e,show:!!(t!=null&&t.expanded),...r,renderStaticNode:!0})});RF.displayName="NavbarOffcanvas";const IF=z.forwardRef(({className:r,bsPrefix:e,as:t="span",...n},i)=>(e=tn(e,"navbar-text"),H.jsx(t,{ref:i,className:Ft(r,e),...n})));IF.displayName="NavbarText";const OF=z.forwardRef((r,e)=>{const{bsPrefix:t,expand:n=!0,variant:i="light",bg:a,fixed:s,sticky:o,className:c,as:d="nav",expanded:f,onToggle:m,onSelect:g,collapseOnSelect:y=!1,...x}=ux(r,{expanded:"onToggle"}),S=tn(t,"navbar"),_=z.useCallback((...C)=>{g==null||g(...C),y&&f&&(m==null||m(!1))},[g,y,f,m]);x.role===void 0&&d!=="nav"&&(x.role="navigation");let E=`${S}-expand`;typeof n=="string"&&(E=`${E}-${n}`);const w=z.useMemo(()=>({onToggle:()=>m==null?void 0:m(!f),bsPrefix:S,expanded:!!f,expand:n}),[S,f,n,m]);return H.jsx(jd.Provider,{value:w,children:H.jsx(c_.Provider,{value:_,children:H.jsx(d,{ref:e,...x,className:Ft(c,S,n&&E,i&&`${S}-${i}`,a&&`bg-${a}`,o&&`sticky-${o}`,s&&`fixed-${s}`)})})})});OF.displayName="Navbar";const Pv=Object.assign(OF,{Brand:EF,Collapse:wF,Offcanvas:RF,Text:IF,Toggle:CF}),Vr=z.forwardRef(({bsPrefix:r,className:e,as:t="div",...n},i)=>{const a=tn(r,"row"),s=Mk(),o=Tk(),c=`${a}-cols`,d=[];return s.forEach(f=>{const m=n[f];delete n[f];let g;m!=null&&typeof m=="object"?{cols:g}=m:g=m;const y=f!==o?`-${f}`:"";g!=null&&d.push(`${c}${y}-${g}`)}),H.jsx(t,{ref:i,...n,className:Ft(e,a,...d)})});Vr.displayName="Row";const HE=z.forwardRef(({bsPrefix:r,className:e,striped:t,bordered:n,borderless:i,hover:a,size:s,variant:o,responsive:c,...d},f)=>{const m=tn(r,"table"),g=Ft(e,m,o&&`${m}-${o}`,s&&`${m}-${s}`,t&&`${m}-${typeof t=="string"?`striped-${t}`:"striped"}`,n&&`${m}-bordered`,i&&`${m}-borderless`,a&&`${m}-hover`),y=H.jsx("table",{...d,className:g,ref:f});if(c){let x=`${m}-responsive`;return typeof c=="string"&&(x=`${x}-${c}`),H.jsx("div",{className:x,children:y})}return y}),h$={[ws]:"showing",[Jh]:"showing show"},kF=z.forwardRef((r,e)=>H.jsx(UC,{...r,ref:e,transitionClasses:h$}));kF.displayName="ToastFade";const FF=z.createContext({onClose(){}}),DF=z.forwardRef(({bsPrefix:r,closeLabel:e="Close",closeVariant:t,closeButton:n=!0,className:i,children:a,...s},o)=>{r=tn(r,"toast-header");const c=z.useContext(FF),d=ma(f=>{c==null||c.onClose==null||c.onClose(f)});return H.jsxs("div",{ref:o,...s,className:Ft(r,i),children:[a,n&&H.jsx(gx,{"aria-label":e,variant:t,onClick:d,"data-dismiss":"toast"})]})});DF.displayName="ToastHeader";const LF=z.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=tn(e,"toast-body"),H.jsx(t,{ref:i,className:Ft(r,e),...n})));LF.displayName="ToastBody";const NF=z.forwardRef(({bsPrefix:r,className:e,transition:t=kF,show:n=!0,animation:i=!0,delay:a=5e3,autohide:s=!1,onClose:o,onEntered:c,onExit:d,onExiting:f,onEnter:m,onEntering:g,onExited:y,bg:x,...S},_)=>{r=tn(r,"toast");const E=z.useRef(a),w=z.useRef(o);z.useEffect(()=>{E.current=a,w.current=o},[a,o]);const C=Kk(),T=!!(s&&n),O=z.useCallback(()=>{T&&(w.current==null||w.current())},[T]);z.useEffect(()=>{C.set(O,E.current)},[C,O]);const R=z.useMemo(()=>({onClose:o}),[o]),P=!!(t&&i),N=H.jsx("div",{...S,ref:_,className:Ft(r,e,x&&`bg-${x}`,!P&&(n?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return H.jsx(FF.Provider,{value:R,children:P&&t?H.jsx(t,{in:n,onEnter:m,onEntering:g,onEntered:c,onExit:d,onExiting:f,onExited:y,unmountOnExit:!0,children:N}):N})});NF.displayName="Toast";const u1=Object.assign(NF,{Body:LF,Header:DF});var UF={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},OA=_i.createContext&&_i.createContext(UF),p$=["attr","size","title"];function m$(r,e){if(r==null)return{};var t=g$(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function g$(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function h_(){return h_=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},h_.apply(this,arguments)}function kA(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function p_(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kA(Object(t),!0).forEach(function(n){y$(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):kA(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function y$(r,e,t){return e=v$(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function v$(r){var e=_$(r,"string");return typeof e=="symbol"?e:e+""}function _$(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function BF(r){return r&&r.map((e,t)=>_i.createElement(e.tag,p_({key:t},e.attr),BF(e.child)))}function fp(r){return e=>_i.createElement(x$,h_({attr:p_({},r.attr)},e),BF(r.child))}function x$(r){var e=t=>{var{attr:n,size:i,title:a}=r,s=m$(r,p$),o=i||t.size||"1em",c;return t.className&&(c=t.className),r.className&&(c=(c?c+" ":"")+r.className),_i.createElement("svg",h_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,s,{className:c,style:p_(p_({color:r.color||t.color},t.style),r.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&_i.createElement("title",null,a),r.children)};return OA!==void 0?_i.createElement(OA.Consumer,null,t=>e(t)):e(UF)}function FA(r){return fp({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M640 199.9v54l-320 200L0 254v-54l320 200 320-200.1zm-194.5 72l47.1-29.4c-37.2-55.8-100.7-92.6-172.7-92.6-72 0-135.5 36.7-172.6 92.4h.3c2.5-2.3 5.1-4.5 7.7-6.7 89.7-74.4 219.4-58.1 290.2 36.3zm-220.1 18.8c16.9-11.9 36.5-18.7 57.4-18.7 34.4 0 65.2 18.4 86.4 47.6l45.4-28.4c-20.9-29.9-55.6-49.5-94.8-49.5-38.9 0-73.4 19.4-94.4 49zM103.6 161.1c131.8-104.3 318.2-76.4 417.5 62.1l.7 1 48.8-30.4C517.1 112.1 424.8 58.1 319.9 58.1c-103.5 0-196.6 53.5-250.5 135.6 9.9-10.5 22.7-23.5 34.2-32.6zm467 32.7z"},child:[]}]})(r)}function zF(r){return fp({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(r)}function VF(r){return fp({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function DA(r){return fp({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M276.2 150.5v.7C258.3 98.6 233.6 47.8 205.4 0c43.3 29.2 67 100 70.8 150.5zm32.7 121.7c7.6 18.2 11 37.5 11 57 0 77.7-57.8 141-137.8 139.4l3.8-.3c74.2-46.7 109.3-118.6 109.3-205.1 0-38.1-6.5-75.9-18.9-112 1 11.7 1 23.7 1 35.4 0 91.8-18.1 241.6-116.6 280C95 455.2 49.4 398 49.4 329.2c0-75.6 57.4-142.3 135.4-142.3 16.8 0 33.7 3.1 49.1 9.6 1.7-15.1 6.5-29.9 13.4-43.3-19.9-7.2-41.2-10.7-62.5-10.7-161.5 0-238.7 195.9-129.9 313.7 67.9 74.6 192 73.9 259.8 0 56.6-61.3 60.9-142.4 36.4-201-12.7 8-27.1 13.9-42.2 17zM418.1 11.7c-31 66.5-81.3 47.2-115.8 80.1-12.4 12-20.6 34-20.6 50.5 0 14.1 4.5 27.1 12 38.8 47.4-11 98.3-46 118.2-90.7-.7 5.5-4.8 14.4-7.2 19.2-20.3 35.7-64.6 65.6-99.7 84.9 14.8 14.4 33.7 25.8 55 25.8 79 0 110.1-134.6 58.1-208.6z"},child:[]}]})(r)}function HF(r){return fp({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(r)}function LA(r){return fp({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(r)}function S$(){return H.jsx(Pv,{collapseOnSelect:!0,fixed:"top",expand:"lg",bg:"transparent",variant:"dark",children:H.jsxs(Ms,{children:[H.jsx(Pv.Brand,{children:H.jsx(Tv,{to:"/",children:H.jsx("img",{src:"src/assets/TRUSTLOVE_LOGO_LARGE.png",width:"30%"})})}),H.jsx(Pv.Toggle,{"aria-controls":"responsive-navbar-nav"}),H.jsxs(Pv.Collapse,{id:"responsive-navbar-nav",children:[H.jsxs($u,{className:"me-auto",children:[H.jsx($u,{children:H.jsx("a",{className:"nav-link",href:"https://github.com/spaceghost69/TrustLove?tab=readme-ov-file",children:"GitHub"})}),H.jsx($u.Link,{children:H.jsx(Tv,{to:"all-members",children:"members"})})]}),H.jsx($u,{children:H.jsx($u.Link,{children:H.jsx(Tv,{to:"about",children:H.jsx(LA,{})})})}),H.jsx($u,{children:H.jsx($u.Link,{children:H.jsx(Tv,{to:"contact-us",children:H.jsx(LA,{})})})})]})]})})}function E$(r){if(r.sheet)return r.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===r)return document.styleSheets[e]}function w$(r){var e=document.createElement("style");return e.setAttribute("data-emotion",r.key),r.nonce!==void 0&&e.setAttribute("nonce",r.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var C$=function(){function r(t){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=r.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(w$(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=E$(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},r}(),Xi="-ms-",m_="-moz-",Wn="-webkit-",jF="comm",XC="rule",YC="decl",b$="@import",$F="@keyframes",M$="@layer",T$=Math.abs,_x=String.fromCharCode,A$=Object.assign;function P$(r,e){return Oi(r,0)^45?(((e<<2^Oi(r,0))<<2^Oi(r,1))<<2^Oi(r,2))<<2^Oi(r,3):0}function WF(r){return r.trim()}function R$(r,e){return(r=e.exec(r))?r[0]:r}function Gn(r,e,t){return r.replace(e,t)}function jE(r,e){return r.indexOf(e)}function Oi(r,e){return r.charCodeAt(e)|0}function vg(r,e,t){return r.slice(e,t)}function Ao(r){return r.length}function QC(r){return r.length}function Rv(r,e){return e.push(r),r}function I$(r,e){return r.map(e).join("")}var xx=1,Zh=1,GF=0,za=0,Yr=0,hp="";function Sx(r,e,t,n,i,a,s){return{value:r,root:e,parent:t,type:n,props:i,children:a,line:xx,column:Zh,length:s,return:""}}function Em(r,e){return A$(Sx("",null,null,"",null,null,0),r,{length:-r.length},e)}function O$(){return Yr}function k$(){return Yr=za>0?Oi(hp,--za):0,Zh--,Yr===10&&(Zh=1,xx--),Yr}function rs(){return Yr=za<GF?Oi(hp,za++):0,Zh++,Yr===10&&(Zh=1,xx++),Yr}function Do(){return Oi(hp,za)}function U0(){return za}function cy(r,e){return vg(hp,r,e)}function _g(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qF(r){return xx=Zh=1,GF=Ao(hp=r),za=0,[]}function XF(r){return hp="",r}function B0(r){return WF(cy(za-1,$E(r===91?r+2:r===40?r+1:r)))}function F$(r){for(;(Yr=Do())&&Yr<33;)rs();return _g(r)>2||_g(Yr)>3?"":" "}function D$(r,e){for(;--e&&rs()&&!(Yr<48||Yr>102||Yr>57&&Yr<65||Yr>70&&Yr<97););return cy(r,U0()+(e<6&&Do()==32&&rs()==32))}function $E(r){for(;rs();)switch(Yr){case r:return za;case 34:case 39:r!==34&&r!==39&&$E(Yr);break;case 40:r===41&&$E(r);break;case 92:rs();break}return za}function L$(r,e){for(;rs()&&r+Yr!==57;)if(r+Yr===84&&Do()===47)break;return"/*"+cy(e,za-1)+"*"+_x(r===47?r:rs())}function N$(r){for(;!_g(Do());)rs();return cy(r,za)}function U$(r){return XF(z0("",null,null,null,[""],r=qF(r),0,[0],r))}function z0(r,e,t,n,i,a,s,o,c){for(var d=0,f=0,m=s,g=0,y=0,x=0,S=1,_=1,E=1,w=0,C="",T=i,O=a,R=n,P=C;_;)switch(x=w,w=rs()){case 40:if(x!=108&&Oi(P,m-1)==58){jE(P+=Gn(B0(w),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:P+=B0(w);break;case 9:case 10:case 13:case 32:P+=F$(x);break;case 92:P+=D$(U0()-1,7);continue;case 47:switch(Do()){case 42:case 47:Rv(B$(L$(rs(),U0()),e,t),c);break;default:P+="/"}break;case 123*S:o[d++]=Ao(P)*E;case 125*S:case 59:case 0:switch(w){case 0:case 125:_=0;case 59+f:E==-1&&(P=Gn(P,/\f/g,"")),y>0&&Ao(P)-m&&Rv(y>32?UA(P+";",n,t,m-1):UA(Gn(P," ","")+";",n,t,m-2),c);break;case 59:P+=";";default:if(Rv(R=NA(P,e,t,d,f,i,o,C,T=[],O=[],m),a),w===123)if(f===0)z0(P,e,R,R,T,a,m,o,O);else switch(g===99&&Oi(P,3)===110?100:g){case 100:case 108:case 109:case 115:z0(r,R,R,n&&Rv(NA(r,R,R,0,0,i,o,C,i,T=[],m),O),i,O,m,o,n?T:O);break;default:z0(P,R,R,R,[""],O,0,o,O)}}d=f=y=0,S=E=1,C=P="",m=s;break;case 58:m=1+Ao(P),y=x;default:if(S<1){if(w==123)--S;else if(w==125&&S++==0&&k$()==125)continue}switch(P+=_x(w),w*S){case 38:E=f>0?1:(P+="\f",-1);break;case 44:o[d++]=(Ao(P)-1)*E,E=1;break;case 64:Do()===45&&(P+=B0(rs())),g=Do(),f=m=Ao(C=P+=N$(U0())),w++;break;case 45:x===45&&Ao(P)==2&&(S=0)}}return a}function NA(r,e,t,n,i,a,s,o,c,d,f){for(var m=i-1,g=i===0?a:[""],y=QC(g),x=0,S=0,_=0;x<n;++x)for(var E=0,w=vg(r,m+1,m=T$(S=s[x])),C=r;E<y;++E)(C=WF(S>0?g[E]+" "+w:Gn(w,/&\f/g,g[E])))&&(c[_++]=C);return Sx(r,e,t,i===0?XC:o,c,d,f)}function B$(r,e,t){return Sx(r,e,t,jF,_x(O$()),vg(r,2,-2),0)}function UA(r,e,t,n){return Sx(r,e,t,YC,vg(r,0,n),vg(r,n+1,-1),n)}function jh(r,e){for(var t="",n=QC(r),i=0;i<n;i++)t+=e(r[i],i,r,e)||"";return t}function z$(r,e,t,n){switch(r.type){case M$:if(r.children.length)break;case b$:case YC:return r.return=r.return||r.value;case jF:return"";case $F:return r.return=r.value+"{"+jh(r.children,n)+"}";case XC:r.value=r.props.join(",")}return Ao(t=jh(r.children,n))?r.return=r.value+"{"+t+"}":""}function V$(r){var e=QC(r);return function(t,n,i,a){for(var s="",o=0;o<e;o++)s+=r[o](t,n,i,a)||"";return s}}function H$(r){return function(e){e.root||(e=e.return)&&r(e)}}function j$(r){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=r(t)),e[t]}}var $$=function(e,t,n){for(var i=0,a=0;i=a,a=Do(),i===38&&a===12&&(t[n]=1),!_g(a);)rs();return cy(e,za)},W$=function(e,t){var n=-1,i=44;do switch(_g(i)){case 0:i===38&&Do()===12&&(t[n]=1),e[n]+=$$(za-1,t,n);break;case 2:e[n]+=B0(i);break;case 4:if(i===44){e[++n]=Do()===58?"&\f":"",t[n]=e[n].length;break}default:e[n]+=_x(i)}while(i=rs());return e},G$=function(e,t){return XF(W$(qF(e),t))},BA=new WeakMap,q$=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!BA.get(n))&&!i){BA.set(e,!0);for(var a=[],s=G$(t,a),o=n.props,c=0,d=0;c<s.length;c++)for(var f=0;f<o.length;f++,d++)e.props[d]=a[c]?s[c].replace(/&\f/g,o[f]):o[f]+" "+s[c]}}},X$=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function YF(r,e){switch(P$(r,e)){case 5103:return Wn+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Wn+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return Wn+r+m_+r+Xi+r+r;case 6828:case 4268:return Wn+r+Xi+r+r;case 6165:return Wn+r+Xi+"flex-"+r+r;case 5187:return Wn+r+Gn(r,/(\w+).+(:[^]+)/,Wn+"box-$1$2"+Xi+"flex-$1$2")+r;case 5443:return Wn+r+Xi+"flex-item-"+Gn(r,/flex-|-self/,"")+r;case 4675:return Wn+r+Xi+"flex-line-pack"+Gn(r,/align-content|flex-|-self/,"")+r;case 5548:return Wn+r+Xi+Gn(r,"shrink","negative")+r;case 5292:return Wn+r+Xi+Gn(r,"basis","preferred-size")+r;case 6060:return Wn+"box-"+Gn(r,"-grow","")+Wn+r+Xi+Gn(r,"grow","positive")+r;case 4554:return Wn+Gn(r,/([^-])(transform)/g,"$1"+Wn+"$2")+r;case 6187:return Gn(Gn(Gn(r,/(zoom-|grab)/,Wn+"$1"),/(image-set)/,Wn+"$1"),r,"")+r;case 5495:case 3959:return Gn(r,/(image-set\([^]*)/,Wn+"$1$`$1");case 4968:return Gn(Gn(r,/(.+:)(flex-)?(.*)/,Wn+"box-pack:$3"+Xi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Wn+r+r;case 4095:case 3583:case 4068:case 2532:return Gn(r,/(.+)-inline(.+)/,Wn+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ao(r)-1-e>6)switch(Oi(r,e+1)){case 109:if(Oi(r,e+4)!==45)break;case 102:return Gn(r,/(.+:)(.+)-([^]+)/,"$1"+Wn+"$2-$3$1"+m_+(Oi(r,e+3)==108?"$3":"$2-$3"))+r;case 115:return~jE(r,"stretch")?YF(Gn(r,"stretch","fill-available"),e)+r:r}break;case 4949:if(Oi(r,e+1)!==115)break;case 6444:switch(Oi(r,Ao(r)-3-(~jE(r,"!important")&&10))){case 107:return Gn(r,":",":"+Wn)+r;case 101:return Gn(r,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Wn+(Oi(r,14)===45?"inline-":"")+"box$3$1"+Wn+"$2$3$1"+Xi+"$2box$3")+r}break;case 5936:switch(Oi(r,e+11)){case 114:return Wn+r+Xi+Gn(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return Wn+r+Xi+Gn(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return Wn+r+Xi+Gn(r,/[svh]\w+-[tblr]{2}/,"lr")+r}return Wn+r+Xi+r+r}return r}var Y$=function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case YC:e.return=YF(e.value,e.length);break;case $F:return jh([Em(e,{value:Gn(e.value,"@","@"+Wn)})],i);case XC:if(e.length)return I$(e.props,function(a){switch(R$(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return jh([Em(e,{props:[Gn(a,/:(read-\w+)/,":"+m_+"$1")]})],i);case"::placeholder":return jh([Em(e,{props:[Gn(a,/:(plac\w+)/,":"+Wn+"input-$1")]}),Em(e,{props:[Gn(a,/:(plac\w+)/,":"+m_+"$1")]}),Em(e,{props:[Gn(a,/:(plac\w+)/,Xi+"input-$1")]})],i)}return""})}},Q$=[Y$],K$=function(e){var t=e.key;if(t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(S){var _=S.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var i=e.stylisPlugins||Q$,a={},s,o=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(S){for(var _=S.getAttribute("data-emotion").split(" "),E=1;E<_.length;E++)a[_[E]]=!0;o.push(S)});var c,d=[q$,X$];{var f,m=[z$,H$(function(S){f.insert(S)})],g=V$(d.concat(i,m)),y=function(_){return jh(U$(_),g)};c=function(_,E,w,C){f=w,y(_?_+"{"+E.styles+"}":E.styles),C&&(x.inserted[E.name]=!0)}}var x={key:t,sheet:new C$({key:t,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:c};return x.sheet.hydrate(o),x},J$=!0;function QF(r,e,t){var n="";return t.split(" ").forEach(function(i){r[i]!==void 0?e.push(r[i]+";"):n+=i+" "}),n}var KC=function(e,t,n){var i=e.key+"-"+t.name;(n===!1||J$===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},KF=function(e,t,n){KC(e,t,n);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var a=t;do e.insert(t===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function Z$(r){for(var e=0,t,n=0,i=r.length;i>=4;++n,i-=4)t=r.charCodeAt(n)&255|(r.charCodeAt(++n)&255)<<8|(r.charCodeAt(++n)&255)<<16|(r.charCodeAt(++n)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(r.charCodeAt(n+2)&255)<<16;case 2:e^=(r.charCodeAt(n+1)&255)<<8;case 1:e^=r.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var eW={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},tW=/[A-Z]|^ms/g,nW=/_EMO_([^_]+?)_([^]*?)_EMO_/g,JF=function(e){return e.charCodeAt(1)===45},zA=function(e){return e!=null&&typeof e!="boolean"},d1=j$(function(r){return JF(r)?r:r.replace(tW,"-$&").toLowerCase()}),VA=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(nW,function(n,i,a){return Po={name:i,styles:a,next:Po},i})}return eW[e]!==1&&!JF(e)&&typeof t=="number"&&t!==0?t+"px":t};function xg(r,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return Po={name:t.name,styles:t.styles,next:Po},t.name;if(t.styles!==void 0){var n=t.next;if(n!==void 0)for(;n!==void 0;)Po={name:n.name,styles:n.styles,next:Po},n=n.next;var i=t.styles+";";return i}return rW(r,e,t)}case"function":{if(r!==void 0){var a=Po,s=t(r);return Po=a,xg(r,e,s)}break}}if(e==null)return t;var o=e[t];return o!==void 0?o:t}function rW(r,e,t){var n="";if(Array.isArray(t))for(var i=0;i<t.length;i++)n+=xg(r,e,t[i])+";";else for(var a in t){var s=t[a];if(typeof s!="object")e!=null&&e[s]!==void 0?n+=a+"{"+e[s]+"}":zA(s)&&(n+=d1(a)+":"+VA(a,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var o=0;o<s.length;o++)zA(s[o])&&(n+=d1(a)+":"+VA(a,s[o])+";");else{var c=xg(r,e,s);switch(a){case"animation":case"animationName":{n+=d1(a)+":"+c+";";break}default:n+=a+"{"+c+"}"}}}return n}var HA=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Po,JC=function(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,a="";Po=void 0;var s=e[0];s==null||s.raw===void 0?(i=!1,a+=xg(n,t,s)):a+=s[0];for(var o=1;o<e.length;o++)a+=xg(n,t,e[o]),i&&(a+=s[o]);HA.lastIndex=0;for(var c="",d;(d=HA.exec(a))!==null;)c+="-"+d[1];var f=Z$(a)+c;return{name:f,styles:a,next:Po}},iW=function(e){return e()},aW=Yh.useInsertionEffect?Yh.useInsertionEffect:!1,ZF=aW||iW,ZC={}.hasOwnProperty,e3=z.createContext(typeof HTMLElement<"u"?K$({key:"css"}):null);e3.Provider;var t3=function(e){return z.forwardRef(function(t,n){var i=z.useContext(e3);return e(t,i,n)})},n3=z.createContext({}),WE="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",sW=function(e,t){var n={};for(var i in t)ZC.call(t,i)&&(n[i]=t[i]);return n[WE]=e,n},oW=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return KC(t,n,i),ZF(function(){return KF(t,n,i)}),null},lW=t3(function(r,e,t){var n=r.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var i=r[WE],a=[n],s="";typeof r.className=="string"?s=QF(e.registered,a,r.className):r.className!=null&&(s=r.className+" ");var o=JC(a,void 0,z.useContext(n3));s+=e.key+"-"+o.name;var c={};for(var d in r)ZC.call(r,d)&&d!=="css"&&d!==WE&&(c[d]=r[d]);return c.ref=t,c.className=s,z.createElement(z.Fragment,null,z.createElement(oW,{cache:e,serialized:o,isStringTag:typeof i=="string"}),z.createElement(i,c))}),cW=lW,uW=H.Fragment;function gi(r,e,t){return ZC.call(e,"css")?H.jsx(cW,sW(r,e),t):H.jsx(r,e,t)}function r3(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return JC(e)}var gt=function(){var e=r3.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},dW=function r(e){for(var t=e.length,n=0,i="";n<t;n++){var a=e[n];if(a!=null){var s=void 0;switch(typeof a){case"boolean":break;case"object":{if(Array.isArray(a))s=r(a);else{s="";for(var o in a)a[o]&&o&&(s&&(s+=" "),s+=o)}break}default:s=a}s&&(i&&(i+=" "),i+=s)}}return i};function fW(r,e,t){var n=[],i=QF(r,n,t);return n.length<2?t:i+e(n)}var hW=function(e){var t=e.cache,n=e.serializedArr;return ZF(function(){for(var i=0;i<n.length;i++)KF(t,n[i],!1)}),null},f1=t3(function(r,e){var t=!1,n=[],i=function(){for(var d=arguments.length,f=new Array(d),m=0;m<d;m++)f[m]=arguments[m];var g=JC(f,e.registered);return n.push(g),KC(e,g,!1),e.key+"-"+g.name},a=function(){for(var d=arguments.length,f=new Array(d),m=0;m<d;m++)f[m]=arguments[m];return fW(e.registered,i,dW(f))},s={css:i,cx:a,theme:z.useContext(n3)},o=r.children(s);return t=!0,z.createElement(z.Fragment,null,z.createElement(hW,{cache:e,serializedArr:n}),o)}),pW=Object.defineProperty,mW=(r,e,t)=>e in r?pW(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Iv=(r,e,t)=>(mW(r,typeof e!="symbol"?e+"":e,t),t),GE=new Map,Ov=new WeakMap,jA=0,gW=void 0;function yW(r){return r?(Ov.has(r)||(jA+=1,Ov.set(r,jA.toString())),Ov.get(r)):"0"}function vW(r){return Object.keys(r).sort().filter(e=>r[e]!==void 0).map(e=>`${e}_${e==="root"?yW(r.root):r[e]}`).toString()}function _W(r){const e=vW(r);let t=GE.get(e);if(!t){const n=new Map;let i;const a=new IntersectionObserver(s=>{s.forEach(o=>{var c;const d=o.isIntersecting&&i.some(f=>o.intersectionRatio>=f);r.trackVisibility&&typeof o.isVisible>"u"&&(o.isVisible=d),(c=n.get(o.target))==null||c.forEach(f=>{f(d,o)})})},r);i=a.thresholds||(Array.isArray(r.threshold)?r.threshold:[r.threshold||0]),t={id:e,observer:a,elements:n},GE.set(e,t)}return t}function i3(r,e,t={},n=gW){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const c=r.getBoundingClientRect();return e(n,{isIntersecting:n,target:r,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:i,observer:a,elements:s}=_W(t),o=s.get(r)||[];return s.has(r)||s.set(r,o),o.push(e),a.observe(r),function(){o.splice(o.indexOf(e),1),o.length===0&&(s.delete(r),a.unobserve(r)),s.size===0&&(a.disconnect(),GE.delete(i))}}function xW(r){return typeof r.children!="function"}var $A=class extends z.Component{constructor(r){super(r),Iv(this,"node",null),Iv(this,"_unobserveCb",null),Iv(this,"handleNode",e=>{this.node&&(this.unobserve(),!e&&!this.props.triggerOnce&&!this.props.skip&&this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=e||null,this.observeNode()}),Iv(this,"handleChange",(e,t)=>{e&&this.props.triggerOnce&&this.unobserve(),xW(this.props)||this.setState({inView:e,entry:t}),this.props.onChange&&this.props.onChange(e,t)}),this.state={inView:!!r.initialInView,entry:void 0}}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;const{threshold:r,root:e,rootMargin:t,trackVisibility:n,delay:i,fallbackInView:a}=this.props;this._unobserveCb=i3(this.node,this.handleChange,{threshold:r,root:e,rootMargin:t,trackVisibility:n,delay:i},a)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){const{children:r}=this.props;if(typeof r=="function"){const{inView:y,entry:x}=this.state;return r({inView:y,entry:x,ref:this.handleNode})}const{as:e,triggerOnce:t,threshold:n,root:i,rootMargin:a,onChange:s,skip:o,trackVisibility:c,delay:d,initialInView:f,fallbackInView:m,...g}=this.props;return z.createElement(e||"div",{ref:this.handleNode,...g},r)}};function a3({threshold:r,delay:e,trackVisibility:t,rootMargin:n,root:i,triggerOnce:a,skip:s,initialInView:o,fallbackInView:c,onChange:d}={}){var f;const[m,g]=z.useState(null),y=z.useRef(),[x,S]=z.useState({inView:!!o,entry:void 0});y.current=d,z.useEffect(()=>{if(s||!m)return;let C;return C=i3(m,(T,O)=>{S({inView:T,entry:O}),y.current&&y.current(T,O),O.isIntersecting&&a&&C&&(C(),C=void 0)},{root:i,rootMargin:n,threshold:r,trackVisibility:t,delay:e},c),()=>{C&&C()}},[Array.isArray(r)?r.toString():r,m,i,n,a,s,t,c,e]);const _=(f=x.entry)==null?void 0:f.target,E=z.useRef();!m&&_&&!a&&!s&&E.current!==_&&(E.current=_,S({inView:!!o,entry:void 0}));const w=[g,x.inView,x.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}var s3={exports:{}},Qn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WA;function SW(){if(WA)return Qn;WA=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function S(_){if(typeof _=="object"&&_!==null){var E=_.$$typeof;switch(E){case r:switch(_=_.type,_){case t:case i:case n:case d:case f:return _;default:switch(_=_&&_.$$typeof,_){case o:case s:case c:case g:case m:case a:return _;default:return E}}case e:return E}}}return Qn.ContextConsumer=s,Qn.ContextProvider=a,Qn.Element=r,Qn.ForwardRef=c,Qn.Fragment=t,Qn.Lazy=g,Qn.Memo=m,Qn.Portal=e,Qn.Profiler=i,Qn.StrictMode=n,Qn.Suspense=d,Qn.SuspenseList=f,Qn.isAsyncMode=function(){return!1},Qn.isConcurrentMode=function(){return!1},Qn.isContextConsumer=function(_){return S(_)===s},Qn.isContextProvider=function(_){return S(_)===a},Qn.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===r},Qn.isForwardRef=function(_){return S(_)===c},Qn.isFragment=function(_){return S(_)===t},Qn.isLazy=function(_){return S(_)===g},Qn.isMemo=function(_){return S(_)===m},Qn.isPortal=function(_){return S(_)===e},Qn.isProfiler=function(_){return S(_)===i},Qn.isStrictMode=function(_){return S(_)===n},Qn.isSuspense=function(_){return S(_)===d},Qn.isSuspenseList=function(_){return S(_)===f},Qn.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===t||_===i||_===n||_===d||_===f||_===y||typeof _=="object"&&_!==null&&(_.$$typeof===g||_.$$typeof===m||_.$$typeof===a||_.$$typeof===s||_.$$typeof===c||_.$$typeof===x||_.getModuleId!==void 0)},Qn.typeOf=S,Qn}s3.exports=SW();var EW=s3.exports;gt`
  from,
  20%,
  53%,
  to {
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    transform: translate3d(0, 0, 0);
  }

  40%,
  43% {
    animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
    transform: translate3d(0, -30px, 0) scaleY(1.1);
  }

  70% {
    animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
    transform: translate3d(0, -15px, 0) scaleY(1.05);
  }

  80% {
    transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    transform: translate3d(0, 0, 0) scaleY(0.95);
  }

  90% {
    transform: translate3d(0, -4px, 0) scaleY(1.02);
  }
`;gt`
  from,
  50%,
  to {
    opacity: 1;
  }

  25%,
  75% {
    opacity: 0;
  }
`;gt`
  0% {
    transform: translateX(0);
  }

  6.5% {
    transform: translateX(-6px) rotateY(-9deg);
  }

  18.5% {
    transform: translateX(5px) rotateY(7deg);
  }

  31.5% {
    transform: translateX(-3px) rotateY(-5deg);
  }

  43.5% {
    transform: translateX(2px) rotateY(3deg);
  }

  50% {
    transform: translateX(0);
  }
`;gt`
  0% {
    transform: scale(1);
  }

  14% {
    transform: scale(1.3);
  }

  28% {
    transform: scale(1);
  }

  42% {
    transform: scale(1.3);
  }

  70% {
    transform: scale(1);
  }
`;gt`
  from,
  11.1%,
  to {
    transform: translate3d(0, 0, 0);
  }

  22.2% {
    transform: skewX(-12.5deg) skewY(-12.5deg);
  }

  33.3% {
    transform: skewX(6.25deg) skewY(6.25deg);
  }

  44.4% {
    transform: skewX(-3.125deg) skewY(-3.125deg);
  }

  55.5% {
    transform: skewX(1.5625deg) skewY(1.5625deg);
  }

  66.6% {
    transform: skewX(-0.78125deg) skewY(-0.78125deg);
  }

  77.7% {
    transform: skewX(0.390625deg) skewY(0.390625deg);
  }

  88.8% {
    transform: skewX(-0.1953125deg) skewY(-0.1953125deg);
  }
`;gt`
  from {
    transform: scale3d(1, 1, 1);
  }

  50% {
    transform: scale3d(1.05, 1.05, 1.05);
  }

  to {
    transform: scale3d(1, 1, 1);
  }
`;gt`
  from {
    transform: scale3d(1, 1, 1);
  }

  30% {
    transform: scale3d(1.25, 0.75, 1);
  }

  40% {
    transform: scale3d(0.75, 1.25, 1);
  }

  50% {
    transform: scale3d(1.15, 0.85, 1);
  }

  65% {
    transform: scale3d(0.95, 1.05, 1);
  }

  75% {
    transform: scale3d(1.05, 0.95, 1);
  }

  to {
    transform: scale3d(1, 1, 1);
  }
`;gt`
  from,
  to {
    transform: translate3d(0, 0, 0);
  }

  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translate3d(-10px, 0, 0);
  }

  20%,
  40%,
  60%,
  80% {
    transform: translate3d(10px, 0, 0);
  }
`;gt`
  from,
  to {
    transform: translate3d(0, 0, 0);
  }

  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translate3d(-10px, 0, 0);
  }

  20%,
  40%,
  60%,
  80% {
    transform: translate3d(10px, 0, 0);
  }
`;gt`
  from,
  to {
    transform: translate3d(0, 0, 0);
  }

  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translate3d(0, -10px, 0);
  }

  20%,
  40%,
  60%,
  80% {
    transform: translate3d(0, 10px, 0);
  }
`;gt`
  20% {
    transform: rotate3d(0, 0, 1, 15deg);
  }

  40% {
    transform: rotate3d(0, 0, 1, -10deg);
  }

  60% {
    transform: rotate3d(0, 0, 1, 5deg);
  }

  80% {
    transform: rotate3d(0, 0, 1, -5deg);
  }

  to {
    transform: rotate3d(0, 0, 1, 0deg);
  }
`;gt`
  from {
    transform: scale3d(1, 1, 1);
  }

  10%,
  20% {
    transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg);
  }

  30%,
  50%,
  70%,
  90% {
    transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg);
  }

  40%,
  60%,
  80% {
    transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg);
  }

  to {
    transform: scale3d(1, 1, 1);
  }
`;gt`
  from {
    transform: translate3d(0, 0, 0);
  }

  15% {
    transform: translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg);
  }

  30% {
    transform: translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg);
  }

  45% {
    transform: translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg);
  }

  60% {
    transform: translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg);
  }

  75% {
    transform: translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg);
  }

  to {
    transform: translate3d(0, 0, 0);
  }
`;const wW=gt`
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
`,CW=gt`
  from {
    opacity: 0;
    transform: translate3d(-100%, 100%, 0);
  }

  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
`,bW=gt`
  from {
    opacity: 0;
    transform: translate3d(100%, 100%, 0);
  }

  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
`,MW=gt`
  from {
    opacity: 0;
    transform: translate3d(0, -100%, 0);
  }

  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
`,TW=gt`
  from {
    opacity: 0;
    transform: translate3d(0, -2000px, 0);
  }

  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
`,eb=gt`
  from {
    opacity: 0;
    transform: translate3d(-100%, 0, 0);
  }

  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
`,AW=gt`
  from {
    opacity: 0;
    transform: translate3d(-2000px, 0, 0);
  }

  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
`,PW=gt`
  from {
    opacity: 0;
    transform: translate3d(100%, 0, 0);
  }

  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
`,RW=gt`
  from {
    opacity: 0;
    transform: translate3d(2000px, 0, 0);
  }

  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
`,IW=gt`
  from {
    opacity: 0;
    transform: translate3d(-100%, -100%, 0);
  }

  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
`,OW=gt`
  from {
    opacity: 0;
    transform: translate3d(100%, -100%, 0);
  }

  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
`,kW=gt`
  from {
    opacity: 0;
    transform: translate3d(0, 100%, 0);
  }

  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
`,FW=gt`
  from {
    opacity: 0;
    transform: translate3d(0, 2000px, 0);
  }

  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
`;function DW({duration:r=1e3,delay:e=0,timingFunction:t="ease",keyframes:n=eb,iterationCount:i=1}){return r3`
    animation-duration: ${r}ms;
    animation-timing-function: ${t};
    animation-delay: ${e}ms;
    animation-name: ${n};
    animation-direction: normal;
    animation-fill-mode: both;
    animation-iteration-count: ${i};

    @media (prefers-reduced-motion: reduce) {
      animation: none;
    }
  `}function LW(r){return r==null}function NW(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"}function o3(r,e){return t=>t?r():e()}function Sg(r){return o3(r,()=>null)}function qE(r){return Sg(()=>({opacity:0}))(r)}const l3=r=>{const{cascade:e=!1,damping:t=.5,delay:n=0,duration:i=1e3,fraction:a=0,keyframes:s=eb,triggerOnce:o=!1,className:c,style:d,childClassName:f,childStyle:m,children:g,onVisibilityChange:y}=r,x=z.useMemo(()=>DW({keyframes:s,duration:i}),[i,s]);return LW(g)?null:NW(g)?gi(BW,{...r,animationStyles:x,children:String(g)}):EW.isFragment(g)?gi(c3,{...r,animationStyles:x}):gi(uW,{children:z.Children.map(g,(S,_)=>{if(!z.isValidElement(S))return null;const E=n+(e?_*i*t:0);switch(S.type){case"ol":case"ul":return gi(f1,{children:({cx:w})=>gi(S.type,{...S.props,className:w(c,S.props.className),style:Object.assign({},d,S.props.style),children:gi(l3,{...r,children:S.props.children})})});case"li":return gi($A,{threshold:a,triggerOnce:o,onChange:y,children:({inView:w,ref:C})=>gi(f1,{children:({cx:T})=>gi(S.type,{...S.props,ref:C,className:T(f,S.props.className),css:Sg(()=>x)(w),style:Object.assign({},m,S.props.style,qE(!w),{animationDelay:E+"ms"})})})});default:return gi($A,{threshold:a,triggerOnce:o,onChange:y,children:({inView:w,ref:C})=>gi("div",{ref:C,className:c,css:Sg(()=>x)(w),style:Object.assign({},d,qE(!w),{animationDelay:E+"ms"}),children:gi(f1,{children:({cx:T})=>gi(S.type,{...S.props,className:T(f,S.props.className),style:Object.assign({},m,S.props.style)})})})})}})})},UW={display:"inline-block",whiteSpace:"pre"},BW=r=>{const{animationStyles:e,cascade:t=!1,damping:n=.5,delay:i=0,duration:a=1e3,fraction:s=0,triggerOnce:o=!1,className:c,style:d,children:f,onVisibilityChange:m}=r,{ref:g,inView:y}=a3({triggerOnce:o,threshold:s,onChange:m});return o3(()=>gi("div",{ref:g,className:c,style:Object.assign({},d,UW),children:f.split("").map((x,S)=>gi("span",{css:Sg(()=>e)(y),style:{animationDelay:i+S*a*n+"ms"},children:x},S))}),()=>gi(c3,{...r,children:f}))(t)},c3=r=>{const{animationStyles:e,fraction:t=0,triggerOnce:n=!1,className:i,style:a,children:s,onVisibilityChange:o}=r,{ref:c,inView:d}=a3({triggerOnce:n,threshold:t,onChange:o});return gi("div",{ref:c,className:i,css:Sg(()=>e)(d),style:Object.assign({},a,qE(!d)),children:s})};gt`
  from,
  20%,
  40%,
  60%,
  80%,
  to {
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
  }

  0% {
    opacity: 0;
    transform: scale3d(0.3, 0.3, 0.3);
  }

  20% {
    transform: scale3d(1.1, 1.1, 1.1);
  }

  40% {
    transform: scale3d(0.9, 0.9, 0.9);
  }

  60% {
    opacity: 1;
    transform: scale3d(1.03, 1.03, 1.03);
  }

  80% {
    transform: scale3d(0.97, 0.97, 0.97);
  }

  to {
    opacity: 1;
    transform: scale3d(1, 1, 1);
  }
`;gt`
  from,
  60%,
  75%,
  90%,
  to {
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
  }

  0% {
    opacity: 0;
    transform: translate3d(0, -3000px, 0) scaleY(3);
  }

  60% {
    opacity: 1;
    transform: translate3d(0, 25px, 0) scaleY(0.9);
  }

  75% {
    transform: translate3d(0, -10px, 0) scaleY(0.95);
  }

  90% {
    transform: translate3d(0, 5px, 0) scaleY(0.985);
  }

  to {
    transform: translate3d(0, 0, 0);
  }
`;gt`
  from,
  60%,
  75%,
  90%,
  to {
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
  }

  0% {
    opacity: 0;
    transform: translate3d(-3000px, 0, 0) scaleX(3);
  }

  60% {
    opacity: 1;
    transform: translate3d(25px, 0, 0) scaleX(1);
  }

  75% {
    transform: translate3d(-10px, 0, 0) scaleX(0.98);
  }

  90% {
    transform: translate3d(5px, 0, 0) scaleX(0.995);
  }

  to {
    transform: translate3d(0, 0, 0);
  }
`;gt`
  from,
  60%,
  75%,
  90%,
  to {
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
  }

  from {
    opacity: 0;
    transform: translate3d(3000px, 0, 0) scaleX(3);
  }

  60% {
    opacity: 1;
    transform: translate3d(-25px, 0, 0) scaleX(1);
  }

  75% {
    transform: translate3d(10px, 0, 0) scaleX(0.98);
  }

  90% {
    transform: translate3d(-5px, 0, 0) scaleX(0.995);
  }

  to {
    transform: translate3d(0, 0, 0);
  }
`;gt`
  from,
  60%,
  75%,
  90%,
  to {
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
  }

  from {
    opacity: 0;
    transform: translate3d(0, 3000px, 0) scaleY(5);
  }

  60% {
    opacity: 1;
    transform: translate3d(0, -20px, 0) scaleY(0.9);
  }

  75% {
    transform: translate3d(0, 10px, 0) scaleY(0.95);
  }

  90% {
    transform: translate3d(0, -5px, 0) scaleY(0.985);
  }

  to {
    transform: translate3d(0, 0, 0);
  }
`;gt`
  20% {
    transform: scale3d(0.9, 0.9, 0.9);
  }

  50%,
  55% {
    opacity: 1;
    transform: scale3d(1.1, 1.1, 1.1);
  }

  to {
    opacity: 0;
    transform: scale3d(0.3, 0.3, 0.3);
  }
`;gt`
  20% {
    transform: translate3d(0, 10px, 0) scaleY(0.985);
  }

  40%,
  45% {
    opacity: 1;
    transform: translate3d(0, -20px, 0) scaleY(0.9);
  }

  to {
    opacity: 0;
    transform: translate3d(0, 2000px, 0) scaleY(3);
  }
`;gt`
  20% {
    opacity: 1;
    transform: translate3d(20px, 0, 0) scaleX(0.9);
  }

  to {
    opacity: 0;
    transform: translate3d(-2000px, 0, 0) scaleX(2);
  }
`;gt`
  20% {
    opacity: 1;
    transform: translate3d(-20px, 0, 0) scaleX(0.9);
  }

  to {
    opacity: 0;
    transform: translate3d(2000px, 0, 0) scaleX(2);
  }
`;gt`
  20% {
    transform: translate3d(0, -10px, 0) scaleY(0.985);
  }

  40%,
  45% {
    opacity: 1;
    transform: translate3d(0, 20px, 0) scaleY(0.9);
  }

  to {
    opacity: 0;
    transform: translate3d(0, -2000px, 0) scaleY(3);
  }
`;const zW=gt`
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
  }
`,VW=gt`
  from {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }

  to {
    opacity: 0;
    transform: translate3d(-100%, 100%, 0);
  }
`,HW=gt`
  from {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }

  to {
    opacity: 0;
    transform: translate3d(100%, 100%, 0);
  }
`,jW=gt`
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    transform: translate3d(0, 100%, 0);
  }
`,$W=gt`
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    transform: translate3d(0, 2000px, 0);
  }
`,WW=gt`
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    transform: translate3d(-100%, 0, 0);
  }
`,GW=gt`
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    transform: translate3d(-2000px, 0, 0);
  }
`,qW=gt`
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    transform: translate3d(100%, 0, 0);
  }
`,XW=gt`
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    transform: translate3d(2000px, 0, 0);
  }
`,YW=gt`
  from {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }

  to {
    opacity: 0;
    transform: translate3d(-100%, -100%, 0);
  }
`,QW=gt`
  from {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }

  to {
    opacity: 0;
    transform: translate3d(100%, -100%, 0);
  }
`,KW=gt`
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    transform: translate3d(0, -100%, 0);
  }
`,JW=gt`
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    transform: translate3d(0, -2000px, 0);
  }
`;function ZW(r,e,t){switch(t){case"bottom-left":return e?VW:CW;case"bottom-right":return e?HW:bW;case"down":return r?e?$W:TW:e?jW:MW;case"left":return r?e?GW:AW:e?WW:eb;case"right":return r?e?XW:RW:e?qW:PW;case"top-left":return e?YW:IW;case"top-right":return e?QW:OW;case"up":return r?e?JW:FW:e?KW:kW;default:return e?zW:wW}}const br=r=>{const{big:e=!1,direction:t,reverse:n=!1,...i}=r,a=z.useMemo(()=>ZW(e,n,t),[e,t,n]);return gi(l3,{keyframes:a,...i})};gt`
  from {
    transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 0) rotate3d(0, 1, 0, -360deg);
    animation-timing-function: ease-out;
  }

  40% {
    transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 150px)
      rotate3d(0, 1, 0, -190deg);
    animation-timing-function: ease-out;
  }

  50% {
    transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 150px)
      rotate3d(0, 1, 0, -170deg);
    animation-timing-function: ease-in;
  }

  80% {
    transform: perspective(400px) scale3d(0.95, 0.95, 0.95) translate3d(0, 0, 0)
      rotate3d(0, 1, 0, 0deg);
    animation-timing-function: ease-in;
  }

  to {
    transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 0) rotate3d(0, 1, 0, 0deg);
    animation-timing-function: ease-in;
  }
`;gt`
  from {
    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);
    animation-timing-function: ease-in;
    opacity: 0;
  }

  40% {
    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);
    animation-timing-function: ease-in;
  }

  60% {
    transform: perspective(400px) rotate3d(1, 0, 0, 10deg);
    opacity: 1;
  }

  80% {
    transform: perspective(400px) rotate3d(1, 0, 0, -5deg);
  }

  to {
    transform: perspective(400px);
  }
`;gt`
  from {
    transform: perspective(400px) rotate3d(0, 1, 0, 90deg);
    animation-timing-function: ease-in;
    opacity: 0;
  }

  40% {
    transform: perspective(400px) rotate3d(0, 1, 0, -20deg);
    animation-timing-function: ease-in;
  }

  60% {
    transform: perspective(400px) rotate3d(0, 1, 0, 10deg);
    opacity: 1;
  }

  80% {
    transform: perspective(400px) rotate3d(0, 1, 0, -5deg);
  }

  to {
    transform: perspective(400px);
  }
`;gt`
  from {
    transform: perspective(400px);
  }

  30% {
    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);
    opacity: 1;
  }

  to {
    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);
    opacity: 0;
  }
`;gt`
  from {
    transform: perspective(400px);
  }

  30% {
    transform: perspective(400px) rotate3d(0, 1, 0, -15deg);
    opacity: 1;
  }

  to {
    transform: perspective(400px) rotate3d(0, 1, 0, 90deg);
    opacity: 0;
  }
`;gt`
  0% {
    animation-timing-function: ease-in-out;
  }

  20%,
  60% {
    transform: rotate3d(0, 0, 1, 80deg);
    animation-timing-function: ease-in-out;
  }

  40%,
  80% {
    transform: rotate3d(0, 0, 1, 60deg);
    animation-timing-function: ease-in-out;
    opacity: 1;
  }

  to {
    transform: translate3d(0, 700px, 0);
    opacity: 0;
  }
`;gt`
  from {
    opacity: 0;
    transform: scale(0.1) rotate(30deg);
    transform-origin: center bottom;
  }

  50% {
    transform: rotate(-10deg);
  }

  70% {
    transform: rotate(3deg);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
`;gt`
  from {
    opacity: 0;
    transform: translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg);
  }

  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
`;gt`
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    transform: translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg);
  }
`;gt`
  from {
    transform: rotate3d(0, 0, 1, -200deg);
    opacity: 0;
  }

  to {
    transform: translate3d(0, 0, 0);
    opacity: 1;
  }
`;gt`
  from {
    transform: rotate3d(0, 0, 1, -45deg);
    opacity: 0;
  }

  to {
    transform: translate3d(0, 0, 0);
    opacity: 1;
  }
`;gt`
  from {
    transform: rotate3d(0, 0, 1, 45deg);
    opacity: 0;
  }

  to {
    transform: translate3d(0, 0, 0);
    opacity: 1;
  }
`;gt`
  from {
    transform: rotate3d(0, 0, 1, 45deg);
    opacity: 0;
  }

  to {
    transform: translate3d(0, 0, 0);
    opacity: 1;
  }
`;gt`
  from {
    transform: rotate3d(0, 0, 1, -90deg);
    opacity: 0;
  }

  to {
    transform: translate3d(0, 0, 0);
    opacity: 1;
  }
`;gt`
  from {
    opacity: 1;
  }

  to {
    transform: rotate3d(0, 0, 1, 200deg);
    opacity: 0;
  }
`;gt`
  from {
    opacity: 1;
  }

  to {
    transform: rotate3d(0, 0, 1, 45deg);
    opacity: 0;
  }
`;gt`
  from {
    opacity: 1;
  }

  to {
    transform: rotate3d(0, 0, 1, -45deg);
    opacity: 0;
  }
`;gt`
  from {
    opacity: 1;
  }

  to {
    transform: rotate3d(0, 0, 1, -45deg);
    opacity: 0;
  }
`;gt`
  from {
    opacity: 1;
  }

  to {
    transform: rotate3d(0, 0, 1, 90deg);
    opacity: 0;
  }
`;gt`
  from {
    transform: translate3d(0, -100%, 0);
    visibility: visible;
  }

  to {
    transform: translate3d(0, 0, 0);
  }
`;gt`
  from {
    transform: translate3d(-100%, 0, 0);
    visibility: visible;
  }

  to {
    transform: translate3d(0, 0, 0);
  }
`;gt`
  from {
    transform: translate3d(100%, 0, 0);
    visibility: visible;
  }

  to {
    transform: translate3d(0, 0, 0);
  }
`;gt`
  from {
    transform: translate3d(0, 100%, 0);
    visibility: visible;
  }

  to {
    transform: translate3d(0, 0, 0);
  }
`;gt`
  from {
    transform: translate3d(0, 0, 0);
  }

  to {
    visibility: hidden;
    transform: translate3d(0, 100%, 0);
  }
`;gt`
  from {
    transform: translate3d(0, 0, 0);
  }

  to {
    visibility: hidden;
    transform: translate3d(-100%, 0, 0);
  }
`;gt`
  from {
    transform: translate3d(0, 0, 0);
  }

  to {
    visibility: hidden;
    transform: translate3d(100%, 0, 0);
  }
`;gt`
  from {
    transform: translate3d(0, 0, 0);
  }

  to {
    visibility: hidden;
    transform: translate3d(0, -100%, 0);
  }
`;gt`
  from {
    opacity: 0;
    transform: scale3d(0.3, 0.3, 0.3);
  }

  50% {
    opacity: 1;
  }
`;gt`
  from {
    opacity: 0;
    transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -1000px, 0);
    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  60% {
    opacity: 1;
    transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);
    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
  }
`;gt`
  from {
    opacity: 0;
    transform: scale3d(0.1, 0.1, 0.1) translate3d(-1000px, 0, 0);
    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  60% {
    opacity: 1;
    transform: scale3d(0.475, 0.475, 0.475) translate3d(10px, 0, 0);
    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
  }
`;gt`
  from {
    opacity: 0;
    transform: scale3d(0.1, 0.1, 0.1) translate3d(1000px, 0, 0);
    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  60% {
    opacity: 1;
    transform: scale3d(0.475, 0.475, 0.475) translate3d(-10px, 0, 0);
    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
  }
`;gt`
  from {
    opacity: 0;
    transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 1000px, 0);
    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  60% {
    opacity: 1;
    transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);
    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
  }
`;gt`
  from {
    opacity: 1;
  }

  50% {
    opacity: 0;
    transform: scale3d(0.3, 0.3, 0.3);
  }

  to {
    opacity: 0;
  }
`;gt`
  40% {
    opacity: 1;
    transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);
    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  to {
    opacity: 0;
    transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 2000px, 0);
    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
  }
`;gt`
  40% {
    opacity: 1;
    transform: scale3d(0.475, 0.475, 0.475) translate3d(42px, 0, 0);
  }

  to {
    opacity: 0;
    transform: scale(0.1) translate3d(-2000px, 0, 0);
  }
`;gt`
  40% {
    opacity: 1;
    transform: scale3d(0.475, 0.475, 0.475) translate3d(-42px, 0, 0);
  }

  to {
    opacity: 0;
    transform: scale(0.1) translate3d(2000px, 0, 0);
  }
`;gt`
  40% {
    opacity: 1;
    transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);
    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  to {
    opacity: 0;
    transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -2000px, 0);
    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
  }
`;const eG="/assets/AppDesign-BItRBzY4.jpg",tG="/assets/Techguitar-DB4ca9z1.jpg";function nG(){return H.jsxs(Ms,{fluid:!0,className:"App p-3",children:[H.jsx(bn,{bg:"secondary",text:"white",className:"text-center py-5",children:H.jsx(Vr,{className:"align-items-center text-center",children:H.jsx(Nn,{children:H.jsxs(br,{direction:"down",children:[H.jsx("h1",{children:"Welcome to the TRUSTLOVE Earth Ship"}),H.jsx("p",{children:"The future is here..."})]})})})}),H.jsxs(Vr,{id:"story",className:"my-5",children:[H.jsx(Nn,{md:6,className:"text-center",children:H.jsx(br,{direction:"left",children:H.jsx(u_,{src:tG,alt:"Innovative Design",fluid:!0})})}),H.jsx(Nn,{md:6,children:H.jsxs(br,{direction:"right",children:[H.jsx("h2",{children:"the TRUSTLOVE Story"}),H.jsx("p",{children:"As a lifelong musician and music fan, John McMahon has spent years working on his various skills as an instrumentalist and vocalist, as well as his EDM production as TRUSTLOVE."})]})})]}),H.jsxs(Vr,{className:"align-items-center my-5",children:[H.jsx(Nn,{md:6,children:H.jsxs(br,{direction:"left",children:[H.jsx("h2",{children:"John's Music Journey"}),H.jsxs("p",{children:["I started with whistling at age of 10 and became quite good, developing my ear, wind, and lips :) - At 12 I tried violin for about a year and did not get into it.",H.jsx("br",{}),H.jsx("br",{}),"At 13 I tried saxophone for a year and also didn’t really click.",H.jsx("br",{}),H.jsx("br",{}),"At 14 I got an electric guitar and THAT became my main instrument … I was in a few bands as a teenager but then just casually played here and there at parties and stuff.",H.jsx("br",{}),H.jsx("br",{}),"At 30 I got excited to play drums something I had always toyed with in the bands i played in… So i started playing electronic drums",H.jsx("br",{}),H.jsx("br",{}),"At 40 I started getting more into electronic production as the tools got better and the software improved. I was pretty bad but by about 45 I had ability to make some “songs” haha.",H.jsx("br",{}),H.jsx("br",{}),"At 48 I was having a tough time at work and home and commuting into downtown SF every day for an office job. Inside i could feel a pressure to sing some of the music i was listening to at the time. The pressure got more and more until I was literally COMPELLED to start singing… despite I was quite bad and did not even want to hear myself lol.",H.jsx("br",{}),"With a bit of coaching from my then-wife, and 2-3 hours of practice every day since for going on 7 years now… I have finally achieved some vocal confidence and while I am not where I’d be if i had started singing at 10, the combination of my other instruments and experience create a musicality that I can now apply to my own productions as well as interpretation of cover songs.",H.jsx("br",{}),"To me music is a way to connect with myself first and others second. When I connect with the music and enter that flow state — because it is so very challenging — it is so therapeutic and helps my mood. And now that I am sharing my music more its a whole world of creative expression and social positivity that I value so much.",H.jsx("br",{}),"I am similarly passionate about my business projects and my athletic endeavors, and those 3 facets of my personality balance and complement each other perfectly and along with Family and Friends, living in SF, and my amazing dog … it makes for a great life, lacking only a romantic relationship that goes beyond casual.",H.jsx("br",{})]})]})}),H.jsx(Nn,{md:6,className:"text-center",children:H.jsx(br,{direction:"right",children:H.jsx(u_,{src:eG,alt:"Core Technology",fluid:!0})})})]}),H.jsx(Vr,{className:"my-5",children:H.jsx(Nn,{className:"text-center",children:H.jsxs(br,{direction:"down",children:[H.jsx("h2",{children:"The Future of Music Collaboration"}),H.jsxs("p",{children:["I'm dedicated to using technology and the power of humanity to create change. I'm always pushing the boundaries, my project JamRoom is set to redefine the music industry by enabling artists to not only collaborate but also connect and share their music with an ever-growing global audience.",H.jsx("br",{}),H.jsx("br",{}),"SIGN UP FOR THE FREE NEWSLETTER!"]})]})})})]})}function rG(){return H.jsxs(Ms,{fluid:!0,className:"App p-3",children:[H.jsx(br,{cascade:!0,children:H.jsxs(bn,{bg:"secondary",text:"white",className:"jumbotron",style:{backgroundColor:"#333",color:"white"},children:[H.jsx("h1",{children:"Unite and Unleash your Sound"}),H.jsx("p",{children:"Join a vibrant platform designed to amplify your music career—whether you're teaching, recording, or jamming live."}),H.jsx("button",{children:"Discover More"})]})}),H.jsxs(Vr,{className:"my-4",children:[H.jsx(Nn,{md:4,children:H.jsx(br,{direction:"left",children:H.jsxs(bn,{bg:"secondary",text:"white",children:[H.jsx(bn.Img,{variant:"top",src:"https://source.unsplash.com/600x400/?music-teacher"}),H.jsxs(bn.Body,{children:[H.jsxs(bn.Title,{children:["Join Your Mates for a Jam ",H.jsx(Ed,{bg:"secondary",children:"Trending"})]}),H.jsx(bn.Text,{children:"How much fun is it to jam with your friends? A LOT of fun!"}),H.jsx("button",{children:"Start Jamming"})]})]})})}),H.jsx(Nn,{md:4,children:H.jsx(br,{children:H.jsxs(bn,{bg:"secondary",text:"white",children:[H.jsx(bn.Img,{variant:"top",src:"https://source.unsplash.com/600x400/?recording-studio"}),H.jsxs(bn.Body,{children:[H.jsx(bn.Title,{children:"Record with Top Tech"}),H.jsx(bn.Text,{children:"Access state-of-the-art recording tools to produce high-quality music. Collaborate with bands and artists remotely or in-studio."}),H.jsx("button",{children:"Explore Studios"})]})]})})}),H.jsx(Nn,{md:4,children:H.jsx(br,{direction:"right",children:H.jsxs(bn,{bg:"secondary",text:"white",children:[H.jsx(bn.Img,{variant:"top",src:"https://source.unsplash.com/600x400/?jam-session"}),H.jsxs(bn.Body,{children:[H.jsx(bn.Title,{children:"Jam Sessions"}),H.jsx(bn.Text,{children:"Connect and jam in real-time with musicians across the globe. Create music spontaneously with friends or new artists."}),H.jsx("button",{children:"Join a Jam"})]})]})})})]}),H.jsxs(mi,{defaultActiveKey:"0",className:"my-4",children:[H.jsxs(bn,{bg:"secondary",text:"white",children:[H.jsx(mi.Header,{children:"Build Your Music Career"}),H.jsx(mi.Collapse,{eventKey:"0",children:H.jsx(br,{children:H.jsx(bn.Body,{children:"Whether you're just starting or looking to expand your reach, get all the tools and insights you need to succeed in the music industry."})})})]}),H.jsxs(bn,{bg:"secondary",text:"white",children:[H.jsx(mi.Header,{children:"Real-Time Collaboration"}),H.jsx(mi.Collapse,{eventKey:"1",children:H.jsx(br,{children:H.jsx(bn.Body,{children:"Discover the thrill of live collaboration without leaving your home. Our platform's low-latency technology makes real-time music creation a breeze."})})})]})]}),H.jsx(br,{})]})}/*
@license
The MIT License (MIT)

Copyright (c) 2016 Shopify Inc.

Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be included
in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

*/var tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},eu=function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")},Yc=function(){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),uy=function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)},dy=function(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:r};function pp(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];return e.join(" ")}function Ex(r){return!!r&&Object.prototype.toString.call(r.valueOf())==="[object Object]"}function g_(r,e){return r(e)?e:Ex(e)?Object.freeze(Object.keys(e).reduce(function(t,n){return t[n]=g_(r,e[n]),t},{})):Array.isArray(e)?Object.freeze(e.map(function(t){return g_(r,t)})):e}function ep(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=r.types[e];if(n)return n;if(t&&t.kind==="INTERFACE")return t;throw new Error("No type of "+e+" found in schema")}var li=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Sa=function(){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),GA=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},wx=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof t>"u"?"undefined":tb(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Cx=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&((typeof t>"u"?"undefined":tb(t))==="object"||typeof t=="function")?t:e},tp=function(){function r(e,t){var n=[],i=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),c;!(i=(c=o.next()).done)&&(n.push(c.value),!(t&&n.length===t));i=!0);}catch(d){a=!0,s=d}finally{try{!i&&o.return&&o.return()}finally{if(a)throw s}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Id=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}else return Array.from(e)},nb=function(){function r(e,t,n){li(this,r),this.name=e,this.type=t,this.defaultValue=n,Object.freeze(this)}return Sa(r,[{key:"toInputValueString",value:function(){return"$"+this.name}},{key:"toString",value:function(){var t=this.defaultValue?" = "+ab(this.defaultValue):"";return"$"+this.name+":"+this.type+t}}]),r}();function Eg(r){return nb.prototype.isPrototypeOf(r)}function rb(r,e,t){return new nb(r,e,t)}var ib=function(){function r(e){li(this,r),this.key=e}return Sa(r,[{key:"toString",value:function(){return this.key}},{key:"valueOf",value:function(){return this.key.valueOf()}}]),r}(),iG=function(e){return new ib(e)},bx=function(){function r(e){li(this,r),this.value=e}return Sa(r,[{key:"toString",value:function(){return this.value.toString()}},{key:"valueOf",value:function(){return this.value.valueOf()}},{key:"unwrapped",get:function(){return this.value}}]),r}();function ab(r){return nb.prototype.isPrototypeOf(r)?r.toInputValueString():ib.prototype.isPrototypeOf(r)?String(r):bx.prototype.isPrototypeOf(r)?JSON.stringify(r.valueOf()):Array.isArray(r)?"["+pp.apply(void 0,Id(r.map(ab)))+"]":Ex(r)?sb(r,"{","}"):JSON.stringify(r)}function sb(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",n=Object.keys(r).map(function(i){return i+": "+ab(r[i])});return""+e+pp.apply(void 0,Id(n))+t}function aG(r){return Object.keys(r).length?" ("+sb(r)+")":""}function sG(r){if(!Object.keys(r).length)return"";var e=Object.keys(r).map(function(t){var n=r[t],i=n&&Object.keys(n).length?"("+sb(n)+")":"";return"@"+t+i});return" "+pp.apply(void 0,Id(e))}var wg=function(){},u3={trackTypeDependency:wg,trackFieldDependency:wg},oG=u3.trackTypeDependency,qA=u3.trackFieldDependency;function XA(r){var e=wg,t={},n=null;if(r.length===2)if(typeof r[1]=="function"){var i=tp(r,2);t=i[0],e=i[1]}else{var a=tp(r,2);t=a[0],n=a[1]}else r.length===1&&(wd.prototype.isPrototypeOf(r[0])?n=r[0]:typeof r[0]=="function"?e=r[0]:t=r[0]);return{options:t,selectionSet:n,callback:e}}var lG=Object.freeze({}),cG=Object.freeze({}),Od=function(){function r(e,t,n){li(this,r),this.name=e,this.alias=t.alias||null,this.responseKey=this.alias||this.name,this.args=t.args?g_(Eg,t.args):lG,this.directives=t.directives?g_(Eg,t.directives):cG,this.selectionSet=n,Object.freeze(this)}return Sa(r,[{key:"toString",value:function(){var t=this.alias?this.alias+": ":"";return""+t+this.name+aG(this.args)+sG(this.directives)+this.selectionSet}}]),r}(),fy=function r(){li(this,r)},uG=function(r){wx(e,r);function e(t,n){li(this,e);var i=Cx(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.typeName=t,i.selectionSet=n,Object.freeze(i),i}return Sa(e,[{key:"toString",value:function(){return"... on "+this.typeName+this.selectionSet}}]),e}(fy),d3=function(r){wx(e,r);function e(t){li(this,e);var n=Cx(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name=t.name,n.selectionSet=t.selectionSet,Object.freeze(n),n}return Sa(e,[{key:"toString",value:function(){return"..."+this.name}},{key:"toDefinition",value:function(){return new XE(this.name,this.selectionSet.typeSchema.name,this.selectionSet)}}]),e}(fy),XE=function(){function r(e,t,n){li(this,r),this.name=e,this.typeName=t,this.selectionSet=n,this.spread=new d3(this),Object.freeze(this)}return Sa(r,[{key:"toString",value:function(){return"fragment "+this.name+" on "+this.typeName+" "+this.selectionSet}}]),r}();function f3(r){return r.some(function(e){return Od.prototype.isPrototypeOf(e)?e.name==="id":fy.prototype.isPrototypeOf(e)&&e.selectionSet.typeSchema.implementsNode?f3(e.selectionSet.selections):!1})}function h3(r){return r.some(function(e){return Od.prototype.isPrototypeOf(e)?e.name==="__typename":fy.prototype.isPrototypeOf(e)&&e.selectionSet.typeSchema.implementsNode?h3(e.selectionSet.selections):!1})}function dG(r){function e(n,i,a){Array.isArray(n[i])?n[i].push(a):n[i]=[a]}var t=r.reduce(function(n,i){if(i.responseKey)e(n,i.responseKey,i);else{var a=Object.keys(i.selectionSet.selectionsByResponseKey);a.forEach(function(s){e(n,s,i)})}return n},{});return Object.keys(t).forEach(function(n){Object.freeze(t[n])}),Object.freeze(t)}var wd=function(){function r(e,t,n){li(this,r),typeof t=="string"?this.typeSchema=ep(e,t):this.typeSchema=t,oG(this.typeSchema.name),this.typeBundle=e,this.selections=[],n&&n(new fG(this.typeBundle,this.typeSchema,this.selections)),(this.typeSchema.implementsNode||this.typeSchema.name==="Node")&&(f3(this.selections)||this.selections.unshift(new Od("id",{},new r(e,"ID")))),this.typeSchema.kind==="INTERFACE"&&(h3(this.selections)||this.selections.unshift(new Od("__typename",{},new r(e,"String")))),this.selectionsByResponseKey=dG(this.selections),Object.freeze(this.selections),Object.freeze(this)}return Sa(r,[{key:"toString",value:function(){return this.typeSchema.kind==="SCALAR"||this.typeSchema.kind==="ENUM"?"":" { "+pp(this.selections)+" }"}}]),r}(),fG=function(){function r(e,t,n){li(this,r),this.typeBundle=e,this.typeSchema=t,this.selections=n}return Sa(r,[{key:"hasSelectionWithResponseKey",value:function(t){return this.selections.some(function(n){return n.responseKey===t})}},{key:"add",value:function(t){var n=void 0;if(Object.prototype.toString.call(t)==="[object String]"){qA(this.typeSchema.name,t);for(var i=arguments.length,a=Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];n=this.field.apply(this,[t].concat(a))}else Od.prototype.isPrototypeOf(t)&&qA(this.typeSchema.name,t.name),n=t;if(n.responseKey&&this.hasSelectionWithResponseKey(n.responseKey))throw new Error("The field name or alias '"+n.responseKey+"' has already been added.");this.selections.push(n)}},{key:"field",value:function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var s=XA(i),o=s.options,c=s.callback,d=s.selectionSet;if(!d){if(!this.typeSchema.fieldBaseTypes[t])throw new Error('No field of name "'+t+'" found on type "'+this.typeSchema.name+'" in schema');var f=ep(this.typeBundle,this.typeSchema.fieldBaseTypes[t]);d=new wd(this.typeBundle,f,c)}return new Od(t,o,d)}},{key:"inlineFragmentOn",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wg,i=void 0;return wd.prototype.isPrototypeOf(n)?i=n:i=new wd(this.typeBundle,ep(this.typeBundle,t),n),new uG(t,i)}},{key:"addField",value:function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];this.add.apply(this,[t].concat(i))}},{key:"addConnection",value:function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var s=XA(i),o=s.options,c=s.callback,d=s.selectionSet;this.add(t,o,function(f){f.add("pageInfo",{},function(m){m.add("hasNextPage"),m.add("hasPreviousPage")}),f.add("edges",{},function(m){m.add("cursor"),m.addField("node",{},d||c)})})}},{key:"addInlineFragmentOn",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wg;this.add(this.inlineFragmentOn(t,n))}},{key:"addFragment",value:function(t){this.add(t)}}]),r}();function hG(r){var e=void 0,t=void 0,n=void 0;if(r.length===3){var i=tp(r,3);e=i[0],t=i[1],n=i[2]}else r.length===2?(Object.prototype.toString.call(r[0])==="[object String]"?(e=r[0],t=null):Array.isArray(r[0])&&(t=r[0],e=null),n=r[1]):(n=r[0],e=null);return{name:e,variables:t,selectionSetCallback:n}}var pG=function(){function r(e){li(this,r),this.variableDefinitions=e?[].concat(Id(e)):[],Object.freeze(this.variableDefinitions),Object.freeze(this)}return Sa(r,[{key:"toString",value:function(){return this.variableDefinitions.length===0?"":" ("+pp(this.variableDefinitions)+") "}}]),r}(),hy=function(){function r(e,t){li(this,r);for(var n=arguments.length,i=Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];var s=hG(i),o=s.name,c=s.variables,d=s.selectionSetCallback;this.typeBundle=e,this.name=o,this.variableDefinitions=new pG(c),this.operationType=t,t==="query"?(this.selectionSet=new wd(e,e.queryType,d),this.typeSchema=ep(e,e.queryType)):(this.selectionSet=new wd(e,e.mutationType,d),this.typeSchema=ep(e,e.mutationType)),Object.freeze(this)}return Sa(r,[{key:"toString",value:function(){var t=this.name?" "+this.name:"";return""+this.operationType+t+this.variableDefinitions+this.selectionSet}},{key:"isAnonymous",get:function(){return!this.name}}]),r}(),ob=function(r){wx(e,r);function e(t){var n;li(this,e);for(var i=arguments.length,a=Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return Cx(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this,t,"query"].concat(a)))}return e}(hy),p3=function(r){wx(e,r);function e(t){var n;li(this,e);for(var i=arguments.length,a=Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return Cx(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this,t,"mutation"].concat(a)))}return e}(hy);function mG(r){return r.isAnonymous}function gG(r){return r.some(mG)}function yG(r){var e=r.map(function(t){return t.name});return e.reduce(function(t,n,i){return t||e.indexOf(n)!==i},!1)}function vG(r,e){for(var t=arguments.length,n=Array(t>2?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i];return hy.prototype.isPrototypeOf(n[0])?n[0]:e==="query"?new(Function.prototype.bind.apply(ob,[null].concat([r],n))):new(Function.prototype.bind.apply(p3,[null].concat([r],n)))}function _G(r){return r.length===1?!1:gG(r)||yG(r)}function xG(r,e){return r.some(function(t){return t.name===e})}var m3=function(){function r(e){li(this,r),this.typeBundle=e,this.definitions=[]}return Sa(r,[{key:"toString",value:function(){return pp(this.definitions)}},{key:"addOperation",value:function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var s=vG.apply(void 0,[this.typeBundle,t].concat(i));if(_G(this.operations.concat(s)))throw new Error("All operations must be uniquely named on a multi-operation document");this.definitions.push(s)}},{key:"addQuery",value:function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];this.addOperation.apply(this,["query"].concat(n))}},{key:"addMutation",value:function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];this.addOperation.apply(this,["mutation"].concat(n))}},{key:"defineFragment",value:function(t,n,i){if(xG(this.fragmentDefinitions,t))throw new Error("All fragments must be uniquely named on a multi-fragment document");var a=new wd(this.typeBundle,n,i),s=new XE(t,n,a);return this.definitions.push(s),s.spread}},{key:"operations",get:function(){return this.definitions.filter(function(t){return hy.prototype.isPrototypeOf(t)})}},{key:"fragmentDefinitions",get:function(){return this.definitions.filter(function(t){return XE.prototype.isPrototypeOf(t)})}}]),r}(),SG=function r(e){var t=this;li(this,r),Object.defineProperty(this,"attrs",{value:e,enumerable:!1}),Object.keys(this.attrs).filter(function(n){return!(n in t)}).forEach(function(n){var i=void 0;e[n]===null?i={enumerable:!0,get:function(){return null}}:i={enumerable:!0,get:function(){return this.attrs[n].valueOf()}},Object.defineProperty(t,n,i)})},g3=function(){function r(){li(this,r),this.classStore={}}return Sa(r,[{key:"registerClassForType",value:function(t,n){this.classStore[n]=t}},{key:"unregisterClassForType",value:function(t){delete this.classStore[t]}},{key:"classForType",value:function(t){return this.classStore[t]||SG}}]),r}();function lb(r){return Object.prototype.toString.call(r)!=="[object Null]"&&Object.prototype.toString.call(r)!=="[object Undefined]"}function y3(r){return r.selection.selectionSet.typeSchema.implementsNode}function EG(r){return r.selection.selectionSet.typeSchema.name.endsWith("Connection")}function v3(r){return r==null?null:y3(r)?r:v3(r.parent)}function _3(r){return r.parent?_3(r.parent).concat(r):[r]}function x3(r){return r.selection.selectionSet.typeSchema.implementsNode?[r]:x3(r.parent).concat(r)}function YA(r,e){var t=e[e.length-1],n=t.selection.args.first,i=Object.keys(t.selection.args).filter(function(o){return Eg(t.selection.args[o])}).map(function(o){return t.selection.args[o]}),a=i.find(function(o){return o.name==="first"});a||(Eg(n)?a=n:(a=rb("first","Int",n),i.push(a)));var s=new m3(r.selection.selectionSet.typeBundle);return[s,i,a]}function YE(r,e,t,n){var i=e.shift();if(t.push(i.selection.responseKey),e.length)r.add(i.selection.name,{alias:i.selection.alias,args:i.selection.args},function(d){YE(d,e,t,n)});else{var a=i.selection.selectionSet.selections.find(function(d){return d.name==="edges"}),s=a.selectionSet.selections.find(function(d){return d.name==="node"}),o=void 0;Eg(i.selection.args.first)?o=i.selection.args.first:o=rb("first","Int",i.selection.args.first);var c={alias:i.selection.alias,args:Object.assign({},i.selection.args,{after:n,first:o})};r.addConnection(i.selection.name,c,s.selectionSet)}}function QE(r){return r.reduce(function(e,t){return d3.prototype.isPrototypeOf(t)&&e.push(t.toDefinition()),e.push.apply(e,Id(QE(t.selectionSet.selections))),e},[])}function wG(r,e){var t=v3(r);return t?function(){var n,i=[],a=t.selection.selectionSet.typeSchema,s=t.responseData.id,o=x3(r),c=YA(r,o),d=tp(c,2),f=d[0],m=d[1];f.addQuery(m,function(y){i.push("node"),y.add("node",{args:{id:s}},function(x){x.addInlineFragmentOn(a.name,function(S){YE(S,o.slice(1),i,e)})})});var g=QE(f.operations[0].selectionSet.selections);return(n=f.definitions).unshift.apply(n,Id(g)),[f,i]}:function(){var n,i=[],a=_3(r),s=YA(r,a),o=tp(s,2),c=o[0],d=o[1];c.addQuery(d,function(m){YE(m,a.slice(1),i,e)});var f=QE(c.operations[0].selectionSet.selections);return(n=c.definitions).unshift.apply(n,Id(f)),[c,i]}}function CG(r,e){return e!==r.edges[r.edges.length-1]?new bx(!0):r.pageInfo.hasNextPage}function bG(r,e){return e!==r.edges[0]?new bx(!0):r.pageInfo.hasPreviousPage}function MG(r){return function(e,t){if(EG(e)){if(!(t.pageInfo&&t.pageInfo.hasOwnProperty("hasNextPage")&&t.pageInfo.hasOwnProperty("hasPreviousPage")))throw new Error('Connections must include the selections "pageInfo { hasNextPage, hasPreviousPage }".');return t.edges.map(function(n){return Object.assign(n.node,{nextPageQueryAndPath:wG(e,n.cursor),hasNextPage:CG(t,n),hasPreviousPage:bG(t,n),variableValues:r})})}else return t}}var TG=function(){function r(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;li(this,r),this.selection=e,this.responseData=t,this.parent=n,Object.freeze(this)}return Sa(r,[{key:"contextForObjectProperty",value:function(t){var n=this.selection.selectionSet.selectionsByResponseKey[t],i=n&&n[0],a=void 0;if(fy.prototype.isPrototypeOf(i)?a=new r(i,this.responseData,this.parent):a=new r(i,this.responseData[t],this),!i)throw new Error('Unexpected response key "'+t+'", not found in selection set: '+this.selection.selectionSet);return Od.prototype.isPrototypeOf(i)?a:a.contextForObjectProperty(t)}},{key:"contextForArrayItem",value:function(t){return new r(this.selection,t,this.parent)}}]),r}();function AG(r,e){return r.responseData.map(function(t){return cb(r.contextForArrayItem(t),e)})}function PG(r,e){return Object.keys(r.responseData).reduce(function(t,n){return t[n]=cb(r.contextForObjectProperty(n),e),t},{})}function RG(r,e,t){return r.reduce(function(n,i){return i(e,n)},t)}function cb(r,e){var t=r.responseData;return Array.isArray(t)?t=AG(r,e):Ex(t)&&(t=PG(r,e)),RG(e,r,t)}function IG(r,e){return lb(e)&&y3(r)&&(e.refetchQuery=function(){return new ob(r.selection.selectionSet.typeBundle,function(t){t.add("node",{args:{id:r.responseData.id}},function(n){n.addInlineFragmentOn(r.selection.selectionSet.typeSchema.name,r.selection.selectionSet)})})}),e}function OG(r){return function(t,n){if(Ex(n)){var i=r.classForType(t.selection.selectionSet.typeSchema.name);return new i(n)}else return n}}function kG(r,e){if(lb(e)){if(r.selection.selectionSet.typeSchema.kind==="SCALAR")return new bx(e);if(r.selection.selectionSet.typeSchema.kind==="ENUM")return new ib(e)}return e}function FG(r,e){var t=r.selection.selectionSet,n=t.typeBundle,i=t.typeSchema;return lb(e)&&(e.__typename?e.type=ep(n,e.__typename,i):e.type=i),e}function DG(r){var e=r.classRegistry,t=e===void 0?new g3:e,n=r.variableValues;return[kG,IG,MG(n),FG,OG(t)]}function LG(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=t.transformers||DG(t),i=new TG(r,e);return cb(i,n)}function NG(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(n,i){return fetch(r,GA({body:JSON.stringify(n),method:"POST",mode:"cors"},e,{headers:GA({"Content-Type":"application/json",Accept:"application/json"},e.headers,i)})).then(function(a){var s=a.headers.get("content-type");return s.indexOf("application/json")>-1?a.json():a.text().then(function(o){return{text:o}})})}}function UG(r){return r&&r.length&&r[r.length-1].hasNextPage}var QA=function(){function r(e,t){var n=t.url,i=t.fetcherOptions,a=t.fetcher,s=t.registry,o=s===void 0?new g3:s;if(li(this,r),this.typeBundle=e,this.classRegistry=o,n&&a)throw new Error("Arguments not supported: supply either `url` and optional `fetcherOptions` OR use a `fetcher` function for further customization.");if(n)this.fetcher=NG(n,i);else if(a){if(i)throw new Error("Arguments not supported: when specifying your own `fetcher`, set options through it and not with `fetcherOptions`");this.fetcher=a}else throw new Error("Invalid arguments: one of `url` or `fetcher` is needed.")}return Sa(r,[{key:"document",value:function(){return new m3(this.typeBundle)}},{key:"query",value:function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return new(Function.prototype.bind.apply(ob,[null].concat([this.typeBundle],n)))}},{key:"mutation",value:function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return new(Function.prototype.bind.apply(p3,[null].concat([this.typeBundle],n)))}},{key:"send",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=void 0;Function.prototype.isPrototypeOf(t)?o=t(this):o=t;var c={query:o.toString()};n&&(c.variables=n),Object.assign(c,a);var d=void 0;if(hy.prototype.isPrototypeOf(o))d=o;else{var f=o;if(f.operations.length===1)d=f.operations[0];else if(a.operationName)d=f.operations.find(function(m){return m.name===a.operationName});else throw new Error(`
          A document must contain exactly one operation, or an operationName
          must be specified. Example:

            client.send(document, null, {operationName: 'myFancyQuery'});
        `)}return this.fetcher(c,s).then(function(m){return m.data&&(m.model=LG(d,m.data,{classRegistry:i.classRegistry,variableValues:n})),m})}},{key:"fetchNextPage",value:function(t,n){var i=void 0;Array.isArray(t)?i=t[t.length-1]:i=t;var a=i.nextPageQueryAndPath(),s=tp(a,2),o=s[0],c=s[1],d=void 0;return(i.variableValues||n)&&(d=Object.assign({},i.variableValues,n)),this.send(o,d).then(function(f){return f.model=c.reduce(function(m,g){return m[g]},f.model),f})}},{key:"fetchAllPages",value:function(t,n){var i=this,a=n.pageSize;return UG(t)?this.fetchNextPage(t,{first:a}).then(function(s){var o=s.model,c=t.concat(o);return i.fetchAllPages(c,{pageSize:a})}):Promise.resolve(t)}},{key:"refetch",value:function(t){if(t){if(!t.type.implementsNode)throw new Error("'client#refetch' must be called with a type that implements Node. Received "+t.type.name+".")}else throw new Error("'client#refetch' must be called with a non-null instance of a Node.");return this.send(t.refetchQuery()).then(function(n){var i=n.model;return i.node})}},{key:"variable",value:function(t,n,i){return rb(t,n,i)}},{key:"enum",value:function(t){return iG(t)}}]),r}(),BG=function(){Yc(r,[{key:"requiredProperties",get:function(){return["storefrontAccessToken","domain"]}},{key:"deprecatedProperties",get:function(){return{accessToken:"storefrontAccessToken",apiKey:"storefrontAccessToken"}}}]);function r(e){var t=this;eu(this,r),Object.keys(this.deprecatedProperties).forEach(function(n){e.hasOwnProperty(n)&&(console.warn("[ShopifyBuy] Config property "+n+" is deprecated as of v1.0, please use "+t.deprecatedProperties[n]+" instead."),e[t.deprecatedProperties[n]]=e[n])}),this.requiredProperties.forEach(function(n){if(e.hasOwnProperty(n))t[n]=e[n];else throw new Error("new Config() requires the option '"+n+"'")}),e.hasOwnProperty("apiVersion")?this.apiVersion=e.apiVersion:this.apiVersion="2024-04",e.hasOwnProperty("source")&&(this.source=e.source),e.hasOwnProperty("language")&&(this.language=e.language)}return r}(),py=function r(e){eu(this,r),this.graphQLClient=e},zG=[{message:"an unknown error has occurred."}];function pa(r){var e=r.split(".");return function(t){var n=t.model,i=t.errors;return new Promise(function(a,s){try{var o=e.reduce(function(c,d){return c[d]},n);a(o)}catch{s(i||zG)}})}}function S3(r,e){var t=[].concat(r);return Promise.all(t.reduce(function(n,i){return i===null||(n.push(e.fetchAllPages(i.images,{pageSize:250}).then(function(a){i.attrs.images=a})),n.push(e.fetchAllPages(i.variants,{pageSize:250}).then(function(a){i.attrs.variants=a}))),n},[]))}function th(r){return function(e){return S3(e,r).then(function(){return e})}}function KA(r){return function(e){var t=[].concat(e);return Promise.all(t.reduce(function(n,i){return n.concat(S3(i.products,r))},[])).then(function(){return e})}}var VG={variantForOptions:function(e,t){return e.variants.find(function(n){return n.selectedOptions.every(function(i){return t[i.name]===i.value.valueOf()})})}};function HG(r){var e=r.document(),t={},n={};return n.__defaultOperation__={},n.__defaultOperation__.id=r.variable("id","ID!"),t.VariantFragment=e.defineFragment("VariantFragment","ProductVariant",function(i){i.add("id"),i.add("title"),i.add("price",function(a){a.add("amount"),a.add("currencyCode")}),i.add("price",{alias:"priceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("weight"),i.add("availableForSale",{alias:"available"}),i.add("sku"),i.add("compareAtPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("compareAtPrice",{alias:"compareAtPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText"),a.add("width"),a.add("height")}),i.add("selectedOptions",function(a){a.add("name"),a.add("value")}),i.add("unitPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("unitPriceMeasurement",function(a){a.add("measuredType"),a.add("quantityUnit"),a.add("quantityValue"),a.add("referenceUnit"),a.add("referenceValue")})}),t.ProductFragment=e.defineFragment("ProductFragment","Product",function(i){i.add("id"),i.add("availableForSale"),i.add("createdAt"),i.add("updatedAt"),i.add("descriptionHtml"),i.add("description"),i.add("handle"),i.add("productType"),i.add("title"),i.add("vendor"),i.add("publishedAt"),i.add("onlineStoreUrl"),i.add("options",function(a){a.add("name"),a.add("values")}),i.add("images",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.add("id"),o.add("url",{alias:"src"}),o.add("altText"),o.add("width"),o.add("height")})})}),i.add("variants",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.addFragment(t.VariantFragment)})})})}),e.addQuery([n.__defaultOperation__.id],function(i){i.add("node",{args:{id:n.__defaultOperation__.id}},function(a){a.addFragment(t.ProductFragment)})}),e}function jG(r){var e=r.document(),t={},n={};return n.__defaultOperation__={},n.__defaultOperation__.ids=r.variable("ids","[ID!]!"),t.VariantFragment=e.defineFragment("VariantFragment","ProductVariant",function(i){i.add("id"),i.add("title"),i.add("price",function(a){a.add("amount"),a.add("currencyCode")}),i.add("price",{alias:"priceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("weight"),i.add("availableForSale",{alias:"available"}),i.add("sku"),i.add("compareAtPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("compareAtPrice",{alias:"compareAtPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText"),a.add("width"),a.add("height")}),i.add("selectedOptions",function(a){a.add("name"),a.add("value")}),i.add("unitPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("unitPriceMeasurement",function(a){a.add("measuredType"),a.add("quantityUnit"),a.add("quantityValue"),a.add("referenceUnit"),a.add("referenceValue")})}),t.ProductFragment=e.defineFragment("ProductFragment","Product",function(i){i.add("id"),i.add("availableForSale"),i.add("createdAt"),i.add("updatedAt"),i.add("descriptionHtml"),i.add("description"),i.add("handle"),i.add("productType"),i.add("title"),i.add("vendor"),i.add("publishedAt"),i.add("onlineStoreUrl"),i.add("options",function(a){a.add("name"),a.add("values")}),i.add("images",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.add("id"),o.add("url",{alias:"src"}),o.add("altText"),o.add("width"),o.add("height")})})}),i.add("variants",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.addFragment(t.VariantFragment)})})})}),e.addQuery([n.__defaultOperation__.ids],function(i){i.add("nodes",{args:{ids:n.__defaultOperation__.ids}},function(a){a.addFragment(t.ProductFragment)})}),e}function JA(r){var e=r.document(),t={},n={};return n.__defaultOperation__={},n.__defaultOperation__.first=r.variable("first","Int!"),n.__defaultOperation__.query=r.variable("query","String"),n.__defaultOperation__.sortKey=r.variable("sortKey","ProductSortKeys"),n.__defaultOperation__.reverse=r.variable("reverse","Boolean"),t.VariantFragment=e.defineFragment("VariantFragment","ProductVariant",function(i){i.add("id"),i.add("title"),i.add("price",function(a){a.add("amount"),a.add("currencyCode")}),i.add("price",{alias:"priceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("weight"),i.add("availableForSale",{alias:"available"}),i.add("sku"),i.add("compareAtPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("compareAtPrice",{alias:"compareAtPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText"),a.add("width"),a.add("height")}),i.add("selectedOptions",function(a){a.add("name"),a.add("value")}),i.add("unitPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("unitPriceMeasurement",function(a){a.add("measuredType"),a.add("quantityUnit"),a.add("quantityValue"),a.add("referenceUnit"),a.add("referenceValue")})}),t.ProductFragment=e.defineFragment("ProductFragment","Product",function(i){i.add("id"),i.add("availableForSale"),i.add("createdAt"),i.add("updatedAt"),i.add("descriptionHtml"),i.add("description"),i.add("handle"),i.add("productType"),i.add("title"),i.add("vendor"),i.add("publishedAt"),i.add("onlineStoreUrl"),i.add("options",function(a){a.add("name"),a.add("values")}),i.add("images",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.add("id"),o.add("url",{alias:"src"}),o.add("altText"),o.add("width"),o.add("height")})})}),i.add("variants",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.addFragment(t.VariantFragment)})})})}),e.addQuery([n.__defaultOperation__.first,n.__defaultOperation__.query,n.__defaultOperation__.sortKey,n.__defaultOperation__.reverse],function(i){i.add("products",{args:{first:n.__defaultOperation__.first,query:n.__defaultOperation__.query,sortKey:n.__defaultOperation__.sortKey,reverse:n.__defaultOperation__.reverse}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.addFragment(t.ProductFragment)})})})}),e}function $G(r){var e=r.document(),t={},n={};return n.__defaultOperation__={},n.__defaultOperation__.handle=r.variable("handle","String!"),t.VariantFragment=e.defineFragment("VariantFragment","ProductVariant",function(i){i.add("id"),i.add("title"),i.add("price",function(a){a.add("amount"),a.add("currencyCode")}),i.add("price",{alias:"priceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("weight"),i.add("availableForSale",{alias:"available"}),i.add("sku"),i.add("compareAtPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("compareAtPrice",{alias:"compareAtPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText"),a.add("width"),a.add("height")}),i.add("selectedOptions",function(a){a.add("name"),a.add("value")}),i.add("unitPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("unitPriceMeasurement",function(a){a.add("measuredType"),a.add("quantityUnit"),a.add("quantityValue"),a.add("referenceUnit"),a.add("referenceValue")})}),t.ProductFragment=e.defineFragment("ProductFragment","Product",function(i){i.add("id"),i.add("availableForSale"),i.add("createdAt"),i.add("updatedAt"),i.add("descriptionHtml"),i.add("description"),i.add("handle"),i.add("productType"),i.add("title"),i.add("vendor"),i.add("publishedAt"),i.add("onlineStoreUrl"),i.add("options",function(a){a.add("name"),a.add("values")}),i.add("images",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.add("id"),o.add("url",{alias:"src"}),o.add("altText"),o.add("width"),o.add("height")})})}),i.add("variants",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.addFragment(t.VariantFragment)})})})}),e.addQuery([n.__defaultOperation__.handle],function(i){i.add("productByHandle",{args:{handle:n.__defaultOperation__.handle}},function(a){a.addFragment(t.ProductFragment)})}),e}function WG(r){var e=r.document(),t={},n={};return n.__defaultOperation__={},n.__defaultOperation__.productId=r.variable("productId","ID!"),t.VariantFragment=e.defineFragment("VariantFragment","ProductVariant",function(i){i.add("id"),i.add("title"),i.add("price",function(a){a.add("amount"),a.add("currencyCode")}),i.add("price",{alias:"priceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("weight"),i.add("availableForSale",{alias:"available"}),i.add("sku"),i.add("compareAtPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("compareAtPrice",{alias:"compareAtPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText"),a.add("width"),a.add("height")}),i.add("selectedOptions",function(a){a.add("name"),a.add("value")}),i.add("unitPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("unitPriceMeasurement",function(a){a.add("measuredType"),a.add("quantityUnit"),a.add("quantityValue"),a.add("referenceUnit"),a.add("referenceValue")})}),t.ProductFragment=e.defineFragment("ProductFragment","Product",function(i){i.add("id"),i.add("availableForSale"),i.add("createdAt"),i.add("updatedAt"),i.add("descriptionHtml"),i.add("description"),i.add("handle"),i.add("productType"),i.add("title"),i.add("vendor"),i.add("publishedAt"),i.add("onlineStoreUrl"),i.add("options",function(a){a.add("name"),a.add("values")}),i.add("images",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.add("id"),o.add("url",{alias:"src"}),o.add("altText"),o.add("width"),o.add("height")})})}),i.add("variants",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.addFragment(t.VariantFragment)})})})}),e.addQuery([n.__defaultOperation__.productId],function(i){i.add("productRecommendations",{args:{productId:n.__defaultOperation__.productId}},function(a){a.addFragment(t.ProductFragment)})}),e}var GG=function(r){uy(e,r);function e(){return eu(this,e),dy(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Yc(e,[{key:"fetchAll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20;return this.graphQLClient.send(JA,{first:n}).then(pa("products")).then(th(this.graphQLClient))}},{key:"fetch",value:function(n){return this.graphQLClient.send(HG,{id:n}).then(pa("node")).then(th(this.graphQLClient))}},{key:"fetchMultiple",value:function(n){return this.graphQLClient.send(jG,{ids:n}).then(pa("nodes")).then(th(this.graphQLClient))}},{key:"fetchByHandle",value:function(n){return this.graphQLClient.send($G,{handle:n}).then(pa("productByHandle")).then(th(this.graphQLClient))}},{key:"fetchQuery",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.first,a=i===void 0?20:i,s=n.sortKey,o=s===void 0?"ID":s,c=n.query,d=n.reverse;return this.graphQLClient.send(JA,{first:a,sortKey:o,query:c,reverse:d}).then(pa("products")).then(th(this.graphQLClient))}},{key:"fetchRecommendations",value:function(n){return this.graphQLClient.send(WG,{productId:n}).then(pa("productRecommendations")).then(th(this.graphQLClient))}},{key:"helpers",get:function(){return VG}}]),e}(py);function qG(r){var e=r.document(),t={},n={};return n.__defaultOperation__={},n.__defaultOperation__.id=r.variable("id","ID!"),t.CollectionFragment=e.defineFragment("CollectionFragment","Collection",function(i){i.add("id"),i.add("handle"),i.add("description"),i.add("descriptionHtml"),i.add("updatedAt"),i.add("title"),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText")})}),e.addQuery([n.__defaultOperation__.id],function(i){i.add("node",{args:{id:n.__defaultOperation__.id}},function(a){a.addFragment(t.CollectionFragment)})}),e}function XG(r){var e=r.document(),t={},n={};return n.__defaultOperation__={},n.__defaultOperation__.id=r.variable("id","ID!"),n.__defaultOperation__.productsFirst=r.variable("productsFirst","Int!"),t.VariantFragment=e.defineFragment("VariantFragment","ProductVariant",function(i){i.add("id"),i.add("title"),i.add("price",function(a){a.add("amount"),a.add("currencyCode")}),i.add("price",{alias:"priceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("weight"),i.add("availableForSale",{alias:"available"}),i.add("sku"),i.add("compareAtPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("compareAtPrice",{alias:"compareAtPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText"),a.add("width"),a.add("height")}),i.add("selectedOptions",function(a){a.add("name"),a.add("value")}),i.add("unitPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("unitPriceMeasurement",function(a){a.add("measuredType"),a.add("quantityUnit"),a.add("quantityValue"),a.add("referenceUnit"),a.add("referenceValue")})}),t.CollectionFragment=e.defineFragment("CollectionFragment","Collection",function(i){i.add("id"),i.add("handle"),i.add("description"),i.add("descriptionHtml"),i.add("updatedAt"),i.add("title"),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText")})}),t.ProductFragment=e.defineFragment("ProductFragment","Product",function(i){i.add("id"),i.add("availableForSale"),i.add("createdAt"),i.add("updatedAt"),i.add("descriptionHtml"),i.add("description"),i.add("handle"),i.add("productType"),i.add("title"),i.add("vendor"),i.add("publishedAt"),i.add("onlineStoreUrl"),i.add("options",function(a){a.add("name"),a.add("values")}),i.add("images",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.add("id"),o.add("url",{alias:"src"}),o.add("altText"),o.add("width"),o.add("height")})})}),i.add("variants",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.addFragment(t.VariantFragment)})})})}),e.addQuery([n.__defaultOperation__.id,n.__defaultOperation__.productsFirst],function(i){i.add("node",{args:{id:n.__defaultOperation__.id}},function(a){a.addFragment(t.CollectionFragment),a.addInlineFragmentOn("Collection",function(s){s.add("products",{args:{first:n.__defaultOperation__.productsFirst}},function(o){o.add("pageInfo",function(c){c.add("hasNextPage"),c.add("hasPreviousPage")}),o.add("edges",function(c){c.add("cursor"),c.add("node",function(d){d.addFragment(t.ProductFragment)})})})})})}),e}function ZA(r){var e=r.document(),t={},n={};return n.__defaultOperation__={},n.__defaultOperation__.first=r.variable("first","Int!"),n.__defaultOperation__.query=r.variable("query","String"),n.__defaultOperation__.sortKey=r.variable("sortKey","CollectionSortKeys"),n.__defaultOperation__.reverse=r.variable("reverse","Boolean"),t.CollectionFragment=e.defineFragment("CollectionFragment","Collection",function(i){i.add("id"),i.add("handle"),i.add("description"),i.add("descriptionHtml"),i.add("updatedAt"),i.add("title"),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText")})}),e.addQuery([n.__defaultOperation__.first,n.__defaultOperation__.query,n.__defaultOperation__.sortKey,n.__defaultOperation__.reverse],function(i){i.add("collections",{args:{first:n.__defaultOperation__.first,query:n.__defaultOperation__.query,sortKey:n.__defaultOperation__.sortKey,reverse:n.__defaultOperation__.reverse}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.addFragment(t.CollectionFragment)})})})}),e}function YG(r){var e=r.document(),t={},n={};return n.__defaultOperation__={},n.__defaultOperation__.first=r.variable("first","Int!"),n.__defaultOperation__.query=r.variable("query","String"),n.__defaultOperation__.sortKey=r.variable("sortKey","CollectionSortKeys"),n.__defaultOperation__.reverse=r.variable("reverse","Boolean"),n.__defaultOperation__.productsFirst=r.variable("productsFirst","Int!"),t.VariantFragment=e.defineFragment("VariantFragment","ProductVariant",function(i){i.add("id"),i.add("title"),i.add("price",function(a){a.add("amount"),a.add("currencyCode")}),i.add("price",{alias:"priceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("weight"),i.add("availableForSale",{alias:"available"}),i.add("sku"),i.add("compareAtPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("compareAtPrice",{alias:"compareAtPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText"),a.add("width"),a.add("height")}),i.add("selectedOptions",function(a){a.add("name"),a.add("value")}),i.add("unitPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("unitPriceMeasurement",function(a){a.add("measuredType"),a.add("quantityUnit"),a.add("quantityValue"),a.add("referenceUnit"),a.add("referenceValue")})}),t.CollectionFragment=e.defineFragment("CollectionFragment","Collection",function(i){i.add("id"),i.add("handle"),i.add("description"),i.add("descriptionHtml"),i.add("updatedAt"),i.add("title"),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText")})}),t.ProductFragment=e.defineFragment("ProductFragment","Product",function(i){i.add("id"),i.add("availableForSale"),i.add("createdAt"),i.add("updatedAt"),i.add("descriptionHtml"),i.add("description"),i.add("handle"),i.add("productType"),i.add("title"),i.add("vendor"),i.add("publishedAt"),i.add("onlineStoreUrl"),i.add("options",function(a){a.add("name"),a.add("values")}),i.add("images",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.add("id"),o.add("url",{alias:"src"}),o.add("altText"),o.add("width"),o.add("height")})})}),i.add("variants",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.addFragment(t.VariantFragment)})})})}),e.addQuery([n.__defaultOperation__.first,n.__defaultOperation__.query,n.__defaultOperation__.sortKey,n.__defaultOperation__.reverse,n.__defaultOperation__.productsFirst],function(i){i.add("collections",{args:{first:n.__defaultOperation__.first,query:n.__defaultOperation__.query,sortKey:n.__defaultOperation__.sortKey,reverse:n.__defaultOperation__.reverse}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.addFragment(t.CollectionFragment),o.add("products",{args:{first:n.__defaultOperation__.productsFirst}},function(c){c.add("pageInfo",function(d){d.add("hasNextPage"),d.add("hasPreviousPage")}),c.add("edges",function(d){d.add("cursor"),d.add("node",function(f){f.addFragment(t.ProductFragment)})})})})})})}),e}function QG(r){var e=r.document(),t={},n={};return n.__defaultOperation__={},n.__defaultOperation__.handle=r.variable("handle","String!"),t.VariantFragment=e.defineFragment("VariantFragment","ProductVariant",function(i){i.add("id"),i.add("title"),i.add("price",function(a){a.add("amount"),a.add("currencyCode")}),i.add("price",{alias:"priceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("weight"),i.add("availableForSale",{alias:"available"}),i.add("sku"),i.add("compareAtPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("compareAtPrice",{alias:"compareAtPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText"),a.add("width"),a.add("height")}),i.add("selectedOptions",function(a){a.add("name"),a.add("value")}),i.add("unitPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("unitPriceMeasurement",function(a){a.add("measuredType"),a.add("quantityUnit"),a.add("quantityValue"),a.add("referenceUnit"),a.add("referenceValue")})}),t.ProductFragment=e.defineFragment("ProductFragment","Product",function(i){i.add("id"),i.add("availableForSale"),i.add("createdAt"),i.add("updatedAt"),i.add("descriptionHtml"),i.add("description"),i.add("handle"),i.add("productType"),i.add("title"),i.add("vendor"),i.add("publishedAt"),i.add("onlineStoreUrl"),i.add("options",function(a){a.add("name"),a.add("values")}),i.add("images",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.add("id"),o.add("url",{alias:"src"}),o.add("altText"),o.add("width"),o.add("height")})})}),i.add("variants",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.addFragment(t.VariantFragment)})})})}),t.CollectionFragment=e.defineFragment("CollectionFragment","Collection",function(i){i.add("id"),i.add("handle"),i.add("description"),i.add("descriptionHtml"),i.add("updatedAt"),i.add("title"),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText")})}),t.CollectionsProductsFragment=e.defineFragment("CollectionsProductsFragment","Collection",function(i){i.add("products",{args:{first:20}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.addFragment(t.ProductFragment)})})})}),e.addQuery([n.__defaultOperation__.handle],function(i){i.add("collectionByHandle",{args:{handle:n.__defaultOperation__.handle}},function(a){a.addFragment(t.CollectionFragment),a.addFragment(t.CollectionsProductsFragment)})}),e}var KG=function(r){uy(e,r);function e(){return eu(this,e),dy(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Yc(e,[{key:"fetchAll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20;return this.graphQLClient.send(ZA,{first:n}).then(pa("collections"))}},{key:"fetchAllWithProducts",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.first,a=i===void 0?20:i,s=n.productsFirst,o=s===void 0?20:s;return this.graphQLClient.send(YG,{first:a,productsFirst:o}).then(pa("collections")).then(KA(this.graphQLClient))}},{key:"fetch",value:function(n){return this.graphQLClient.send(qG,{id:n}).then(pa("node"))}},{key:"fetchWithProducts",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.productsFirst,s=a===void 0?20:a;return this.graphQLClient.send(XG,{id:n,productsFirst:s}).then(pa("node")).then(KA(this.graphQLClient))}},{key:"fetchByHandle",value:function(n){return this.graphQLClient.send(QG,{handle:n}).then(pa("collectionByHandle"))}},{key:"fetchQuery",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.first,a=i===void 0?20:i,s=n.sortKey,o=s===void 0?"ID":s,c=n.query,d=n.reverse;return this.graphQLClient.send(ZA,{first:a,sortKey:o,query:c,reverse:d}).then(pa("collections"))}}]),e}(py);function JG(r){var e=r.document();return e.addQuery(function(t){t.add("shop",function(n){n.add("paymentSettings",function(i){i.add("enabledPresentmentCurrencies")}),n.add("description"),n.add("moneyFormat"),n.add("name"),n.add("primaryDomain",function(i){i.add("host"),i.add("sslEnabled"),i.add("url")})})}),e}function ZG(r){var e=r.document(),t={};return t.PolicyFragment=e.defineFragment("PolicyFragment","ShopPolicy",function(n){n.add("id"),n.add("title"),n.add("url"),n.add("body")}),e.addQuery(function(n){n.add("shop",function(i){i.add("privacyPolicy",function(a){a.addFragment(t.PolicyFragment)}),i.add("termsOfService",function(a){a.addFragment(t.PolicyFragment)}),i.add("refundPolicy",function(a){a.addFragment(t.PolicyFragment)})})}),e}var e9=function(r){uy(e,r);function e(){return eu(this,e),dy(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Yc(e,[{key:"fetchInfo",value:function(){return this.graphQLClient.send(JG).then(pa("shop"))}},{key:"fetchPolicies",value:function(){return this.graphQLClient.send(ZG).then(pa("shop"))}}]),e}(py);function ys(r,e){return function(t){var n=t.data,i=n===void 0?{}:n,a=t.errors,s=t.model,o=s===void 0?{}:s,c=i[r],d=o[r];return c&&c.checkout?e.fetchAllPages(d.checkout.lineItems,{pageSize:250}).then(function(f){return d.checkout.attrs.lineItems=f,d.checkout.errors=a,d.checkout.userErrors=d.userErrors,d.checkout}):a&&a.length?Promise.reject(new Error(JSON.stringify(a))):c&&c.checkoutUserErrors&&c.checkoutUserErrors.length?Promise.reject(new Error(JSON.stringify(c.checkoutUserErrors))):c&&c.userErrors&&c.userErrors.length?Promise.reject(new Error(JSON.stringify(c.userErrors))):Promise.reject(new Error("The "+r+" mutation failed due to an unknown error."))}}function t9(r){var e=r.document(),t={},n={};return n.__defaultOperation__={},n.__defaultOperation__.id=r.variable("id","ID!"),t.VariantFragment=e.defineFragment("VariantFragment","ProductVariant",function(i){i.add("id"),i.add("title"),i.add("price",function(a){a.add("amount"),a.add("currencyCode")}),i.add("price",{alias:"priceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("weight"),i.add("availableForSale",{alias:"available"}),i.add("sku"),i.add("compareAtPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("compareAtPrice",{alias:"compareAtPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText"),a.add("width"),a.add("height")}),i.add("selectedOptions",function(a){a.add("name"),a.add("value")}),i.add("unitPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("unitPriceMeasurement",function(a){a.add("measuredType"),a.add("quantityUnit"),a.add("quantityValue"),a.add("referenceUnit"),a.add("referenceValue")})}),t.DiscountApplicationFragment=e.defineFragment("DiscountApplicationFragment","DiscountApplication",function(i){i.add("targetSelection"),i.add("allocationMethod"),i.add("targetType"),i.add("value",function(a){a.addInlineFragmentOn("MoneyV2",function(s){s.add("amount"),s.add("currencyCode")}),a.addInlineFragmentOn("PricingPercentageValue",function(s){s.add("percentage")})}),i.addInlineFragmentOn("ManualDiscountApplication",function(a){a.add("title"),a.add("description")}),i.addInlineFragmentOn("DiscountCodeApplication",function(a){a.add("code"),a.add("applicable")}),i.addInlineFragmentOn("ScriptDiscountApplication",function(a){a.add("title")}),i.addInlineFragmentOn("AutomaticDiscountApplication",function(a){a.add("title")})}),t.AppliedGiftCardFragment=e.defineFragment("AppliedGiftCardFragment","AppliedGiftCard",function(i){i.add("amountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("amountUsed",{alias:"amountUsedV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",{alias:"balanceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("presentmentAmountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("id"),i.add("lastCharacters")}),t.VariantWithProductFragment=e.defineFragment("VariantWithProductFragment","ProductVariant",function(i){i.addFragment(t.VariantFragment),i.add("product",function(a){a.add("id"),a.add("handle")})}),t.MailingAddressFragment=e.defineFragment("MailingAddressFragment","MailingAddress",function(i){i.add("id"),i.add("address1"),i.add("address2"),i.add("city"),i.add("company"),i.add("country"),i.add("firstName"),i.add("formatted"),i.add("lastName"),i.add("latitude"),i.add("longitude"),i.add("phone"),i.add("province"),i.add("zip"),i.add("name"),i.add("countryCodeV2",{alias:"countryCode"}),i.add("provinceCode")}),t.CheckoutFragment=e.defineFragment("CheckoutFragment","Checkout",function(i){i.add("id"),i.add("ready"),i.add("requiresShipping"),i.add("note"),i.add("paymentDue",function(a){a.add("amount"),a.add("currencyCode")}),i.add("paymentDue",{alias:"paymentDueV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("webUrl"),i.add("orderStatusUrl"),i.add("taxExempt"),i.add("taxesIncluded"),i.add("currencyCode"),i.add("totalTax",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalTax",{alias:"totalTaxV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("lineItemsSubtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",{alias:"subtotalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",{alias:"totalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("completedAt"),i.add("createdAt"),i.add("updatedAt"),i.add("email"),i.add("discountApplications",{args:{first:10}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("node",function(o){o.addFragment(t.DiscountApplicationFragment)})})}),i.add("appliedGiftCards",function(a){a.addFragment(t.AppliedGiftCardFragment)}),i.add("shippingAddress",function(a){a.addFragment(t.MailingAddressFragment)}),i.add("shippingLine",function(a){a.add("handle"),a.add("price",function(s){s.add("amount"),s.add("currencyCode")}),a.add("price",{alias:"priceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("title")}),i.add("customAttributes",function(a){a.add("key"),a.add("value")}),i.add("order",function(a){a.add("id"),a.add("processedAt"),a.add("orderNumber"),a.add("subtotalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("subtotalPrice",{alias:"subtotalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",{alias:"totalShippingPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",{alias:"totalTaxV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",{alias:"totalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("currencyCode"),a.add("totalRefunded",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalRefunded",{alias:"totalRefundedV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("customerUrl"),a.add("shippingAddress",function(s){s.addFragment(t.MailingAddressFragment)}),a.add("lineItems",{args:{first:250}},function(s){s.add("pageInfo",function(o){o.add("hasNextPage"),o.add("hasPreviousPage")}),s.add("edges",function(o){o.add("cursor"),o.add("node",function(c){c.add("title"),c.add("variant",function(d){d.addFragment(t.VariantWithProductFragment)}),c.add("quantity"),c.add("customAttributes",function(d){d.add("key"),d.add("value")})})})})}),i.add("lineItems",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.add("id"),o.add("title"),o.add("variant",function(c){c.addFragment(t.VariantWithProductFragment)}),o.add("quantity"),o.add("customAttributes",function(c){c.add("key"),c.add("value")}),o.add("discountAllocations",function(c){c.add("allocatedAmount",function(d){d.add("amount"),d.add("currencyCode")}),c.add("discountApplication",function(d){d.addFragment(t.DiscountApplicationFragment)})})})})})}),e.addQuery([n.__defaultOperation__.id],function(i){i.add("node",{args:{id:n.__defaultOperation__.id}},function(a){a.addFragment(t.CheckoutFragment)})}),e}function n9(r){var e=r.document(),t={},n={};return n.__defaultOperation__={},n.__defaultOperation__.input=r.variable("input","CheckoutCreateInput!"),t.VariantFragment=e.defineFragment("VariantFragment","ProductVariant",function(i){i.add("id"),i.add("title"),i.add("price",function(a){a.add("amount"),a.add("currencyCode")}),i.add("price",{alias:"priceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("weight"),i.add("availableForSale",{alias:"available"}),i.add("sku"),i.add("compareAtPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("compareAtPrice",{alias:"compareAtPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText"),a.add("width"),a.add("height")}),i.add("selectedOptions",function(a){a.add("name"),a.add("value")}),i.add("unitPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("unitPriceMeasurement",function(a){a.add("measuredType"),a.add("quantityUnit"),a.add("quantityValue"),a.add("referenceUnit"),a.add("referenceValue")})}),t.DiscountApplicationFragment=e.defineFragment("DiscountApplicationFragment","DiscountApplication",function(i){i.add("targetSelection"),i.add("allocationMethod"),i.add("targetType"),i.add("value",function(a){a.addInlineFragmentOn("MoneyV2",function(s){s.add("amount"),s.add("currencyCode")}),a.addInlineFragmentOn("PricingPercentageValue",function(s){s.add("percentage")})}),i.addInlineFragmentOn("ManualDiscountApplication",function(a){a.add("title"),a.add("description")}),i.addInlineFragmentOn("DiscountCodeApplication",function(a){a.add("code"),a.add("applicable")}),i.addInlineFragmentOn("ScriptDiscountApplication",function(a){a.add("title")}),i.addInlineFragmentOn("AutomaticDiscountApplication",function(a){a.add("title")})}),t.AppliedGiftCardFragment=e.defineFragment("AppliedGiftCardFragment","AppliedGiftCard",function(i){i.add("amountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("amountUsed",{alias:"amountUsedV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",{alias:"balanceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("presentmentAmountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("id"),i.add("lastCharacters")}),t.VariantWithProductFragment=e.defineFragment("VariantWithProductFragment","ProductVariant",function(i){i.addFragment(t.VariantFragment),i.add("product",function(a){a.add("id"),a.add("handle")})}),t.UserErrorFragment=e.defineFragment("UserErrorFragment","UserError",function(i){i.add("field"),i.add("message")}),t.CheckoutUserErrorFragment=e.defineFragment("CheckoutUserErrorFragment","CheckoutUserError",function(i){i.add("field"),i.add("message"),i.add("code")}),t.MailingAddressFragment=e.defineFragment("MailingAddressFragment","MailingAddress",function(i){i.add("id"),i.add("address1"),i.add("address2"),i.add("city"),i.add("company"),i.add("country"),i.add("firstName"),i.add("formatted"),i.add("lastName"),i.add("latitude"),i.add("longitude"),i.add("phone"),i.add("province"),i.add("zip"),i.add("name"),i.add("countryCodeV2",{alias:"countryCode"}),i.add("provinceCode")}),t.CheckoutFragment=e.defineFragment("CheckoutFragment","Checkout",function(i){i.add("id"),i.add("ready"),i.add("requiresShipping"),i.add("note"),i.add("paymentDue",function(a){a.add("amount"),a.add("currencyCode")}),i.add("paymentDue",{alias:"paymentDueV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("webUrl"),i.add("orderStatusUrl"),i.add("taxExempt"),i.add("taxesIncluded"),i.add("currencyCode"),i.add("totalTax",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalTax",{alias:"totalTaxV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("lineItemsSubtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",{alias:"subtotalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",{alias:"totalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("completedAt"),i.add("createdAt"),i.add("updatedAt"),i.add("email"),i.add("discountApplications",{args:{first:10}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("node",function(o){o.addFragment(t.DiscountApplicationFragment)})})}),i.add("appliedGiftCards",function(a){a.addFragment(t.AppliedGiftCardFragment)}),i.add("shippingAddress",function(a){a.addFragment(t.MailingAddressFragment)}),i.add("shippingLine",function(a){a.add("handle"),a.add("price",function(s){s.add("amount"),s.add("currencyCode")}),a.add("price",{alias:"priceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("title")}),i.add("customAttributes",function(a){a.add("key"),a.add("value")}),i.add("order",function(a){a.add("id"),a.add("processedAt"),a.add("orderNumber"),a.add("subtotalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("subtotalPrice",{alias:"subtotalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",{alias:"totalShippingPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",{alias:"totalTaxV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",{alias:"totalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("currencyCode"),a.add("totalRefunded",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalRefunded",{alias:"totalRefundedV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("customerUrl"),a.add("shippingAddress",function(s){s.addFragment(t.MailingAddressFragment)}),a.add("lineItems",{args:{first:250}},function(s){s.add("pageInfo",function(o){o.add("hasNextPage"),o.add("hasPreviousPage")}),s.add("edges",function(o){o.add("cursor"),o.add("node",function(c){c.add("title"),c.add("variant",function(d){d.addFragment(t.VariantWithProductFragment)}),c.add("quantity"),c.add("customAttributes",function(d){d.add("key"),d.add("value")})})})})}),i.add("lineItems",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.add("id"),o.add("title"),o.add("variant",function(c){c.addFragment(t.VariantWithProductFragment)}),o.add("quantity"),o.add("customAttributes",function(c){c.add("key"),c.add("value")}),o.add("discountAllocations",function(c){c.add("allocatedAmount",function(d){d.add("amount"),d.add("currencyCode")}),c.add("discountApplication",function(d){d.addFragment(t.DiscountApplicationFragment)})})})})})}),e.addMutation([n.__defaultOperation__.input],function(i){i.add("checkoutCreate",{args:{input:n.__defaultOperation__.input}},function(a){a.add("userErrors",function(s){s.addFragment(t.UserErrorFragment)}),a.add("checkoutUserErrors",function(s){s.addFragment(t.CheckoutUserErrorFragment)}),a.add("checkout",function(s){s.addFragment(t.CheckoutFragment)})})}),e}function r9(r){var e=r.document(),t={},n={};return n.__defaultOperation__={},n.__defaultOperation__.checkoutId=r.variable("checkoutId","ID!"),n.__defaultOperation__.lineItems=r.variable("lineItems","[CheckoutLineItemInput!]!"),t.VariantFragment=e.defineFragment("VariantFragment","ProductVariant",function(i){i.add("id"),i.add("title"),i.add("price",function(a){a.add("amount"),a.add("currencyCode")}),i.add("price",{alias:"priceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("weight"),i.add("availableForSale",{alias:"available"}),i.add("sku"),i.add("compareAtPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("compareAtPrice",{alias:"compareAtPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText"),a.add("width"),a.add("height")}),i.add("selectedOptions",function(a){a.add("name"),a.add("value")}),i.add("unitPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("unitPriceMeasurement",function(a){a.add("measuredType"),a.add("quantityUnit"),a.add("quantityValue"),a.add("referenceUnit"),a.add("referenceValue")})}),t.DiscountApplicationFragment=e.defineFragment("DiscountApplicationFragment","DiscountApplication",function(i){i.add("targetSelection"),i.add("allocationMethod"),i.add("targetType"),i.add("value",function(a){a.addInlineFragmentOn("MoneyV2",function(s){s.add("amount"),s.add("currencyCode")}),a.addInlineFragmentOn("PricingPercentageValue",function(s){s.add("percentage")})}),i.addInlineFragmentOn("ManualDiscountApplication",function(a){a.add("title"),a.add("description")}),i.addInlineFragmentOn("DiscountCodeApplication",function(a){a.add("code"),a.add("applicable")}),i.addInlineFragmentOn("ScriptDiscountApplication",function(a){a.add("title")}),i.addInlineFragmentOn("AutomaticDiscountApplication",function(a){a.add("title")})}),t.AppliedGiftCardFragment=e.defineFragment("AppliedGiftCardFragment","AppliedGiftCard",function(i){i.add("amountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("amountUsed",{alias:"amountUsedV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",{alias:"balanceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("presentmentAmountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("id"),i.add("lastCharacters")}),t.VariantWithProductFragment=e.defineFragment("VariantWithProductFragment","ProductVariant",function(i){i.addFragment(t.VariantFragment),i.add("product",function(a){a.add("id"),a.add("handle")})}),t.UserErrorFragment=e.defineFragment("UserErrorFragment","UserError",function(i){i.add("field"),i.add("message")}),t.CheckoutUserErrorFragment=e.defineFragment("CheckoutUserErrorFragment","CheckoutUserError",function(i){i.add("field"),i.add("message"),i.add("code")}),t.MailingAddressFragment=e.defineFragment("MailingAddressFragment","MailingAddress",function(i){i.add("id"),i.add("address1"),i.add("address2"),i.add("city"),i.add("company"),i.add("country"),i.add("firstName"),i.add("formatted"),i.add("lastName"),i.add("latitude"),i.add("longitude"),i.add("phone"),i.add("province"),i.add("zip"),i.add("name"),i.add("countryCodeV2",{alias:"countryCode"}),i.add("provinceCode")}),t.CheckoutFragment=e.defineFragment("CheckoutFragment","Checkout",function(i){i.add("id"),i.add("ready"),i.add("requiresShipping"),i.add("note"),i.add("paymentDue",function(a){a.add("amount"),a.add("currencyCode")}),i.add("paymentDue",{alias:"paymentDueV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("webUrl"),i.add("orderStatusUrl"),i.add("taxExempt"),i.add("taxesIncluded"),i.add("currencyCode"),i.add("totalTax",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalTax",{alias:"totalTaxV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("lineItemsSubtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",{alias:"subtotalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",{alias:"totalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("completedAt"),i.add("createdAt"),i.add("updatedAt"),i.add("email"),i.add("discountApplications",{args:{first:10}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("node",function(o){o.addFragment(t.DiscountApplicationFragment)})})}),i.add("appliedGiftCards",function(a){a.addFragment(t.AppliedGiftCardFragment)}),i.add("shippingAddress",function(a){a.addFragment(t.MailingAddressFragment)}),i.add("shippingLine",function(a){a.add("handle"),a.add("price",function(s){s.add("amount"),s.add("currencyCode")}),a.add("price",{alias:"priceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("title")}),i.add("customAttributes",function(a){a.add("key"),a.add("value")}),i.add("order",function(a){a.add("id"),a.add("processedAt"),a.add("orderNumber"),a.add("subtotalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("subtotalPrice",{alias:"subtotalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",{alias:"totalShippingPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",{alias:"totalTaxV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",{alias:"totalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("currencyCode"),a.add("totalRefunded",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalRefunded",{alias:"totalRefundedV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("customerUrl"),a.add("shippingAddress",function(s){s.addFragment(t.MailingAddressFragment)}),a.add("lineItems",{args:{first:250}},function(s){s.add("pageInfo",function(o){o.add("hasNextPage"),o.add("hasPreviousPage")}),s.add("edges",function(o){o.add("cursor"),o.add("node",function(c){c.add("title"),c.add("variant",function(d){d.addFragment(t.VariantWithProductFragment)}),c.add("quantity"),c.add("customAttributes",function(d){d.add("key"),d.add("value")})})})})}),i.add("lineItems",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.add("id"),o.add("title"),o.add("variant",function(c){c.addFragment(t.VariantWithProductFragment)}),o.add("quantity"),o.add("customAttributes",function(c){c.add("key"),c.add("value")}),o.add("discountAllocations",function(c){c.add("allocatedAmount",function(d){d.add("amount"),d.add("currencyCode")}),c.add("discountApplication",function(d){d.addFragment(t.DiscountApplicationFragment)})})})})})}),e.addMutation([n.__defaultOperation__.checkoutId,n.__defaultOperation__.lineItems],function(i){i.add("checkoutLineItemsAdd",{args:{checkoutId:n.__defaultOperation__.checkoutId,lineItems:n.__defaultOperation__.lineItems}},function(a){a.add("userErrors",function(s){s.addFragment(t.UserErrorFragment)}),a.add("checkoutUserErrors",function(s){s.addFragment(t.CheckoutUserErrorFragment)}),a.add("checkout",function(s){s.addFragment(t.CheckoutFragment)})})}),e}function i9(r){var e=r.document(),t={},n={};return n.__defaultOperation__={},n.__defaultOperation__.checkoutId=r.variable("checkoutId","ID!"),n.__defaultOperation__.lineItemIds=r.variable("lineItemIds","[ID!]!"),t.VariantFragment=e.defineFragment("VariantFragment","ProductVariant",function(i){i.add("id"),i.add("title"),i.add("price",function(a){a.add("amount"),a.add("currencyCode")}),i.add("price",{alias:"priceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("weight"),i.add("availableForSale",{alias:"available"}),i.add("sku"),i.add("compareAtPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("compareAtPrice",{alias:"compareAtPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText"),a.add("width"),a.add("height")}),i.add("selectedOptions",function(a){a.add("name"),a.add("value")}),i.add("unitPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("unitPriceMeasurement",function(a){a.add("measuredType"),a.add("quantityUnit"),a.add("quantityValue"),a.add("referenceUnit"),a.add("referenceValue")})}),t.DiscountApplicationFragment=e.defineFragment("DiscountApplicationFragment","DiscountApplication",function(i){i.add("targetSelection"),i.add("allocationMethod"),i.add("targetType"),i.add("value",function(a){a.addInlineFragmentOn("MoneyV2",function(s){s.add("amount"),s.add("currencyCode")}),a.addInlineFragmentOn("PricingPercentageValue",function(s){s.add("percentage")})}),i.addInlineFragmentOn("ManualDiscountApplication",function(a){a.add("title"),a.add("description")}),i.addInlineFragmentOn("DiscountCodeApplication",function(a){a.add("code"),a.add("applicable")}),i.addInlineFragmentOn("ScriptDiscountApplication",function(a){a.add("title")}),i.addInlineFragmentOn("AutomaticDiscountApplication",function(a){a.add("title")})}),t.AppliedGiftCardFragment=e.defineFragment("AppliedGiftCardFragment","AppliedGiftCard",function(i){i.add("amountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("amountUsed",{alias:"amountUsedV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",{alias:"balanceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("presentmentAmountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("id"),i.add("lastCharacters")}),t.VariantWithProductFragment=e.defineFragment("VariantWithProductFragment","ProductVariant",function(i){i.addFragment(t.VariantFragment),i.add("product",function(a){a.add("id"),a.add("handle")})}),t.UserErrorFragment=e.defineFragment("UserErrorFragment","UserError",function(i){i.add("field"),i.add("message")}),t.CheckoutUserErrorFragment=e.defineFragment("CheckoutUserErrorFragment","CheckoutUserError",function(i){i.add("field"),i.add("message"),i.add("code")}),t.MailingAddressFragment=e.defineFragment("MailingAddressFragment","MailingAddress",function(i){i.add("id"),i.add("address1"),i.add("address2"),i.add("city"),i.add("company"),i.add("country"),i.add("firstName"),i.add("formatted"),i.add("lastName"),i.add("latitude"),i.add("longitude"),i.add("phone"),i.add("province"),i.add("zip"),i.add("name"),i.add("countryCodeV2",{alias:"countryCode"}),i.add("provinceCode")}),t.CheckoutFragment=e.defineFragment("CheckoutFragment","Checkout",function(i){i.add("id"),i.add("ready"),i.add("requiresShipping"),i.add("note"),i.add("paymentDue",function(a){a.add("amount"),a.add("currencyCode")}),i.add("paymentDue",{alias:"paymentDueV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("webUrl"),i.add("orderStatusUrl"),i.add("taxExempt"),i.add("taxesIncluded"),i.add("currencyCode"),i.add("totalTax",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalTax",{alias:"totalTaxV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("lineItemsSubtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",{alias:"subtotalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",{alias:"totalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("completedAt"),i.add("createdAt"),i.add("updatedAt"),i.add("email"),i.add("discountApplications",{args:{first:10}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("node",function(o){o.addFragment(t.DiscountApplicationFragment)})})}),i.add("appliedGiftCards",function(a){a.addFragment(t.AppliedGiftCardFragment)}),i.add("shippingAddress",function(a){a.addFragment(t.MailingAddressFragment)}),i.add("shippingLine",function(a){a.add("handle"),a.add("price",function(s){s.add("amount"),s.add("currencyCode")}),a.add("price",{alias:"priceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("title")}),i.add("customAttributes",function(a){a.add("key"),a.add("value")}),i.add("order",function(a){a.add("id"),a.add("processedAt"),a.add("orderNumber"),a.add("subtotalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("subtotalPrice",{alias:"subtotalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",{alias:"totalShippingPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",{alias:"totalTaxV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",{alias:"totalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("currencyCode"),a.add("totalRefunded",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalRefunded",{alias:"totalRefundedV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("customerUrl"),a.add("shippingAddress",function(s){s.addFragment(t.MailingAddressFragment)}),a.add("lineItems",{args:{first:250}},function(s){s.add("pageInfo",function(o){o.add("hasNextPage"),o.add("hasPreviousPage")}),s.add("edges",function(o){o.add("cursor"),o.add("node",function(c){c.add("title"),c.add("variant",function(d){d.addFragment(t.VariantWithProductFragment)}),c.add("quantity"),c.add("customAttributes",function(d){d.add("key"),d.add("value")})})})})}),i.add("lineItems",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.add("id"),o.add("title"),o.add("variant",function(c){c.addFragment(t.VariantWithProductFragment)}),o.add("quantity"),o.add("customAttributes",function(c){c.add("key"),c.add("value")}),o.add("discountAllocations",function(c){c.add("allocatedAmount",function(d){d.add("amount"),d.add("currencyCode")}),c.add("discountApplication",function(d){d.addFragment(t.DiscountApplicationFragment)})})})})})}),e.addMutation([n.__defaultOperation__.checkoutId,n.__defaultOperation__.lineItemIds],function(i){i.add("checkoutLineItemsRemove",{args:{checkoutId:n.__defaultOperation__.checkoutId,lineItemIds:n.__defaultOperation__.lineItemIds}},function(a){a.add("userErrors",function(s){s.addFragment(t.UserErrorFragment)}),a.add("checkoutUserErrors",function(s){s.addFragment(t.CheckoutUserErrorFragment)}),a.add("checkout",function(s){s.addFragment(t.CheckoutFragment)})})}),e}function a9(r){var e=r.document(),t={},n={};return n.__defaultOperation__={},n.__defaultOperation__.checkoutId=r.variable("checkoutId","ID!"),n.__defaultOperation__.lineItems=r.variable("lineItems","[CheckoutLineItemInput!]!"),t.VariantFragment=e.defineFragment("VariantFragment","ProductVariant",function(i){i.add("id"),i.add("title"),i.add("price",function(a){a.add("amount"),a.add("currencyCode")}),i.add("price",{alias:"priceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("weight"),i.add("availableForSale",{alias:"available"}),i.add("sku"),i.add("compareAtPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("compareAtPrice",{alias:"compareAtPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText"),a.add("width"),a.add("height")}),i.add("selectedOptions",function(a){a.add("name"),a.add("value")}),i.add("unitPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("unitPriceMeasurement",function(a){a.add("measuredType"),a.add("quantityUnit"),a.add("quantityValue"),a.add("referenceUnit"),a.add("referenceValue")})}),t.DiscountApplicationFragment=e.defineFragment("DiscountApplicationFragment","DiscountApplication",function(i){i.add("targetSelection"),i.add("allocationMethod"),i.add("targetType"),i.add("value",function(a){a.addInlineFragmentOn("MoneyV2",function(s){s.add("amount"),s.add("currencyCode")}),a.addInlineFragmentOn("PricingPercentageValue",function(s){s.add("percentage")})}),i.addInlineFragmentOn("ManualDiscountApplication",function(a){a.add("title"),a.add("description")}),i.addInlineFragmentOn("DiscountCodeApplication",function(a){a.add("code"),a.add("applicable")}),i.addInlineFragmentOn("ScriptDiscountApplication",function(a){a.add("title")}),i.addInlineFragmentOn("AutomaticDiscountApplication",function(a){a.add("title")})}),t.AppliedGiftCardFragment=e.defineFragment("AppliedGiftCardFragment","AppliedGiftCard",function(i){i.add("amountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("amountUsed",{alias:"amountUsedV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",{alias:"balanceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("presentmentAmountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("id"),i.add("lastCharacters")}),t.VariantWithProductFragment=e.defineFragment("VariantWithProductFragment","ProductVariant",function(i){i.addFragment(t.VariantFragment),i.add("product",function(a){a.add("id"),a.add("handle")})}),t.CheckoutUserErrorFragment=e.defineFragment("CheckoutUserErrorFragment","CheckoutUserError",function(i){i.add("field"),i.add("message"),i.add("code")}),t.MailingAddressFragment=e.defineFragment("MailingAddressFragment","MailingAddress",function(i){i.add("id"),i.add("address1"),i.add("address2"),i.add("city"),i.add("company"),i.add("country"),i.add("firstName"),i.add("formatted"),i.add("lastName"),i.add("latitude"),i.add("longitude"),i.add("phone"),i.add("province"),i.add("zip"),i.add("name"),i.add("countryCodeV2",{alias:"countryCode"}),i.add("provinceCode")}),t.CheckoutFragment=e.defineFragment("CheckoutFragment","Checkout",function(i){i.add("id"),i.add("ready"),i.add("requiresShipping"),i.add("note"),i.add("paymentDue",function(a){a.add("amount"),a.add("currencyCode")}),i.add("paymentDue",{alias:"paymentDueV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("webUrl"),i.add("orderStatusUrl"),i.add("taxExempt"),i.add("taxesIncluded"),i.add("currencyCode"),i.add("totalTax",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalTax",{alias:"totalTaxV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("lineItemsSubtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",{alias:"subtotalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",{alias:"totalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("completedAt"),i.add("createdAt"),i.add("updatedAt"),i.add("email"),i.add("discountApplications",{args:{first:10}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("node",function(o){o.addFragment(t.DiscountApplicationFragment)})})}),i.add("appliedGiftCards",function(a){a.addFragment(t.AppliedGiftCardFragment)}),i.add("shippingAddress",function(a){a.addFragment(t.MailingAddressFragment)}),i.add("shippingLine",function(a){a.add("handle"),a.add("price",function(s){s.add("amount"),s.add("currencyCode")}),a.add("price",{alias:"priceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("title")}),i.add("customAttributes",function(a){a.add("key"),a.add("value")}),i.add("order",function(a){a.add("id"),a.add("processedAt"),a.add("orderNumber"),a.add("subtotalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("subtotalPrice",{alias:"subtotalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",{alias:"totalShippingPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",{alias:"totalTaxV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",{alias:"totalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("currencyCode"),a.add("totalRefunded",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalRefunded",{alias:"totalRefundedV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("customerUrl"),a.add("shippingAddress",function(s){s.addFragment(t.MailingAddressFragment)}),a.add("lineItems",{args:{first:250}},function(s){s.add("pageInfo",function(o){o.add("hasNextPage"),o.add("hasPreviousPage")}),s.add("edges",function(o){o.add("cursor"),o.add("node",function(c){c.add("title"),c.add("variant",function(d){d.addFragment(t.VariantWithProductFragment)}),c.add("quantity"),c.add("customAttributes",function(d){d.add("key"),d.add("value")})})})})}),i.add("lineItems",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.add("id"),o.add("title"),o.add("variant",function(c){c.addFragment(t.VariantWithProductFragment)}),o.add("quantity"),o.add("customAttributes",function(c){c.add("key"),c.add("value")}),o.add("discountAllocations",function(c){c.add("allocatedAmount",function(d){d.add("amount"),d.add("currencyCode")}),c.add("discountApplication",function(d){d.addFragment(t.DiscountApplicationFragment)})})})})})}),e.addMutation([n.__defaultOperation__.checkoutId,n.__defaultOperation__.lineItems],function(i){i.add("checkoutLineItemsReplace",{args:{checkoutId:n.__defaultOperation__.checkoutId,lineItems:n.__defaultOperation__.lineItems}},function(a){a.add("userErrors",function(s){s.addFragment(t.CheckoutUserErrorFragment)}),a.add("checkout",function(s){s.addFragment(t.CheckoutFragment)})})}),e}function s9(r){var e=r.document(),t={},n={};return n.__defaultOperation__={},n.__defaultOperation__.checkoutId=r.variable("checkoutId","ID!"),n.__defaultOperation__.lineItems=r.variable("lineItems","[CheckoutLineItemUpdateInput!]!"),t.VariantFragment=e.defineFragment("VariantFragment","ProductVariant",function(i){i.add("id"),i.add("title"),i.add("price",function(a){a.add("amount"),a.add("currencyCode")}),i.add("price",{alias:"priceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("weight"),i.add("availableForSale",{alias:"available"}),i.add("sku"),i.add("compareAtPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("compareAtPrice",{alias:"compareAtPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText"),a.add("width"),a.add("height")}),i.add("selectedOptions",function(a){a.add("name"),a.add("value")}),i.add("unitPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("unitPriceMeasurement",function(a){a.add("measuredType"),a.add("quantityUnit"),a.add("quantityValue"),a.add("referenceUnit"),a.add("referenceValue")})}),t.DiscountApplicationFragment=e.defineFragment("DiscountApplicationFragment","DiscountApplication",function(i){i.add("targetSelection"),i.add("allocationMethod"),i.add("targetType"),i.add("value",function(a){a.addInlineFragmentOn("MoneyV2",function(s){s.add("amount"),s.add("currencyCode")}),a.addInlineFragmentOn("PricingPercentageValue",function(s){s.add("percentage")})}),i.addInlineFragmentOn("ManualDiscountApplication",function(a){a.add("title"),a.add("description")}),i.addInlineFragmentOn("DiscountCodeApplication",function(a){a.add("code"),a.add("applicable")}),i.addInlineFragmentOn("ScriptDiscountApplication",function(a){a.add("title")}),i.addInlineFragmentOn("AutomaticDiscountApplication",function(a){a.add("title")})}),t.AppliedGiftCardFragment=e.defineFragment("AppliedGiftCardFragment","AppliedGiftCard",function(i){i.add("amountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("amountUsed",{alias:"amountUsedV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",{alias:"balanceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("presentmentAmountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("id"),i.add("lastCharacters")}),t.VariantWithProductFragment=e.defineFragment("VariantWithProductFragment","ProductVariant",function(i){i.addFragment(t.VariantFragment),i.add("product",function(a){a.add("id"),a.add("handle")})}),t.UserErrorFragment=e.defineFragment("UserErrorFragment","UserError",function(i){i.add("field"),i.add("message")}),t.CheckoutUserErrorFragment=e.defineFragment("CheckoutUserErrorFragment","CheckoutUserError",function(i){i.add("field"),i.add("message"),i.add("code")}),t.MailingAddressFragment=e.defineFragment("MailingAddressFragment","MailingAddress",function(i){i.add("id"),i.add("address1"),i.add("address2"),i.add("city"),i.add("company"),i.add("country"),i.add("firstName"),i.add("formatted"),i.add("lastName"),i.add("latitude"),i.add("longitude"),i.add("phone"),i.add("province"),i.add("zip"),i.add("name"),i.add("countryCodeV2",{alias:"countryCode"}),i.add("provinceCode")}),t.CheckoutFragment=e.defineFragment("CheckoutFragment","Checkout",function(i){i.add("id"),i.add("ready"),i.add("requiresShipping"),i.add("note"),i.add("paymentDue",function(a){a.add("amount"),a.add("currencyCode")}),i.add("paymentDue",{alias:"paymentDueV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("webUrl"),i.add("orderStatusUrl"),i.add("taxExempt"),i.add("taxesIncluded"),i.add("currencyCode"),i.add("totalTax",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalTax",{alias:"totalTaxV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("lineItemsSubtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",{alias:"subtotalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",{alias:"totalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("completedAt"),i.add("createdAt"),i.add("updatedAt"),i.add("email"),i.add("discountApplications",{args:{first:10}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("node",function(o){o.addFragment(t.DiscountApplicationFragment)})})}),i.add("appliedGiftCards",function(a){a.addFragment(t.AppliedGiftCardFragment)}),i.add("shippingAddress",function(a){a.addFragment(t.MailingAddressFragment)}),i.add("shippingLine",function(a){a.add("handle"),a.add("price",function(s){s.add("amount"),s.add("currencyCode")}),a.add("price",{alias:"priceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("title")}),i.add("customAttributes",function(a){a.add("key"),a.add("value")}),i.add("order",function(a){a.add("id"),a.add("processedAt"),a.add("orderNumber"),a.add("subtotalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("subtotalPrice",{alias:"subtotalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",{alias:"totalShippingPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",{alias:"totalTaxV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",{alias:"totalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("currencyCode"),a.add("totalRefunded",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalRefunded",{alias:"totalRefundedV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("customerUrl"),a.add("shippingAddress",function(s){s.addFragment(t.MailingAddressFragment)}),a.add("lineItems",{args:{first:250}},function(s){s.add("pageInfo",function(o){o.add("hasNextPage"),o.add("hasPreviousPage")}),s.add("edges",function(o){o.add("cursor"),o.add("node",function(c){c.add("title"),c.add("variant",function(d){d.addFragment(t.VariantWithProductFragment)}),c.add("quantity"),c.add("customAttributes",function(d){d.add("key"),d.add("value")})})})})}),i.add("lineItems",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.add("id"),o.add("title"),o.add("variant",function(c){c.addFragment(t.VariantWithProductFragment)}),o.add("quantity"),o.add("customAttributes",function(c){c.add("key"),c.add("value")}),o.add("discountAllocations",function(c){c.add("allocatedAmount",function(d){d.add("amount"),d.add("currencyCode")}),c.add("discountApplication",function(d){d.addFragment(t.DiscountApplicationFragment)})})})})})}),e.addMutation([n.__defaultOperation__.checkoutId,n.__defaultOperation__.lineItems],function(i){i.add("checkoutLineItemsUpdate",{args:{checkoutId:n.__defaultOperation__.checkoutId,lineItems:n.__defaultOperation__.lineItems}},function(a){a.add("userErrors",function(s){s.addFragment(t.UserErrorFragment)}),a.add("checkoutUserErrors",function(s){s.addFragment(t.CheckoutUserErrorFragment)}),a.add("checkout",function(s){s.addFragment(t.CheckoutFragment)})})}),e}function o9(r){var e=r.document(),t={},n={};return n.checkoutAttributesUpdateV2={},n.checkoutAttributesUpdateV2.checkoutId=r.variable("checkoutId","ID!"),n.checkoutAttributesUpdateV2.input=r.variable("input","CheckoutAttributesUpdateV2Input!"),t.VariantFragment=e.defineFragment("VariantFragment","ProductVariant",function(i){i.add("id"),i.add("title"),i.add("price",function(a){a.add("amount"),a.add("currencyCode")}),i.add("price",{alias:"priceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("weight"),i.add("availableForSale",{alias:"available"}),i.add("sku"),i.add("compareAtPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("compareAtPrice",{alias:"compareAtPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText"),a.add("width"),a.add("height")}),i.add("selectedOptions",function(a){a.add("name"),a.add("value")}),i.add("unitPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("unitPriceMeasurement",function(a){a.add("measuredType"),a.add("quantityUnit"),a.add("quantityValue"),a.add("referenceUnit"),a.add("referenceValue")})}),t.DiscountApplicationFragment=e.defineFragment("DiscountApplicationFragment","DiscountApplication",function(i){i.add("targetSelection"),i.add("allocationMethod"),i.add("targetType"),i.add("value",function(a){a.addInlineFragmentOn("MoneyV2",function(s){s.add("amount"),s.add("currencyCode")}),a.addInlineFragmentOn("PricingPercentageValue",function(s){s.add("percentage")})}),i.addInlineFragmentOn("ManualDiscountApplication",function(a){a.add("title"),a.add("description")}),i.addInlineFragmentOn("DiscountCodeApplication",function(a){a.add("code"),a.add("applicable")}),i.addInlineFragmentOn("ScriptDiscountApplication",function(a){a.add("title")}),i.addInlineFragmentOn("AutomaticDiscountApplication",function(a){a.add("title")})}),t.AppliedGiftCardFragment=e.defineFragment("AppliedGiftCardFragment","AppliedGiftCard",function(i){i.add("amountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("amountUsed",{alias:"amountUsedV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",{alias:"balanceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("presentmentAmountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("id"),i.add("lastCharacters")}),t.VariantWithProductFragment=e.defineFragment("VariantWithProductFragment","ProductVariant",function(i){i.addFragment(t.VariantFragment),i.add("product",function(a){a.add("id"),a.add("handle")})}),t.UserErrorFragment=e.defineFragment("UserErrorFragment","UserError",function(i){i.add("field"),i.add("message")}),t.CheckoutUserErrorFragment=e.defineFragment("CheckoutUserErrorFragment","CheckoutUserError",function(i){i.add("field"),i.add("message"),i.add("code")}),t.MailingAddressFragment=e.defineFragment("MailingAddressFragment","MailingAddress",function(i){i.add("id"),i.add("address1"),i.add("address2"),i.add("city"),i.add("company"),i.add("country"),i.add("firstName"),i.add("formatted"),i.add("lastName"),i.add("latitude"),i.add("longitude"),i.add("phone"),i.add("province"),i.add("zip"),i.add("name"),i.add("countryCodeV2",{alias:"countryCode"}),i.add("provinceCode")}),t.CheckoutFragment=e.defineFragment("CheckoutFragment","Checkout",function(i){i.add("id"),i.add("ready"),i.add("requiresShipping"),i.add("note"),i.add("paymentDue",function(a){a.add("amount"),a.add("currencyCode")}),i.add("paymentDue",{alias:"paymentDueV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("webUrl"),i.add("orderStatusUrl"),i.add("taxExempt"),i.add("taxesIncluded"),i.add("currencyCode"),i.add("totalTax",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalTax",{alias:"totalTaxV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("lineItemsSubtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",{alias:"subtotalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",{alias:"totalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("completedAt"),i.add("createdAt"),i.add("updatedAt"),i.add("email"),i.add("discountApplications",{args:{first:10}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("node",function(o){o.addFragment(t.DiscountApplicationFragment)})})}),i.add("appliedGiftCards",function(a){a.addFragment(t.AppliedGiftCardFragment)}),i.add("shippingAddress",function(a){a.addFragment(t.MailingAddressFragment)}),i.add("shippingLine",function(a){a.add("handle"),a.add("price",function(s){s.add("amount"),s.add("currencyCode")}),a.add("price",{alias:"priceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("title")}),i.add("customAttributes",function(a){a.add("key"),a.add("value")}),i.add("order",function(a){a.add("id"),a.add("processedAt"),a.add("orderNumber"),a.add("subtotalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("subtotalPrice",{alias:"subtotalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",{alias:"totalShippingPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",{alias:"totalTaxV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",{alias:"totalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("currencyCode"),a.add("totalRefunded",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalRefunded",{alias:"totalRefundedV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("customerUrl"),a.add("shippingAddress",function(s){s.addFragment(t.MailingAddressFragment)}),a.add("lineItems",{args:{first:250}},function(s){s.add("pageInfo",function(o){o.add("hasNextPage"),o.add("hasPreviousPage")}),s.add("edges",function(o){o.add("cursor"),o.add("node",function(c){c.add("title"),c.add("variant",function(d){d.addFragment(t.VariantWithProductFragment)}),c.add("quantity"),c.add("customAttributes",function(d){d.add("key"),d.add("value")})})})})}),i.add("lineItems",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.add("id"),o.add("title"),o.add("variant",function(c){c.addFragment(t.VariantWithProductFragment)}),o.add("quantity"),o.add("customAttributes",function(c){c.add("key"),c.add("value")}),o.add("discountAllocations",function(c){c.add("allocatedAmount",function(d){d.add("amount"),d.add("currencyCode")}),c.add("discountApplication",function(d){d.addFragment(t.DiscountApplicationFragment)})})})})})}),e.addMutation("checkoutAttributesUpdateV2",[n.checkoutAttributesUpdateV2.checkoutId,n.checkoutAttributesUpdateV2.input],function(i){i.add("checkoutAttributesUpdateV2",{args:{checkoutId:n.checkoutAttributesUpdateV2.checkoutId,input:n.checkoutAttributesUpdateV2.input}},function(a){a.add("userErrors",function(s){s.addFragment(t.UserErrorFragment)}),a.add("checkoutUserErrors",function(s){s.addFragment(t.CheckoutUserErrorFragment)}),a.add("checkout",function(s){s.addFragment(t.CheckoutFragment)})})}),e}function l9(r){var e=r.document(),t={},n={};return n.checkoutDiscountCodeApplyV2={},n.checkoutDiscountCodeApplyV2.discountCode=r.variable("discountCode","String!"),n.checkoutDiscountCodeApplyV2.checkoutId=r.variable("checkoutId","ID!"),t.VariantFragment=e.defineFragment("VariantFragment","ProductVariant",function(i){i.add("id"),i.add("title"),i.add("price",function(a){a.add("amount"),a.add("currencyCode")}),i.add("price",{alias:"priceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("weight"),i.add("availableForSale",{alias:"available"}),i.add("sku"),i.add("compareAtPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("compareAtPrice",{alias:"compareAtPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText"),a.add("width"),a.add("height")}),i.add("selectedOptions",function(a){a.add("name"),a.add("value")}),i.add("unitPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("unitPriceMeasurement",function(a){a.add("measuredType"),a.add("quantityUnit"),a.add("quantityValue"),a.add("referenceUnit"),a.add("referenceValue")})}),t.DiscountApplicationFragment=e.defineFragment("DiscountApplicationFragment","DiscountApplication",function(i){i.add("targetSelection"),i.add("allocationMethod"),i.add("targetType"),i.add("value",function(a){a.addInlineFragmentOn("MoneyV2",function(s){s.add("amount"),s.add("currencyCode")}),a.addInlineFragmentOn("PricingPercentageValue",function(s){s.add("percentage")})}),i.addInlineFragmentOn("ManualDiscountApplication",function(a){a.add("title"),a.add("description")}),i.addInlineFragmentOn("DiscountCodeApplication",function(a){a.add("code"),a.add("applicable")}),i.addInlineFragmentOn("ScriptDiscountApplication",function(a){a.add("title")}),i.addInlineFragmentOn("AutomaticDiscountApplication",function(a){a.add("title")})}),t.AppliedGiftCardFragment=e.defineFragment("AppliedGiftCardFragment","AppliedGiftCard",function(i){i.add("amountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("amountUsed",{alias:"amountUsedV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",{alias:"balanceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("presentmentAmountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("id"),i.add("lastCharacters")}),t.VariantWithProductFragment=e.defineFragment("VariantWithProductFragment","ProductVariant",function(i){i.addFragment(t.VariantFragment),i.add("product",function(a){a.add("id"),a.add("handle")})}),t.UserErrorFragment=e.defineFragment("UserErrorFragment","UserError",function(i){i.add("field"),i.add("message")}),t.CheckoutUserErrorFragment=e.defineFragment("CheckoutUserErrorFragment","CheckoutUserError",function(i){i.add("field"),i.add("message"),i.add("code")}),t.MailingAddressFragment=e.defineFragment("MailingAddressFragment","MailingAddress",function(i){i.add("id"),i.add("address1"),i.add("address2"),i.add("city"),i.add("company"),i.add("country"),i.add("firstName"),i.add("formatted"),i.add("lastName"),i.add("latitude"),i.add("longitude"),i.add("phone"),i.add("province"),i.add("zip"),i.add("name"),i.add("countryCodeV2",{alias:"countryCode"}),i.add("provinceCode")}),t.CheckoutFragment=e.defineFragment("CheckoutFragment","Checkout",function(i){i.add("id"),i.add("ready"),i.add("requiresShipping"),i.add("note"),i.add("paymentDue",function(a){a.add("amount"),a.add("currencyCode")}),i.add("paymentDue",{alias:"paymentDueV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("webUrl"),i.add("orderStatusUrl"),i.add("taxExempt"),i.add("taxesIncluded"),i.add("currencyCode"),i.add("totalTax",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalTax",{alias:"totalTaxV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("lineItemsSubtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",{alias:"subtotalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",{alias:"totalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("completedAt"),i.add("createdAt"),i.add("updatedAt"),i.add("email"),i.add("discountApplications",{args:{first:10}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("node",function(o){o.addFragment(t.DiscountApplicationFragment)})})}),i.add("appliedGiftCards",function(a){a.addFragment(t.AppliedGiftCardFragment)}),i.add("shippingAddress",function(a){a.addFragment(t.MailingAddressFragment)}),i.add("shippingLine",function(a){a.add("handle"),a.add("price",function(s){s.add("amount"),s.add("currencyCode")}),a.add("price",{alias:"priceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("title")}),i.add("customAttributes",function(a){a.add("key"),a.add("value")}),i.add("order",function(a){a.add("id"),a.add("processedAt"),a.add("orderNumber"),a.add("subtotalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("subtotalPrice",{alias:"subtotalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",{alias:"totalShippingPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",{alias:"totalTaxV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",{alias:"totalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("currencyCode"),a.add("totalRefunded",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalRefunded",{alias:"totalRefundedV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("customerUrl"),a.add("shippingAddress",function(s){s.addFragment(t.MailingAddressFragment)}),a.add("lineItems",{args:{first:250}},function(s){s.add("pageInfo",function(o){o.add("hasNextPage"),o.add("hasPreviousPage")}),s.add("edges",function(o){o.add("cursor"),o.add("node",function(c){c.add("title"),c.add("variant",function(d){d.addFragment(t.VariantWithProductFragment)}),c.add("quantity"),c.add("customAttributes",function(d){d.add("key"),d.add("value")})})})})}),i.add("lineItems",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.add("id"),o.add("title"),o.add("variant",function(c){c.addFragment(t.VariantWithProductFragment)}),o.add("quantity"),o.add("customAttributes",function(c){c.add("key"),c.add("value")}),o.add("discountAllocations",function(c){c.add("allocatedAmount",function(d){d.add("amount"),d.add("currencyCode")}),c.add("discountApplication",function(d){d.addFragment(t.DiscountApplicationFragment)})})})})})}),e.addMutation("checkoutDiscountCodeApplyV2",[n.checkoutDiscountCodeApplyV2.discountCode,n.checkoutDiscountCodeApplyV2.checkoutId],function(i){i.add("checkoutDiscountCodeApplyV2",{args:{discountCode:n.checkoutDiscountCodeApplyV2.discountCode,checkoutId:n.checkoutDiscountCodeApplyV2.checkoutId}},function(a){a.add("userErrors",function(s){s.addFragment(t.UserErrorFragment)}),a.add("checkoutUserErrors",function(s){s.addFragment(t.CheckoutUserErrorFragment)}),a.add("checkout",function(s){s.addFragment(t.CheckoutFragment)})})}),e}function c9(r){var e=r.document(),t={},n={};return n.checkoutDiscountCodeRemove={},n.checkoutDiscountCodeRemove.checkoutId=r.variable("checkoutId","ID!"),t.VariantFragment=e.defineFragment("VariantFragment","ProductVariant",function(i){i.add("id"),i.add("title"),i.add("price",function(a){a.add("amount"),a.add("currencyCode")}),i.add("price",{alias:"priceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("weight"),i.add("availableForSale",{alias:"available"}),i.add("sku"),i.add("compareAtPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("compareAtPrice",{alias:"compareAtPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText"),a.add("width"),a.add("height")}),i.add("selectedOptions",function(a){a.add("name"),a.add("value")}),i.add("unitPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("unitPriceMeasurement",function(a){a.add("measuredType"),a.add("quantityUnit"),a.add("quantityValue"),a.add("referenceUnit"),a.add("referenceValue")})}),t.DiscountApplicationFragment=e.defineFragment("DiscountApplicationFragment","DiscountApplication",function(i){i.add("targetSelection"),i.add("allocationMethod"),i.add("targetType"),i.add("value",function(a){a.addInlineFragmentOn("MoneyV2",function(s){s.add("amount"),s.add("currencyCode")}),a.addInlineFragmentOn("PricingPercentageValue",function(s){s.add("percentage")})}),i.addInlineFragmentOn("ManualDiscountApplication",function(a){a.add("title"),a.add("description")}),i.addInlineFragmentOn("DiscountCodeApplication",function(a){a.add("code"),a.add("applicable")}),i.addInlineFragmentOn("ScriptDiscountApplication",function(a){a.add("title")}),i.addInlineFragmentOn("AutomaticDiscountApplication",function(a){a.add("title")})}),t.AppliedGiftCardFragment=e.defineFragment("AppliedGiftCardFragment","AppliedGiftCard",function(i){i.add("amountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("amountUsed",{alias:"amountUsedV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",{alias:"balanceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("presentmentAmountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("id"),i.add("lastCharacters")}),t.VariantWithProductFragment=e.defineFragment("VariantWithProductFragment","ProductVariant",function(i){i.addFragment(t.VariantFragment),i.add("product",function(a){a.add("id"),a.add("handle")})}),t.UserErrorFragment=e.defineFragment("UserErrorFragment","UserError",function(i){i.add("field"),i.add("message")}),t.CheckoutUserErrorFragment=e.defineFragment("CheckoutUserErrorFragment","CheckoutUserError",function(i){i.add("field"),i.add("message"),i.add("code")}),t.MailingAddressFragment=e.defineFragment("MailingAddressFragment","MailingAddress",function(i){i.add("id"),i.add("address1"),i.add("address2"),i.add("city"),i.add("company"),i.add("country"),i.add("firstName"),i.add("formatted"),i.add("lastName"),i.add("latitude"),i.add("longitude"),i.add("phone"),i.add("province"),i.add("zip"),i.add("name"),i.add("countryCodeV2",{alias:"countryCode"}),i.add("provinceCode")}),t.CheckoutFragment=e.defineFragment("CheckoutFragment","Checkout",function(i){i.add("id"),i.add("ready"),i.add("requiresShipping"),i.add("note"),i.add("paymentDue",function(a){a.add("amount"),a.add("currencyCode")}),i.add("paymentDue",{alias:"paymentDueV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("webUrl"),i.add("orderStatusUrl"),i.add("taxExempt"),i.add("taxesIncluded"),i.add("currencyCode"),i.add("totalTax",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalTax",{alias:"totalTaxV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("lineItemsSubtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",{alias:"subtotalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",{alias:"totalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("completedAt"),i.add("createdAt"),i.add("updatedAt"),i.add("email"),i.add("discountApplications",{args:{first:10}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("node",function(o){o.addFragment(t.DiscountApplicationFragment)})})}),i.add("appliedGiftCards",function(a){a.addFragment(t.AppliedGiftCardFragment)}),i.add("shippingAddress",function(a){a.addFragment(t.MailingAddressFragment)}),i.add("shippingLine",function(a){a.add("handle"),a.add("price",function(s){s.add("amount"),s.add("currencyCode")}),a.add("price",{alias:"priceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("title")}),i.add("customAttributes",function(a){a.add("key"),a.add("value")}),i.add("order",function(a){a.add("id"),a.add("processedAt"),a.add("orderNumber"),a.add("subtotalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("subtotalPrice",{alias:"subtotalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",{alias:"totalShippingPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",{alias:"totalTaxV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",{alias:"totalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("currencyCode"),a.add("totalRefunded",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalRefunded",{alias:"totalRefundedV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("customerUrl"),a.add("shippingAddress",function(s){s.addFragment(t.MailingAddressFragment)}),a.add("lineItems",{args:{first:250}},function(s){s.add("pageInfo",function(o){o.add("hasNextPage"),o.add("hasPreviousPage")}),s.add("edges",function(o){o.add("cursor"),o.add("node",function(c){c.add("title"),c.add("variant",function(d){d.addFragment(t.VariantWithProductFragment)}),c.add("quantity"),c.add("customAttributes",function(d){d.add("key"),d.add("value")})})})})}),i.add("lineItems",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.add("id"),o.add("title"),o.add("variant",function(c){c.addFragment(t.VariantWithProductFragment)}),o.add("quantity"),o.add("customAttributes",function(c){c.add("key"),c.add("value")}),o.add("discountAllocations",function(c){c.add("allocatedAmount",function(d){d.add("amount"),d.add("currencyCode")}),c.add("discountApplication",function(d){d.addFragment(t.DiscountApplicationFragment)})})})})})}),e.addMutation("checkoutDiscountCodeRemove",[n.checkoutDiscountCodeRemove.checkoutId],function(i){i.add("checkoutDiscountCodeRemove",{args:{checkoutId:n.checkoutDiscountCodeRemove.checkoutId}},function(a){a.add("userErrors",function(s){s.addFragment(t.UserErrorFragment)}),a.add("checkoutUserErrors",function(s){s.addFragment(t.CheckoutUserErrorFragment)}),a.add("checkout",function(s){s.addFragment(t.CheckoutFragment)})})}),e}function u9(r){var e=r.document(),t={},n={};return n.checkoutGiftCardsAppend={},n.checkoutGiftCardsAppend.giftCardCodes=r.variable("giftCardCodes","[String!]!"),n.checkoutGiftCardsAppend.checkoutId=r.variable("checkoutId","ID!"),t.VariantFragment=e.defineFragment("VariantFragment","ProductVariant",function(i){i.add("id"),i.add("title"),i.add("price",function(a){a.add("amount"),a.add("currencyCode")}),i.add("price",{alias:"priceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("weight"),i.add("availableForSale",{alias:"available"}),i.add("sku"),i.add("compareAtPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("compareAtPrice",{alias:"compareAtPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText"),a.add("width"),a.add("height")}),i.add("selectedOptions",function(a){a.add("name"),a.add("value")}),i.add("unitPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("unitPriceMeasurement",function(a){a.add("measuredType"),a.add("quantityUnit"),a.add("quantityValue"),a.add("referenceUnit"),a.add("referenceValue")})}),t.DiscountApplicationFragment=e.defineFragment("DiscountApplicationFragment","DiscountApplication",function(i){i.add("targetSelection"),i.add("allocationMethod"),i.add("targetType"),i.add("value",function(a){a.addInlineFragmentOn("MoneyV2",function(s){s.add("amount"),s.add("currencyCode")}),a.addInlineFragmentOn("PricingPercentageValue",function(s){s.add("percentage")})}),i.addInlineFragmentOn("ManualDiscountApplication",function(a){a.add("title"),a.add("description")}),i.addInlineFragmentOn("DiscountCodeApplication",function(a){a.add("code"),a.add("applicable")}),i.addInlineFragmentOn("ScriptDiscountApplication",function(a){a.add("title")}),i.addInlineFragmentOn("AutomaticDiscountApplication",function(a){a.add("title")})}),t.AppliedGiftCardFragment=e.defineFragment("AppliedGiftCardFragment","AppliedGiftCard",function(i){i.add("amountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("amountUsed",{alias:"amountUsedV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",{alias:"balanceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("presentmentAmountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("id"),i.add("lastCharacters")}),t.VariantWithProductFragment=e.defineFragment("VariantWithProductFragment","ProductVariant",function(i){i.addFragment(t.VariantFragment),i.add("product",function(a){a.add("id"),a.add("handle")})}),t.UserErrorFragment=e.defineFragment("UserErrorFragment","UserError",function(i){i.add("field"),i.add("message")}),t.CheckoutUserErrorFragment=e.defineFragment("CheckoutUserErrorFragment","CheckoutUserError",function(i){i.add("field"),i.add("message"),i.add("code")}),t.MailingAddressFragment=e.defineFragment("MailingAddressFragment","MailingAddress",function(i){i.add("id"),i.add("address1"),i.add("address2"),i.add("city"),i.add("company"),i.add("country"),i.add("firstName"),i.add("formatted"),i.add("lastName"),i.add("latitude"),i.add("longitude"),i.add("phone"),i.add("province"),i.add("zip"),i.add("name"),i.add("countryCodeV2",{alias:"countryCode"}),i.add("provinceCode")}),t.CheckoutFragment=e.defineFragment("CheckoutFragment","Checkout",function(i){i.add("id"),i.add("ready"),i.add("requiresShipping"),i.add("note"),i.add("paymentDue",function(a){a.add("amount"),a.add("currencyCode")}),i.add("paymentDue",{alias:"paymentDueV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("webUrl"),i.add("orderStatusUrl"),i.add("taxExempt"),i.add("taxesIncluded"),i.add("currencyCode"),i.add("totalTax",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalTax",{alias:"totalTaxV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("lineItemsSubtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",{alias:"subtotalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",{alias:"totalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("completedAt"),i.add("createdAt"),i.add("updatedAt"),i.add("email"),i.add("discountApplications",{args:{first:10}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("node",function(o){o.addFragment(t.DiscountApplicationFragment)})})}),i.add("appliedGiftCards",function(a){a.addFragment(t.AppliedGiftCardFragment)}),i.add("shippingAddress",function(a){a.addFragment(t.MailingAddressFragment)}),i.add("shippingLine",function(a){a.add("handle"),a.add("price",function(s){s.add("amount"),s.add("currencyCode")}),a.add("price",{alias:"priceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("title")}),i.add("customAttributes",function(a){a.add("key"),a.add("value")}),i.add("order",function(a){a.add("id"),a.add("processedAt"),a.add("orderNumber"),a.add("subtotalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("subtotalPrice",{alias:"subtotalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",{alias:"totalShippingPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",{alias:"totalTaxV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",{alias:"totalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("currencyCode"),a.add("totalRefunded",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalRefunded",{alias:"totalRefundedV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("customerUrl"),a.add("shippingAddress",function(s){s.addFragment(t.MailingAddressFragment)}),a.add("lineItems",{args:{first:250}},function(s){s.add("pageInfo",function(o){o.add("hasNextPage"),o.add("hasPreviousPage")}),s.add("edges",function(o){o.add("cursor"),o.add("node",function(c){c.add("title"),c.add("variant",function(d){d.addFragment(t.VariantWithProductFragment)}),c.add("quantity"),c.add("customAttributes",function(d){d.add("key"),d.add("value")})})})})}),i.add("lineItems",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.add("id"),o.add("title"),o.add("variant",function(c){c.addFragment(t.VariantWithProductFragment)}),o.add("quantity"),o.add("customAttributes",function(c){c.add("key"),c.add("value")}),o.add("discountAllocations",function(c){c.add("allocatedAmount",function(d){d.add("amount"),d.add("currencyCode")}),c.add("discountApplication",function(d){d.addFragment(t.DiscountApplicationFragment)})})})})})}),e.addMutation("checkoutGiftCardsAppend",[n.checkoutGiftCardsAppend.giftCardCodes,n.checkoutGiftCardsAppend.checkoutId],function(i){i.add("checkoutGiftCardsAppend",{args:{giftCardCodes:n.checkoutGiftCardsAppend.giftCardCodes,checkoutId:n.checkoutGiftCardsAppend.checkoutId}},function(a){a.add("userErrors",function(s){s.addFragment(t.UserErrorFragment)}),a.add("checkoutUserErrors",function(s){s.addFragment(t.CheckoutUserErrorFragment)}),a.add("checkout",function(s){s.addFragment(t.CheckoutFragment)})})}),e}function d9(r){var e=r.document(),t={},n={};return n.checkoutGiftCardRemoveV2={},n.checkoutGiftCardRemoveV2.appliedGiftCardId=r.variable("appliedGiftCardId","ID!"),n.checkoutGiftCardRemoveV2.checkoutId=r.variable("checkoutId","ID!"),t.VariantFragment=e.defineFragment("VariantFragment","ProductVariant",function(i){i.add("id"),i.add("title"),i.add("price",function(a){a.add("amount"),a.add("currencyCode")}),i.add("price",{alias:"priceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("weight"),i.add("availableForSale",{alias:"available"}),i.add("sku"),i.add("compareAtPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("compareAtPrice",{alias:"compareAtPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText"),a.add("width"),a.add("height")}),i.add("selectedOptions",function(a){a.add("name"),a.add("value")}),i.add("unitPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("unitPriceMeasurement",function(a){a.add("measuredType"),a.add("quantityUnit"),a.add("quantityValue"),a.add("referenceUnit"),a.add("referenceValue")})}),t.DiscountApplicationFragment=e.defineFragment("DiscountApplicationFragment","DiscountApplication",function(i){i.add("targetSelection"),i.add("allocationMethod"),i.add("targetType"),i.add("value",function(a){a.addInlineFragmentOn("MoneyV2",function(s){s.add("amount"),s.add("currencyCode")}),a.addInlineFragmentOn("PricingPercentageValue",function(s){s.add("percentage")})}),i.addInlineFragmentOn("ManualDiscountApplication",function(a){a.add("title"),a.add("description")}),i.addInlineFragmentOn("DiscountCodeApplication",function(a){a.add("code"),a.add("applicable")}),i.addInlineFragmentOn("ScriptDiscountApplication",function(a){a.add("title")}),i.addInlineFragmentOn("AutomaticDiscountApplication",function(a){a.add("title")})}),t.AppliedGiftCardFragment=e.defineFragment("AppliedGiftCardFragment","AppliedGiftCard",function(i){i.add("amountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("amountUsed",{alias:"amountUsedV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",{alias:"balanceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("presentmentAmountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("id"),i.add("lastCharacters")}),t.VariantWithProductFragment=e.defineFragment("VariantWithProductFragment","ProductVariant",function(i){i.addFragment(t.VariantFragment),i.add("product",function(a){a.add("id"),a.add("handle")})}),t.UserErrorFragment=e.defineFragment("UserErrorFragment","UserError",function(i){i.add("field"),i.add("message")}),t.CheckoutUserErrorFragment=e.defineFragment("CheckoutUserErrorFragment","CheckoutUserError",function(i){i.add("field"),i.add("message"),i.add("code")}),t.MailingAddressFragment=e.defineFragment("MailingAddressFragment","MailingAddress",function(i){i.add("id"),i.add("address1"),i.add("address2"),i.add("city"),i.add("company"),i.add("country"),i.add("firstName"),i.add("formatted"),i.add("lastName"),i.add("latitude"),i.add("longitude"),i.add("phone"),i.add("province"),i.add("zip"),i.add("name"),i.add("countryCodeV2",{alias:"countryCode"}),i.add("provinceCode")}),t.CheckoutFragment=e.defineFragment("CheckoutFragment","Checkout",function(i){i.add("id"),i.add("ready"),i.add("requiresShipping"),i.add("note"),i.add("paymentDue",function(a){a.add("amount"),a.add("currencyCode")}),i.add("paymentDue",{alias:"paymentDueV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("webUrl"),i.add("orderStatusUrl"),i.add("taxExempt"),i.add("taxesIncluded"),i.add("currencyCode"),i.add("totalTax",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalTax",{alias:"totalTaxV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("lineItemsSubtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",{alias:"subtotalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",{alias:"totalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("completedAt"),i.add("createdAt"),i.add("updatedAt"),i.add("email"),i.add("discountApplications",{args:{first:10}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("node",function(o){o.addFragment(t.DiscountApplicationFragment)})})}),i.add("appliedGiftCards",function(a){a.addFragment(t.AppliedGiftCardFragment)}),i.add("shippingAddress",function(a){a.addFragment(t.MailingAddressFragment)}),i.add("shippingLine",function(a){a.add("handle"),a.add("price",function(s){s.add("amount"),s.add("currencyCode")}),a.add("price",{alias:"priceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("title")}),i.add("customAttributes",function(a){a.add("key"),a.add("value")}),i.add("order",function(a){a.add("id"),a.add("processedAt"),a.add("orderNumber"),a.add("subtotalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("subtotalPrice",{alias:"subtotalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",{alias:"totalShippingPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",{alias:"totalTaxV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",{alias:"totalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("currencyCode"),a.add("totalRefunded",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalRefunded",{alias:"totalRefundedV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("customerUrl"),a.add("shippingAddress",function(s){s.addFragment(t.MailingAddressFragment)}),a.add("lineItems",{args:{first:250}},function(s){s.add("pageInfo",function(o){o.add("hasNextPage"),o.add("hasPreviousPage")}),s.add("edges",function(o){o.add("cursor"),o.add("node",function(c){c.add("title"),c.add("variant",function(d){d.addFragment(t.VariantWithProductFragment)}),c.add("quantity"),c.add("customAttributes",function(d){d.add("key"),d.add("value")})})})})}),i.add("lineItems",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.add("id"),o.add("title"),o.add("variant",function(c){c.addFragment(t.VariantWithProductFragment)}),o.add("quantity"),o.add("customAttributes",function(c){c.add("key"),c.add("value")}),o.add("discountAllocations",function(c){c.add("allocatedAmount",function(d){d.add("amount"),d.add("currencyCode")}),c.add("discountApplication",function(d){d.addFragment(t.DiscountApplicationFragment)})})})})})}),e.addMutation("checkoutGiftCardRemoveV2",[n.checkoutGiftCardRemoveV2.appliedGiftCardId,n.checkoutGiftCardRemoveV2.checkoutId],function(i){i.add("checkoutGiftCardRemoveV2",{args:{appliedGiftCardId:n.checkoutGiftCardRemoveV2.appliedGiftCardId,checkoutId:n.checkoutGiftCardRemoveV2.checkoutId}},function(a){a.add("userErrors",function(s){s.addFragment(t.UserErrorFragment)}),a.add("checkoutUserErrors",function(s){s.addFragment(t.CheckoutUserErrorFragment)}),a.add("checkout",function(s){s.addFragment(t.CheckoutFragment)})})}),e}function f9(r){var e=r.document(),t={},n={};return n.checkoutEmailUpdateV2={},n.checkoutEmailUpdateV2.checkoutId=r.variable("checkoutId","ID!"),n.checkoutEmailUpdateV2.email=r.variable("email","String!"),t.VariantFragment=e.defineFragment("VariantFragment","ProductVariant",function(i){i.add("id"),i.add("title"),i.add("price",function(a){a.add("amount"),a.add("currencyCode")}),i.add("price",{alias:"priceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("weight"),i.add("availableForSale",{alias:"available"}),i.add("sku"),i.add("compareAtPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("compareAtPrice",{alias:"compareAtPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText"),a.add("width"),a.add("height")}),i.add("selectedOptions",function(a){a.add("name"),a.add("value")}),i.add("unitPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("unitPriceMeasurement",function(a){a.add("measuredType"),a.add("quantityUnit"),a.add("quantityValue"),a.add("referenceUnit"),a.add("referenceValue")})}),t.DiscountApplicationFragment=e.defineFragment("DiscountApplicationFragment","DiscountApplication",function(i){i.add("targetSelection"),i.add("allocationMethod"),i.add("targetType"),i.add("value",function(a){a.addInlineFragmentOn("MoneyV2",function(s){s.add("amount"),s.add("currencyCode")}),a.addInlineFragmentOn("PricingPercentageValue",function(s){s.add("percentage")})}),i.addInlineFragmentOn("ManualDiscountApplication",function(a){a.add("title"),a.add("description")}),i.addInlineFragmentOn("DiscountCodeApplication",function(a){a.add("code"),a.add("applicable")}),i.addInlineFragmentOn("ScriptDiscountApplication",function(a){a.add("title")}),i.addInlineFragmentOn("AutomaticDiscountApplication",function(a){a.add("title")})}),t.AppliedGiftCardFragment=e.defineFragment("AppliedGiftCardFragment","AppliedGiftCard",function(i){i.add("amountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("amountUsed",{alias:"amountUsedV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",{alias:"balanceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("presentmentAmountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("id"),i.add("lastCharacters")}),t.VariantWithProductFragment=e.defineFragment("VariantWithProductFragment","ProductVariant",function(i){i.addFragment(t.VariantFragment),i.add("product",function(a){a.add("id"),a.add("handle")})}),t.UserErrorFragment=e.defineFragment("UserErrorFragment","UserError",function(i){i.add("field"),i.add("message")}),t.CheckoutUserErrorFragment=e.defineFragment("CheckoutUserErrorFragment","CheckoutUserError",function(i){i.add("field"),i.add("message"),i.add("code")}),t.MailingAddressFragment=e.defineFragment("MailingAddressFragment","MailingAddress",function(i){i.add("id"),i.add("address1"),i.add("address2"),i.add("city"),i.add("company"),i.add("country"),i.add("firstName"),i.add("formatted"),i.add("lastName"),i.add("latitude"),i.add("longitude"),i.add("phone"),i.add("province"),i.add("zip"),i.add("name"),i.add("countryCodeV2",{alias:"countryCode"}),i.add("provinceCode")}),t.CheckoutFragment=e.defineFragment("CheckoutFragment","Checkout",function(i){i.add("id"),i.add("ready"),i.add("requiresShipping"),i.add("note"),i.add("paymentDue",function(a){a.add("amount"),a.add("currencyCode")}),i.add("paymentDue",{alias:"paymentDueV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("webUrl"),i.add("orderStatusUrl"),i.add("taxExempt"),i.add("taxesIncluded"),i.add("currencyCode"),i.add("totalTax",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalTax",{alias:"totalTaxV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("lineItemsSubtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",{alias:"subtotalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",{alias:"totalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("completedAt"),i.add("createdAt"),i.add("updatedAt"),i.add("email"),i.add("discountApplications",{args:{first:10}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("node",function(o){o.addFragment(t.DiscountApplicationFragment)})})}),i.add("appliedGiftCards",function(a){a.addFragment(t.AppliedGiftCardFragment)}),i.add("shippingAddress",function(a){a.addFragment(t.MailingAddressFragment)}),i.add("shippingLine",function(a){a.add("handle"),a.add("price",function(s){s.add("amount"),s.add("currencyCode")}),a.add("price",{alias:"priceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("title")}),i.add("customAttributes",function(a){a.add("key"),a.add("value")}),i.add("order",function(a){a.add("id"),a.add("processedAt"),a.add("orderNumber"),a.add("subtotalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("subtotalPrice",{alias:"subtotalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",{alias:"totalShippingPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",{alias:"totalTaxV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",{alias:"totalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("currencyCode"),a.add("totalRefunded",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalRefunded",{alias:"totalRefundedV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("customerUrl"),a.add("shippingAddress",function(s){s.addFragment(t.MailingAddressFragment)}),a.add("lineItems",{args:{first:250}},function(s){s.add("pageInfo",function(o){o.add("hasNextPage"),o.add("hasPreviousPage")}),s.add("edges",function(o){o.add("cursor"),o.add("node",function(c){c.add("title"),c.add("variant",function(d){d.addFragment(t.VariantWithProductFragment)}),c.add("quantity"),c.add("customAttributes",function(d){d.add("key"),d.add("value")})})})})}),i.add("lineItems",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.add("id"),o.add("title"),o.add("variant",function(c){c.addFragment(t.VariantWithProductFragment)}),o.add("quantity"),o.add("customAttributes",function(c){c.add("key"),c.add("value")}),o.add("discountAllocations",function(c){c.add("allocatedAmount",function(d){d.add("amount"),d.add("currencyCode")}),c.add("discountApplication",function(d){d.addFragment(t.DiscountApplicationFragment)})})})})})}),e.addMutation("checkoutEmailUpdateV2",[n.checkoutEmailUpdateV2.checkoutId,n.checkoutEmailUpdateV2.email],function(i){i.add("checkoutEmailUpdateV2",{args:{checkoutId:n.checkoutEmailUpdateV2.checkoutId,email:n.checkoutEmailUpdateV2.email}},function(a){a.add("userErrors",function(s){s.addFragment(t.UserErrorFragment)}),a.add("checkoutUserErrors",function(s){s.addFragment(t.CheckoutUserErrorFragment)}),a.add("checkout",function(s){s.addFragment(t.CheckoutFragment)})})}),e}function h9(r){var e=r.document(),t={},n={};return n.checkoutShippingAddressUpdateV2={},n.checkoutShippingAddressUpdateV2.shippingAddress=r.variable("shippingAddress","MailingAddressInput!"),n.checkoutShippingAddressUpdateV2.checkoutId=r.variable("checkoutId","ID!"),t.VariantFragment=e.defineFragment("VariantFragment","ProductVariant",function(i){i.add("id"),i.add("title"),i.add("price",function(a){a.add("amount"),a.add("currencyCode")}),i.add("price",{alias:"priceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("weight"),i.add("availableForSale",{alias:"available"}),i.add("sku"),i.add("compareAtPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("compareAtPrice",{alias:"compareAtPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("image",function(a){a.add("id"),a.add("url",{alias:"src"}),a.add("altText"),a.add("width"),a.add("height")}),i.add("selectedOptions",function(a){a.add("name"),a.add("value")}),i.add("unitPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("unitPriceMeasurement",function(a){a.add("measuredType"),a.add("quantityUnit"),a.add("quantityValue"),a.add("referenceUnit"),a.add("referenceValue")})}),t.DiscountApplicationFragment=e.defineFragment("DiscountApplicationFragment","DiscountApplication",function(i){i.add("targetSelection"),i.add("allocationMethod"),i.add("targetType"),i.add("value",function(a){a.addInlineFragmentOn("MoneyV2",function(s){s.add("amount"),s.add("currencyCode")}),a.addInlineFragmentOn("PricingPercentageValue",function(s){s.add("percentage")})}),i.addInlineFragmentOn("ManualDiscountApplication",function(a){a.add("title"),a.add("description")}),i.addInlineFragmentOn("DiscountCodeApplication",function(a){a.add("code"),a.add("applicable")}),i.addInlineFragmentOn("ScriptDiscountApplication",function(a){a.add("title")}),i.addInlineFragmentOn("AutomaticDiscountApplication",function(a){a.add("title")})}),t.AppliedGiftCardFragment=e.defineFragment("AppliedGiftCardFragment","AppliedGiftCard",function(i){i.add("amountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("amountUsed",{alias:"amountUsedV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",function(a){a.add("amount"),a.add("currencyCode")}),i.add("balance",{alias:"balanceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("presentmentAmountUsed",function(a){a.add("amount"),a.add("currencyCode")}),i.add("id"),i.add("lastCharacters")}),t.VariantWithProductFragment=e.defineFragment("VariantWithProductFragment","ProductVariant",function(i){i.addFragment(t.VariantFragment),i.add("product",function(a){a.add("id"),a.add("handle")})}),t.UserErrorFragment=e.defineFragment("UserErrorFragment","UserError",function(i){i.add("field"),i.add("message")}),t.CheckoutUserErrorFragment=e.defineFragment("CheckoutUserErrorFragment","CheckoutUserError",function(i){i.add("field"),i.add("message"),i.add("code")}),t.MailingAddressFragment=e.defineFragment("MailingAddressFragment","MailingAddress",function(i){i.add("id"),i.add("address1"),i.add("address2"),i.add("city"),i.add("company"),i.add("country"),i.add("firstName"),i.add("formatted"),i.add("lastName"),i.add("latitude"),i.add("longitude"),i.add("phone"),i.add("province"),i.add("zip"),i.add("name"),i.add("countryCodeV2",{alias:"countryCode"}),i.add("provinceCode")}),t.CheckoutFragment=e.defineFragment("CheckoutFragment","Checkout",function(i){i.add("id"),i.add("ready"),i.add("requiresShipping"),i.add("note"),i.add("paymentDue",function(a){a.add("amount"),a.add("currencyCode")}),i.add("paymentDue",{alias:"paymentDueV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("webUrl"),i.add("orderStatusUrl"),i.add("taxExempt"),i.add("taxesIncluded"),i.add("currencyCode"),i.add("totalTax",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalTax",{alias:"totalTaxV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("lineItemsSubtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("subtotalPrice",{alias:"subtotalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",function(a){a.add("amount"),a.add("currencyCode")}),i.add("totalPrice",{alias:"totalPriceV2"},function(a){a.add("amount"),a.add("currencyCode")}),i.add("completedAt"),i.add("createdAt"),i.add("updatedAt"),i.add("email"),i.add("discountApplications",{args:{first:10}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("node",function(o){o.addFragment(t.DiscountApplicationFragment)})})}),i.add("appliedGiftCards",function(a){a.addFragment(t.AppliedGiftCardFragment)}),i.add("shippingAddress",function(a){a.addFragment(t.MailingAddressFragment)}),i.add("shippingLine",function(a){a.add("handle"),a.add("price",function(s){s.add("amount"),s.add("currencyCode")}),a.add("price",{alias:"priceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("title")}),i.add("customAttributes",function(a){a.add("key"),a.add("value")}),i.add("order",function(a){a.add("id"),a.add("processedAt"),a.add("orderNumber"),a.add("subtotalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("subtotalPrice",{alias:"subtotalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalShippingPrice",{alias:"totalShippingPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalTax",{alias:"totalTaxV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalPrice",{alias:"totalPriceV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("currencyCode"),a.add("totalRefunded",function(s){s.add("amount"),s.add("currencyCode")}),a.add("totalRefunded",{alias:"totalRefundedV2"},function(s){s.add("amount"),s.add("currencyCode")}),a.add("customerUrl"),a.add("shippingAddress",function(s){s.addFragment(t.MailingAddressFragment)}),a.add("lineItems",{args:{first:250}},function(s){s.add("pageInfo",function(o){o.add("hasNextPage"),o.add("hasPreviousPage")}),s.add("edges",function(o){o.add("cursor"),o.add("node",function(c){c.add("title"),c.add("variant",function(d){d.addFragment(t.VariantWithProductFragment)}),c.add("quantity"),c.add("customAttributes",function(d){d.add("key"),d.add("value")})})})})}),i.add("lineItems",{args:{first:250}},function(a){a.add("pageInfo",function(s){s.add("hasNextPage"),s.add("hasPreviousPage")}),a.add("edges",function(s){s.add("cursor"),s.add("node",function(o){o.add("id"),o.add("title"),o.add("variant",function(c){c.addFragment(t.VariantWithProductFragment)}),o.add("quantity"),o.add("customAttributes",function(c){c.add("key"),c.add("value")}),o.add("discountAllocations",function(c){c.add("allocatedAmount",function(d){d.add("amount"),d.add("currencyCode")}),c.add("discountApplication",function(d){d.addFragment(t.DiscountApplicationFragment)})})})})})}),e.addMutation("checkoutShippingAddressUpdateV2",[n.checkoutShippingAddressUpdateV2.shippingAddress,n.checkoutShippingAddressUpdateV2.checkoutId],function(i){i.add("checkoutShippingAddressUpdateV2",{args:{shippingAddress:n.checkoutShippingAddressUpdateV2.shippingAddress,checkoutId:n.checkoutShippingAddressUpdateV2.checkoutId}},function(a){a.add("userErrors",function(s){s.addFragment(t.UserErrorFragment)}),a.add("checkoutUserErrors",function(s){s.addFragment(t.CheckoutUserErrorFragment)}),a.add("checkout",function(s){s.addFragment(t.CheckoutFragment)})})}),e}var p9=function(r){uy(e,r);function e(){return eu(this,e),dy(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Yc(e,[{key:"fetch",value:function(n){var i=this;return this.graphQLClient.send(t9,{id:n}).then(pa("node")).then(function(a){return a?i.graphQLClient.fetchAllPages(a.lineItems,{pageSize:250}).then(function(s){return a.attrs.lineItems=s,a}):null})}},{key:"create",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.graphQLClient.send(n9,{input:n}).then(ys("checkoutCreate",this.graphQLClient))}},{key:"updateAttributes",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.graphQLClient.send(o9,{checkoutId:n,input:i}).then(ys("checkoutAttributesUpdateV2",this.graphQLClient))}},{key:"updateEmail",value:function(n,i){return this.graphQLClient.send(f9,{checkoutId:n,email:i}).then(ys("checkoutEmailUpdateV2",this.graphQLClient))}},{key:"addLineItems",value:function(n,i){return this.graphQLClient.send(r9,{checkoutId:n,lineItems:i}).then(ys("checkoutLineItemsAdd",this.graphQLClient))}},{key:"addDiscount",value:function(n,i){return this.graphQLClient.send(l9,{checkoutId:n,discountCode:i}).then(ys("checkoutDiscountCodeApplyV2",this.graphQLClient))}},{key:"removeDiscount",value:function(n){return this.graphQLClient.send(c9,{checkoutId:n}).then(ys("checkoutDiscountCodeRemove",this.graphQLClient))}},{key:"addGiftCards",value:function(n,i){return this.graphQLClient.send(u9,{checkoutId:n,giftCardCodes:i}).then(ys("checkoutGiftCardsAppend",this.graphQLClient))}},{key:"removeGiftCard",value:function(n,i){return this.graphQLClient.send(d9,{checkoutId:n,appliedGiftCardId:i}).then(ys("checkoutGiftCardRemoveV2",this.graphQLClient))}},{key:"removeLineItems",value:function(n,i){return this.graphQLClient.send(i9,{checkoutId:n,lineItemIds:i}).then(ys("checkoutLineItemsRemove",this.graphQLClient))}},{key:"replaceLineItems",value:function(n,i){return this.graphQLClient.send(a9,{checkoutId:n,lineItems:i}).then(ys("checkoutLineItemsReplace",this.graphQLClient))}},{key:"updateLineItems",value:function(n,i){return this.graphQLClient.send(s9,{checkoutId:n,lineItems:i}).then(ys("checkoutLineItemsUpdate",this.graphQLClient))}},{key:"updateShippingAddress",value:function(n,i){return this.graphQLClient.send(h9,{checkoutId:n,shippingAddress:i}).then(ys("checkoutShippingAddressUpdateV2",this.graphQLClient))}}]),e}(py),m9={imageForSize:function(e,t){var n=t.maxWidth,i=t.maxHeight,a=e.src.split("?"),s=a[0],o=a[1]?"?"+a[1]:"",c=s.split("."),d=c.length-2;return c[d]=c[d]+"_"+n+"x"+i,""+c.join(".")+o}},g9=function(r){uy(e,r);function e(){return eu(this,e),dy(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Yc(e,[{key:"helpers",get:function(){return m9}}]),e}(py),y9="2.22.0",v9={name:"AppliedGiftCard",kind:"OBJECT",fieldBaseTypes:{amountUsed:"MoneyV2",balance:"MoneyV2",id:"ID",lastCharacters:"String",presentmentAmountUsed:"MoneyV2"},implementsNode:!0},_9={name:"Attribute",kind:"OBJECT",fieldBaseTypes:{key:"String",value:"String"},implementsNode:!1},x9={name:"AutomaticDiscountApplication",kind:"OBJECT",fieldBaseTypes:{title:"String"},implementsNode:!1},S9={name:"Boolean",kind:"SCALAR"},E9={name:"Checkout",kind:"OBJECT",fieldBaseTypes:{appliedGiftCards:"AppliedGiftCard",completedAt:"DateTime",createdAt:"DateTime",currencyCode:"CurrencyCode",customAttributes:"Attribute",discountApplications:"DiscountApplicationConnection",email:"String",id:"ID",lineItems:"CheckoutLineItemConnection",lineItemsSubtotalPrice:"MoneyV2",note:"String",order:"Order",orderStatusUrl:"URL",paymentDue:"MoneyV2",ready:"Boolean",requiresShipping:"Boolean",shippingAddress:"MailingAddress",shippingLine:"ShippingRate",subtotalPrice:"MoneyV2",taxExempt:"Boolean",taxesIncluded:"Boolean",totalPrice:"MoneyV2",totalTax:"MoneyV2",updatedAt:"DateTime",webUrl:"URL"},implementsNode:!0},w9={name:"CheckoutAttributesUpdateV2Payload",kind:"OBJECT",fieldBaseTypes:{checkout:"Checkout",checkoutUserErrors:"CheckoutUserError",userErrors:"UserError"},implementsNode:!1},C9={name:"CheckoutCreatePayload",kind:"OBJECT",fieldBaseTypes:{checkout:"Checkout",checkoutUserErrors:"CheckoutUserError",userErrors:"UserError"},implementsNode:!1},b9={name:"CheckoutDiscountCodeApplyV2Payload",kind:"OBJECT",fieldBaseTypes:{checkout:"Checkout",checkoutUserErrors:"CheckoutUserError",userErrors:"UserError"},implementsNode:!1},M9={name:"CheckoutDiscountCodeRemovePayload",kind:"OBJECT",fieldBaseTypes:{checkout:"Checkout",checkoutUserErrors:"CheckoutUserError",userErrors:"UserError"},implementsNode:!1},T9={name:"CheckoutEmailUpdateV2Payload",kind:"OBJECT",fieldBaseTypes:{checkout:"Checkout",checkoutUserErrors:"CheckoutUserError",userErrors:"UserError"},implementsNode:!1},A9={name:"CheckoutErrorCode",kind:"ENUM"},P9={name:"CheckoutGiftCardRemoveV2Payload",kind:"OBJECT",fieldBaseTypes:{checkout:"Checkout",checkoutUserErrors:"CheckoutUserError",userErrors:"UserError"},implementsNode:!1},R9={name:"CheckoutGiftCardsAppendPayload",kind:"OBJECT",fieldBaseTypes:{checkout:"Checkout",checkoutUserErrors:"CheckoutUserError",userErrors:"UserError"},implementsNode:!1},I9={name:"CheckoutLineItem",kind:"OBJECT",fieldBaseTypes:{customAttributes:"Attribute",discountAllocations:"DiscountAllocation",id:"ID",quantity:"Int",title:"String",variant:"ProductVariant"},implementsNode:!0},O9={name:"CheckoutLineItemConnection",kind:"OBJECT",fieldBaseTypes:{edges:"CheckoutLineItemEdge",pageInfo:"PageInfo"},implementsNode:!1},k9={name:"CheckoutLineItemEdge",kind:"OBJECT",fieldBaseTypes:{cursor:"String",node:"CheckoutLineItem"},implementsNode:!1},F9={name:"CheckoutLineItemsAddPayload",kind:"OBJECT",fieldBaseTypes:{checkout:"Checkout",checkoutUserErrors:"CheckoutUserError",userErrors:"UserError"},implementsNode:!1},D9={name:"CheckoutLineItemsRemovePayload",kind:"OBJECT",fieldBaseTypes:{checkout:"Checkout",checkoutUserErrors:"CheckoutUserError",userErrors:"UserError"},implementsNode:!1},L9={name:"CheckoutLineItemsReplacePayload",kind:"OBJECT",fieldBaseTypes:{checkout:"Checkout",userErrors:"CheckoutUserError"},implementsNode:!1},N9={name:"CheckoutLineItemsUpdatePayload",kind:"OBJECT",fieldBaseTypes:{checkout:"Checkout",checkoutUserErrors:"CheckoutUserError",userErrors:"UserError"},implementsNode:!1},U9={name:"CheckoutShippingAddressUpdateV2Payload",kind:"OBJECT",fieldBaseTypes:{checkout:"Checkout",checkoutUserErrors:"CheckoutUserError",userErrors:"UserError"},implementsNode:!1},B9={name:"CheckoutUserError",kind:"OBJECT",fieldBaseTypes:{code:"CheckoutErrorCode",field:"String",message:"String"},implementsNode:!1},z9={name:"Collection",kind:"OBJECT",fieldBaseTypes:{description:"String",descriptionHtml:"HTML",handle:"String",id:"ID",image:"Image",products:"ProductConnection",title:"String",updatedAt:"DateTime"},implementsNode:!0},V9={name:"CollectionConnection",kind:"OBJECT",fieldBaseTypes:{edges:"CollectionEdge",pageInfo:"PageInfo"},implementsNode:!1},H9={name:"CollectionEdge",kind:"OBJECT",fieldBaseTypes:{cursor:"String",node:"Collection"},implementsNode:!1},j9={name:"CountryCode",kind:"ENUM"},$9={name:"CurrencyCode",kind:"ENUM"},W9={name:"DateTime",kind:"SCALAR"},G9={name:"Decimal",kind:"SCALAR"},q9={name:"DiscountAllocation",kind:"OBJECT",fieldBaseTypes:{allocatedAmount:"MoneyV2",discountApplication:"DiscountApplication"},implementsNode:!1},X9={name:"DiscountApplication",kind:"INTERFACE",fieldBaseTypes:{allocationMethod:"DiscountApplicationAllocationMethod",targetSelection:"DiscountApplicationTargetSelection",targetType:"DiscountApplicationTargetType",value:"PricingValue"},possibleTypes:["AutomaticDiscountApplication","DiscountCodeApplication","ManualDiscountApplication","ScriptDiscountApplication"]},Y9={name:"DiscountApplicationAllocationMethod",kind:"ENUM"},Q9={name:"DiscountApplicationConnection",kind:"OBJECT",fieldBaseTypes:{edges:"DiscountApplicationEdge",pageInfo:"PageInfo"},implementsNode:!1},K9={name:"DiscountApplicationEdge",kind:"OBJECT",fieldBaseTypes:{node:"DiscountApplication"},implementsNode:!1},J9={name:"DiscountApplicationTargetSelection",kind:"ENUM"},Z9={name:"DiscountApplicationTargetType",kind:"ENUM"},e7={name:"DiscountCodeApplication",kind:"OBJECT",fieldBaseTypes:{applicable:"Boolean",code:"String"},implementsNode:!1},t7={name:"Domain",kind:"OBJECT",fieldBaseTypes:{host:"String",sslEnabled:"Boolean",url:"URL"},implementsNode:!1},n7={name:"Float",kind:"SCALAR"},r7={name:"HTML",kind:"SCALAR"},i7={name:"ID",kind:"SCALAR"},a7={name:"Image",kind:"OBJECT",fieldBaseTypes:{altText:"String",height:"Int",id:"ID",url:"URL",width:"Int"},implementsNode:!1},s7={name:"ImageConnection",kind:"OBJECT",fieldBaseTypes:{edges:"ImageEdge",pageInfo:"PageInfo"},implementsNode:!1},o7={name:"ImageEdge",kind:"OBJECT",fieldBaseTypes:{cursor:"String",node:"Image"},implementsNode:!1},l7={name:"Int",kind:"SCALAR"},c7={name:"MailingAddress",kind:"OBJECT",fieldBaseTypes:{address1:"String",address2:"String",city:"String",company:"String",country:"String",countryCodeV2:"CountryCode",firstName:"String",formatted:"String",id:"ID",lastName:"String",latitude:"Float",longitude:"Float",name:"String",phone:"String",province:"String",provinceCode:"String",zip:"String"},implementsNode:!0},u7={name:"ManualDiscountApplication",kind:"OBJECT",fieldBaseTypes:{description:"String",title:"String"},implementsNode:!1},d7={name:"MoneyV2",kind:"OBJECT",fieldBaseTypes:{amount:"Decimal",currencyCode:"CurrencyCode"},implementsNode:!1},f7={name:"Mutation",kind:"OBJECT",fieldBaseTypes:{checkoutAttributesUpdateV2:"CheckoutAttributesUpdateV2Payload",checkoutCreate:"CheckoutCreatePayload",checkoutDiscountCodeApplyV2:"CheckoutDiscountCodeApplyV2Payload",checkoutDiscountCodeRemove:"CheckoutDiscountCodeRemovePayload",checkoutEmailUpdateV2:"CheckoutEmailUpdateV2Payload",checkoutGiftCardRemoveV2:"CheckoutGiftCardRemoveV2Payload",checkoutGiftCardsAppend:"CheckoutGiftCardsAppendPayload",checkoutLineItemsAdd:"CheckoutLineItemsAddPayload",checkoutLineItemsRemove:"CheckoutLineItemsRemovePayload",checkoutLineItemsReplace:"CheckoutLineItemsReplacePayload",checkoutLineItemsUpdate:"CheckoutLineItemsUpdatePayload",checkoutShippingAddressUpdateV2:"CheckoutShippingAddressUpdateV2Payload"},implementsNode:!1,relayInputObjectBaseTypes:{cartCreate:"CartInput",cartMetafieldDelete:"CartMetafieldDeleteInput",checkoutAttributesUpdateV2:"CheckoutAttributesUpdateV2Input",checkoutCreate:"CheckoutCreateInput",customerAccessTokenCreate:"CustomerAccessTokenCreateInput",customerActivate:"CustomerActivateInput",customerCreate:"CustomerCreateInput",customerReset:"CustomerResetInput"}},h7={name:"Node",kind:"INTERFACE",fieldBaseTypes:{},possibleTypes:["AppliedGiftCard","Article","Blog","Cart","CartLine","Checkout","CheckoutLineItem","Collection","Comment","Company","CompanyContact","CompanyLocation","ComponentizableCartLine","ExternalVideo","GenericFile","Location","MailingAddress","Market","MediaImage","MediaPresentation","Menu","MenuItem","Metafield","Metaobject","Model3d","Order","Page","Payment","Product","ProductOption","ProductVariant","Shop","ShopPolicy","UrlRedirect","Video"]},p7={name:"Order",kind:"OBJECT",fieldBaseTypes:{currencyCode:"CurrencyCode",customerUrl:"URL",id:"ID",lineItems:"OrderLineItemConnection",orderNumber:"Int",processedAt:"DateTime",shippingAddress:"MailingAddress",subtotalPrice:"MoneyV2",totalPrice:"MoneyV2",totalRefunded:"MoneyV2",totalShippingPrice:"MoneyV2",totalTax:"MoneyV2"},implementsNode:!0},m7={name:"OrderLineItem",kind:"OBJECT",fieldBaseTypes:{customAttributes:"Attribute",quantity:"Int",title:"String",variant:"ProductVariant"},implementsNode:!1},g7={name:"OrderLineItemConnection",kind:"OBJECT",fieldBaseTypes:{edges:"OrderLineItemEdge",pageInfo:"PageInfo"},implementsNode:!1},y7={name:"OrderLineItemEdge",kind:"OBJECT",fieldBaseTypes:{cursor:"String",node:"OrderLineItem"},implementsNode:!1},v7={name:"PageInfo",kind:"OBJECT",fieldBaseTypes:{hasNextPage:"Boolean",hasPreviousPage:"Boolean"},implementsNode:!1},_7={name:"PaymentSettings",kind:"OBJECT",fieldBaseTypes:{enabledPresentmentCurrencies:"CurrencyCode"},implementsNode:!1},x7={name:"PricingPercentageValue",kind:"OBJECT",fieldBaseTypes:{percentage:"Float"},implementsNode:!1},S7={name:"PricingValue",kind:"UNION"},E7={name:"Product",kind:"OBJECT",fieldBaseTypes:{availableForSale:"Boolean",createdAt:"DateTime",description:"String",descriptionHtml:"HTML",handle:"String",id:"ID",images:"ImageConnection",onlineStoreUrl:"URL",options:"ProductOption",productType:"String",publishedAt:"DateTime",title:"String",updatedAt:"DateTime",variants:"ProductVariantConnection",vendor:"String"},implementsNode:!0},w7={name:"ProductConnection",kind:"OBJECT",fieldBaseTypes:{edges:"ProductEdge",pageInfo:"PageInfo"},implementsNode:!1},C7={name:"ProductEdge",kind:"OBJECT",fieldBaseTypes:{cursor:"String",node:"Product"},implementsNode:!1},b7={name:"ProductOption",kind:"OBJECT",fieldBaseTypes:{name:"String",values:"String"},implementsNode:!0},M7={name:"ProductVariant",kind:"OBJECT",fieldBaseTypes:{availableForSale:"Boolean",compareAtPrice:"MoneyV2",id:"ID",image:"Image",price:"MoneyV2",product:"Product",selectedOptions:"SelectedOption",sku:"String",title:"String",unitPrice:"MoneyV2",unitPriceMeasurement:"UnitPriceMeasurement",weight:"Float"},implementsNode:!0},T7={name:"ProductVariantConnection",kind:"OBJECT",fieldBaseTypes:{edges:"ProductVariantEdge",pageInfo:"PageInfo"},implementsNode:!1},A7={name:"ProductVariantEdge",kind:"OBJECT",fieldBaseTypes:{cursor:"String",node:"ProductVariant"},implementsNode:!1},P7={name:"QueryRoot",kind:"OBJECT",fieldBaseTypes:{collectionByHandle:"Collection",collections:"CollectionConnection",node:"Node",nodes:"Node",productByHandle:"Product",productRecommendations:"Product",products:"ProductConnection",shop:"Shop"},implementsNode:!1},R7={name:"ScriptDiscountApplication",kind:"OBJECT",fieldBaseTypes:{title:"String"},implementsNode:!1},I7={name:"SelectedOption",kind:"OBJECT",fieldBaseTypes:{name:"String",value:"String"},implementsNode:!1},O7={name:"ShippingRate",kind:"OBJECT",fieldBaseTypes:{handle:"String",price:"MoneyV2",title:"String"},implementsNode:!1},k7={name:"Shop",kind:"OBJECT",fieldBaseTypes:{description:"String",moneyFormat:"String",name:"String",paymentSettings:"PaymentSettings",primaryDomain:"Domain",privacyPolicy:"ShopPolicy",refundPolicy:"ShopPolicy",termsOfService:"ShopPolicy"},implementsNode:!0},F7={name:"ShopPolicy",kind:"OBJECT",fieldBaseTypes:{body:"String",id:"ID",title:"String",url:"URL"},implementsNode:!0},D7={name:"String",kind:"SCALAR"},L7={name:"URL",kind:"SCALAR"},N7={name:"UnitPriceMeasurement",kind:"OBJECT",fieldBaseTypes:{measuredType:"UnitPriceMeasurementMeasuredType",quantityUnit:"UnitPriceMeasurementMeasuredUnit",quantityValue:"Float",referenceUnit:"UnitPriceMeasurementMeasuredUnit",referenceValue:"Int"},implementsNode:!1},U7={name:"UnitPriceMeasurementMeasuredType",kind:"ENUM"},B7={name:"UnitPriceMeasurementMeasuredUnit",kind:"ENUM"},z7={name:"UserError",kind:"OBJECT",fieldBaseTypes:{field:"String",message:"String"},implementsNode:!1},St={types:{}};St.types.AppliedGiftCard=v9;St.types.Attribute=_9;St.types.AutomaticDiscountApplication=x9;St.types.Boolean=S9;St.types.Checkout=E9;St.types.CheckoutAttributesUpdateV2Payload=w9;St.types.CheckoutCreatePayload=C9;St.types.CheckoutDiscountCodeApplyV2Payload=b9;St.types.CheckoutDiscountCodeRemovePayload=M9;St.types.CheckoutEmailUpdateV2Payload=T9;St.types.CheckoutErrorCode=A9;St.types.CheckoutGiftCardRemoveV2Payload=P9;St.types.CheckoutGiftCardsAppendPayload=R9;St.types.CheckoutLineItem=I9;St.types.CheckoutLineItemConnection=O9;St.types.CheckoutLineItemEdge=k9;St.types.CheckoutLineItemsAddPayload=F9;St.types.CheckoutLineItemsRemovePayload=D9;St.types.CheckoutLineItemsReplacePayload=L9;St.types.CheckoutLineItemsUpdatePayload=N9;St.types.CheckoutShippingAddressUpdateV2Payload=U9;St.types.CheckoutUserError=B9;St.types.Collection=z9;St.types.CollectionConnection=V9;St.types.CollectionEdge=H9;St.types.CountryCode=j9;St.types.CurrencyCode=$9;St.types.DateTime=W9;St.types.Decimal=G9;St.types.DiscountAllocation=q9;St.types.DiscountApplication=X9;St.types.DiscountApplicationAllocationMethod=Y9;St.types.DiscountApplicationConnection=Q9;St.types.DiscountApplicationEdge=K9;St.types.DiscountApplicationTargetSelection=J9;St.types.DiscountApplicationTargetType=Z9;St.types.DiscountCodeApplication=e7;St.types.Domain=t7;St.types.Float=n7;St.types.HTML=r7;St.types.ID=i7;St.types.Image=a7;St.types.ImageConnection=s7;St.types.ImageEdge=o7;St.types.Int=l7;St.types.MailingAddress=c7;St.types.ManualDiscountApplication=u7;St.types.MoneyV2=d7;St.types.Mutation=f7;St.types.Node=h7;St.types.Order=p7;St.types.OrderLineItem=m7;St.types.OrderLineItemConnection=g7;St.types.OrderLineItemEdge=y7;St.types.PageInfo=v7;St.types.PaymentSettings=_7;St.types.PricingPercentageValue=x7;St.types.PricingValue=S7;St.types.Product=E7;St.types.ProductConnection=w7;St.types.ProductEdge=C7;St.types.ProductOption=b7;St.types.ProductVariant=M7;St.types.ProductVariantConnection=T7;St.types.ProductVariantEdge=A7;St.types.QueryRoot=P7;St.types.ScriptDiscountApplication=R7;St.types.SelectedOption=I7;St.types.ShippingRate=O7;St.types.Shop=k7;St.types.ShopPolicy=F7;St.types.String=D7;St.types.URL=L7;St.types.UnitPriceMeasurement=N7;St.types.UnitPriceMeasurementMeasuredType=U7;St.types.UnitPriceMeasurementMeasuredUnit=B7;St.types.UserError=z7;St.queryType="QueryRoot";St.mutationType="Mutation";St.subscriptionType=null;function E3(r){return Object.getOwnPropertyNames(r).forEach(function(e){var t=r[e];t&&(typeof t>"u"?"undefined":tb(t))==="object"&&E3(t)}),Object.freeze(r),r}var eP=E3(St),V7=function(){Yc(r,null,[{key:"buildClient",value:function(t,n){var i=new BG(t),a=new r(i,QA,n);return a.config=i,a}}]);function r(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:QA,n=arguments[2];eu(this,r);var i="https://"+e.domain+"/api/"+e.apiVersion+"/graphql",a={"X-SDK-Variant":"javascript","X-SDK-Version":y9,"X-Shopify-Storefront-Access-Token":e.storefrontAccessToken};e.source&&(a["X-SDK-Variant-Source"]=e.source);var s=e.language?e.language:"*";a["Accept-Language"]=s,n?(a["Content-Type"]="application/json",a.Accept="application/json",this.graphQLClient=new t(eP,{fetcher:function(c){return n(i,{body:JSON.stringify(c),method:"POST",mode:"cors",headers:a}).then(function(d){return d.json()})}})):this.graphQLClient=new t(eP,{url:i,fetcherOptions:{headers:a}}),this.product=new GG(this.graphQLClient),this.collection=new KG(this.graphQLClient),this.shop=new e9(this.graphQLClient),this.checkout=new p9(this.graphQLClient),this.image=new g9(this.graphQLClient)}return Yc(r,[{key:"fetchNextPage",value:function(t){return this.graphQLClient.fetchNextPage(t)}}]),r}();class H7 extends z.Component{render(){return H.jsx("select",{className:"Product__option",name:this.props.option.name,onChange:this.props.handleOptionChange,children:this.props.option.values.map(e=>H.jsx("option",{value:e,children:`${e}`},`${this.props.option.name}-${e}`))},this.props.option.name)}}class j7 extends z.Component{constructor(e){super(e);let t={};this.props.product.options.forEach(n=>{t[n.name]=n.values[0].value}),this.state={selectedOptions:t},this.handleOptionChange=this.handleOptionChange.bind(this),this.handleQuantityChange=this.handleQuantityChange.bind(this),this.findImage=this.findImage.bind(this)}findImage(e,t){const n=e[0];return(e.filter(function(a){return a.variant_ids.includes(t)})[0]||n).src}handleOptionChange(e){const t=e.target;let n=this.state.selectedOptions;n[t.name]=t.value;const i=this.props.client.product.helpers.variantForOptions(this.props.product,n);this.setState({selectedVariant:i,selectedVariantImage:i.attrs.image})}handleQuantityChange(e){this.setState({selectedVariantQuantity:e.target.value})}render(){let e=this.state.selectedVariantImage||this.props.product.images[0],t=this.state.selectedVariant||this.props.product.variants[0],n=this.state.selectedVariantQuantity||1,i=this.props.product.options.map(a=>H.jsx(H7,{handleOptionChange:this.handleOptionChange,option:a},a.id.toString()));return H.jsxs("div",{className:"Product",children:[this.props.product.images.length?H.jsx("img",{src:e.src,alt:`${this.props.product.title} product shot`}):null,H.jsx("h5",{className:"Product__title",children:this.props.product.title}),H.jsxs("span",{className:"Product__price",children:["$",t.price]}),i,H.jsxs("label",{className:"Product__option",children:["Quantity",H.jsx("input",{min:"1",type:"number",defaultValue:n,onChange:this.handleQuantityChange})]}),H.jsx("button",{className:"Product__buy button",onClick:()=>this.props.addVariantToCart(t.id,n),children:"Add to Cart"})]})}}class $7 extends z.Component{render(){let e=this.props.products.map(t=>H.jsx(j7,{addVariantToCart:this.props.addVariantToCart,client:this.props.client,product:t},t.id.toString()));return H.jsx("div",{className:"Product-wrapper",children:e})}}class W7 extends z.Component{constructor(){super(),this.client=V7.buildClient({domain:"trustlove.shop",storefrontAccessToken:"e6676d8f9c93631fdc54a88e2e7d5032"}),this.state={isCartOpen:!1,checkout:{lineItems:[]},products:[],shop:{}},this.handleCartClose=this.handleCartClose.bind(this),this.addVariantToCart=this.addVariantToCart.bind(this),this.updateQuantityInCart=this.updateQuantityInCart.bind(this),this.removeLineItemInCart=this.removeLineItemInCart.bind(this)}componentWillMount(){this.client.checkout.create().then(e=>{this.setState({checkout:e})}),this.client.product.fetchAll().then(e=>{console.log("YO: "+products),this.setState({products:e})}),this.client.shop.fetchInfo().then(e=>{this.setState({shop:e})})}addVariantToCart(e,t){this.setState({isCartOpen:!0});const n=[{variantId:e,quantity:parseInt(t,10)}],i=this.state.checkout.id;return this.client.checkout.addLineItems(i,n).then(a=>{this.setState({checkout:a})})}updateQuantityInCart(e,t){const n=this.state.checkout.id,i=[{id:e,quantity:parseInt(t,10)}];return this.client.checkout.updateLineItems(n,i).then(a=>{this.setState({checkout:a})})}removeLineItemInCart(e){const t=this.state.checkout.id;return this.client.checkout.removeLineItems(t,[e]).then(n=>{this.setState({checkout:n})})}handleCartClose(){this.setState({isCartOpen:!1})}render(){return H.jsxs("div",{className:"App",children:[H.jsx("header",{className:"App__header",children:H.jsxs("div",{className:"App__title",children:[H.jsxs("h1",{children:[this.state.shop.name," Online Store"]}),H.jsx("h4",{children:this.state.shop.description})]})}),H.jsx($7,{products:this.state.products,client:this.client,addVariantToCart:this.addVariantToCart}),!this.state.isCartOpen&&H.jsx("div",{className:"App__view-cart-wrapper",children:H.jsx("button",{className:"App__view-cart",onClick:()=>this.setState({isCartOpen:!0}),children:"Cart"})})]})}}function G7(){return H.jsxs(Ms,{fluid:!0,className:"App p-3",children:[H.jsx("div",{className:"text-center py-5",children:H.jsxs(br,{cascade:!0,children:[H.jsx("img",{src:"src/assets/TRUSTLOVE_LOGO_LARGE.png",width:"80%"}),H.jsx("br",{}),H.jsxs("h4",{children:["Welcome to the home page of TRUSTLOVE",H.jsx("br",{}),"American EDM producer and musician"]})]})}),H.jsx("br",{}),H.jsx("br",{}),H.jsx(bn,{bg:"secondary",text:"white",className:"text-center py-5",children:H.jsxs(a1,{style:{height:"300px"},interval:3e3,children:[H.jsx(a1.Item,{children:H.jsx("div",{className:"d-flex justify-content-center",children:H.jsx(br,{direction:"left",children:H.jsxs(Vr,{children:[H.jsx(Nn,{md:4,children:H.jsx("h2",{children:"TrustLove: the Artist"})}),H.jsx(Nn,{md:4,children:H.jsx(u_,{className:"image",src:"src/assets/images/John_TL.jpeg",fluid:!0})}),H.jsxs(Nn,{md:4,children:[H.jsx("p",{children:"John loves to connect with his fans, share his life stories, and try to inspire others to live their best lives while being loving to yourself and those around you."}),H.jsx("button",{children:"Learn More"})]})]})})})},1),H.jsx(a1.Item,{children:H.jsx("div",{className:"d-flex justify-content-center",children:H.jsxs(br,{direction:"right",children:[H.jsx("h2",{children:"TrustLove: the Community"}),H.jsx("p",{children:"Join a vibrant community of musicians across all genres and cultures. Discover new sounds, find your next bandmate, or simply get inspired by the diversity of our users."}),H.jsx("button",{children:"Free Sign Up"})]})})},2)]})}),H.jsx("br",{}),H.jsx("br",{}),H.jsx(bn,{bg:"secondary",text:"white",className:"text-center py-5",children:H.jsxs(Vr,{children:[H.jsx(Nn,{md:4,children:H.jsx(br,{direction:"left",delay:500,children:H.jsxs(bn,{bg:"secondary",text:"white",children:[H.jsx(Ed,{bg:"primary",children:"NEW!"}),H.jsx("iframe",{src:"https://open.spotify.com/embed/album/4jsKR8bVcxV0nmfQfJ7a2K",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy"}),H.jsx("iframe",{allow:"autoplay *; encrypted-media *;",sandbox:"allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation",src:"https://embed.music.apple.com/us/album/never-the-same-single/1760664124"})]})})}),H.jsx(Nn,{md:4,children:H.jsx(br,{direction:"down",delay:500,children:H.jsxs(bn,{bg:"secondary",text:"white",children:[H.jsx(Ed,{bg:"info",children:"Chill"}),H.jsx("iframe",{src:"https://open.spotify.com/embed/album/3z824Sw8cRa4aYKJXQVF3r",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy"})]})})}),H.jsx(Nn,{md:4,children:H.jsx(br,{direction:"right",delay:500,children:H.jsxs(bn,{bg:"secondary",text:"white",children:[H.jsx(Ed,{bg:"warning",children:"High Energy"}),H.jsx("iframe",{src:"https://open.spotify.com/embed/album/71Boqm781Tl2V28RiKVBul",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy"}),H.jsx("iframe",{allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",sandbox:"allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation",src:"https://embed.music.apple.com/us/album/ride-or-die-special-version-single/1754866282"})]})})})]})}),H.jsx("br",{}),H.jsx("br",{}),H.jsx(bn,{bg:"secondary",text:"white",className:"text-center py-5",children:H.jsxs(br,{direction:"right",children:[H.jsx("h2",{children:"TrustLove: the SoundCloud Archives"}),H.jsx("p",{children:"Discover John's music before he was TrustLove. Join the journey!"}),H.jsx("a",{href:"https://soundcloud.com/trustl0v3",children:"Visit TrustLove on SoundCloud"})]})}),H.jsx("div",{className:"text-center py-5",children:H.jsx(W7,{})}),H.jsx("br",{}),H.jsx("br",{}),H.jsx(Ms,{fluid:!0,className:"cta-final text-center py-5",children:H.jsxs(br,{children:[H.jsx("h4",{children:"Ready to Elevate Your Music Journey?"}),H.jsx("p",{children:"Join the TrustLove community today, get updates and exclusive content, and help spread love and the trust in the world."}),H.jsx("button",{children:"Subscribe Now"})]})})]})}function q7(){return H.jsxs(Ms,{className:"App my-5",children:[H.jsx(br,{cascade:!0,children:H.jsx(Vr,{className:"justify-content-center",children:H.jsxs(Nn,{md:8,className:"text-center",children:[H.jsxs("h4",{children:["CONTACT  ",H.jsx("img",{src:"src/assets/TRUSTLOVE_LOGO_LARGE.png",width:"50%"})]}),H.jsx("p",{children:"Got a question? We'd love to hear from you. Send us a message and we'll respond as soon as possible."}),H.jsx("h2",{children:"Please use the social media or email links to contact us directly:"}),H.jsx("div",{className:"justify-content-center mt-5",children:H.jsx(Nn,{md:12,className:"text-center",children:H.jsxs(Ms,{className:"social-links",children:[H.jsx("a",{href:"https://www.facebook.com/profile.php?id=61561425107918",className:"me-3",children:H.jsx(zF,{})}),H.jsx("a",{href:"https://www.instagram.com/trust.l0v3",className:"me-3",children:H.jsx(VF,{})}),H.jsx("a",{href:"mailto:john@trustlove.io",children:H.jsx(HF,{})})]})})})]})})}),!1]})}var w3={},Cg={},X7=Cg.byteLength=Z7,Y7=Cg.toByteArray=tq,Q7=Cg.fromByteArray=iq,Ro=[],_s=[],K7=typeof Uint8Array<"u"?Uint8Array:Array,h1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var nh=0,J7=h1.length;nh<J7;++nh)Ro[nh]=h1[nh],_s[h1.charCodeAt(nh)]=nh;_s[45]=62;_s[95]=63;function C3(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function Z7(r){var e=C3(r),t=e[0],n=e[1];return(t+n)*3/4-n}function eq(r,e,t){return(e+t)*3/4-t}function tq(r){var e,t=C3(r),n=t[0],i=t[1],a=new K7(eq(r,n,i)),s=0,o=i>0?n-4:n,c;for(c=0;c<o;c+=4)e=_s[r.charCodeAt(c)]<<18|_s[r.charCodeAt(c+1)]<<12|_s[r.charCodeAt(c+2)]<<6|_s[r.charCodeAt(c+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=e&255;return i===2&&(e=_s[r.charCodeAt(c)]<<2|_s[r.charCodeAt(c+1)]>>4,a[s++]=e&255),i===1&&(e=_s[r.charCodeAt(c)]<<10|_s[r.charCodeAt(c+1)]<<4|_s[r.charCodeAt(c+2)]>>2,a[s++]=e>>8&255,a[s++]=e&255),a}function nq(r){return Ro[r>>18&63]+Ro[r>>12&63]+Ro[r>>6&63]+Ro[r&63]}function rq(r,e,t){for(var n,i=[],a=e;a<t;a+=3)n=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(r[a+2]&255),i.push(nq(n));return i.join("")}function iq(r){for(var e,t=r.length,n=t%3,i=[],a=16383,s=0,o=t-n;s<o;s+=a)i.push(rq(r,s,s+a>o?o:s+a));return n===1?(e=r[t-1],i.push(Ro[e>>2]+Ro[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],i.push(Ro[e>>10]+Ro[e>>4&63]+Ro[e<<2&63]+"=")),i.join("")}const aq=Wt({__proto__:null,byteLength:X7,default:Cg,fromByteArray:Q7,toByteArray:Y7},[Cg]),sq=jt(aq);var y_={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var oq=y_.read=function(r,e,t,n,i){var a,s,o=i*8-n-1,c=(1<<o)-1,d=c>>1,f=-7,m=t?i-1:0,g=t?-1:1,y=r[e+m];for(m+=g,a=y&(1<<-f)-1,y>>=-f,f+=o;f>0;a=a*256+r[e+m],m+=g,f-=8);for(s=a&(1<<-f)-1,a>>=-f,f+=n;f>0;s=s*256+r[e+m],m+=g,f-=8);if(a===0)a=1-d;else{if(a===c)return s?NaN:(y?-1:1)*(1/0);s=s+Math.pow(2,n),a=a-d}return(y?-1:1)*s*Math.pow(2,a-n)},lq=y_.write=function(r,e,t,n,i,a){var s,o,c,d=a*8-i-1,f=(1<<d)-1,m=f>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:a-1,x=n?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+m>=1?e+=g/c:e+=g*Math.pow(2,1-m),e*c>=2&&(s++,c/=2),s+m>=f?(o=0,s=f):s+m>=1?(o=(e*c-1)*Math.pow(2,i),s=s+m):(o=e*Math.pow(2,m-1)*Math.pow(2,i),s=0));i>=8;r[t+y]=o&255,y+=x,o/=256,i-=8);for(s=s<<i|o,d+=i;d>0;r[t+y]=s&255,y+=x,s/=256,d-=8);r[t+y-x]|=S*128};const cq=Wt({__proto__:null,default:y_,read:oq,write:lq},[y_]),uq=jt(cq);/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=sq,t=uq,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=o,r.SlowBuffer=w,r.INSPECT_MAX_BYTES=50;const i=2147483647;r.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const $=new Uint8Array(1),F={foo:function(){return 42}};return Object.setPrototypeOf(F,Uint8Array.prototype),Object.setPrototypeOf($,F),$.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s($){if($>i)throw new RangeError('The value "'+$+'" is invalid for option "size"');const F=new Uint8Array($);return Object.setPrototypeOf(F,o.prototype),F}function o($,F,B){if(typeof $=="number"){if(typeof F=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m($)}return c($,F,B)}o.poolSize=8192;function c($,F,B){if(typeof $=="string")return g($,F);if(ArrayBuffer.isView($))return x($);if($==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(Ce($,ArrayBuffer)||$&&Ce($.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ce($,SharedArrayBuffer)||$&&Ce($.buffer,SharedArrayBuffer)))return S($,F,B);if(typeof $=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Q=$.valueOf&&$.valueOf();if(Q!=null&&Q!==$)return o.from(Q,F,B);const ie=_($);if(ie)return ie;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof $[Symbol.toPrimitive]=="function")return o.from($[Symbol.toPrimitive]("string"),F,B);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}o.from=function($,F,B){return c($,F,B)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function d($){if(typeof $!="number")throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function f($,F,B){return d($),$<=0?s($):F!==void 0?typeof B=="string"?s($).fill(F,B):s($).fill(F):s($)}o.alloc=function($,F,B){return f($,F,B)};function m($){return d($),s($<0?0:E($)|0)}o.allocUnsafe=function($){return m($)},o.allocUnsafeSlow=function($){return m($)};function g($,F){if((typeof F!="string"||F==="")&&(F="utf8"),!o.isEncoding(F))throw new TypeError("Unknown encoding: "+F);const B=C($,F)|0;let Q=s(B);const ie=Q.write($,F);return ie!==B&&(Q=Q.slice(0,ie)),Q}function y($){const F=$.length<0?0:E($.length)|0,B=s(F);for(let Q=0;Q<F;Q+=1)B[Q]=$[Q]&255;return B}function x($){if(Ce($,Uint8Array)){const F=new Uint8Array($);return S(F.buffer,F.byteOffset,F.byteLength)}return y($)}function S($,F,B){if(F<0||$.byteLength<F)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<F+(B||0))throw new RangeError('"length" is outside of buffer bounds');let Q;return F===void 0&&B===void 0?Q=new Uint8Array($):B===void 0?Q=new Uint8Array($,F):Q=new Uint8Array($,F,B),Object.setPrototypeOf(Q,o.prototype),Q}function _($){if(o.isBuffer($)){const F=E($.length)|0,B=s(F);return B.length===0||$.copy(B,0,0,F),B}if($.length!==void 0)return typeof $.length!="number"||Xe($.length)?s(0):y($);if($.type==="Buffer"&&Array.isArray($.data))return y($.data)}function E($){if($>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return $|0}function w($){return+$!=$&&($=0),o.alloc(+$)}o.isBuffer=function(F){return F!=null&&F._isBuffer===!0&&F!==o.prototype},o.compare=function(F,B){if(Ce(F,Uint8Array)&&(F=o.from(F,F.offset,F.byteLength)),Ce(B,Uint8Array)&&(B=o.from(B,B.offset,B.byteLength)),!o.isBuffer(F)||!o.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(F===B)return 0;let Q=F.length,ie=B.length;for(let pe=0,ve=Math.min(Q,ie);pe<ve;++pe)if(F[pe]!==B[pe]){Q=F[pe],ie=B[pe];break}return Q<ie?-1:ie<Q?1:0},o.isEncoding=function(F){switch(String(F).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(F,B){if(!Array.isArray(F))throw new TypeError('"list" argument must be an Array of Buffers');if(F.length===0)return o.alloc(0);let Q;if(B===void 0)for(B=0,Q=0;Q<F.length;++Q)B+=F[Q].length;const ie=o.allocUnsafe(B);let pe=0;for(Q=0;Q<F.length;++Q){let ve=F[Q];if(Ce(ve,Uint8Array))pe+ve.length>ie.length?(o.isBuffer(ve)||(ve=o.from(ve)),ve.copy(ie,pe)):Uint8Array.prototype.set.call(ie,ve,pe);else if(o.isBuffer(ve))ve.copy(ie,pe);else throw new TypeError('"list" argument must be an Array of Buffers');pe+=ve.length}return ie};function C($,F){if(o.isBuffer($))return $.length;if(ArrayBuffer.isView($)||Ce($,ArrayBuffer))return $.byteLength;if(typeof $!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);const B=$.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&B===0)return 0;let ie=!1;for(;;)switch(F){case"ascii":case"latin1":case"binary":return B;case"utf8":case"utf-8":return xt($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B*2;case"hex":return B>>>1;case"base64":return se($).length;default:if(ie)return Q?-1:xt($).length;F=(""+F).toLowerCase(),ie=!0}}o.byteLength=C;function T($,F,B){let Q=!1;if((F===void 0||F<0)&&(F=0),F>this.length||((B===void 0||B>this.length)&&(B=this.length),B<=0)||(B>>>=0,F>>>=0,B<=F))return"";for($||($="utf8");;)switch($){case"hex":return le(this,F,B);case"utf8":case"utf-8":return ee(this,F,B);case"ascii":return ue(this,F,B);case"latin1":case"binary":return G(this,F,B);case"base64":return W(this,F,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,F,B);default:if(Q)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),Q=!0}}o.prototype._isBuffer=!0;function O($,F,B){const Q=$[F];$[F]=$[B],$[B]=Q}o.prototype.swap16=function(){const F=this.length;if(F%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let B=0;B<F;B+=2)O(this,B,B+1);return this},o.prototype.swap32=function(){const F=this.length;if(F%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let B=0;B<F;B+=4)O(this,B,B+3),O(this,B+1,B+2);return this},o.prototype.swap64=function(){const F=this.length;if(F%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let B=0;B<F;B+=8)O(this,B,B+7),O(this,B+1,B+6),O(this,B+2,B+5),O(this,B+3,B+4);return this},o.prototype.toString=function(){const F=this.length;return F===0?"":arguments.length===0?ee(this,0,F):T.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(F){if(!o.isBuffer(F))throw new TypeError("Argument must be a Buffer");return this===F?!0:o.compare(this,F)===0},o.prototype.inspect=function(){let F="";const B=r.INSPECT_MAX_BYTES;return F=this.toString("hex",0,B).replace(/(.{2})/g,"$1 ").trim(),this.length>B&&(F+=" ... "),"<Buffer "+F+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(F,B,Q,ie,pe){if(Ce(F,Uint8Array)&&(F=o.from(F,F.offset,F.byteLength)),!o.isBuffer(F))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof F);if(B===void 0&&(B=0),Q===void 0&&(Q=F?F.length:0),ie===void 0&&(ie=0),pe===void 0&&(pe=this.length),B<0||Q>F.length||ie<0||pe>this.length)throw new RangeError("out of range index");if(ie>=pe&&B>=Q)return 0;if(ie>=pe)return-1;if(B>=Q)return 1;if(B>>>=0,Q>>>=0,ie>>>=0,pe>>>=0,this===F)return 0;let ve=pe-ie,Ve=Q-B;const de=Math.min(ve,Ve),ke=this.slice(ie,pe),tt=F.slice(B,Q);for(let fe=0;fe<de;++fe)if(ke[fe]!==tt[fe]){ve=ke[fe],Ve=tt[fe];break}return ve<Ve?-1:Ve<ve?1:0};function R($,F,B,Q,ie){if($.length===0)return-1;if(typeof B=="string"?(Q=B,B=0):B>2147483647?B=2147483647:B<-2147483648&&(B=-2147483648),B=+B,Xe(B)&&(B=ie?0:$.length-1),B<0&&(B=$.length+B),B>=$.length){if(ie)return-1;B=$.length-1}else if(B<0)if(ie)B=0;else return-1;if(typeof F=="string"&&(F=o.from(F,Q)),o.isBuffer(F))return F.length===0?-1:P($,F,B,Q,ie);if(typeof F=="number")return F=F&255,typeof Uint8Array.prototype.indexOf=="function"?ie?Uint8Array.prototype.indexOf.call($,F,B):Uint8Array.prototype.lastIndexOf.call($,F,B):P($,[F],B,Q,ie);throw new TypeError("val must be string, number or Buffer")}function P($,F,B,Q,ie){let pe=1,ve=$.length,Ve=F.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if($.length<2||F.length<2)return-1;pe=2,ve/=2,Ve/=2,B/=2}function de(tt,fe){return pe===1?tt[fe]:tt.readUInt16BE(fe*pe)}let ke;if(ie){let tt=-1;for(ke=B;ke<ve;ke++)if(de($,ke)===de(F,tt===-1?0:ke-tt)){if(tt===-1&&(tt=ke),ke-tt+1===Ve)return tt*pe}else tt!==-1&&(ke-=ke-tt),tt=-1}else for(B+Ve>ve&&(B=ve-Ve),ke=B;ke>=0;ke--){let tt=!0;for(let fe=0;fe<Ve;fe++)if(de($,ke+fe)!==de(F,fe)){tt=!1;break}if(tt)return ke}return-1}o.prototype.includes=function(F,B,Q){return this.indexOf(F,B,Q)!==-1},o.prototype.indexOf=function(F,B,Q){return R(this,F,B,Q,!0)},o.prototype.lastIndexOf=function(F,B,Q){return R(this,F,B,Q,!1)};function N($,F,B,Q){B=Number(B)||0;const ie=$.length-B;Q?(Q=Number(Q),Q>ie&&(Q=ie)):Q=ie;const pe=F.length;Q>pe/2&&(Q=pe/2);let ve;for(ve=0;ve<Q;++ve){const Ve=parseInt(F.substr(ve*2,2),16);if(Xe(Ve))return ve;$[B+ve]=Ve}return ve}function D($,F,B,Q){return K(xt(F,$.length-B),$,B,Q)}function I($,F,B,Q){return K(st(F),$,B,Q)}function V($,F,B,Q){return K(se(F),$,B,Q)}function q($,F,B,Q){return K(yt(F,$.length-B),$,B,Q)}o.prototype.write=function(F,B,Q,ie){if(B===void 0)ie="utf8",Q=this.length,B=0;else if(Q===void 0&&typeof B=="string")ie=B,Q=this.length,B=0;else if(isFinite(B))B=B>>>0,isFinite(Q)?(Q=Q>>>0,ie===void 0&&(ie="utf8")):(ie=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const pe=this.length-B;if((Q===void 0||Q>pe)&&(Q=pe),F.length>0&&(Q<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");let ve=!1;for(;;)switch(ie){case"hex":return N(this,F,B,Q);case"utf8":case"utf-8":return D(this,F,B,Q);case"ascii":case"latin1":case"binary":return I(this,F,B,Q);case"base64":return V(this,F,B,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,F,B,Q);default:if(ve)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),ve=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W($,F,B){return F===0&&B===$.length?e.fromByteArray($):e.fromByteArray($.slice(F,B))}function ee($,F,B){B=Math.min($.length,B);const Q=[];let ie=F;for(;ie<B;){const pe=$[ie];let ve=null,Ve=pe>239?4:pe>223?3:pe>191?2:1;if(ie+Ve<=B){let de,ke,tt,fe;switch(Ve){case 1:pe<128&&(ve=pe);break;case 2:de=$[ie+1],(de&192)===128&&(fe=(pe&31)<<6|de&63,fe>127&&(ve=fe));break;case 3:de=$[ie+1],ke=$[ie+2],(de&192)===128&&(ke&192)===128&&(fe=(pe&15)<<12|(de&63)<<6|ke&63,fe>2047&&(fe<55296||fe>57343)&&(ve=fe));break;case 4:de=$[ie+1],ke=$[ie+2],tt=$[ie+3],(de&192)===128&&(ke&192)===128&&(tt&192)===128&&(fe=(pe&15)<<18|(de&63)<<12|(ke&63)<<6|tt&63,fe>65535&&fe<1114112&&(ve=fe))}}ve===null?(ve=65533,Ve=1):ve>65535&&(ve-=65536,Q.push(ve>>>10&1023|55296),ve=56320|ve&1023),Q.push(ve),ie+=Ve}return re(Q)}const te=4096;function re($){const F=$.length;if(F<=te)return String.fromCharCode.apply(String,$);let B="",Q=0;for(;Q<F;)B+=String.fromCharCode.apply(String,$.slice(Q,Q+=te));return B}function ue($,F,B){let Q="";B=Math.min($.length,B);for(let ie=F;ie<B;++ie)Q+=String.fromCharCode($[ie]&127);return Q}function G($,F,B){let Q="";B=Math.min($.length,B);for(let ie=F;ie<B;++ie)Q+=String.fromCharCode($[ie]);return Q}function le($,F,B){const Q=$.length;(!F||F<0)&&(F=0),(!B||B<0||B>Q)&&(B=Q);let ie="";for(let pe=F;pe<B;++pe)ie+=Ye[$[pe]];return ie}function oe($,F,B){const Q=$.slice(F,B);let ie="";for(let pe=0;pe<Q.length-1;pe+=2)ie+=String.fromCharCode(Q[pe]+Q[pe+1]*256);return ie}o.prototype.slice=function(F,B){const Q=this.length;F=~~F,B=B===void 0?Q:~~B,F<0?(F+=Q,F<0&&(F=0)):F>Q&&(F=Q),B<0?(B+=Q,B<0&&(B=0)):B>Q&&(B=Q),B<F&&(B=F);const ie=this.subarray(F,B);return Object.setPrototypeOf(ie,o.prototype),ie};function X($,F,B){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+F>B)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(F,B,Q){F=F>>>0,B=B>>>0,Q||X(F,B,this.length);let ie=this[F],pe=1,ve=0;for(;++ve<B&&(pe*=256);)ie+=this[F+ve]*pe;return ie},o.prototype.readUintBE=o.prototype.readUIntBE=function(F,B,Q){F=F>>>0,B=B>>>0,Q||X(F,B,this.length);let ie=this[F+--B],pe=1;for(;B>0&&(pe*=256);)ie+=this[F+--B]*pe;return ie},o.prototype.readUint8=o.prototype.readUInt8=function(F,B){return F=F>>>0,B||X(F,1,this.length),this[F]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(F,B){return F=F>>>0,B||X(F,2,this.length),this[F]|this[F+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(F,B){return F=F>>>0,B||X(F,2,this.length),this[F]<<8|this[F+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(F,B){return F=F>>>0,B||X(F,4,this.length),(this[F]|this[F+1]<<8|this[F+2]<<16)+this[F+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(F,B){return F=F>>>0,B||X(F,4,this.length),this[F]*16777216+(this[F+1]<<16|this[F+2]<<8|this[F+3])},o.prototype.readBigUInt64LE=We(function(F){F=F>>>0,Be(F,"offset");const B=this[F],Q=this[F+7];(B===void 0||Q===void 0)&&Ge(F,this.length-8);const ie=B+this[++F]*2**8+this[++F]*2**16+this[++F]*2**24,pe=this[++F]+this[++F]*2**8+this[++F]*2**16+Q*2**24;return BigInt(ie)+(BigInt(pe)<<BigInt(32))}),o.prototype.readBigUInt64BE=We(function(F){F=F>>>0,Be(F,"offset");const B=this[F],Q=this[F+7];(B===void 0||Q===void 0)&&Ge(F,this.length-8);const ie=B*2**24+this[++F]*2**16+this[++F]*2**8+this[++F],pe=this[++F]*2**24+this[++F]*2**16+this[++F]*2**8+Q;return(BigInt(ie)<<BigInt(32))+BigInt(pe)}),o.prototype.readIntLE=function(F,B,Q){F=F>>>0,B=B>>>0,Q||X(F,B,this.length);let ie=this[F],pe=1,ve=0;for(;++ve<B&&(pe*=256);)ie+=this[F+ve]*pe;return pe*=128,ie>=pe&&(ie-=Math.pow(2,8*B)),ie},o.prototype.readIntBE=function(F,B,Q){F=F>>>0,B=B>>>0,Q||X(F,B,this.length);let ie=B,pe=1,ve=this[F+--ie];for(;ie>0&&(pe*=256);)ve+=this[F+--ie]*pe;return pe*=128,ve>=pe&&(ve-=Math.pow(2,8*B)),ve},o.prototype.readInt8=function(F,B){return F=F>>>0,B||X(F,1,this.length),this[F]&128?(255-this[F]+1)*-1:this[F]},o.prototype.readInt16LE=function(F,B){F=F>>>0,B||X(F,2,this.length);const Q=this[F]|this[F+1]<<8;return Q&32768?Q|4294901760:Q},o.prototype.readInt16BE=function(F,B){F=F>>>0,B||X(F,2,this.length);const Q=this[F+1]|this[F]<<8;return Q&32768?Q|4294901760:Q},o.prototype.readInt32LE=function(F,B){return F=F>>>0,B||X(F,4,this.length),this[F]|this[F+1]<<8|this[F+2]<<16|this[F+3]<<24},o.prototype.readInt32BE=function(F,B){return F=F>>>0,B||X(F,4,this.length),this[F]<<24|this[F+1]<<16|this[F+2]<<8|this[F+3]},o.prototype.readBigInt64LE=We(function(F){F=F>>>0,Be(F,"offset");const B=this[F],Q=this[F+7];(B===void 0||Q===void 0)&&Ge(F,this.length-8);const ie=this[F+4]+this[F+5]*2**8+this[F+6]*2**16+(Q<<24);return(BigInt(ie)<<BigInt(32))+BigInt(B+this[++F]*2**8+this[++F]*2**16+this[++F]*2**24)}),o.prototype.readBigInt64BE=We(function(F){F=F>>>0,Be(F,"offset");const B=this[F],Q=this[F+7];(B===void 0||Q===void 0)&&Ge(F,this.length-8);const ie=(B<<24)+this[++F]*2**16+this[++F]*2**8+this[++F];return(BigInt(ie)<<BigInt(32))+BigInt(this[++F]*2**24+this[++F]*2**16+this[++F]*2**8+Q)}),o.prototype.readFloatLE=function(F,B){return F=F>>>0,B||X(F,4,this.length),t.read(this,F,!0,23,4)},o.prototype.readFloatBE=function(F,B){return F=F>>>0,B||X(F,4,this.length),t.read(this,F,!1,23,4)},o.prototype.readDoubleLE=function(F,B){return F=F>>>0,B||X(F,8,this.length),t.read(this,F,!0,52,8)},o.prototype.readDoubleBE=function(F,B){return F=F>>>0,B||X(F,8,this.length),t.read(this,F,!1,52,8)};function ne($,F,B,Q,ie,pe){if(!o.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(F>ie||F<pe)throw new RangeError('"value" argument is out of bounds');if(B+Q>$.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(F,B,Q,ie){if(F=+F,B=B>>>0,Q=Q>>>0,!ie){const Ve=Math.pow(2,8*Q)-1;ne(this,F,B,Q,Ve,0)}let pe=1,ve=0;for(this[B]=F&255;++ve<Q&&(pe*=256);)this[B+ve]=F/pe&255;return B+Q},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(F,B,Q,ie){if(F=+F,B=B>>>0,Q=Q>>>0,!ie){const Ve=Math.pow(2,8*Q)-1;ne(this,F,B,Q,Ve,0)}let pe=Q-1,ve=1;for(this[B+pe]=F&255;--pe>=0&&(ve*=256);)this[B+pe]=F/ve&255;return B+Q},o.prototype.writeUint8=o.prototype.writeUInt8=function(F,B,Q){return F=+F,B=B>>>0,Q||ne(this,F,B,1,255,0),this[B]=F&255,B+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(F,B,Q){return F=+F,B=B>>>0,Q||ne(this,F,B,2,65535,0),this[B]=F&255,this[B+1]=F>>>8,B+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(F,B,Q){return F=+F,B=B>>>0,Q||ne(this,F,B,2,65535,0),this[B]=F>>>8,this[B+1]=F&255,B+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(F,B,Q){return F=+F,B=B>>>0,Q||ne(this,F,B,4,4294967295,0),this[B+3]=F>>>24,this[B+2]=F>>>16,this[B+1]=F>>>8,this[B]=F&255,B+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(F,B,Q){return F=+F,B=B>>>0,Q||ne(this,F,B,4,4294967295,0),this[B]=F>>>24,this[B+1]=F>>>16,this[B+2]=F>>>8,this[B+3]=F&255,B+4};function we($,F,B,Q,ie){Z(F,Q,ie,$,B,7);let pe=Number(F&BigInt(4294967295));$[B++]=pe,pe=pe>>8,$[B++]=pe,pe=pe>>8,$[B++]=pe,pe=pe>>8,$[B++]=pe;let ve=Number(F>>BigInt(32)&BigInt(4294967295));return $[B++]=ve,ve=ve>>8,$[B++]=ve,ve=ve>>8,$[B++]=ve,ve=ve>>8,$[B++]=ve,B}function me($,F,B,Q,ie){Z(F,Q,ie,$,B,7);let pe=Number(F&BigInt(4294967295));$[B+7]=pe,pe=pe>>8,$[B+6]=pe,pe=pe>>8,$[B+5]=pe,pe=pe>>8,$[B+4]=pe;let ve=Number(F>>BigInt(32)&BigInt(4294967295));return $[B+3]=ve,ve=ve>>8,$[B+2]=ve,ve=ve>>8,$[B+1]=ve,ve=ve>>8,$[B]=ve,B+8}o.prototype.writeBigUInt64LE=We(function(F,B=0){return we(this,F,B,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=We(function(F,B=0){return me(this,F,B,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(F,B,Q,ie){if(F=+F,B=B>>>0,!ie){const de=Math.pow(2,8*Q-1);ne(this,F,B,Q,de-1,-de)}let pe=0,ve=1,Ve=0;for(this[B]=F&255;++pe<Q&&(ve*=256);)F<0&&Ve===0&&this[B+pe-1]!==0&&(Ve=1),this[B+pe]=(F/ve>>0)-Ve&255;return B+Q},o.prototype.writeIntBE=function(F,B,Q,ie){if(F=+F,B=B>>>0,!ie){const de=Math.pow(2,8*Q-1);ne(this,F,B,Q,de-1,-de)}let pe=Q-1,ve=1,Ve=0;for(this[B+pe]=F&255;--pe>=0&&(ve*=256);)F<0&&Ve===0&&this[B+pe+1]!==0&&(Ve=1),this[B+pe]=(F/ve>>0)-Ve&255;return B+Q},o.prototype.writeInt8=function(F,B,Q){return F=+F,B=B>>>0,Q||ne(this,F,B,1,127,-128),F<0&&(F=255+F+1),this[B]=F&255,B+1},o.prototype.writeInt16LE=function(F,B,Q){return F=+F,B=B>>>0,Q||ne(this,F,B,2,32767,-32768),this[B]=F&255,this[B+1]=F>>>8,B+2},o.prototype.writeInt16BE=function(F,B,Q){return F=+F,B=B>>>0,Q||ne(this,F,B,2,32767,-32768),this[B]=F>>>8,this[B+1]=F&255,B+2},o.prototype.writeInt32LE=function(F,B,Q){return F=+F,B=B>>>0,Q||ne(this,F,B,4,2147483647,-2147483648),this[B]=F&255,this[B+1]=F>>>8,this[B+2]=F>>>16,this[B+3]=F>>>24,B+4},o.prototype.writeInt32BE=function(F,B,Q){return F=+F,B=B>>>0,Q||ne(this,F,B,4,2147483647,-2147483648),F<0&&(F=4294967295+F+1),this[B]=F>>>24,this[B+1]=F>>>16,this[B+2]=F>>>8,this[B+3]=F&255,B+4},o.prototype.writeBigInt64LE=We(function(F,B=0){return we(this,F,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=We(function(F,B=0){return me(this,F,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ye($,F,B,Q,ie,pe){if(B+Q>$.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("Index out of range")}function Pe($,F,B,Q,ie){return F=+F,B=B>>>0,ie||ye($,F,B,4),t.write($,F,B,Q,23,4),B+4}o.prototype.writeFloatLE=function(F,B,Q){return Pe(this,F,B,!0,Q)},o.prototype.writeFloatBE=function(F,B,Q){return Pe(this,F,B,!1,Q)};function Le($,F,B,Q,ie){return F=+F,B=B>>>0,ie||ye($,F,B,8),t.write($,F,B,Q,52,8),B+8}o.prototype.writeDoubleLE=function(F,B,Q){return Le(this,F,B,!0,Q)},o.prototype.writeDoubleBE=function(F,B,Q){return Le(this,F,B,!1,Q)},o.prototype.copy=function(F,B,Q,ie){if(!o.isBuffer(F))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!ie&&ie!==0&&(ie=this.length),B>=F.length&&(B=F.length),B||(B=0),ie>0&&ie<Q&&(ie=Q),ie===Q||F.length===0||this.length===0)return 0;if(B<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),F.length-B<ie-Q&&(ie=F.length-B+Q);const pe=ie-Q;return this===F&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(B,Q,ie):Uint8Array.prototype.set.call(F,this.subarray(Q,ie),B),pe},o.prototype.fill=function(F,B,Q,ie){if(typeof F=="string"){if(typeof B=="string"?(ie=B,B=0,Q=this.length):typeof Q=="string"&&(ie=Q,Q=this.length),ie!==void 0&&typeof ie!="string")throw new TypeError("encoding must be a string");if(typeof ie=="string"&&!o.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(F.length===1){const ve=F.charCodeAt(0);(ie==="utf8"&&ve<128||ie==="latin1")&&(F=ve)}}else typeof F=="number"?F=F&255:typeof F=="boolean"&&(F=Number(F));if(B<0||this.length<B||this.length<Q)throw new RangeError("Out of range index");if(Q<=B)return this;B=B>>>0,Q=Q===void 0?this.length:Q>>>0,F||(F=0);let pe;if(typeof F=="number")for(pe=B;pe<Q;++pe)this[pe]=F;else{const ve=o.isBuffer(F)?F:o.from(F,ie),Ve=ve.length;if(Ve===0)throw new TypeError('The value "'+F+'" is invalid for argument "value"');for(pe=0;pe<Q-B;++pe)this[pe+B]=ve[pe%Ve]}return this};const Je={};function ot($,F,B){Je[$]=class extends B{constructor(){super(),Object.defineProperty(this,"message",{value:F.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${$}]`,this.stack,delete this.name}get code(){return $}set code(ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ie,writable:!0})}toString(){return`${this.name} [${$}]: ${this.message}`}}}ot("ERR_BUFFER_OUT_OF_BOUNDS",function($){return $?`${$} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ot("ERR_INVALID_ARG_TYPE",function($,F){return`The "${$}" argument must be of type number. Received type ${typeof F}`},TypeError),ot("ERR_OUT_OF_RANGE",function($,F,B){let Q=`The value of "${$}" is out of range.`,ie=B;return Number.isInteger(B)&&Math.abs(B)>2**32?ie=ft(String(B)):typeof B=="bigint"&&(ie=String(B),(B>BigInt(2)**BigInt(32)||B<-(BigInt(2)**BigInt(32)))&&(ie=ft(ie)),ie+="n"),Q+=` It must be ${F}. Received ${ie}`,Q},RangeError);function ft($){let F="",B=$.length;const Q=$[0]==="-"?1:0;for(;B>=Q+4;B-=3)F=`_${$.slice(B-3,B)}${F}`;return`${$.slice(0,B)}${F}`}function wt($,F,B){Be(F,"offset"),($[F]===void 0||$[F+B]===void 0)&&Ge(F,$.length-(B+1))}function Z($,F,B,Q,ie,pe){if($>B||$<F){const ve=typeof F=="bigint"?"n":"";let Ve;throw F===0||F===BigInt(0)?Ve=`>= 0${ve} and < 2${ve} ** ${(pe+1)*8}${ve}`:Ve=`>= -(2${ve} ** ${(pe+1)*8-1}${ve}) and < 2 ** ${(pe+1)*8-1}${ve}`,new Je.ERR_OUT_OF_RANGE("value",Ve,$)}wt(Q,ie,pe)}function Be($,F){if(typeof $!="number")throw new Je.ERR_INVALID_ARG_TYPE(F,"number",$)}function Ge($,F,B){throw Math.floor($)!==$?(Be($,B),new Je.ERR_OUT_OF_RANGE("offset","an integer",$)):F<0?new Je.ERR_BUFFER_OUT_OF_BOUNDS:new Je.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${F}`,$)}const qe=/[^+/0-9A-Za-z-_]/g;function Ue($){if($=$.split("=")[0],$=$.trim().replace(qe,""),$.length<2)return"";for(;$.length%4!==0;)$=$+"=";return $}function xt($,F){F=F||1/0;let B;const Q=$.length;let ie=null;const pe=[];for(let ve=0;ve<Q;++ve){if(B=$.charCodeAt(ve),B>55295&&B<57344){if(!ie){if(B>56319){(F-=3)>-1&&pe.push(239,191,189);continue}else if(ve+1===Q){(F-=3)>-1&&pe.push(239,191,189);continue}ie=B;continue}if(B<56320){(F-=3)>-1&&pe.push(239,191,189),ie=B;continue}B=(ie-55296<<10|B-56320)+65536}else ie&&(F-=3)>-1&&pe.push(239,191,189);if(ie=null,B<128){if((F-=1)<0)break;pe.push(B)}else if(B<2048){if((F-=2)<0)break;pe.push(B>>6|192,B&63|128)}else if(B<65536){if((F-=3)<0)break;pe.push(B>>12|224,B>>6&63|128,B&63|128)}else if(B<1114112){if((F-=4)<0)break;pe.push(B>>18|240,B>>12&63|128,B>>6&63|128,B&63|128)}else throw new Error("Invalid code point")}return pe}function st($){const F=[];for(let B=0;B<$.length;++B)F.push($.charCodeAt(B)&255);return F}function yt($,F){let B,Q,ie;const pe=[];for(let ve=0;ve<$.length&&!((F-=2)<0);++ve)B=$.charCodeAt(ve),Q=B>>8,ie=B%256,pe.push(ie),pe.push(Q);return pe}function se($){return e.toByteArray(Ue($))}function K($,F,B,Q){let ie;for(ie=0;ie<Q&&!(ie+B>=F.length||ie>=$.length);++ie)F[ie+B]=$[ie];return ie}function Ce($,F){return $ instanceof F||$!=null&&$.constructor!=null&&$.constructor.name!=null&&$.constructor.name===F.name}function Xe($){return $!==$}const Ye=function(){const $="0123456789abcdef",F=new Array(256);for(let B=0;B<16;++B){const Q=B*16;for(let ie=0;ie<16;++ie)F[Q+ie]=$[B]+$[ie]}return F}();function We($){return typeof BigInt>"u"?Et:$}function Et(){throw new Error("BigInt not supported")}})(w3);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Mx="167",ad={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},sd={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},b3=0,KE=1,M3=2,dq=3,T3=0,Tx=1,Ym=2,Zs=3,$l=0,ya=1,Io=2,Hl=0,Cd=1,JE=2,ZE=3,ew=4,A3=5,qc=100,P3=101,R3=102,I3=103,O3=104,k3=200,F3=201,D3=202,L3=203,v_=204,__=205,N3=206,U3=207,B3=208,z3=209,V3=210,H3=211,j3=212,$3=213,W3=214,G3=0,q3=1,X3=2,bg=3,Y3=4,Q3=5,K3=6,J3=7,my=0,Z3=1,eD=2,Lo=0,tD=1,nD=2,rD=3,ub=4,iD=5,aD=6,sD=7,tw="attached",oD="detached",Ax=300,Wl=301,Qc=302,Mg=303,Tg=304,mp=306,Ag=1e3,bs=1001,Pg=1002,xi=1003,db=1004,fq=1004,Fh=1005,hq=1005,Qr=1006,Qm=1007,pq=1007,Oo=1008,mq=1008,io=1009,fb=1010,hb=1011,np=1012,Px=1013,Gl=1014,Ba=1015,gp=1016,Rx=1017,Ix=1018,kd=1020,pb=35902,mb=1021,gb=1022,Yi=1023,yb=1024,vb=1025,bd=1026,Fd=1027,Ox=1028,gy=1029,_b=1030,kx=1031,gq=1032,Fx=1033,Km=33776,Jm=33777,Zm=33778,eg=33779,x_=35840,S_=35841,E_=35842,w_=35843,C_=36196,b_=37492,M_=37496,T_=37808,A_=37809,P_=37810,R_=37811,I_=37812,O_=37813,k_=37814,F_=37815,D_=37816,L_=37817,N_=37818,U_=37819,B_=37820,z_=37821,tg=36492,V_=36494,H_=36495,xb=36283,j_=36284,$_=36285,W_=36286,lD=2200,cD=2201,uD=2202,Rg=2300,G_=2301,V0=2302,md=2400,gd=2401,Ig=2402,Dx=2500,Sb=2501,yq=0,vq=1,_q=2,dD=3200,fD=3201,xq=3202,Sq=3203,tu=0,hD=1,kl="",Ss="srgb",ec="srgb-linear",Lx="display-p3",yy="display-p3-linear",Og="linear",ur="srgb",kg="rec709",Fg="p3",Eq=0,od=7680,wq=7681,Cq=7682,bq=7683,Mq=34055,Tq=34056,Aq=5386,Pq=512,Rq=513,Iq=514,Oq=515,kq=516,Fq=517,Dq=518,nw=519,pD=512,mD=513,gD=514,Eb=515,yD=516,vD=517,_D=518,xD=519,Dg=35044,Lq=35048,Nq=35040,Uq=35045,Bq=35049,zq=35041,Vq=35046,Hq=35050,jq=35042,$q="100",rw="300 es",ko=2e3,Lg=2001;class $o{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}}const Wi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let tP=1234567;const Md=Math.PI/180,rp=180/Math.PI;function is(){const r=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Wi[r&255]+Wi[r>>8&255]+Wi[r>>16&255]+Wi[r>>24&255]+"-"+Wi[e&255]+Wi[e>>8&255]+"-"+Wi[e>>16&15|64]+Wi[e>>24&255]+"-"+Wi[t&63|128]+Wi[t>>8&255]+"-"+Wi[t>>16&255]+Wi[t>>24&255]+Wi[n&255]+Wi[n>>8&255]+Wi[n>>16&255]+Wi[n>>24&255]).toLowerCase()}function Fr(r,e,t){return Math.max(e,Math.min(t,r))}function wb(r,e){return(r%e+e)%e}function Wq(r,e,t,n,i){return n+(r-e)*(i-n)/(t-e)}function Gq(r,e,t){return r!==e?(t-r)/(e-r):0}function ng(r,e,t){return(1-t)*r+t*e}function qq(r,e,t,n){return ng(r,e,1-Math.exp(-t*n))}function Xq(r,e=1){return e-Math.abs(wb(r,e*2)-e)}function Yq(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*(3-2*r))}function Qq(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*r*(r*(r*6-15)+10))}function Kq(r,e){return r+Math.floor(Math.random()*(e-r+1))}function Jq(r,e){return r+Math.random()*(e-r)}function Zq(r){return r*(.5-Math.random())}function eX(r){r!==void 0&&(tP=r);let e=tP+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function tX(r){return r*Md}function nX(r){return r*rp}function rX(r){return(r&r-1)===0&&r!==0}function iX(r){return Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function aX(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))}function sX(r,e,t,n,i){const a=Math.cos,s=Math.sin,o=a(t/2),c=s(t/2),d=a((e+n)/2),f=s((e+n)/2),m=a((e-n)/2),g=s((e-n)/2),y=a((n-e)/2),x=s((n-e)/2);switch(i){case"XYX":r.set(o*f,c*m,c*g,o*d);break;case"YZY":r.set(c*g,o*f,c*m,o*d);break;case"ZXZ":r.set(c*m,c*g,o*f,o*d);break;case"XZX":r.set(o*f,c*x,c*y,o*d);break;case"YXY":r.set(c*y,o*f,c*x,o*d);break;case"ZYZ":r.set(c*x,c*y,o*f,o*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ga(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return r/4294967295;case Uint16Array:return r/65535;case Uint8Array:return r/255;case Int32Array:return Math.max(r/2147483647,-1);case Int16Array:return Math.max(r/32767,-1);case Int8Array:return Math.max(r/127,-1);default:throw new Error("Invalid component type.")}}function _n(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return Math.round(r*4294967295);case Uint16Array:return Math.round(r*65535);case Uint8Array:return Math.round(r*255);case Int32Array:return Math.round(r*2147483647);case Int16Array:return Math.round(r*32767);case Int8Array:return Math.round(r*127);default:throw new Error("Invalid component type.")}}const oX={DEG2RAD:Md,RAD2DEG:rp,generateUUID:is,clamp:Fr,euclideanModulo:wb,mapLinear:Wq,inverseLerp:Gq,lerp:ng,damp:qq,pingpong:Xq,smoothstep:Yq,smootherstep:Qq,randInt:Kq,randFloat:Jq,randFloatSpread:Zq,seededRandom:eX,degToRad:tX,radToDeg:nX,isPowerOfTwo:rX,ceilPowerOfTwo:iX,floorPowerOfTwo:aX,setQuaternionFromProperEuler:sX,normalize:_n,denormalize:ga};class Qe{constructor(e=0,t=0){Qe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Fr(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*n-s*i+e.x,this.y=a*i+s*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class vn{constructor(e,t,n,i,a,s,o,c,d){vn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,i,a,s,o,c,d)}set(e,t,n,i,a,s,o,c,d){const f=this.elements;return f[0]=e,f[1]=i,f[2]=o,f[3]=t,f[4]=a,f[5]=c,f[6]=n,f[7]=s,f[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,a=this.elements,s=n[0],o=n[3],c=n[6],d=n[1],f=n[4],m=n[7],g=n[2],y=n[5],x=n[8],S=i[0],_=i[3],E=i[6],w=i[1],C=i[4],T=i[7],O=i[2],R=i[5],P=i[8];return a[0]=s*S+o*w+c*O,a[3]=s*_+o*C+c*R,a[6]=s*E+o*T+c*P,a[1]=d*S+f*w+m*O,a[4]=d*_+f*C+m*R,a[7]=d*E+f*T+m*P,a[2]=g*S+y*w+x*O,a[5]=g*_+y*C+x*R,a[8]=g*E+y*T+x*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],c=e[6],d=e[7],f=e[8];return t*s*f-t*o*d-n*a*f+n*o*c+i*a*d-i*s*c}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],c=e[6],d=e[7],f=e[8],m=f*s-o*d,g=o*c-f*a,y=d*a-s*c,x=t*m+n*g+i*y;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/x;return e[0]=m*S,e[1]=(i*d-f*n)*S,e[2]=(o*n-i*s)*S,e[3]=g*S,e[4]=(f*t-i*c)*S,e[5]=(i*a-o*t)*S,e[6]=y*S,e[7]=(n*c-d*t)*S,e[8]=(s*t-n*a)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,a,s,o){const c=Math.cos(a),d=Math.sin(a);return this.set(n*c,n*d,-n*(c*s+d*o)+s+e,-i*d,i*c,-i*(-d*s+c*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(p1.makeScale(e,t)),this}rotate(e){return this.premultiply(p1.makeRotation(-e)),this}translate(e,t){return this.premultiply(p1.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const p1=new vn;function SD(r){for(let e=r.length-1;e>=0;--e)if(r[e]>=65535)return!0;return!1}const lX={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Dh(r,e){return new lX[r](e)}function Ng(r){return document.createElementNS("http://www.w3.org/1999/xhtml",r)}function ED(){const r=Ng("canvas");return r.style.display="block",r}const nP={};function $h(r){r in nP||(nP[r]=!0,console.warn(r))}function cX(r,e,t){return new Promise(function(n,i){function a(){switch(r.clientWaitSync(e,r.SYNC_FLUSH_COMMANDS_BIT,0)){case r.WAIT_FAILED:i();break;case r.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:n()}}setTimeout(a,t)})}const rP=new vn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),iP=new vn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),wm={[ec]:{transfer:Og,primaries:kg,luminanceCoefficients:[.2126,.7152,.0722],toReference:r=>r,fromReference:r=>r},[Ss]:{transfer:ur,primaries:kg,luminanceCoefficients:[.2126,.7152,.0722],toReference:r=>r.convertSRGBToLinear(),fromReference:r=>r.convertLinearToSRGB()},[yy]:{transfer:Og,primaries:Fg,luminanceCoefficients:[.2289,.6917,.0793],toReference:r=>r.applyMatrix3(iP),fromReference:r=>r.applyMatrix3(rP)},[Lx]:{transfer:ur,primaries:Fg,luminanceCoefficients:[.2289,.6917,.0793],toReference:r=>r.convertSRGBToLinear().applyMatrix3(iP),fromReference:r=>r.applyMatrix3(rP).convertLinearToSRGB()}},uX=new Set([ec,yy]),jn={enabled:!0,_workingColorSpace:ec,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(r){if(!uX.has(r))throw new Error(`Unsupported working color space, "${r}".`);this._workingColorSpace=r},convert:function(r,e,t){if(this.enabled===!1||e===t||!e||!t)return r;const n=wm[e].toReference,i=wm[t].fromReference;return i(n(r))},fromWorkingColorSpace:function(r,e){return this.convert(r,this._workingColorSpace,e)},toWorkingColorSpace:function(r,e){return this.convert(r,e,this._workingColorSpace)},getPrimaries:function(r){return wm[r].primaries},getTransfer:function(r){return r===kl?Og:wm[r].transfer},getLuminanceCoefficients:function(r,e=this._workingColorSpace){return r.fromArray(wm[e].luminanceCoefficients)}};function Wh(r){return r<.04045?r*.0773993808:Math.pow(r*.9478672986+.0521327014,2.4)}function m1(r){return r<.0031308?r*12.92:1.055*Math.pow(r,.41666)-.055}let rh;class wD{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{rh===void 0&&(rh=Ng("canvas")),rh.width=e.width,rh.height=e.height;const n=rh.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=rh}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Ng("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),a=i.data;for(let s=0;s<a.length;s++)a[s]=Wh(a[s]/255)*255;return n.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Wh(t[n]/255)*255):t[n]=Wh(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let dX=0;class yd{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:dX++}),this.uuid=is(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let s=0,o=i.length;s<o;s++)i[s].isDataTexture?a.push(g1(i[s].image)):a.push(g1(i[s]))}else a=g1(i);n.url=a}return t||(e.images[this.uuid]=n),n}}function g1(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap?wD.getDataURL(r):r.data?{data:Array.from(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let fX=0;class Ar extends $o{constructor(e=Ar.DEFAULT_IMAGE,t=Ar.DEFAULT_MAPPING,n=bs,i=bs,a=Qr,s=Oo,o=Yi,c=io,d=Ar.DEFAULT_ANISOTROPY,f=kl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:fX++}),this.uuid=is(),this.name="",this.source=new yd(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=a,this.minFilter=s,this.anisotropy=d,this.format=o,this.internalFormat=null,this.type=c,this.offset=new Qe(0,0),this.repeat=new Qe(1,1),this.center=new Qe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new vn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Ax)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ag:e.x=e.x-Math.floor(e.x);break;case bs:e.x=e.x<0?0:1;break;case Pg:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ag:e.y=e.y-Math.floor(e.y);break;case bs:e.y=e.y<0?0:1;break;case Pg:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ar.DEFAULT_IMAGE=null;Ar.DEFAULT_MAPPING=Ax;Ar.DEFAULT_ANISOTROPY=1;class Kn{constructor(e=0,t=0,n=0,i=1){Kn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i+s[12]*a,this.y=s[1]*t+s[5]*n+s[9]*i+s[13]*a,this.z=s[2]*t+s[6]*n+s[10]*i+s[14]*a,this.w=s[3]*t+s[7]*n+s[11]*i+s[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,a;const c=e.elements,d=c[0],f=c[4],m=c[8],g=c[1],y=c[5],x=c[9],S=c[2],_=c[6],E=c[10];if(Math.abs(f-g)<.01&&Math.abs(m-S)<.01&&Math.abs(x-_)<.01){if(Math.abs(f+g)<.1&&Math.abs(m+S)<.1&&Math.abs(x+_)<.1&&Math.abs(d+y+E-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const C=(d+1)/2,T=(y+1)/2,O=(E+1)/2,R=(f+g)/4,P=(m+S)/4,N=(x+_)/4;return C>T&&C>O?C<.01?(n=0,i=.707106781,a=.707106781):(n=Math.sqrt(C),i=R/n,a=P/n):T>O?T<.01?(n=.707106781,i=0,a=.707106781):(i=Math.sqrt(T),n=R/i,a=N/i):O<.01?(n=.707106781,i=.707106781,a=0):(a=Math.sqrt(O),n=P/a,i=N/a),this.set(n,i,a,t),this}let w=Math.sqrt((_-x)*(_-x)+(m-S)*(m-S)+(g-f)*(g-f));return Math.abs(w)<.001&&(w=1),this.x=(_-x)/w,this.y=(m-S)/w,this.z=(g-f)/w,this.w=Math.acos((d+y+E-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class CD extends $o{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Kn(0,0,e,t),this.scissorTest=!1,this.viewport=new Kn(0,0,e,t);const i={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Qr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const a=new Ar(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);a.flipY=!1,a.generateMipmaps=n.generateMipmaps,a.internalFormat=n.internalFormat,this.textures=[];const s=n.count;for(let o=0;o<s;o++)this.textures[o]=a.clone(),this.textures[o].isRenderTargetTexture=!0;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,i=e.textures.length;n<i;n++)this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new yd(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ao extends CD{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class Nx extends Ar{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=xi,this.minFilter=xi,this.wrapR=bs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class hX extends ao{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new Nx(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Cb extends Ar{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=xi,this.minFilter=xi,this.wrapR=bs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class pX extends ao{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new Cb(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Ki{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,a,s,o){let c=n[i+0],d=n[i+1],f=n[i+2],m=n[i+3];const g=a[s+0],y=a[s+1],x=a[s+2],S=a[s+3];if(o===0){e[t+0]=c,e[t+1]=d,e[t+2]=f,e[t+3]=m;return}if(o===1){e[t+0]=g,e[t+1]=y,e[t+2]=x,e[t+3]=S;return}if(m!==S||c!==g||d!==y||f!==x){let _=1-o;const E=c*g+d*y+f*x+m*S,w=E>=0?1:-1,C=1-E*E;if(C>Number.EPSILON){const O=Math.sqrt(C),R=Math.atan2(O,E*w);_=Math.sin(_*R)/O,o=Math.sin(o*R)/O}const T=o*w;if(c=c*_+g*T,d=d*_+y*T,f=f*_+x*T,m=m*_+S*T,_===1-o){const O=1/Math.sqrt(c*c+d*d+f*f+m*m);c*=O,d*=O,f*=O,m*=O}}e[t]=c,e[t+1]=d,e[t+2]=f,e[t+3]=m}static multiplyQuaternionsFlat(e,t,n,i,a,s){const o=n[i],c=n[i+1],d=n[i+2],f=n[i+3],m=a[s],g=a[s+1],y=a[s+2],x=a[s+3];return e[t]=o*x+f*m+c*y-d*g,e[t+1]=c*x+f*g+d*m-o*y,e[t+2]=d*x+f*y+o*g-c*m,e[t+3]=f*x-o*m-c*g-d*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,i=e._y,a=e._z,s=e._order,o=Math.cos,c=Math.sin,d=o(n/2),f=o(i/2),m=o(a/2),g=c(n/2),y=c(i/2),x=c(a/2);switch(s){case"XYZ":this._x=g*f*m+d*y*x,this._y=d*y*m-g*f*x,this._z=d*f*x+g*y*m,this._w=d*f*m-g*y*x;break;case"YXZ":this._x=g*f*m+d*y*x,this._y=d*y*m-g*f*x,this._z=d*f*x-g*y*m,this._w=d*f*m+g*y*x;break;case"ZXY":this._x=g*f*m-d*y*x,this._y=d*y*m+g*f*x,this._z=d*f*x+g*y*m,this._w=d*f*m-g*y*x;break;case"ZYX":this._x=g*f*m-d*y*x,this._y=d*y*m+g*f*x,this._z=d*f*x-g*y*m,this._w=d*f*m+g*y*x;break;case"YZX":this._x=g*f*m+d*y*x,this._y=d*y*m+g*f*x,this._z=d*f*x-g*y*m,this._w=d*f*m-g*y*x;break;case"XZY":this._x=g*f*m-d*y*x,this._y=d*y*m-g*f*x,this._z=d*f*x+g*y*m,this._w=d*f*m+g*y*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],a=t[8],s=t[1],o=t[5],c=t[9],d=t[2],f=t[6],m=t[10],g=n+o+m;if(g>0){const y=.5/Math.sqrt(g+1);this._w=.25/y,this._x=(f-c)*y,this._y=(a-d)*y,this._z=(s-i)*y}else if(n>o&&n>m){const y=2*Math.sqrt(1+n-o-m);this._w=(f-c)/y,this._x=.25*y,this._y=(i+s)/y,this._z=(a+d)/y}else if(o>m){const y=2*Math.sqrt(1+o-n-m);this._w=(a-d)/y,this._x=(i+s)/y,this._y=.25*y,this._z=(c+f)/y}else{const y=2*Math.sqrt(1+m-n-o);this._w=(s-i)/y,this._x=(a+d)/y,this._y=(c+f)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Fr(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,a=e._z,s=e._w,o=t._x,c=t._y,d=t._z,f=t._w;return this._x=n*f+s*o+i*d-a*c,this._y=i*f+s*c+a*o-n*d,this._z=a*f+s*d+n*c-i*o,this._w=s*f-n*o-i*c-a*d,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,i=this._y,a=this._z,s=this._w;let o=s*e._w+n*e._x+i*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=n,this._y=i,this._z=a,this;const c=1-o*o;if(c<=Number.EPSILON){const y=1-t;return this._w=y*s+t*this._w,this._x=y*n+t*this._x,this._y=y*i+t*this._y,this._z=y*a+t*this._z,this.normalize(),this}const d=Math.sqrt(c),f=Math.atan2(d,o),m=Math.sin((1-t)*f)/d,g=Math.sin(t*f)/d;return this._w=s*m+this._w*g,this._x=n*m+this._x*g,this._y=i*m+this._y*g,this._z=a*m+this._z*g,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),a=Math.sqrt(n);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ae{constructor(e=0,t=0,n=0){ae.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(aP.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(aP.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6]*i,this.y=a[1]*t+a[4]*n+a[7]*i,this.z=a[2]*t+a[5]*n+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,a=e.elements,s=1/(a[3]*t+a[7]*n+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*n+a[8]*i+a[12])*s,this.y=(a[1]*t+a[5]*n+a[9]*i+a[13])*s,this.z=(a[2]*t+a[6]*n+a[10]*i+a[14])*s,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,a=e.x,s=e.y,o=e.z,c=e.w,d=2*(s*i-o*n),f=2*(o*t-a*i),m=2*(a*n-s*t);return this.x=t+c*d+s*m-o*f,this.y=n+c*f+o*d-a*m,this.z=i+c*m+a*f-s*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*i,this.y=a[1]*t+a[5]*n+a[9]*i,this.z=a[2]*t+a[6]*n+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,a=e.z,s=t.x,o=t.y,c=t.z;return this.x=i*c-a*o,this.y=a*s-n*c,this.z=n*o-i*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return y1.copy(this).projectOnVector(e),this.sub(y1)}reflect(e){return this.sub(y1.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Fr(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const y1=new ae,aP=new Ki;class va{constructor(e=new ae(1/0,1/0,1/0),t=new ae(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Qs.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Qs.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Qs.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const a=n.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=a.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,Qs):Qs.fromBufferAttribute(a,s),Qs.applyMatrix4(e.matrixWorld),this.expandByPoint(Qs);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),kv.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),kv.copy(n.boundingBox)),kv.applyMatrix4(e.matrixWorld),this.union(kv)}const i=e.children;for(let a=0,s=i.length;a<s;a++)this.expandByObject(i[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Qs),Qs.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Cm),Fv.subVectors(this.max,Cm),ih.subVectors(e.a,Cm),ah.subVectors(e.b,Cm),sh.subVectors(e.c,Cm),Dc.subVectors(ah,ih),Lc.subVectors(sh,ah),Wu.subVectors(ih,sh);let t=[0,-Dc.z,Dc.y,0,-Lc.z,Lc.y,0,-Wu.z,Wu.y,Dc.z,0,-Dc.x,Lc.z,0,-Lc.x,Wu.z,0,-Wu.x,-Dc.y,Dc.x,0,-Lc.y,Lc.x,0,-Wu.y,Wu.x,0];return!v1(t,ih,ah,sh,Fv)||(t=[1,0,0,0,1,0,0,0,1],!v1(t,ih,ah,sh,Fv))?!1:(Dv.crossVectors(Dc,Lc),t=[Dv.x,Dv.y,Dv.z],v1(t,ih,ah,sh,Fv))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Qs).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Qs).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(bl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),bl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),bl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),bl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),bl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),bl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),bl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),bl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(bl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const bl=[new ae,new ae,new ae,new ae,new ae,new ae,new ae,new ae],Qs=new ae,kv=new va,ih=new ae,ah=new ae,sh=new ae,Dc=new ae,Lc=new ae,Wu=new ae,Cm=new ae,Fv=new ae,Dv=new ae,Gu=new ae;function v1(r,e,t,n,i){for(let a=0,s=r.length-3;a<=s;a+=3){Gu.fromArray(r,a);const o=i.x*Math.abs(Gu.x)+i.y*Math.abs(Gu.y)+i.z*Math.abs(Gu.z),c=e.dot(Gu),d=t.dot(Gu),f=n.dot(Gu);if(Math.max(-Math.max(c,d,f),Math.min(c,d,f))>o)return!1}return!0}const mX=new va,bm=new ae,_1=new ae;class Ji{constructor(e=new ae,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):mX.setFromPoints(e).getCenter(n);let i=0;for(let a=0,s=e.length;a<s;a++)i=Math.max(i,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;bm.subVectors(e,this.center);const t=bm.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),i=(n-this.radius)*.5;this.center.addScaledVector(bm,i/n),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(_1.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(bm.copy(e.center).add(_1)),this.expandByPoint(bm.copy(e.center).sub(_1))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ml=new ae,x1=new ae,Lv=new ae,Nc=new ae,S1=new ae,Nv=new ae,E1=new ae;class $d{constructor(e=new ae,t=new ae(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ml)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ml.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ml.copy(this.origin).addScaledVector(this.direction,t),Ml.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){x1.copy(e).add(t).multiplyScalar(.5),Lv.copy(t).sub(e).normalize(),Nc.copy(this.origin).sub(x1);const a=e.distanceTo(t)*.5,s=-this.direction.dot(Lv),o=Nc.dot(this.direction),c=-Nc.dot(Lv),d=Nc.lengthSq(),f=Math.abs(1-s*s);let m,g,y,x;if(f>0)if(m=s*c-o,g=s*o-c,x=a*f,m>=0)if(g>=-x)if(g<=x){const S=1/f;m*=S,g*=S,y=m*(m+s*g+2*o)+g*(s*m+g+2*c)+d}else g=a,m=Math.max(0,-(s*g+o)),y=-m*m+g*(g+2*c)+d;else g=-a,m=Math.max(0,-(s*g+o)),y=-m*m+g*(g+2*c)+d;else g<=-x?(m=Math.max(0,-(-s*a+o)),g=m>0?-a:Math.min(Math.max(-a,-c),a),y=-m*m+g*(g+2*c)+d):g<=x?(m=0,g=Math.min(Math.max(-a,-c),a),y=g*(g+2*c)+d):(m=Math.max(0,-(s*a+o)),g=m>0?a:Math.min(Math.max(-a,-c),a),y=-m*m+g*(g+2*c)+d);else g=s>0?-a:a,m=Math.max(0,-(s*g+o)),y=-m*m+g*(g+2*c)+d;return n&&n.copy(this.origin).addScaledVector(this.direction,m),i&&i.copy(x1).addScaledVector(Lv,g),y}intersectSphere(e,t){Ml.subVectors(e.center,this.origin);const n=Ml.dot(this.direction),i=Ml.dot(Ml)-n*n,a=e.radius*e.radius;if(i>a)return null;const s=Math.sqrt(a-i),o=n-s,c=n+s;return c<0?null:o<0?this.at(c,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,a,s,o,c;const d=1/this.direction.x,f=1/this.direction.y,m=1/this.direction.z,g=this.origin;return d>=0?(n=(e.min.x-g.x)*d,i=(e.max.x-g.x)*d):(n=(e.max.x-g.x)*d,i=(e.min.x-g.x)*d),f>=0?(a=(e.min.y-g.y)*f,s=(e.max.y-g.y)*f):(a=(e.max.y-g.y)*f,s=(e.min.y-g.y)*f),n>s||a>i||((a>n||isNaN(n))&&(n=a),(s<i||isNaN(i))&&(i=s),m>=0?(o=(e.min.z-g.z)*m,c=(e.max.z-g.z)*m):(o=(e.max.z-g.z)*m,c=(e.min.z-g.z)*m),n>c||o>i)||((o>n||n!==n)&&(n=o),(c<i||i!==i)&&(i=c),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return this.intersectBox(e,Ml)!==null}intersectTriangle(e,t,n,i,a){S1.subVectors(t,e),Nv.subVectors(n,e),E1.crossVectors(S1,Nv);let s=this.direction.dot(E1),o;if(s>0){if(i)return null;o=1}else if(s<0)o=-1,s=-s;else return null;Nc.subVectors(this.origin,e);const c=o*this.direction.dot(Nv.crossVectors(Nc,Nv));if(c<0)return null;const d=o*this.direction.dot(S1.cross(Nc));if(d<0||c+d>s)return null;const f=-o*Nc.dot(E1);return f<0?null:this.at(f/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class an{constructor(e,t,n,i,a,s,o,c,d,f,m,g,y,x,S,_){an.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,i,a,s,o,c,d,f,m,g,y,x,S,_)}set(e,t,n,i,a,s,o,c,d,f,m,g,y,x,S,_){const E=this.elements;return E[0]=e,E[4]=t,E[8]=n,E[12]=i,E[1]=a,E[5]=s,E[9]=o,E[13]=c,E[2]=d,E[6]=f,E[10]=m,E[14]=g,E[3]=y,E[7]=x,E[11]=S,E[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new an().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/oh.setFromMatrixColumn(e,0).length(),a=1/oh.setFromMatrixColumn(e,1).length(),s=1/oh.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=0,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,a=e.z,s=Math.cos(n),o=Math.sin(n),c=Math.cos(i),d=Math.sin(i),f=Math.cos(a),m=Math.sin(a);if(e.order==="XYZ"){const g=s*f,y=s*m,x=o*f,S=o*m;t[0]=c*f,t[4]=-c*m,t[8]=d,t[1]=y+x*d,t[5]=g-S*d,t[9]=-o*c,t[2]=S-g*d,t[6]=x+y*d,t[10]=s*c}else if(e.order==="YXZ"){const g=c*f,y=c*m,x=d*f,S=d*m;t[0]=g+S*o,t[4]=x*o-y,t[8]=s*d,t[1]=s*m,t[5]=s*f,t[9]=-o,t[2]=y*o-x,t[6]=S+g*o,t[10]=s*c}else if(e.order==="ZXY"){const g=c*f,y=c*m,x=d*f,S=d*m;t[0]=g-S*o,t[4]=-s*m,t[8]=x+y*o,t[1]=y+x*o,t[5]=s*f,t[9]=S-g*o,t[2]=-s*d,t[6]=o,t[10]=s*c}else if(e.order==="ZYX"){const g=s*f,y=s*m,x=o*f,S=o*m;t[0]=c*f,t[4]=x*d-y,t[8]=g*d+S,t[1]=c*m,t[5]=S*d+g,t[9]=y*d-x,t[2]=-d,t[6]=o*c,t[10]=s*c}else if(e.order==="YZX"){const g=s*c,y=s*d,x=o*c,S=o*d;t[0]=c*f,t[4]=S-g*m,t[8]=x*m+y,t[1]=m,t[5]=s*f,t[9]=-o*f,t[2]=-d*f,t[6]=y*m+x,t[10]=g-S*m}else if(e.order==="XZY"){const g=s*c,y=s*d,x=o*c,S=o*d;t[0]=c*f,t[4]=-m,t[8]=d*f,t[1]=g*m+S,t[5]=s*f,t[9]=y*m-x,t[2]=x*m-y,t[6]=o*f,t[10]=S*m+g}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(gX,e,yX)}lookAt(e,t,n){const i=this.elements;return Za.subVectors(e,t),Za.lengthSq()===0&&(Za.z=1),Za.normalize(),Uc.crossVectors(n,Za),Uc.lengthSq()===0&&(Math.abs(n.z)===1?Za.x+=1e-4:Za.z+=1e-4,Za.normalize(),Uc.crossVectors(n,Za)),Uc.normalize(),Uv.crossVectors(Za,Uc),i[0]=Uc.x,i[4]=Uv.x,i[8]=Za.x,i[1]=Uc.y,i[5]=Uv.y,i[9]=Za.y,i[2]=Uc.z,i[6]=Uv.z,i[10]=Za.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,a=this.elements,s=n[0],o=n[4],c=n[8],d=n[12],f=n[1],m=n[5],g=n[9],y=n[13],x=n[2],S=n[6],_=n[10],E=n[14],w=n[3],C=n[7],T=n[11],O=n[15],R=i[0],P=i[4],N=i[8],D=i[12],I=i[1],V=i[5],q=i[9],W=i[13],ee=i[2],te=i[6],re=i[10],ue=i[14],G=i[3],le=i[7],oe=i[11],X=i[15];return a[0]=s*R+o*I+c*ee+d*G,a[4]=s*P+o*V+c*te+d*le,a[8]=s*N+o*q+c*re+d*oe,a[12]=s*D+o*W+c*ue+d*X,a[1]=f*R+m*I+g*ee+y*G,a[5]=f*P+m*V+g*te+y*le,a[9]=f*N+m*q+g*re+y*oe,a[13]=f*D+m*W+g*ue+y*X,a[2]=x*R+S*I+_*ee+E*G,a[6]=x*P+S*V+_*te+E*le,a[10]=x*N+S*q+_*re+E*oe,a[14]=x*D+S*W+_*ue+E*X,a[3]=w*R+C*I+T*ee+O*G,a[7]=w*P+C*V+T*te+O*le,a[11]=w*N+C*q+T*re+O*oe,a[15]=w*D+C*W+T*ue+O*X,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],a=e[12],s=e[1],o=e[5],c=e[9],d=e[13],f=e[2],m=e[6],g=e[10],y=e[14],x=e[3],S=e[7],_=e[11],E=e[15];return x*(+a*c*m-i*d*m-a*o*g+n*d*g+i*o*y-n*c*y)+S*(+t*c*y-t*d*g+a*s*g-i*s*y+i*d*f-a*c*f)+_*(+t*d*m-t*o*y-a*s*m+n*s*y+a*o*f-n*d*f)+E*(-i*o*f-t*c*m+t*o*g+i*s*m-n*s*g+n*c*f)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],c=e[6],d=e[7],f=e[8],m=e[9],g=e[10],y=e[11],x=e[12],S=e[13],_=e[14],E=e[15],w=m*_*d-S*g*d+S*c*y-o*_*y-m*c*E+o*g*E,C=x*g*d-f*_*d-x*c*y+s*_*y+f*c*E-s*g*E,T=f*S*d-x*m*d+x*o*y-s*S*y-f*o*E+s*m*E,O=x*m*c-f*S*c-x*o*g+s*S*g+f*o*_-s*m*_,R=t*w+n*C+i*T+a*O;if(R===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/R;return e[0]=w*P,e[1]=(S*g*a-m*_*a-S*i*y+n*_*y+m*i*E-n*g*E)*P,e[2]=(o*_*a-S*c*a+S*i*d-n*_*d-o*i*E+n*c*E)*P,e[3]=(m*c*a-o*g*a-m*i*d+n*g*d+o*i*y-n*c*y)*P,e[4]=C*P,e[5]=(f*_*a-x*g*a+x*i*y-t*_*y-f*i*E+t*g*E)*P,e[6]=(x*c*a-s*_*a-x*i*d+t*_*d+s*i*E-t*c*E)*P,e[7]=(s*g*a-f*c*a+f*i*d-t*g*d-s*i*y+t*c*y)*P,e[8]=T*P,e[9]=(x*m*a-f*S*a-x*n*y+t*S*y+f*n*E-t*m*E)*P,e[10]=(s*S*a-x*o*a+x*n*d-t*S*d-s*n*E+t*o*E)*P,e[11]=(f*o*a-s*m*a-f*n*d+t*m*d+s*n*y-t*o*y)*P,e[12]=O*P,e[13]=(f*S*i-x*m*i+x*n*g-t*S*g-f*n*_+t*m*_)*P,e[14]=(x*o*i-s*S*i-x*n*c+t*S*c+s*n*_-t*o*_)*P,e[15]=(s*m*i-f*o*i+f*n*c-t*m*c-s*n*g+t*o*g)*P,this}scale(e){const t=this.elements,n=e.x,i=e.y,a=e.z;return t[0]*=n,t[4]*=i,t[8]*=a,t[1]*=n,t[5]*=i,t[9]*=a,t[2]*=n,t[6]*=i,t[10]*=a,t[3]*=n,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),a=1-n,s=e.x,o=e.y,c=e.z,d=a*s,f=a*o;return this.set(d*s+n,d*o-i*c,d*c+i*o,0,d*o+i*c,f*o+n,f*c-i*s,0,d*c-i*o,f*c+i*s,a*c*c+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,a,s){return this.set(1,n,a,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,a=t._x,s=t._y,o=t._z,c=t._w,d=a+a,f=s+s,m=o+o,g=a*d,y=a*f,x=a*m,S=s*f,_=s*m,E=o*m,w=c*d,C=c*f,T=c*m,O=n.x,R=n.y,P=n.z;return i[0]=(1-(S+E))*O,i[1]=(y+T)*O,i[2]=(x-C)*O,i[3]=0,i[4]=(y-T)*R,i[5]=(1-(g+E))*R,i[6]=(_+w)*R,i[7]=0,i[8]=(x+C)*P,i[9]=(_-w)*P,i[10]=(1-(g+S))*P,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let a=oh.set(i[0],i[1],i[2]).length();const s=oh.set(i[4],i[5],i[6]).length(),o=oh.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],Ks.copy(this);const d=1/a,f=1/s,m=1/o;return Ks.elements[0]*=d,Ks.elements[1]*=d,Ks.elements[2]*=d,Ks.elements[4]*=f,Ks.elements[5]*=f,Ks.elements[6]*=f,Ks.elements[8]*=m,Ks.elements[9]*=m,Ks.elements[10]*=m,t.setFromRotationMatrix(Ks),n.x=a,n.y=s,n.z=o,this}makePerspective(e,t,n,i,a,s,o=ko){const c=this.elements,d=2*a/(t-e),f=2*a/(n-i),m=(t+e)/(t-e),g=(n+i)/(n-i);let y,x;if(o===ko)y=-(s+a)/(s-a),x=-2*s*a/(s-a);else if(o===Lg)y=-s/(s-a),x=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return c[0]=d,c[4]=0,c[8]=m,c[12]=0,c[1]=0,c[5]=f,c[9]=g,c[13]=0,c[2]=0,c[6]=0,c[10]=y,c[14]=x,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,n,i,a,s,o=ko){const c=this.elements,d=1/(t-e),f=1/(n-i),m=1/(s-a),g=(t+e)*d,y=(n+i)*f;let x,S;if(o===ko)x=(s+a)*m,S=-2*m;else if(o===Lg)x=a*m,S=-1*m;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return c[0]=2*d,c[4]=0,c[8]=0,c[12]=-g,c[1]=0,c[5]=2*f,c[9]=0,c[13]=-y,c[2]=0,c[6]=0,c[10]=S,c[14]=-x,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const oh=new ae,Ks=new an,gX=new ae(0,0,0),yX=new ae(1,1,1),Uc=new ae,Uv=new ae,Za=new ae,sP=new an,oP=new Ki;class as{constructor(e=0,t=0,n=0,i=as.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const i=e.elements,a=i[0],s=i[4],o=i[8],c=i[1],d=i[5],f=i[9],m=i[2],g=i[6],y=i[10];switch(t){case"XYZ":this._y=Math.asin(Fr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-f,y),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(g,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Fr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(o,y),this._z=Math.atan2(c,d)):(this._y=Math.atan2(-m,a),this._z=0);break;case"ZXY":this._x=Math.asin(Fr(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-m,y),this._z=Math.atan2(-s,d)):(this._y=0,this._z=Math.atan2(c,a));break;case"ZYX":this._y=Math.asin(-Fr(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(g,y),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-s,d));break;case"YZX":this._z=Math.asin(Fr(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-f,d),this._y=Math.atan2(-m,a)):(this._x=0,this._y=Math.atan2(o,y));break;case"XZY":this._z=Math.asin(-Fr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(g,d),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-f,y),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return sP.makeRotationFromQuaternion(e),this.setFromRotationMatrix(sP,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return oP.setFromEuler(this),this.setFromQuaternion(oP,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}as.DEFAULT_ORDER="XYZ";class Td{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let vX=0;const lP=new ae,lh=new Ki,Tl=new an,Bv=new ae,Mm=new ae,_X=new ae,xX=new Ki,cP=new ae(1,0,0),uP=new ae(0,1,0),dP=new ae(0,0,1),fP={type:"added"},SX={type:"removed"},ch={type:"childadded",child:null},w1={type:"childremoved",child:null};class zn extends $o{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:vX++}),this.uuid=is(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=zn.DEFAULT_UP.clone();const e=new ae,t=new as,n=new Ki,i=new ae(1,1,1);function a(){n.setFromEuler(t,!1)}function s(){t.setFromQuaternion(n,void 0,!1)}t._onChange(a),n._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new an},normalMatrix:{value:new vn}}),this.matrix=new an,this.matrixWorld=new an,this.matrixAutoUpdate=zn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=zn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Td,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return lh.setFromAxisAngle(e,t),this.quaternion.multiply(lh),this}rotateOnWorldAxis(e,t){return lh.setFromAxisAngle(e,t),this.quaternion.premultiply(lh),this}rotateX(e){return this.rotateOnAxis(cP,e)}rotateY(e){return this.rotateOnAxis(uP,e)}rotateZ(e){return this.rotateOnAxis(dP,e)}translateOnAxis(e,t){return lP.copy(e).applyQuaternion(this.quaternion),this.position.add(lP.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(cP,e)}translateY(e){return this.translateOnAxis(uP,e)}translateZ(e){return this.translateOnAxis(dP,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Tl.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Bv.copy(e):Bv.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),Mm.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Tl.lookAt(Mm,Bv,this.up):Tl.lookAt(Bv,Mm,this.up),this.quaternion.setFromRotationMatrix(Tl),i&&(Tl.extractRotation(i.matrixWorld),lh.setFromRotationMatrix(Tl),this.quaternion.premultiply(lh.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(fP),ch.child=e,this.dispatchEvent(ch),ch.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(SX),w1.child=e,this.dispatchEvent(w1),w1.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Tl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Tl.multiply(e.parent.matrixWorld)),e.applyMatrix4(Tl),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(fP),ch.child=e,this.dispatchEvent(ch),ch.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const s=this.children[n].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Mm,e,_X),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Mm,xX,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function a(o,c){return o[c.uuid]===void 0&&(o[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const c=o.shapes;if(Array.isArray(c))for(let d=0,f=c.length;d<f;d++){const m=c[d];a(e.shapes,m)}else a(e.shapes,c)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let c=0,d=this.material.length;c<d;c++)o.push(a(e.materials,this.material[c]));i.material=o}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const c=this.animations[o];i.animations.push(a(e.animations,c))}}if(t){const o=s(e.geometries),c=s(e.materials),d=s(e.textures),f=s(e.images),m=s(e.shapes),g=s(e.skeletons),y=s(e.animations),x=s(e.nodes);o.length>0&&(n.geometries=o),c.length>0&&(n.materials=c),d.length>0&&(n.textures=d),f.length>0&&(n.images=f),m.length>0&&(n.shapes=m),g.length>0&&(n.skeletons=g),y.length>0&&(n.animations=y),x.length>0&&(n.nodes=x)}return n.object=i,n;function s(o){const c=[];for(const d in o){const f=o[d];delete f.metadata,c.push(f)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}}zn.DEFAULT_UP=new ae(0,1,0);zn.DEFAULT_MATRIX_AUTO_UPDATE=!0;zn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Js=new ae,Al=new ae,C1=new ae,Pl=new ae,uh=new ae,dh=new ae,hP=new ae,b1=new ae,M1=new ae,T1=new ae;class ns{constructor(e=new ae,t=new ae,n=new ae){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),Js.subVectors(e,t),i.cross(Js);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,n,i,a){Js.subVectors(i,t),Al.subVectors(n,t),C1.subVectors(e,t);const s=Js.dot(Js),o=Js.dot(Al),c=Js.dot(C1),d=Al.dot(Al),f=Al.dot(C1),m=s*d-o*o;if(m===0)return a.set(0,0,0),null;const g=1/m,y=(d*c-o*f)*g,x=(s*f-o*c)*g;return a.set(1-y-x,x,y)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,Pl)===null?!1:Pl.x>=0&&Pl.y>=0&&Pl.x+Pl.y<=1}static getInterpolation(e,t,n,i,a,s,o,c){return this.getBarycoord(e,t,n,i,Pl)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(a,Pl.x),c.addScaledVector(s,Pl.y),c.addScaledVector(o,Pl.z),c)}static isFrontFacing(e,t,n,i){return Js.subVectors(n,t),Al.subVectors(e,t),Js.cross(Al).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Js.subVectors(this.c,this.b),Al.subVectors(this.a,this.b),Js.cross(Al).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ns.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ns.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,i,a){return ns.getInterpolation(e,this.a,this.b,this.c,t,n,i,a)}containsPoint(e){return ns.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ns.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,a=this.c;let s,o;uh.subVectors(i,n),dh.subVectors(a,n),b1.subVectors(e,n);const c=uh.dot(b1),d=dh.dot(b1);if(c<=0&&d<=0)return t.copy(n);M1.subVectors(e,i);const f=uh.dot(M1),m=dh.dot(M1);if(f>=0&&m<=f)return t.copy(i);const g=c*m-f*d;if(g<=0&&c>=0&&f<=0)return s=c/(c-f),t.copy(n).addScaledVector(uh,s);T1.subVectors(e,a);const y=uh.dot(T1),x=dh.dot(T1);if(x>=0&&y<=x)return t.copy(a);const S=y*d-c*x;if(S<=0&&d>=0&&x<=0)return o=d/(d-x),t.copy(n).addScaledVector(dh,o);const _=f*x-y*m;if(_<=0&&m-f>=0&&y-x>=0)return hP.subVectors(a,i),o=(m-f)/(m-f+(y-x)),t.copy(i).addScaledVector(hP,o);const E=1/(_+S+g);return s=S*E,o=g*E,t.copy(n).addScaledVector(uh,s).addScaledVector(dh,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const bD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Bc={h:0,s:0,l:0},zv={h:0,s:0,l:0};function A1(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*6*(2/3-t):r}class At{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ss){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,jn.toWorkingColorSpace(this,t),this}setRGB(e,t,n,i=jn.workingColorSpace){return this.r=e,this.g=t,this.b=n,jn.toWorkingColorSpace(this,i),this}setHSL(e,t,n,i=jn.workingColorSpace){if(e=wb(e,1),t=Fr(t,0,1),n=Fr(n,0,1),t===0)this.r=this.g=this.b=n;else{const a=n<=.5?n*(1+t):n+t-n*t,s=2*n-a;this.r=A1(s,a,e+1/3),this.g=A1(s,a,e),this.b=A1(s,a,e-1/3)}return jn.toWorkingColorSpace(this,i),this}setStyle(e,t=Ss){function n(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ss){const n=bD[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Wh(e.r),this.g=Wh(e.g),this.b=Wh(e.b),this}copyLinearToSRGB(e){return this.r=m1(e.r),this.g=m1(e.g),this.b=m1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ss){return jn.fromWorkingColorSpace(Gi.copy(this),e),Math.round(Fr(Gi.r*255,0,255))*65536+Math.round(Fr(Gi.g*255,0,255))*256+Math.round(Fr(Gi.b*255,0,255))}getHexString(e=Ss){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=jn.workingColorSpace){jn.fromWorkingColorSpace(Gi.copy(this),t);const n=Gi.r,i=Gi.g,a=Gi.b,s=Math.max(n,i,a),o=Math.min(n,i,a);let c,d;const f=(o+s)/2;if(o===s)c=0,d=0;else{const m=s-o;switch(d=f<=.5?m/(s+o):m/(2-s-o),s){case n:c=(i-a)/m+(i<a?6:0);break;case i:c=(a-n)/m+2;break;case a:c=(n-i)/m+4;break}c/=6}return e.h=c,e.s=d,e.l=f,e}getRGB(e,t=jn.workingColorSpace){return jn.fromWorkingColorSpace(Gi.copy(this),t),e.r=Gi.r,e.g=Gi.g,e.b=Gi.b,e}getStyle(e=Ss){jn.fromWorkingColorSpace(Gi.copy(this),e);const t=Gi.r,n=Gi.g,i=Gi.b;return e!==Ss?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(i*255)})`}offsetHSL(e,t,n){return this.getHSL(Bc),this.setHSL(Bc.h+e,Bc.s+t,Bc.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Bc),e.getHSL(zv);const n=ng(Bc.h,zv.h,t),i=ng(Bc.s,zv.s,t),a=ng(Bc.l,zv.l,t);return this.setHSL(n,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,i=this.b,a=e.elements;return this.r=a[0]*t+a[3]*n+a[6]*i,this.g=a[1]*t+a[4]*n+a[7]*i,this.b=a[2]*t+a[5]*n+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Gi=new At;At.NAMES=bD;let EX=0;class Fi extends $o{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:EX++}),this.uuid=is(),this.name="",this.type="Material",this.blending=Cd,this.side=$l,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=v_,this.blendDst=__,this.blendEquation=qc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new At(0,0,0),this.blendAlpha=0,this.depthFunc=bg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=nw,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=od,this.stencilZFail=od,this.stencilZPass=od,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Cd&&(n.blending=this.blending),this.side!==$l&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==v_&&(n.blendSrc=this.blendSrc),this.blendDst!==__&&(n.blendDst=this.blendDst),this.blendEquation!==qc&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==bg&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==nw&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==od&&(n.stencilFail=this.stencilFail),this.stencilZFail!==od&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==od&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function i(a){const s=[];for(const o in a){const c=a[o];delete c.metadata,s.push(c)}return s}if(t){const a=i(e.textures),s=i(e.images);a.length>0&&(n.textures=a),s.length>0&&(n.images=s)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let a=0;a!==i;++a)n[a]=t[a].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}onBeforeRender(){console.warn("Material: onBeforeRender() has been removed.")}}class Wo extends Fi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new At(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new as,this.combine=my,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Fl=wX();function wX(){const r=new ArrayBuffer(4),e=new Float32Array(r),t=new Uint32Array(r),n=new Uint32Array(512),i=new Uint32Array(512);for(let c=0;c<256;++c){const d=c-127;d<-27?(n[c]=0,n[c|256]=32768,i[c]=24,i[c|256]=24):d<-14?(n[c]=1024>>-d-14,n[c|256]=1024>>-d-14|32768,i[c]=-d-1,i[c|256]=-d-1):d<=15?(n[c]=d+15<<10,n[c|256]=d+15<<10|32768,i[c]=13,i[c|256]=13):d<128?(n[c]=31744,n[c|256]=64512,i[c]=24,i[c|256]=24):(n[c]=31744,n[c|256]=64512,i[c]=13,i[c|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let c=1;c<1024;++c){let d=c<<13,f=0;for(;!(d&8388608);)d<<=1,f-=8388608;d&=-8388609,f+=947912704,a[c]=d|f}for(let c=1024;c<2048;++c)a[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)s[c]=c<<23;s[31]=1199570944,s[32]=2147483648;for(let c=33;c<63;++c)s[c]=2147483648+(c-32<<23);s[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(o[c]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:i,mantissaTable:a,exponentTable:s,offsetTable:o}}function Da(r){Math.abs(r)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),r=Fr(r,-65504,65504),Fl.floatView[0]=r;const e=Fl.uint32View[0],t=e>>23&511;return Fl.baseTable[t]+((e&8388607)>>Fl.shiftTable[t])}function jm(r){const e=r>>10;return Fl.uint32View[0]=Fl.mantissaTable[Fl.offsetTable[e]+(r&1023)]+Fl.exponentTable[e],Fl.floatView[0]}const CX={toHalfFloat:Da,fromHalfFloat:jm},Xr=new ae,Vv=new Qe;class Jn{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=Dg,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Ba,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return $h("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Vv.fromBufferAttribute(this,t),Vv.applyMatrix3(e),this.setXY(t,Vv.x,Vv.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Xr.fromBufferAttribute(this,t),Xr.applyMatrix3(e),this.setXYZ(t,Xr.x,Xr.y,Xr.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Xr.fromBufferAttribute(this,t),Xr.applyMatrix4(e),this.setXYZ(t,Xr.x,Xr.y,Xr.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Xr.fromBufferAttribute(this,t),Xr.applyNormalMatrix(e),this.setXYZ(t,Xr.x,Xr.y,Xr.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Xr.fromBufferAttribute(this,t),Xr.transformDirection(e),this.setXYZ(t,Xr.x,Xr.y,Xr.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=ga(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=_n(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ga(t,this.array)),t}setX(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ga(t,this.array)),t}setY(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ga(t,this.array)),t}setZ(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ga(t,this.array)),t}setW(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array),i=_n(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,a){return e*=this.itemSize,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array),i=_n(i,this.array),a=_n(a,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Dg&&(e.usage=this.usage),e}}class bX extends Jn{constructor(e,t,n){super(new Int8Array(e),t,n)}}class MX extends Jn{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class TX extends Jn{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class AX extends Jn{constructor(e,t,n){super(new Int16Array(e),t,n)}}class bb extends Jn{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class PX extends Jn{constructor(e,t,n){super(new Int32Array(e),t,n)}}class Mb extends Jn{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class RX extends Jn{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=jm(this.array[e*this.itemSize]);return this.normalized&&(t=ga(t,this.array)),t}setX(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize]=Da(t),this}getY(e){let t=jm(this.array[e*this.itemSize+1]);return this.normalized&&(t=ga(t,this.array)),t}setY(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize+1]=Da(t),this}getZ(e){let t=jm(this.array[e*this.itemSize+2]);return this.normalized&&(t=ga(t,this.array)),t}setZ(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize+2]=Da(t),this}getW(e){let t=jm(this.array[e*this.itemSize+3]);return this.normalized&&(t=ga(t,this.array)),t}setW(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize+3]=Da(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array)),this.array[e+0]=Da(t),this.array[e+1]=Da(n),this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array),i=_n(i,this.array)),this.array[e+0]=Da(t),this.array[e+1]=Da(n),this.array[e+2]=Da(i),this}setXYZW(e,t,n,i,a){return e*=this.itemSize,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array),i=_n(i,this.array),a=_n(a,this.array)),this.array[e+0]=Da(t),this.array[e+1]=Da(n),this.array[e+2]=Da(i),this.array[e+3]=Da(a),this}}class qt extends Jn{constructor(e,t,n){super(new Float32Array(e),t,n)}}let IX=0;const vs=new an,P1=new zn,fh=new ae,es=new va,Tm=new va,pi=new ae;class xn extends $o{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:IX++}),this.uuid=is(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(SD(e)?Mb:bb)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const a=new vn().getNormalMatrix(e);n.applyNormalMatrix(a),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return vs.makeRotationFromQuaternion(e),this.applyMatrix4(vs),this}rotateX(e){return vs.makeRotationX(e),this.applyMatrix4(vs),this}rotateY(e){return vs.makeRotationY(e),this.applyMatrix4(vs),this}rotateZ(e){return vs.makeRotationZ(e),this.applyMatrix4(vs),this}translate(e,t,n){return vs.makeTranslation(e,t,n),this.applyMatrix4(vs),this}scale(e,t,n){return vs.makeScale(e,t,n),this.applyMatrix4(vs),this}lookAt(e){return P1.lookAt(e),P1.updateMatrix(),this.applyMatrix4(P1.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(fh).negate(),this.translate(fh.x,fh.y,fh.z),this}setFromPoints(e){const t=[];for(let n=0,i=e.length;n<i;n++){const a=e[n];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new qt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new va);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ae(-1/0,-1/0,-1/0),new ae(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const a=t[n];es.setFromBufferAttribute(a),this.morphTargetsRelative?(pi.addVectors(this.boundingBox.min,es.min),this.boundingBox.expandByPoint(pi),pi.addVectors(this.boundingBox.max,es.max),this.boundingBox.expandByPoint(pi)):(this.boundingBox.expandByPoint(es.min),this.boundingBox.expandByPoint(es.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ji);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ae,1/0);return}if(e){const n=this.boundingSphere.center;if(es.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const o=t[a];Tm.setFromBufferAttribute(o),this.morphTargetsRelative?(pi.addVectors(es.min,Tm.min),es.expandByPoint(pi),pi.addVectors(es.max,Tm.max),es.expandByPoint(pi)):(es.expandByPoint(Tm.min),es.expandByPoint(Tm.max))}es.getCenter(n);let i=0;for(let a=0,s=e.count;a<s;a++)pi.fromBufferAttribute(e,a),i=Math.max(i,n.distanceToSquared(pi));if(t)for(let a=0,s=t.length;a<s;a++){const o=t[a],c=this.morphTargetsRelative;for(let d=0,f=o.count;d<f;d++)pi.fromBufferAttribute(o,d),c&&(fh.fromBufferAttribute(e,d),pi.add(fh)),i=Math.max(i,n.distanceToSquared(pi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,i=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Jn(new Float32Array(4*n.count),4));const s=this.getAttribute("tangent"),o=[],c=[];for(let N=0;N<n.count;N++)o[N]=new ae,c[N]=new ae;const d=new ae,f=new ae,m=new ae,g=new Qe,y=new Qe,x=new Qe,S=new ae,_=new ae;function E(N,D,I){d.fromBufferAttribute(n,N),f.fromBufferAttribute(n,D),m.fromBufferAttribute(n,I),g.fromBufferAttribute(a,N),y.fromBufferAttribute(a,D),x.fromBufferAttribute(a,I),f.sub(d),m.sub(d),y.sub(g),x.sub(g);const V=1/(y.x*x.y-x.x*y.y);isFinite(V)&&(S.copy(f).multiplyScalar(x.y).addScaledVector(m,-y.y).multiplyScalar(V),_.copy(m).multiplyScalar(y.x).addScaledVector(f,-x.x).multiplyScalar(V),o[N].add(S),o[D].add(S),o[I].add(S),c[N].add(_),c[D].add(_),c[I].add(_))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let N=0,D=w.length;N<D;++N){const I=w[N],V=I.start,q=I.count;for(let W=V,ee=V+q;W<ee;W+=3)E(e.getX(W+0),e.getX(W+1),e.getX(W+2))}const C=new ae,T=new ae,O=new ae,R=new ae;function P(N){O.fromBufferAttribute(i,N),R.copy(O);const D=o[N];C.copy(D),C.sub(O.multiplyScalar(O.dot(D))).normalize(),T.crossVectors(R,D);const V=T.dot(c[N])<0?-1:1;s.setXYZW(N,C.x,C.y,C.z,V)}for(let N=0,D=w.length;N<D;++N){const I=w[N],V=I.start,q=I.count;for(let W=V,ee=V+q;W<ee;W+=3)P(e.getX(W+0)),P(e.getX(W+1)),P(e.getX(W+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Jn(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let g=0,y=n.count;g<y;g++)n.setXYZ(g,0,0,0);const i=new ae,a=new ae,s=new ae,o=new ae,c=new ae,d=new ae,f=new ae,m=new ae;if(e)for(let g=0,y=e.count;g<y;g+=3){const x=e.getX(g+0),S=e.getX(g+1),_=e.getX(g+2);i.fromBufferAttribute(t,x),a.fromBufferAttribute(t,S),s.fromBufferAttribute(t,_),f.subVectors(s,a),m.subVectors(i,a),f.cross(m),o.fromBufferAttribute(n,x),c.fromBufferAttribute(n,S),d.fromBufferAttribute(n,_),o.add(f),c.add(f),d.add(f),n.setXYZ(x,o.x,o.y,o.z),n.setXYZ(S,c.x,c.y,c.z),n.setXYZ(_,d.x,d.y,d.z)}else for(let g=0,y=t.count;g<y;g+=3)i.fromBufferAttribute(t,g+0),a.fromBufferAttribute(t,g+1),s.fromBufferAttribute(t,g+2),f.subVectors(s,a),m.subVectors(i,a),f.cross(m),n.setXYZ(g+0,f.x,f.y,f.z),n.setXYZ(g+1,f.x,f.y,f.z),n.setXYZ(g+2,f.x,f.y,f.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)pi.fromBufferAttribute(e,t),pi.normalize(),e.setXYZ(t,pi.x,pi.y,pi.z)}toNonIndexed(){function e(o,c){const d=o.array,f=o.itemSize,m=o.normalized,g=new d.constructor(c.length*f);let y=0,x=0;for(let S=0,_=c.length;S<_;S++){o.isInterleavedBufferAttribute?y=c[S]*o.data.stride+o.offset:y=c[S]*f;for(let E=0;E<f;E++)g[x++]=d[y++]}return new Jn(g,f,m)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new xn,n=this.index.array,i=this.attributes;for(const o in i){const c=i[o],d=e(c,n);t.setAttribute(o,d)}const a=this.morphAttributes;for(const o in a){const c=[],d=a[o];for(let f=0,m=d.length;f<m;f++){const g=d[f],y=e(g,n);c.push(y)}t.morphAttributes[o]=c}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,c=s.length;o<c;o++){const d=s[o];t.addGroup(d.start,d.count,d.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const d in c)c[d]!==void 0&&(e[d]=c[d]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const c in n){const d=n[c];e.data.attributes[c]=d.toJSON(e.data)}const i={};let a=!1;for(const c in this.morphAttributes){const d=this.morphAttributes[c],f=[];for(let m=0,g=d.length;m<g;m++){const y=d[m];f.push(y.toJSON(e.data))}f.length>0&&(i[c]=f,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const i=e.attributes;for(const d in i){const f=i[d];this.setAttribute(d,f.clone(t))}const a=e.morphAttributes;for(const d in a){const f=[],m=a[d];for(let g=0,y=m.length;g<y;g++)f.push(m[g].clone(t));this.morphAttributes[d]=f}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let d=0,f=s.length;d<f;d++){const m=s[d];this.addGroup(m.start,m.count,m.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const pP=new an,qu=new $d,Hv=new Ji,mP=new ae,hh=new ae,ph=new ae,mh=new ae,R1=new ae,jv=new ae,$v=new Qe,Wv=new Qe,Gv=new Qe,gP=new ae,yP=new ae,vP=new ae,qv=new ae,Xv=new ae;class Tr extends zn{constructor(e=new xn,t=new Wo){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,a=n.morphAttributes.position,s=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(a&&o){jv.set(0,0,0);for(let c=0,d=a.length;c<d;c++){const f=o[c],m=a[c];f!==0&&(R1.fromBufferAttribute(m,e),s?jv.addScaledVector(R1,f):jv.addScaledVector(R1.sub(t),f))}t.add(jv)}return t}raycast(e,t){const n=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),Hv.copy(n.boundingSphere),Hv.applyMatrix4(a),qu.copy(e.ray).recast(e.near),!(Hv.containsPoint(qu.origin)===!1&&(qu.intersectSphere(Hv,mP)===null||qu.origin.distanceToSquared(mP)>(e.far-e.near)**2))&&(pP.copy(a).invert(),qu.copy(e.ray).applyMatrix4(pP),!(n.boundingBox!==null&&qu.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,qu)))}_computeIntersections(e,t,n){let i;const a=this.geometry,s=this.material,o=a.index,c=a.attributes.position,d=a.attributes.uv,f=a.attributes.uv1,m=a.attributes.normal,g=a.groups,y=a.drawRange;if(o!==null)if(Array.isArray(s))for(let x=0,S=g.length;x<S;x++){const _=g[x],E=s[_.materialIndex],w=Math.max(_.start,y.start),C=Math.min(o.count,Math.min(_.start+_.count,y.start+y.count));for(let T=w,O=C;T<O;T+=3){const R=o.getX(T),P=o.getX(T+1),N=o.getX(T+2);i=Yv(this,E,e,n,d,f,m,R,P,N),i&&(i.faceIndex=Math.floor(T/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const x=Math.max(0,y.start),S=Math.min(o.count,y.start+y.count);for(let _=x,E=S;_<E;_+=3){const w=o.getX(_),C=o.getX(_+1),T=o.getX(_+2);i=Yv(this,s,e,n,d,f,m,w,C,T),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}else if(c!==void 0)if(Array.isArray(s))for(let x=0,S=g.length;x<S;x++){const _=g[x],E=s[_.materialIndex],w=Math.max(_.start,y.start),C=Math.min(c.count,Math.min(_.start+_.count,y.start+y.count));for(let T=w,O=C;T<O;T+=3){const R=T,P=T+1,N=T+2;i=Yv(this,E,e,n,d,f,m,R,P,N),i&&(i.faceIndex=Math.floor(T/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const x=Math.max(0,y.start),S=Math.min(c.count,y.start+y.count);for(let _=x,E=S;_<E;_+=3){const w=_,C=_+1,T=_+2;i=Yv(this,s,e,n,d,f,m,w,C,T),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}}}function OX(r,e,t,n,i,a,s,o){let c;if(e.side===ya?c=n.intersectTriangle(s,a,i,!0,o):c=n.intersectTriangle(i,a,s,e.side===$l,o),c===null)return null;Xv.copy(o),Xv.applyMatrix4(r.matrixWorld);const d=t.ray.origin.distanceTo(Xv);return d<t.near||d>t.far?null:{distance:d,point:Xv.clone(),object:r}}function Yv(r,e,t,n,i,a,s,o,c,d){r.getVertexPosition(o,hh),r.getVertexPosition(c,ph),r.getVertexPosition(d,mh);const f=OX(r,e,t,n,hh,ph,mh,qv);if(f){i&&($v.fromBufferAttribute(i,o),Wv.fromBufferAttribute(i,c),Gv.fromBufferAttribute(i,d),f.uv=ns.getInterpolation(qv,hh,ph,mh,$v,Wv,Gv,new Qe)),a&&($v.fromBufferAttribute(a,o),Wv.fromBufferAttribute(a,c),Gv.fromBufferAttribute(a,d),f.uv1=ns.getInterpolation(qv,hh,ph,mh,$v,Wv,Gv,new Qe)),s&&(gP.fromBufferAttribute(s,o),yP.fromBufferAttribute(s,c),vP.fromBufferAttribute(s,d),f.normal=ns.getInterpolation(qv,hh,ph,mh,gP,yP,vP,new ae),f.normal.dot(n.direction)>0&&f.normal.multiplyScalar(-1));const m={a:o,b:c,c:d,normal:new ae,materialIndex:0};ns.getNormal(hh,ph,mh,m.normal),f.face=m}return f}class Wd extends xn{constructor(e=1,t=1,n=1,i=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:a,depthSegments:s};const o=this;i=Math.floor(i),a=Math.floor(a),s=Math.floor(s);const c=[],d=[],f=[],m=[];let g=0,y=0;x("z","y","x",-1,-1,n,t,e,s,a,0),x("z","y","x",1,-1,n,t,-e,s,a,1),x("x","z","y",1,1,e,n,t,i,s,2),x("x","z","y",1,-1,e,n,-t,i,s,3),x("x","y","z",1,-1,e,t,n,i,a,4),x("x","y","z",-1,-1,e,t,-n,i,a,5),this.setIndex(c),this.setAttribute("position",new qt(d,3)),this.setAttribute("normal",new qt(f,3)),this.setAttribute("uv",new qt(m,2));function x(S,_,E,w,C,T,O,R,P,N,D){const I=T/P,V=O/N,q=T/2,W=O/2,ee=R/2,te=P+1,re=N+1;let ue=0,G=0;const le=new ae;for(let oe=0;oe<re;oe++){const X=oe*V-W;for(let ne=0;ne<te;ne++){const we=ne*I-q;le[S]=we*w,le[_]=X*C,le[E]=ee,d.push(le.x,le.y,le.z),le[S]=0,le[_]=0,le[E]=R>0?1:-1,f.push(le.x,le.y,le.z),m.push(ne/P),m.push(1-oe/N),ue+=1}}for(let oe=0;oe<N;oe++)for(let X=0;X<P;X++){const ne=g+X+te*oe,we=g+X+te*(oe+1),me=g+(X+1)+te*(oe+1),ye=g+(X+1)+te*oe;c.push(ne,we,ye),c.push(we,me,ye),G+=6}o.addGroup(y,G,D),y+=G,g+=ue}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ip(r){const e={};for(const t in r){e[t]={};for(const n in r[t]){const i=r[t][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=i.clone():Array.isArray(i)?e[t][n]=i.slice():e[t][n]=i}}return e}function ha(r){const e={};for(let t=0;t<r.length;t++){const n=ip(r[t]);for(const i in n)e[i]=n[i]}return e}function kX(r){const e=[];for(let t=0;t<r.length;t++)e.push(r[t].clone());return e}function MD(r){const e=r.getRenderTarget();return e===null?r.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:jn.workingColorSpace}const TD={clone:ip,merge:ha};var FX=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,DX=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class so extends Fi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=FX,this.fragmentShader=DX,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ip(e.uniforms),this.uniformsGroups=kX(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class vy extends zn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new an,this.projectionMatrix=new an,this.projectionMatrixInverse=new an,this.coordinateSystem=ko}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const zc=new ae,_P=new Qe,xP=new Qe;class Dr extends vy{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=rp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Md*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return rp*2*Math.atan(Math.tan(Md*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){zc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(zc.x,zc.y).multiplyScalar(-e/zc.z),zc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(zc.x,zc.y).multiplyScalar(-e/zc.z)}getViewSize(e,t){return this.getViewBounds(e,_P,xP),t.subVectors(xP,_P)}setViewOffset(e,t,n,i,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Md*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,a=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const c=s.fullWidth,d=s.fullHeight;a+=s.offsetX*i/c,t-=s.offsetY*n/d,i*=s.width/c,n*=s.height/d}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const gh=-90,yh=1;class Tb extends zn{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Dr(gh,yh,e,t);i.layers=this.layers,this.add(i);const a=new Dr(gh,yh,e,t);a.layers=this.layers,this.add(a);const s=new Dr(gh,yh,e,t);s.layers=this.layers,this.add(s);const o=new Dr(gh,yh,e,t);o.layers=this.layers,this.add(o);const c=new Dr(gh,yh,e,t);c.layers=this.layers,this.add(c);const d=new Dr(gh,yh,e,t);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,i,a,s,o,c]=t;for(const d of t)this.remove(d);if(e===ko)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===Lg)n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of t)this.add(d),d.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,o,c,d,f]=this.children,m=e.getRenderTarget(),g=e.getActiveCubeFace(),y=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const S=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,i),e.render(t,a),e.setRenderTarget(n,1,i),e.render(t,s),e.setRenderTarget(n,2,i),e.render(t,o),e.setRenderTarget(n,3,i),e.render(t,c),e.setRenderTarget(n,4,i),e.render(t,d),n.texture.generateMipmaps=S,e.setRenderTarget(n,5,i),e.render(t,f),e.setRenderTarget(m,g,y),e.xr.enabled=x,n.texture.needsPMREMUpdate=!0}}class _y extends Ar{constructor(e,t,n,i,a,s,o,c,d,f){e=e!==void 0?e:[],t=t!==void 0?t:Wl,super(e,t,n,i,a,s,o,c,d,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Ab extends ao{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new _y(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Qr}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Wd(5,5,5),a=new so({name:"CubemapFromEquirect",uniforms:ip(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:ya,blending:Hl});a.uniforms.tEquirect.value=t;const s=new Tr(i,a),o=t.minFilter;return t.minFilter===Oo&&(t.minFilter=Qr),new Tb(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,n,i){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,n,i);e.setRenderTarget(a)}}const I1=new ae,LX=new ae,NX=new vn;class Il{constructor(e=new ae(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=I1.subVectors(n,t).cross(LX.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(I1),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(e.start).addScaledVector(n,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||NX.getNormalMatrix(e),i=this.coplanarPoint(I1).applyMatrix4(e),a=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Xu=new Ji,Qv=new ae;class xy{constructor(e=new Il,t=new Il,n=new Il,i=new Il,a=new Il,s=new Il){this.planes=[e,t,n,i,a,s]}set(e,t,n,i,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(i),o[4].copy(a),o[5].copy(s),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=ko){const n=this.planes,i=e.elements,a=i[0],s=i[1],o=i[2],c=i[3],d=i[4],f=i[5],m=i[6],g=i[7],y=i[8],x=i[9],S=i[10],_=i[11],E=i[12],w=i[13],C=i[14],T=i[15];if(n[0].setComponents(c-a,g-d,_-y,T-E).normalize(),n[1].setComponents(c+a,g+d,_+y,T+E).normalize(),n[2].setComponents(c+s,g+f,_+x,T+w).normalize(),n[3].setComponents(c-s,g-f,_-x,T-w).normalize(),n[4].setComponents(c-o,g-m,_-S,T-C).normalize(),t===ko)n[5].setComponents(c+o,g+m,_+S,T+C).normalize();else if(t===Lg)n[5].setComponents(o,m,S,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Xu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Xu.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Xu)}intersectsSprite(e){return Xu.center.set(0,0,0),Xu.radius=.7071067811865476,Xu.applyMatrix4(e.matrixWorld),this.intersectsSphere(Xu)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(Qv.x=i.normal.x>0?e.max.x:e.min.x,Qv.y=i.normal.y>0?e.max.y:e.min.y,Qv.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Qv)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function AD(){let r=null,e=!1,t=null,n=null;function i(a,s){t(a,s),n=r.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(n=r.requestAnimationFrame(i),e=!0)},stop:function(){r.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){r=a}}}function UX(r){const e=new WeakMap;function t(o,c){const d=o.array,f=o.usage,m=d.byteLength,g=r.createBuffer();r.bindBuffer(c,g),r.bufferData(c,d,f),o.onUploadCallback();let y;if(d instanceof Float32Array)y=r.FLOAT;else if(d instanceof Uint16Array)o.isFloat16BufferAttribute?y=r.HALF_FLOAT:y=r.UNSIGNED_SHORT;else if(d instanceof Int16Array)y=r.SHORT;else if(d instanceof Uint32Array)y=r.UNSIGNED_INT;else if(d instanceof Int32Array)y=r.INT;else if(d instanceof Int8Array)y=r.BYTE;else if(d instanceof Uint8Array)y=r.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)y=r.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:g,type:y,bytesPerElement:d.BYTES_PER_ELEMENT,version:o.version,size:m}}function n(o,c,d){const f=c.array,m=c._updateRange,g=c.updateRanges;if(r.bindBuffer(d,o),m.count===-1&&g.length===0&&r.bufferSubData(d,0,f),g.length!==0){for(let y=0,x=g.length;y<x;y++){const S=g[y];r.bufferSubData(d,S.start*f.BYTES_PER_ELEMENT,f,S.start,S.count)}c.clearUpdateRanges()}m.count!==-1&&(r.bufferSubData(d,m.offset*f.BYTES_PER_ELEMENT,f,m.offset,m.count),m.count=-1),c.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function a(o){o.isInterleavedBufferAttribute&&(o=o.data);const c=e.get(o);c&&(r.deleteBuffer(c.buffer),e.delete(o))}function s(o,c){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const f=e.get(o);(!f||f.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const d=e.get(o);if(d===void 0)e.set(o,t(o,c));else if(d.version<o.version){if(d.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(d.buffer,o,c),d.version=o.version}}return{get:i,remove:a,update:s}}class yp extends xn{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const a=e/2,s=t/2,o=Math.floor(n),c=Math.floor(i),d=o+1,f=c+1,m=e/o,g=t/c,y=[],x=[],S=[],_=[];for(let E=0;E<f;E++){const w=E*g-s;for(let C=0;C<d;C++){const T=C*m-a;x.push(T,-w,0),S.push(0,0,1),_.push(C/o),_.push(1-E/c)}}for(let E=0;E<c;E++)for(let w=0;w<o;w++){const C=w+d*E,T=w+d*(E+1),O=w+1+d*(E+1),R=w+1+d*E;y.push(C,T,R),y.push(T,O,R)}this.setIndex(y),this.setAttribute("position",new qt(x,3)),this.setAttribute("normal",new qt(S,3)),this.setAttribute("uv",new qt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yp(e.width,e.height,e.widthSegments,e.heightSegments)}}var BX=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,zX=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,VX=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,HX=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,jX=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,$X=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,WX=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,GX=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,qX=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,XX=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,YX=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,QX=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,KX=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,JX=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,ZX=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,eY=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,tY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,nY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,rY=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,iY=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,aY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,sY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,oY=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,lY=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cY=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,uY=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,dY=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,fY=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,hY=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,pY=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,mY="gl_FragColor = linearToOutputTexel( gl_FragColor );",gY=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,yY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,vY=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,_Y=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,xY=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,SY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,EY=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,wY=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,CY=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,bY=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,MY=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,TY=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,AY=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,PY=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,RY=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,IY=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,OY=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,kY=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,FY=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,DY=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,LY=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,NY=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,UY=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,BY=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,zY=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,VY=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,HY=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,jY=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,$Y=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,WY=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,GY=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,qY=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,XY=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,YY=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,QY=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,KY=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,JY=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,ZY=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,eQ=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,tQ=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,nQ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,rQ=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,iQ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,aQ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,sQ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,oQ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,lQ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,cQ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,uQ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,dQ=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,fQ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,hQ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,pQ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,mQ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,gQ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,yQ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,vQ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,_Q=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,xQ=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,SQ=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,EQ=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,wQ=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,CQ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,bQ=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,MQ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,TQ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,AQ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,PQ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,RQ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,IQ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,OQ=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,kQ=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,FQ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,DQ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,LQ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,NQ=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const UQ=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,BQ=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,zQ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,VQ=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,HQ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,jQ=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$Q=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,WQ=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,GQ=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,qQ=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,XQ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,YQ=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,QQ=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,KQ=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,JQ=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,ZQ=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eK=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tK=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nK=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,rK=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iK=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,aK=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,sK=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oK=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lK=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,cK=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uK=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dK=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fK=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,hK=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,pK=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mK=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,gK=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,yK=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,En={alphahash_fragment:BX,alphahash_pars_fragment:zX,alphamap_fragment:VX,alphamap_pars_fragment:HX,alphatest_fragment:jX,alphatest_pars_fragment:$X,aomap_fragment:WX,aomap_pars_fragment:GX,batching_pars_vertex:qX,batching_vertex:XX,begin_vertex:YX,beginnormal_vertex:QX,bsdfs:KX,iridescence_fragment:JX,bumpmap_pars_fragment:ZX,clipping_planes_fragment:eY,clipping_planes_pars_fragment:tY,clipping_planes_pars_vertex:nY,clipping_planes_vertex:rY,color_fragment:iY,color_pars_fragment:aY,color_pars_vertex:sY,color_vertex:oY,common:lY,cube_uv_reflection_fragment:cY,defaultnormal_vertex:uY,displacementmap_pars_vertex:dY,displacementmap_vertex:fY,emissivemap_fragment:hY,emissivemap_pars_fragment:pY,colorspace_fragment:mY,colorspace_pars_fragment:gY,envmap_fragment:yY,envmap_common_pars_fragment:vY,envmap_pars_fragment:_Y,envmap_pars_vertex:xY,envmap_physical_pars_fragment:IY,envmap_vertex:SY,fog_vertex:EY,fog_pars_vertex:wY,fog_fragment:CY,fog_pars_fragment:bY,gradientmap_pars_fragment:MY,lightmap_pars_fragment:TY,lights_lambert_fragment:AY,lights_lambert_pars_fragment:PY,lights_pars_begin:RY,lights_toon_fragment:OY,lights_toon_pars_fragment:kY,lights_phong_fragment:FY,lights_phong_pars_fragment:DY,lights_physical_fragment:LY,lights_physical_pars_fragment:NY,lights_fragment_begin:UY,lights_fragment_maps:BY,lights_fragment_end:zY,logdepthbuf_fragment:VY,logdepthbuf_pars_fragment:HY,logdepthbuf_pars_vertex:jY,logdepthbuf_vertex:$Y,map_fragment:WY,map_pars_fragment:GY,map_particle_fragment:qY,map_particle_pars_fragment:XY,metalnessmap_fragment:YY,metalnessmap_pars_fragment:QY,morphinstance_vertex:KY,morphcolor_vertex:JY,morphnormal_vertex:ZY,morphtarget_pars_vertex:eQ,morphtarget_vertex:tQ,normal_fragment_begin:nQ,normal_fragment_maps:rQ,normal_pars_fragment:iQ,normal_pars_vertex:aQ,normal_vertex:sQ,normalmap_pars_fragment:oQ,clearcoat_normal_fragment_begin:lQ,clearcoat_normal_fragment_maps:cQ,clearcoat_pars_fragment:uQ,iridescence_pars_fragment:dQ,opaque_fragment:fQ,packing:hQ,premultiplied_alpha_fragment:pQ,project_vertex:mQ,dithering_fragment:gQ,dithering_pars_fragment:yQ,roughnessmap_fragment:vQ,roughnessmap_pars_fragment:_Q,shadowmap_pars_fragment:xQ,shadowmap_pars_vertex:SQ,shadowmap_vertex:EQ,shadowmask_pars_fragment:wQ,skinbase_vertex:CQ,skinning_pars_vertex:bQ,skinning_vertex:MQ,skinnormal_vertex:TQ,specularmap_fragment:AQ,specularmap_pars_fragment:PQ,tonemapping_fragment:RQ,tonemapping_pars_fragment:IQ,transmission_fragment:OQ,transmission_pars_fragment:kQ,uv_pars_fragment:FQ,uv_pars_vertex:DQ,uv_vertex:LQ,worldpos_vertex:NQ,background_vert:UQ,background_frag:BQ,backgroundCube_vert:zQ,backgroundCube_frag:VQ,cube_vert:HQ,cube_frag:jQ,depth_vert:$Q,depth_frag:WQ,distanceRGBA_vert:GQ,distanceRGBA_frag:qQ,equirect_vert:XQ,equirect_frag:YQ,linedashed_vert:QQ,linedashed_frag:KQ,meshbasic_vert:JQ,meshbasic_frag:ZQ,meshlambert_vert:eK,meshlambert_frag:tK,meshmatcap_vert:nK,meshmatcap_frag:rK,meshnormal_vert:iK,meshnormal_frag:aK,meshphong_vert:sK,meshphong_frag:oK,meshphysical_vert:lK,meshphysical_frag:cK,meshtoon_vert:uK,meshtoon_frag:dK,points_vert:fK,points_frag:hK,shadow_vert:pK,shadow_frag:mK,sprite_vert:gK,sprite_frag:yK},Mt={common:{diffuse:{value:new At(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new vn},alphaMap:{value:null},alphaMapTransform:{value:new vn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new vn}},envmap:{envMap:{value:null},envMapRotation:{value:new vn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new vn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new vn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new vn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new vn},normalScale:{value:new Qe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new vn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new vn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new vn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new vn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new At(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new At(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new vn},alphaTest:{value:0},uvTransform:{value:new vn}},sprite:{diffuse:{value:new At(16777215)},opacity:{value:1},center:{value:new Qe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new vn},alphaMap:{value:null},alphaMapTransform:{value:new vn},alphaTest:{value:0}}},no={basic:{uniforms:ha([Mt.common,Mt.specularmap,Mt.envmap,Mt.aomap,Mt.lightmap,Mt.fog]),vertexShader:En.meshbasic_vert,fragmentShader:En.meshbasic_frag},lambert:{uniforms:ha([Mt.common,Mt.specularmap,Mt.envmap,Mt.aomap,Mt.lightmap,Mt.emissivemap,Mt.bumpmap,Mt.normalmap,Mt.displacementmap,Mt.fog,Mt.lights,{emissive:{value:new At(0)}}]),vertexShader:En.meshlambert_vert,fragmentShader:En.meshlambert_frag},phong:{uniforms:ha([Mt.common,Mt.specularmap,Mt.envmap,Mt.aomap,Mt.lightmap,Mt.emissivemap,Mt.bumpmap,Mt.normalmap,Mt.displacementmap,Mt.fog,Mt.lights,{emissive:{value:new At(0)},specular:{value:new At(1118481)},shininess:{value:30}}]),vertexShader:En.meshphong_vert,fragmentShader:En.meshphong_frag},standard:{uniforms:ha([Mt.common,Mt.envmap,Mt.aomap,Mt.lightmap,Mt.emissivemap,Mt.bumpmap,Mt.normalmap,Mt.displacementmap,Mt.roughnessmap,Mt.metalnessmap,Mt.fog,Mt.lights,{emissive:{value:new At(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:En.meshphysical_vert,fragmentShader:En.meshphysical_frag},toon:{uniforms:ha([Mt.common,Mt.aomap,Mt.lightmap,Mt.emissivemap,Mt.bumpmap,Mt.normalmap,Mt.displacementmap,Mt.gradientmap,Mt.fog,Mt.lights,{emissive:{value:new At(0)}}]),vertexShader:En.meshtoon_vert,fragmentShader:En.meshtoon_frag},matcap:{uniforms:ha([Mt.common,Mt.bumpmap,Mt.normalmap,Mt.displacementmap,Mt.fog,{matcap:{value:null}}]),vertexShader:En.meshmatcap_vert,fragmentShader:En.meshmatcap_frag},points:{uniforms:ha([Mt.points,Mt.fog]),vertexShader:En.points_vert,fragmentShader:En.points_frag},dashed:{uniforms:ha([Mt.common,Mt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:En.linedashed_vert,fragmentShader:En.linedashed_frag},depth:{uniforms:ha([Mt.common,Mt.displacementmap]),vertexShader:En.depth_vert,fragmentShader:En.depth_frag},normal:{uniforms:ha([Mt.common,Mt.bumpmap,Mt.normalmap,Mt.displacementmap,{opacity:{value:1}}]),vertexShader:En.meshnormal_vert,fragmentShader:En.meshnormal_frag},sprite:{uniforms:ha([Mt.sprite,Mt.fog]),vertexShader:En.sprite_vert,fragmentShader:En.sprite_frag},background:{uniforms:{uvTransform:{value:new vn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:En.background_vert,fragmentShader:En.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new vn}},vertexShader:En.backgroundCube_vert,fragmentShader:En.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:En.cube_vert,fragmentShader:En.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:En.equirect_vert,fragmentShader:En.equirect_frag},distanceRGBA:{uniforms:ha([Mt.common,Mt.displacementmap,{referencePosition:{value:new ae},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:En.distanceRGBA_vert,fragmentShader:En.distanceRGBA_frag},shadow:{uniforms:ha([Mt.lights,Mt.fog,{color:{value:new At(0)},opacity:{value:1}}]),vertexShader:En.shadow_vert,fragmentShader:En.shadow_frag}};no.physical={uniforms:ha([no.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new vn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new vn},clearcoatNormalScale:{value:new Qe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new vn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new vn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new vn},sheen:{value:0},sheenColor:{value:new At(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new vn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new vn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new vn},transmissionSamplerSize:{value:new Qe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new vn},attenuationDistance:{value:0},attenuationColor:{value:new At(0)},specularColor:{value:new At(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new vn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new vn},anisotropyVector:{value:new Qe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new vn}}]),vertexShader:En.meshphysical_vert,fragmentShader:En.meshphysical_frag};const Kv={r:0,b:0,g:0},Yu=new as,vK=new an;function _K(r,e,t,n,i,a,s){const o=new At(0);let c=a===!0?0:1,d,f,m=null,g=0,y=null;function x(w){let C=w.isScene===!0?w.background:null;return C&&C.isTexture&&(C=(w.backgroundBlurriness>0?t:e).get(C)),C}function S(w){let C=!1;const T=x(w);T===null?E(o,c):T&&T.isColor&&(E(T,1),C=!0);const O=r.xr.getEnvironmentBlendMode();O==="additive"?n.buffers.color.setClear(0,0,0,1,s):O==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,s),(r.autoClear||C)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil))}function _(w,C){const T=x(C);T&&(T.isCubeTexture||T.mapping===mp)?(f===void 0&&(f=new Tr(new Wd(1,1,1),new so({name:"BackgroundCubeMaterial",uniforms:ip(no.backgroundCube.uniforms),vertexShader:no.backgroundCube.vertexShader,fragmentShader:no.backgroundCube.fragmentShader,side:ya,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(O,R,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(f)),Yu.copy(C.backgroundRotation),Yu.x*=-1,Yu.y*=-1,Yu.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(Yu.y*=-1,Yu.z*=-1),f.material.uniforms.envMap.value=T,f.material.uniforms.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=C.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,f.material.uniforms.backgroundRotation.value.setFromMatrix4(vK.makeRotationFromEuler(Yu)),f.material.toneMapped=jn.getTransfer(T.colorSpace)!==ur,(m!==T||g!==T.version||y!==r.toneMapping)&&(f.material.needsUpdate=!0,m=T,g=T.version,y=r.toneMapping),f.layers.enableAll(),w.unshift(f,f.geometry,f.material,0,0,null)):T&&T.isTexture&&(d===void 0&&(d=new Tr(new yp(2,2),new so({name:"BackgroundMaterial",uniforms:ip(no.background.uniforms),vertexShader:no.background.vertexShader,fragmentShader:no.background.fragmentShader,side:$l,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(d)),d.material.uniforms.t2D.value=T,d.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,d.material.toneMapped=jn.getTransfer(T.colorSpace)!==ur,T.matrixAutoUpdate===!0&&T.updateMatrix(),d.material.uniforms.uvTransform.value.copy(T.matrix),(m!==T||g!==T.version||y!==r.toneMapping)&&(d.material.needsUpdate=!0,m=T,g=T.version,y=r.toneMapping),d.layers.enableAll(),w.unshift(d,d.geometry,d.material,0,0,null))}function E(w,C){w.getRGB(Kv,MD(r)),n.buffers.color.setClear(Kv.r,Kv.g,Kv.b,C,s)}return{getClearColor:function(){return o},setClearColor:function(w,C=1){o.set(w),c=C,E(o,c)},getClearAlpha:function(){return c},setClearAlpha:function(w){c=w,E(o,c)},render:S,addToRenderList:_}}function xK(r,e){const t=r.getParameter(r.MAX_VERTEX_ATTRIBS),n={},i=g(null);let a=i,s=!1;function o(I,V,q,W,ee){let te=!1;const re=m(W,q,V);a!==re&&(a=re,d(a.object)),te=y(I,W,q,ee),te&&x(I,W,q,ee),ee!==null&&e.update(ee,r.ELEMENT_ARRAY_BUFFER),(te||s)&&(s=!1,T(I,V,q,W),ee!==null&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e.get(ee).buffer))}function c(){return r.createVertexArray()}function d(I){return r.bindVertexArray(I)}function f(I){return r.deleteVertexArray(I)}function m(I,V,q){const W=q.wireframe===!0;let ee=n[I.id];ee===void 0&&(ee={},n[I.id]=ee);let te=ee[V.id];te===void 0&&(te={},ee[V.id]=te);let re=te[W];return re===void 0&&(re=g(c()),te[W]=re),re}function g(I){const V=[],q=[],W=[];for(let ee=0;ee<t;ee++)V[ee]=0,q[ee]=0,W[ee]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:V,enabledAttributes:q,attributeDivisors:W,object:I,attributes:{},index:null}}function y(I,V,q,W){const ee=a.attributes,te=V.attributes;let re=0;const ue=q.getAttributes();for(const G in ue)if(ue[G].location>=0){const oe=ee[G];let X=te[G];if(X===void 0&&(G==="instanceMatrix"&&I.instanceMatrix&&(X=I.instanceMatrix),G==="instanceColor"&&I.instanceColor&&(X=I.instanceColor)),oe===void 0||oe.attribute!==X||X&&oe.data!==X.data)return!0;re++}return a.attributesNum!==re||a.index!==W}function x(I,V,q,W){const ee={},te=V.attributes;let re=0;const ue=q.getAttributes();for(const G in ue)if(ue[G].location>=0){let oe=te[G];oe===void 0&&(G==="instanceMatrix"&&I.instanceMatrix&&(oe=I.instanceMatrix),G==="instanceColor"&&I.instanceColor&&(oe=I.instanceColor));const X={};X.attribute=oe,oe&&oe.data&&(X.data=oe.data),ee[G]=X,re++}a.attributes=ee,a.attributesNum=re,a.index=W}function S(){const I=a.newAttributes;for(let V=0,q=I.length;V<q;V++)I[V]=0}function _(I){E(I,0)}function E(I,V){const q=a.newAttributes,W=a.enabledAttributes,ee=a.attributeDivisors;q[I]=1,W[I]===0&&(r.enableVertexAttribArray(I),W[I]=1),ee[I]!==V&&(r.vertexAttribDivisor(I,V),ee[I]=V)}function w(){const I=a.newAttributes,V=a.enabledAttributes;for(let q=0,W=V.length;q<W;q++)V[q]!==I[q]&&(r.disableVertexAttribArray(q),V[q]=0)}function C(I,V,q,W,ee,te,re){re===!0?r.vertexAttribIPointer(I,V,q,ee,te):r.vertexAttribPointer(I,V,q,W,ee,te)}function T(I,V,q,W){S();const ee=W.attributes,te=q.getAttributes(),re=V.defaultAttributeValues;for(const ue in te){const G=te[ue];if(G.location>=0){let le=ee[ue];if(le===void 0&&(ue==="instanceMatrix"&&I.instanceMatrix&&(le=I.instanceMatrix),ue==="instanceColor"&&I.instanceColor&&(le=I.instanceColor)),le!==void 0){const oe=le.normalized,X=le.itemSize,ne=e.get(le);if(ne===void 0)continue;const we=ne.buffer,me=ne.type,ye=ne.bytesPerElement,Pe=me===r.INT||me===r.UNSIGNED_INT||le.gpuType===Px;if(le.isInterleavedBufferAttribute){const Le=le.data,Je=Le.stride,ot=le.offset;if(Le.isInstancedInterleavedBuffer){for(let ft=0;ft<G.locationSize;ft++)E(G.location+ft,Le.meshPerAttribute);I.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=Le.meshPerAttribute*Le.count)}else for(let ft=0;ft<G.locationSize;ft++)_(G.location+ft);r.bindBuffer(r.ARRAY_BUFFER,we);for(let ft=0;ft<G.locationSize;ft++)C(G.location+ft,X/G.locationSize,me,oe,Je*ye,(ot+X/G.locationSize*ft)*ye,Pe)}else{if(le.isInstancedBufferAttribute){for(let Le=0;Le<G.locationSize;Le++)E(G.location+Le,le.meshPerAttribute);I.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let Le=0;Le<G.locationSize;Le++)_(G.location+Le);r.bindBuffer(r.ARRAY_BUFFER,we);for(let Le=0;Le<G.locationSize;Le++)C(G.location+Le,X/G.locationSize,me,oe,X*ye,X/G.locationSize*Le*ye,Pe)}}else if(re!==void 0){const oe=re[ue];if(oe!==void 0)switch(oe.length){case 2:r.vertexAttrib2fv(G.location,oe);break;case 3:r.vertexAttrib3fv(G.location,oe);break;case 4:r.vertexAttrib4fv(G.location,oe);break;default:r.vertexAttrib1fv(G.location,oe)}}}}w()}function O(){N();for(const I in n){const V=n[I];for(const q in V){const W=V[q];for(const ee in W)f(W[ee].object),delete W[ee];delete V[q]}delete n[I]}}function R(I){if(n[I.id]===void 0)return;const V=n[I.id];for(const q in V){const W=V[q];for(const ee in W)f(W[ee].object),delete W[ee];delete V[q]}delete n[I.id]}function P(I){for(const V in n){const q=n[V];if(q[I.id]===void 0)continue;const W=q[I.id];for(const ee in W)f(W[ee].object),delete W[ee];delete q[I.id]}}function N(){D(),s=!0,a!==i&&(a=i,d(a.object))}function D(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:N,resetDefaultState:D,dispose:O,releaseStatesOfGeometry:R,releaseStatesOfProgram:P,initAttributes:S,enableAttribute:_,disableUnusedAttributes:w}}function SK(r,e,t){let n;function i(d){n=d}function a(d,f){r.drawArrays(n,d,f),t.update(f,n,1)}function s(d,f,m){m!==0&&(r.drawArraysInstanced(n,d,f,m),t.update(f,n,m))}function o(d,f,m){if(m===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,d,0,f,0,m);let y=0;for(let x=0;x<m;x++)y+=f[x];t.update(y,n,1)}function c(d,f,m,g){if(m===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let x=0;x<d.length;x++)s(d[x],f[x],g[x]);else{y.multiDrawArraysInstancedWEBGL(n,d,0,f,0,g,0,m);let x=0;for(let S=0;S<m;S++)x+=f[S];for(let S=0;S<g.length;S++)t.update(x,n,g[S])}}this.setMode=i,this.render=a,this.renderInstances=s,this.renderMultiDraw=o,this.renderMultiDrawInstances=c}function EK(r,e,t,n){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");i=r.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(R){return!(R!==Yi&&n.convert(R)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(R){const P=R===gp&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(R!==io&&n.convert(R)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_TYPE)&&R!==Ba&&!P)}function c(R){if(R==="highp"){if(r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.HIGH_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT).precision>0)return"highp";R="mediump"}return R==="mediump"&&r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.MEDIUM_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let d=t.precision!==void 0?t.precision:"highp";const f=c(d);f!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",f,"instead."),d=f);const m=t.logarithmicDepthBuffer===!0,g=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),y=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=r.getParameter(r.MAX_TEXTURE_SIZE),S=r.getParameter(r.MAX_CUBE_MAP_TEXTURE_SIZE),_=r.getParameter(r.MAX_VERTEX_ATTRIBS),E=r.getParameter(r.MAX_VERTEX_UNIFORM_VECTORS),w=r.getParameter(r.MAX_VARYING_VECTORS),C=r.getParameter(r.MAX_FRAGMENT_UNIFORM_VECTORS),T=y>0,O=r.getParameter(r.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:c,textureFormatReadable:s,textureTypeReadable:o,precision:d,logarithmicDepthBuffer:m,maxTextures:g,maxVertexTextures:y,maxTextureSize:x,maxCubemapSize:S,maxAttributes:_,maxVertexUniforms:E,maxVaryings:w,maxFragmentUniforms:C,vertexTextures:T,maxSamples:O}}function wK(r){const e=this;let t=null,n=0,i=!1,a=!1;const s=new Il,o=new vn,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(m,g){const y=m.length!==0||g||n!==0||i;return i=g,n=m.length,y},this.beginShadows=function(){a=!0,f(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(m,g){t=f(m,g,0)},this.setState=function(m,g,y){const x=m.clippingPlanes,S=m.clipIntersection,_=m.clipShadows,E=r.get(m);if(!i||x===null||x.length===0||a&&!_)a?f(null):d();else{const w=a?0:n,C=w*4;let T=E.clippingState||null;c.value=T,T=f(x,g,C,y);for(let O=0;O!==C;++O)T[O]=t[O];E.clippingState=T,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=w}};function d(){c.value!==t&&(c.value=t,c.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function f(m,g,y,x){const S=m!==null?m.length:0;let _=null;if(S!==0){if(_=c.value,x!==!0||_===null){const E=y+S*4,w=g.matrixWorldInverse;o.getNormalMatrix(w),(_===null||_.length<E)&&(_=new Float32Array(E));for(let C=0,T=y;C!==S;++C,T+=4)s.copy(m[C]).applyMatrix4(w,o),s.normal.toArray(_,T),_[T+3]=s.constant}c.value=_,c.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,_}}function CK(r){let e=new WeakMap;function t(s,o){return o===Mg?s.mapping=Wl:o===Tg&&(s.mapping=Qc),s}function n(s){if(s&&s.isTexture){const o=s.mapping;if(o===Mg||o===Tg)if(e.has(s)){const c=e.get(s).texture;return t(c,s.mapping)}else{const c=s.image;if(c&&c.height>0){const d=new Ab(c.height);return d.fromEquirectangularTexture(r,s),e.set(s,d),s.addEventListener("dispose",i),t(d.texture,s.mapping)}else return null}}return s}function i(s){const o=s.target;o.removeEventListener("dispose",i);const c=e.get(o);c!==void 0&&(e.delete(o),c.dispose())}function a(){e=new WeakMap}return{get:n,dispose:a}}class Dl extends vy{constructor(e=-1,t=1,n=1,i=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=n-e,s=n+e,o=i+t,c=i-t;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=d*this.view.offsetX,s=a+d*this.view.width,o-=f*this.view.offsetY,c=o-f*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Lh=4,SP=[.125,.215,.35,.446,.526,.582],ud=20,O1=new Dl,EP=new At;let k1=null,F1=0,D1=0,L1=!1;const ld=(1+Math.sqrt(5))/2,vh=1/ld,wP=[new ae(-ld,vh,0),new ae(ld,vh,0),new ae(-vh,0,ld),new ae(vh,0,ld),new ae(0,ld,-vh),new ae(0,ld,vh),new ae(-1,1,-1),new ae(1,1,-1),new ae(-1,1,1),new ae(1,1,1)];class iw{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100){k1=this._renderer.getRenderTarget(),F1=this._renderer.getActiveCubeFace(),D1=this._renderer.getActiveMipmapLevel(),L1=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,n,i,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=MP(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=bP(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(k1,F1,D1),this._renderer.xr.enabled=L1,e.scissorTest=!1,Jv(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Wl||e.mapping===Qc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),k1=this._renderer.getRenderTarget(),F1=this._renderer.getActiveCubeFace(),D1=this._renderer.getActiveMipmapLevel(),L1=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Qr,minFilter:Qr,generateMipmaps:!1,type:gp,format:Yi,colorSpace:ec,depthBuffer:!1},i=CP(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=CP(e,t,n);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=bK(a)),this._blurMaterial=MK(a,e,t)}return i}_compileMaterial(e){const t=new Tr(this._lodPlanes[0],e);this._renderer.compile(t,O1)}_sceneToCubeUV(e,t,n,i){const o=new Dr(90,1,t,n),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],f=this._renderer,m=f.autoClear,g=f.toneMapping;f.getClearColor(EP),f.toneMapping=Lo,f.autoClear=!1;const y=new Wo({name:"PMREM.Background",side:ya,depthWrite:!1,depthTest:!1}),x=new Tr(new Wd,y);let S=!1;const _=e.background;_?_.isColor&&(y.color.copy(_),e.background=null,S=!0):(y.color.copy(EP),S=!0);for(let E=0;E<6;E++){const w=E%3;w===0?(o.up.set(0,c[E],0),o.lookAt(d[E],0,0)):w===1?(o.up.set(0,0,c[E]),o.lookAt(0,d[E],0)):(o.up.set(0,c[E],0),o.lookAt(0,0,d[E]));const C=this._cubeSize;Jv(i,w*C,E>2?C:0,C,C),f.setRenderTarget(i),S&&f.render(x,o),f.render(e,o)}x.geometry.dispose(),x.material.dispose(),f.toneMapping=g,f.autoClear=m,e.background=_}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===Wl||e.mapping===Qc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=MP()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=bP());const a=i?this._cubemapMaterial:this._equirectMaterial,s=new Tr(this._lodPlanes[0],a),o=a.uniforms;o.envMap.value=e;const c=this._cubeSize;Jv(t,0,0,3*c,2*c),n.setRenderTarget(t),n.render(s,O1)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let a=1;a<i;a++){const s=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),o=wP[(i-a-1)%wP.length];this._blur(e,a-1,a,s,o)}t.autoClear=n}_blur(e,t,n,i,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,n,i,"latitudinal",a),this._halfBlur(s,e,n,n,i,"longitudinal",a)}_halfBlur(e,t,n,i,a,s,o){const c=this._renderer,d=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,m=new Tr(this._lodPlanes[i],d),g=d.uniforms,y=this._sizeLods[n]-1,x=isFinite(a)?Math.PI/(2*y):2*Math.PI/(2*ud-1),S=a/x,_=isFinite(a)?1+Math.floor(f*S):ud;_>ud&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${ud}`);const E=[];let w=0;for(let P=0;P<ud;++P){const N=P/S,D=Math.exp(-N*N/2);E.push(D),P===0?w+=D:P<_&&(w+=2*D)}for(let P=0;P<E.length;P++)E[P]=E[P]/w;g.envMap.value=e.texture,g.samples.value=_,g.weights.value=E,g.latitudinal.value=s==="latitudinal",o&&(g.poleAxis.value=o);const{_lodMax:C}=this;g.dTheta.value=x,g.mipInt.value=C-n;const T=this._sizeLods[i],O=3*T*(i>C-Lh?i-C+Lh:0),R=4*(this._cubeSize-T);Jv(t,O,R,3*T,2*T),c.setRenderTarget(t),c.render(m,O1)}}function bK(r){const e=[],t=[],n=[];let i=r;const a=r-Lh+1+SP.length;for(let s=0;s<a;s++){const o=Math.pow(2,i);t.push(o);let c=1/o;s>r-Lh?c=SP[s-r+Lh-1]:s===0&&(c=0),n.push(c);const d=1/(o-2),f=-d,m=1+d,g=[f,f,m,f,m,m,f,f,m,m,f,m],y=6,x=6,S=3,_=2,E=1,w=new Float32Array(S*x*y),C=new Float32Array(_*x*y),T=new Float32Array(E*x*y);for(let R=0;R<y;R++){const P=R%3*2/3-1,N=R>2?0:-1,D=[P,N,0,P+2/3,N,0,P+2/3,N+1,0,P,N,0,P+2/3,N+1,0,P,N+1,0];w.set(D,S*x*R),C.set(g,_*x*R);const I=[R,R,R,R,R,R];T.set(I,E*x*R)}const O=new xn;O.setAttribute("position",new Jn(w,S)),O.setAttribute("uv",new Jn(C,_)),O.setAttribute("faceIndex",new Jn(T,E)),e.push(O),i>Lh&&i--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function CP(r,e,t){const n=new ao(r,e,t);return n.texture.mapping=mp,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Jv(r,e,t,n,i){r.viewport.set(e,t,n,i),r.scissor.set(e,t,n,i)}function MK(r,e,t){const n=new Float32Array(ud),i=new ae(0,1,0);return new so({name:"SphericalGaussianBlur",defines:{n:ud,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Pb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Hl,depthTest:!1,depthWrite:!1})}function bP(){return new so({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Pb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Hl,depthTest:!1,depthWrite:!1})}function MP(){return new so({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Pb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Hl,depthTest:!1,depthWrite:!1})}function Pb(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function TK(r){let e=new WeakMap,t=null;function n(o){if(o&&o.isTexture){const c=o.mapping,d=c===Mg||c===Tg,f=c===Wl||c===Qc;if(d||f){let m=e.get(o);const g=m!==void 0?m.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==g)return t===null&&(t=new iw(r)),m=d?t.fromEquirectangular(o,m):t.fromCubemap(o,m),m.texture.pmremVersion=o.pmremVersion,e.set(o,m),m.texture;if(m!==void 0)return m.texture;{const y=o.image;return d&&y&&y.height>0||f&&y&&i(y)?(t===null&&(t=new iw(r)),m=d?t.fromEquirectangular(o):t.fromCubemap(o),m.texture.pmremVersion=o.pmremVersion,e.set(o,m),o.addEventListener("dispose",a),m.texture):null}}}return o}function i(o){let c=0;const d=6;for(let f=0;f<d;f++)o[f]!==void 0&&c++;return c===d}function a(o){const c=o.target;c.removeEventListener("dispose",a);const d=e.get(c);d!==void 0&&(e.delete(c),d.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:s}}function AK(r){const e={};function t(n){if(e[n]!==void 0)return e[n];let i;switch(n){case"WEBGL_depth_texture":i=r.getExtension("WEBGL_depth_texture")||r.getExtension("MOZ_WEBGL_depth_texture")||r.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=r.getExtension("WEBGL_compressed_texture_s3tc")||r.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=r.getExtension(n)}return e[n]=i,i}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const i=t(n);return i===null&&$h("THREE.WebGLRenderer: "+n+" extension not supported."),i}}}function PK(r,e,t,n){const i={},a=new WeakMap;function s(m){const g=m.target;g.index!==null&&e.remove(g.index);for(const x in g.attributes)e.remove(g.attributes[x]);for(const x in g.morphAttributes){const S=g.morphAttributes[x];for(let _=0,E=S.length;_<E;_++)e.remove(S[_])}g.removeEventListener("dispose",s),delete i[g.id];const y=a.get(g);y&&(e.remove(y),a.delete(g)),n.releaseStatesOfGeometry(g),g.isInstancedBufferGeometry===!0&&delete g._maxInstanceCount,t.memory.geometries--}function o(m,g){return i[g.id]===!0||(g.addEventListener("dispose",s),i[g.id]=!0,t.memory.geometries++),g}function c(m){const g=m.attributes;for(const x in g)e.update(g[x],r.ARRAY_BUFFER);const y=m.morphAttributes;for(const x in y){const S=y[x];for(let _=0,E=S.length;_<E;_++)e.update(S[_],r.ARRAY_BUFFER)}}function d(m){const g=[],y=m.index,x=m.attributes.position;let S=0;if(y!==null){const w=y.array;S=y.version;for(let C=0,T=w.length;C<T;C+=3){const O=w[C+0],R=w[C+1],P=w[C+2];g.push(O,R,R,P,P,O)}}else if(x!==void 0){const w=x.array;S=x.version;for(let C=0,T=w.length/3-1;C<T;C+=3){const O=C+0,R=C+1,P=C+2;g.push(O,R,R,P,P,O)}}else return;const _=new(SD(g)?Mb:bb)(g,1);_.version=S;const E=a.get(m);E&&e.remove(E),a.set(m,_)}function f(m){const g=a.get(m);if(g){const y=m.index;y!==null&&g.version<y.version&&d(m)}else d(m);return a.get(m)}return{get:o,update:c,getWireframeAttribute:f}}function RK(r,e,t){let n;function i(g){n=g}let a,s;function o(g){a=g.type,s=g.bytesPerElement}function c(g,y){r.drawElements(n,y,a,g*s),t.update(y,n,1)}function d(g,y,x){x!==0&&(r.drawElementsInstanced(n,y,a,g*s,x),t.update(y,n,x))}function f(g,y,x){if(x===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,y,0,a,g,0,x);let _=0;for(let E=0;E<x;E++)_+=y[E];t.update(_,n,1)}function m(g,y,x,S){if(x===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let E=0;E<g.length;E++)d(g[E]/s,y[E],S[E]);else{_.multiDrawElementsInstancedWEBGL(n,y,0,a,g,0,S,0,x);let E=0;for(let w=0;w<x;w++)E+=y[w];for(let w=0;w<S.length;w++)t.update(E,n,S[w])}}this.setMode=i,this.setIndex=o,this.render=c,this.renderInstances=d,this.renderMultiDraw=f,this.renderMultiDrawInstances=m}function IK(r){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(a,s,o){switch(t.calls++,s){case r.TRIANGLES:t.triangles+=o*(a/3);break;case r.LINES:t.lines+=o*(a/2);break;case r.LINE_STRIP:t.lines+=o*(a-1);break;case r.LINE_LOOP:t.lines+=o*a;break;case r.POINTS:t.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:n}}function OK(r,e,t){const n=new WeakMap,i=new Kn;function a(s,o,c){const d=s.morphTargetInfluences,f=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,m=f!==void 0?f.length:0;let g=n.get(o);if(g===void 0||g.count!==m){let I=function(){N.dispose(),n.delete(o),o.removeEventListener("dispose",I)};var y=I;g!==void 0&&g.texture.dispose();const x=o.morphAttributes.position!==void 0,S=o.morphAttributes.normal!==void 0,_=o.morphAttributes.color!==void 0,E=o.morphAttributes.position||[],w=o.morphAttributes.normal||[],C=o.morphAttributes.color||[];let T=0;x===!0&&(T=1),S===!0&&(T=2),_===!0&&(T=3);let O=o.attributes.position.count*T,R=1;O>e.maxTextureSize&&(R=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const P=new Float32Array(O*R*4*m),N=new Nx(P,O,R,m);N.type=Ba,N.needsUpdate=!0;const D=T*4;for(let V=0;V<m;V++){const q=E[V],W=w[V],ee=C[V],te=O*R*4*V;for(let re=0;re<q.count;re++){const ue=re*D;x===!0&&(i.fromBufferAttribute(q,re),P[te+ue+0]=i.x,P[te+ue+1]=i.y,P[te+ue+2]=i.z,P[te+ue+3]=0),S===!0&&(i.fromBufferAttribute(W,re),P[te+ue+4]=i.x,P[te+ue+5]=i.y,P[te+ue+6]=i.z,P[te+ue+7]=0),_===!0&&(i.fromBufferAttribute(ee,re),P[te+ue+8]=i.x,P[te+ue+9]=i.y,P[te+ue+10]=i.z,P[te+ue+11]=ee.itemSize===4?i.w:1)}}g={count:m,texture:N,size:new Qe(O,R)},n.set(o,g),o.addEventListener("dispose",I)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)c.getUniforms().setValue(r,"morphTexture",s.morphTexture,t);else{let x=0;for(let _=0;_<d.length;_++)x+=d[_];const S=o.morphTargetsRelative?1:1-x;c.getUniforms().setValue(r,"morphTargetBaseInfluence",S),c.getUniforms().setValue(r,"morphTargetInfluences",d)}c.getUniforms().setValue(r,"morphTargetsTexture",g.texture,t),c.getUniforms().setValue(r,"morphTargetsTextureSize",g.size)}return{update:a}}function kK(r,e,t,n){let i=new WeakMap;function a(c){const d=n.render.frame,f=c.geometry,m=e.get(c,f);if(i.get(m)!==d&&(e.update(m),i.set(m,d)),c.isInstancedMesh&&(c.hasEventListener("dispose",o)===!1&&c.addEventListener("dispose",o),i.get(c)!==d&&(t.update(c.instanceMatrix,r.ARRAY_BUFFER),c.instanceColor!==null&&t.update(c.instanceColor,r.ARRAY_BUFFER),i.set(c,d))),c.isSkinnedMesh){const g=c.skeleton;i.get(g)!==d&&(g.update(),i.set(g,d))}return m}function s(){i=new WeakMap}function o(c){const d=c.target;d.removeEventListener("dispose",o),t.remove(d.instanceMatrix),d.instanceColor!==null&&t.remove(d.instanceColor)}return{update:a,dispose:s}}class Rb extends Ar{constructor(e,t,n,i,a,s,o,c,d,f=bd){if(f!==bd&&f!==Fd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&f===bd&&(n=Gl),n===void 0&&f===Fd&&(n=kd),super(null,i,a,s,o,c,f,n,d),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:xi,this.minFilter=c!==void 0?c:xi,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const PD=new Ar,TP=new Rb(1,1),RD=new Nx,ID=new Cb,OD=new _y,AP=[],PP=[],RP=new Float32Array(16),IP=new Float32Array(9),OP=new Float32Array(4);function vp(r,e,t){const n=r[0];if(n<=0||n>0)return r;const i=e*t;let a=AP[i];if(a===void 0&&(a=new Float32Array(i),AP[i]=a),e!==0){n.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=t,r[s].toArray(a,o)}return a}function si(r,e){if(r.length!==e.length)return!1;for(let t=0,n=r.length;t<n;t++)if(r[t]!==e[t])return!1;return!0}function oi(r,e){for(let t=0,n=e.length;t<n;t++)r[t]=e[t]}function Ux(r,e){let t=PP[e];t===void 0&&(t=new Int32Array(e),PP[e]=t);for(let n=0;n!==e;++n)t[n]=r.allocateTextureUnit();return t}function FK(r,e){const t=this.cache;t[0]!==e&&(r.uniform1f(this.addr,e),t[0]=e)}function DK(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(si(t,e))return;r.uniform2fv(this.addr,e),oi(t,e)}}function LK(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(r.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(si(t,e))return;r.uniform3fv(this.addr,e),oi(t,e)}}function NK(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(si(t,e))return;r.uniform4fv(this.addr,e),oi(t,e)}}function UK(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(si(t,e))return;r.uniformMatrix2fv(this.addr,!1,e),oi(t,e)}else{if(si(t,n))return;OP.set(n),r.uniformMatrix2fv(this.addr,!1,OP),oi(t,n)}}function BK(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(si(t,e))return;r.uniformMatrix3fv(this.addr,!1,e),oi(t,e)}else{if(si(t,n))return;IP.set(n),r.uniformMatrix3fv(this.addr,!1,IP),oi(t,n)}}function zK(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(si(t,e))return;r.uniformMatrix4fv(this.addr,!1,e),oi(t,e)}else{if(si(t,n))return;RP.set(n),r.uniformMatrix4fv(this.addr,!1,RP),oi(t,n)}}function VK(r,e){const t=this.cache;t[0]!==e&&(r.uniform1i(this.addr,e),t[0]=e)}function HK(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(si(t,e))return;r.uniform2iv(this.addr,e),oi(t,e)}}function jK(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(si(t,e))return;r.uniform3iv(this.addr,e),oi(t,e)}}function $K(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(si(t,e))return;r.uniform4iv(this.addr,e),oi(t,e)}}function WK(r,e){const t=this.cache;t[0]!==e&&(r.uniform1ui(this.addr,e),t[0]=e)}function GK(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(si(t,e))return;r.uniform2uiv(this.addr,e),oi(t,e)}}function qK(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(si(t,e))return;r.uniform3uiv(this.addr,e),oi(t,e)}}function XK(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(si(t,e))return;r.uniform4uiv(this.addr,e),oi(t,e)}}function YK(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i);let a;this.type===r.SAMPLER_2D_SHADOW?(TP.compareFunction=Eb,a=TP):a=PD,t.setTexture2D(e||a,i)}function QK(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture3D(e||ID,i)}function KK(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTextureCube(e||OD,i)}function JK(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture2DArray(e||RD,i)}function ZK(r){switch(r){case 5126:return FK;case 35664:return DK;case 35665:return LK;case 35666:return NK;case 35674:return UK;case 35675:return BK;case 35676:return zK;case 5124:case 35670:return VK;case 35667:case 35671:return HK;case 35668:case 35672:return jK;case 35669:case 35673:return $K;case 5125:return WK;case 36294:return GK;case 36295:return qK;case 36296:return XK;case 35678:case 36198:case 36298:case 36306:case 35682:return YK;case 35679:case 36299:case 36307:return QK;case 35680:case 36300:case 36308:case 36293:return KK;case 36289:case 36303:case 36311:case 36292:return JK}}function eJ(r,e){r.uniform1fv(this.addr,e)}function tJ(r,e){const t=vp(e,this.size,2);r.uniform2fv(this.addr,t)}function nJ(r,e){const t=vp(e,this.size,3);r.uniform3fv(this.addr,t)}function rJ(r,e){const t=vp(e,this.size,4);r.uniform4fv(this.addr,t)}function iJ(r,e){const t=vp(e,this.size,4);r.uniformMatrix2fv(this.addr,!1,t)}function aJ(r,e){const t=vp(e,this.size,9);r.uniformMatrix3fv(this.addr,!1,t)}function sJ(r,e){const t=vp(e,this.size,16);r.uniformMatrix4fv(this.addr,!1,t)}function oJ(r,e){r.uniform1iv(this.addr,e)}function lJ(r,e){r.uniform2iv(this.addr,e)}function cJ(r,e){r.uniform3iv(this.addr,e)}function uJ(r,e){r.uniform4iv(this.addr,e)}function dJ(r,e){r.uniform1uiv(this.addr,e)}function fJ(r,e){r.uniform2uiv(this.addr,e)}function hJ(r,e){r.uniform3uiv(this.addr,e)}function pJ(r,e){r.uniform4uiv(this.addr,e)}function mJ(r,e,t){const n=this.cache,i=e.length,a=Ux(t,i);si(n,a)||(r.uniform1iv(this.addr,a),oi(n,a));for(let s=0;s!==i;++s)t.setTexture2D(e[s]||PD,a[s])}function gJ(r,e,t){const n=this.cache,i=e.length,a=Ux(t,i);si(n,a)||(r.uniform1iv(this.addr,a),oi(n,a));for(let s=0;s!==i;++s)t.setTexture3D(e[s]||ID,a[s])}function yJ(r,e,t){const n=this.cache,i=e.length,a=Ux(t,i);si(n,a)||(r.uniform1iv(this.addr,a),oi(n,a));for(let s=0;s!==i;++s)t.setTextureCube(e[s]||OD,a[s])}function vJ(r,e,t){const n=this.cache,i=e.length,a=Ux(t,i);si(n,a)||(r.uniform1iv(this.addr,a),oi(n,a));for(let s=0;s!==i;++s)t.setTexture2DArray(e[s]||RD,a[s])}function _J(r){switch(r){case 5126:return eJ;case 35664:return tJ;case 35665:return nJ;case 35666:return rJ;case 35674:return iJ;case 35675:return aJ;case 35676:return sJ;case 5124:case 35670:return oJ;case 35667:case 35671:return lJ;case 35668:case 35672:return cJ;case 35669:case 35673:return uJ;case 5125:return dJ;case 36294:return fJ;case 36295:return hJ;case 36296:return pJ;case 35678:case 36198:case 36298:case 36306:case 35682:return mJ;case 35679:case 36299:case 36307:return gJ;case 35680:case 36300:case 36308:case 36293:return yJ;case 36289:case 36303:case 36311:case 36292:return vJ}}class xJ{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=ZK(t.type)}}class SJ{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=_J(t.type)}}class EJ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let a=0,s=i.length;a!==s;++a){const o=i[a];o.setValue(e,t[o.id],n)}}}const N1=/(\w+)(\])?(\[|\.)?/g;function kP(r,e){r.seq.push(e),r.map[e.id]=e}function wJ(r,e,t){const n=r.name,i=n.length;for(N1.lastIndex=0;;){const a=N1.exec(n),s=N1.lastIndex;let o=a[1];const c=a[2]==="]",d=a[3];if(c&&(o=o|0),d===void 0||d==="["&&s+2===i){kP(t,d===void 0?new xJ(o,r,e):new SJ(o,r,e));break}else{let m=t.map[o];m===void 0&&(m=new EJ(o),kP(t,m)),t=m}}}class H0{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;++i){const a=e.getActiveUniform(t,i),s=e.getUniformLocation(t,a.name);wJ(a,s,this)}}setValue(e,t,n,i){const a=this.map[t];a!==void 0&&a.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let a=0,s=t.length;a!==s;++a){const o=t[a],c=n[o.id];c.needsUpdate!==!1&&o.setValue(e,c.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,a=e.length;i!==a;++i){const s=e[i];s.id in t&&n.push(s)}return n}}function FP(r,e,t){const n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n}const CJ=37297;let bJ=0;function MJ(r,e){const t=r.split(`
`),n=[],i=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=i;s<a;s++){const o=s+1;n.push(`${o===e?">":" "} ${o}: ${t[s]}`)}return n.join(`
`)}function TJ(r){const e=jn.getPrimaries(jn.workingColorSpace),t=jn.getPrimaries(r);let n;switch(e===t?n="":e===Fg&&t===kg?n="LinearDisplayP3ToLinearSRGB":e===kg&&t===Fg&&(n="LinearSRGBToLinearDisplayP3"),r){case ec:case yy:return[n,"LinearTransferOETF"];case Ss:case Lx:return[n,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",r),[n,"LinearTransferOETF"]}}function DP(r,e,t){const n=r.getShaderParameter(e,r.COMPILE_STATUS),i=r.getShaderInfoLog(e).trim();if(n&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const s=parseInt(a[1]);return t.toUpperCase()+`

`+i+`

`+MJ(r.getShaderSource(e),s)}else return i}function AJ(r,e){const t=TJ(e);return`vec4 ${r}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function PJ(r,e){let t;switch(e){case tD:t="Linear";break;case nD:t="Reinhard";break;case rD:t="OptimizedCineon";break;case ub:t="ACESFilmic";break;case aD:t="AgX";break;case sD:t="Neutral";break;case iD:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+r+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Zv=new ae;function RJ(){jn.getLuminanceCoefficients(Zv);const r=Zv.x.toFixed(4),e=Zv.y.toFixed(4),t=Zv.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${r}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function IJ(r){return[r.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",r.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter($m).join(`
`)}function OJ(r){const e=[];for(const t in r){const n=r[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function kJ(r,e){const t={},n=r.getProgramParameter(e,r.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const a=r.getActiveAttrib(e,i),s=a.name;let o=1;a.type===r.FLOAT_MAT2&&(o=2),a.type===r.FLOAT_MAT3&&(o=3),a.type===r.FLOAT_MAT4&&(o=4),t[s]={type:a.type,location:r.getAttribLocation(e,s),locationSize:o}}return t}function $m(r){return r!==""}function LP(r,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return r.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function NP(r,e){return r.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const FJ=/^[ \t]*#include +<([\w\d./]+)>/gm;function aw(r){return r.replace(FJ,LJ)}const DJ=new Map;function LJ(r,e){let t=En[e];if(t===void 0){const n=DJ.get(e);if(n!==void 0)t=En[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return aw(t)}const NJ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function UP(r){return r.replace(NJ,UJ)}function UJ(r,e,t,n){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function BP(r){let e=`precision ${r.precision} float;
	precision ${r.precision} int;
	precision ${r.precision} sampler2D;
	precision ${r.precision} samplerCube;
	precision ${r.precision} sampler3D;
	precision ${r.precision} sampler2DArray;
	precision ${r.precision} sampler2DShadow;
	precision ${r.precision} samplerCubeShadow;
	precision ${r.precision} sampler2DArrayShadow;
	precision ${r.precision} isampler2D;
	precision ${r.precision} isampler3D;
	precision ${r.precision} isamplerCube;
	precision ${r.precision} isampler2DArray;
	precision ${r.precision} usampler2D;
	precision ${r.precision} usampler3D;
	precision ${r.precision} usamplerCube;
	precision ${r.precision} usampler2DArray;
	`;return r.precision==="highp"?e+=`
#define HIGH_PRECISION`:r.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:r.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function BJ(r){let e="SHADOWMAP_TYPE_BASIC";return r.shadowMapType===Tx?e="SHADOWMAP_TYPE_PCF":r.shadowMapType===Ym?e="SHADOWMAP_TYPE_PCF_SOFT":r.shadowMapType===Zs&&(e="SHADOWMAP_TYPE_VSM"),e}function zJ(r){let e="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case Wl:case Qc:e="ENVMAP_TYPE_CUBE";break;case mp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function VJ(r){let e="ENVMAP_MODE_REFLECTION";if(r.envMap)switch(r.envMapMode){case Qc:e="ENVMAP_MODE_REFRACTION";break}return e}function HJ(r){let e="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case my:e="ENVMAP_BLENDING_MULTIPLY";break;case Z3:e="ENVMAP_BLENDING_MIX";break;case eD:e="ENVMAP_BLENDING_ADD";break}return e}function jJ(r){const e=r.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function $J(r,e,t,n){const i=r.getContext(),a=t.defines;let s=t.vertexShader,o=t.fragmentShader;const c=BJ(t),d=zJ(t),f=VJ(t),m=HJ(t),g=jJ(t),y=IJ(t),x=OJ(a),S=i.createProgram();let _,E,w=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter($m).join(`
`),_.length>0&&(_+=`
`),E=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter($m).join(`
`),E.length>0&&(E+=`
`)):(_=[BP(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter($m).join(`
`),E=[BP(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.envMap?"#define "+f:"",t.envMap?"#define "+m:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Lo?"#define TONE_MAPPING":"",t.toneMapping!==Lo?En.tonemapping_pars_fragment:"",t.toneMapping!==Lo?PJ("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",En.colorspace_pars_fragment,AJ("linearToOutputTexel",t.outputColorSpace),RJ(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter($m).join(`
`)),s=aw(s),s=LP(s,t),s=NP(s,t),o=aw(o),o=LP(o,t),o=NP(o,t),s=UP(s),o=UP(o),t.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,_=[y,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,E=["#define varying in",t.glslVersion===rw?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===rw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+E);const C=w+_+s,T=w+E+o,O=FP(i,i.VERTEX_SHADER,C),R=FP(i,i.FRAGMENT_SHADER,T);i.attachShader(S,O),i.attachShader(S,R),t.index0AttributeName!==void 0?i.bindAttribLocation(S,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(S,0,"position"),i.linkProgram(S);function P(V){if(r.debug.checkShaderErrors){const q=i.getProgramInfoLog(S).trim(),W=i.getShaderInfoLog(O).trim(),ee=i.getShaderInfoLog(R).trim();let te=!0,re=!0;if(i.getProgramParameter(S,i.LINK_STATUS)===!1)if(te=!1,typeof r.debug.onShaderError=="function")r.debug.onShaderError(i,S,O,R);else{const ue=DP(i,O,"vertex"),G=DP(i,R,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(S,i.VALIDATE_STATUS)+`

Material Name: `+V.name+`
Material Type: `+V.type+`

Program Info Log: `+q+`
`+ue+`
`+G)}else q!==""?console.warn("THREE.WebGLProgram: Program Info Log:",q):(W===""||ee==="")&&(re=!1);re&&(V.diagnostics={runnable:te,programLog:q,vertexShader:{log:W,prefix:_},fragmentShader:{log:ee,prefix:E}})}i.deleteShader(O),i.deleteShader(R),N=new H0(i,S),D=kJ(i,S)}let N;this.getUniforms=function(){return N===void 0&&P(this),N};let D;this.getAttributes=function(){return D===void 0&&P(this),D};let I=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return I===!1&&(I=i.getProgramParameter(S,CJ)),I},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(S),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=bJ++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=O,this.fragmentShader=R,this}let WJ=0;class GJ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),a=this._getShaderStage(n),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new qJ(e),t.set(e,n)),n}}class qJ{constructor(e){this.id=WJ++,this.code=e,this.usedTimes=0}}function XJ(r,e,t,n,i,a,s){const o=new Td,c=new GJ,d=new Set,f=[],m=i.logarithmicDepthBuffer,g=i.vertexTextures;let y=i.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(D){return d.add(D),D===0?"uv":`uv${D}`}function _(D,I,V,q,W){const ee=q.fog,te=W.geometry,re=D.isMeshStandardMaterial?q.environment:null,ue=(D.isMeshStandardMaterial?t:e).get(D.envMap||re),G=ue&&ue.mapping===mp?ue.image.height:null,le=x[D.type];D.precision!==null&&(y=i.getMaxPrecision(D.precision),y!==D.precision&&console.warn("THREE.WebGLProgram.getParameters:",D.precision,"not supported, using",y,"instead."));const oe=te.morphAttributes.position||te.morphAttributes.normal||te.morphAttributes.color,X=oe!==void 0?oe.length:0;let ne=0;te.morphAttributes.position!==void 0&&(ne=1),te.morphAttributes.normal!==void 0&&(ne=2),te.morphAttributes.color!==void 0&&(ne=3);let we,me,ye,Pe;if(le){const Re=no[le];we=Re.vertexShader,me=Re.fragmentShader}else we=D.vertexShader,me=D.fragmentShader,c.update(D),ye=c.getVertexShaderID(D),Pe=c.getFragmentShaderID(D);const Le=r.getRenderTarget(),Je=W.isInstancedMesh===!0,ot=W.isBatchedMesh===!0,ft=!!D.map,wt=!!D.matcap,Z=!!ue,Be=!!D.aoMap,Ge=!!D.lightMap,qe=!!D.bumpMap,Ue=!!D.normalMap,xt=!!D.displacementMap,st=!!D.emissiveMap,yt=!!D.metalnessMap,se=!!D.roughnessMap,K=D.anisotropy>0,Ce=D.clearcoat>0,Xe=D.dispersion>0,Ye=D.iridescence>0,We=D.sheen>0,Et=D.transmission>0,$=K&&!!D.anisotropyMap,F=Ce&&!!D.clearcoatMap,B=Ce&&!!D.clearcoatNormalMap,Q=Ce&&!!D.clearcoatRoughnessMap,ie=Ye&&!!D.iridescenceMap,pe=Ye&&!!D.iridescenceThicknessMap,ve=We&&!!D.sheenColorMap,Ve=We&&!!D.sheenRoughnessMap,de=!!D.specularMap,ke=!!D.specularColorMap,tt=!!D.specularIntensityMap,fe=Et&&!!D.transmissionMap,Ke=Et&&!!D.thicknessMap,He=!!D.gradientMap,$e=!!D.alphaMap,lt=D.alphaTest>0,Ut=!!D.alphaHash,Xt=!!D.extensions;let ge=Lo;D.toneMapped&&(Le===null||Le.isXRRenderTarget===!0)&&(ge=r.toneMapping);const Me={shaderID:le,shaderType:D.type,shaderName:D.name,vertexShader:we,fragmentShader:me,defines:D.defines,customVertexShaderID:ye,customFragmentShaderID:Pe,isRawShaderMaterial:D.isRawShaderMaterial===!0,glslVersion:D.glslVersion,precision:y,batching:ot,batchingColor:ot&&W._colorsTexture!==null,instancing:Je,instancingColor:Je&&W.instanceColor!==null,instancingMorph:Je&&W.morphTexture!==null,supportsVertexTextures:g,outputColorSpace:Le===null?r.outputColorSpace:Le.isXRRenderTarget===!0?Le.texture.colorSpace:ec,alphaToCoverage:!!D.alphaToCoverage,map:ft,matcap:wt,envMap:Z,envMapMode:Z&&ue.mapping,envMapCubeUVHeight:G,aoMap:Be,lightMap:Ge,bumpMap:qe,normalMap:Ue,displacementMap:g&&xt,emissiveMap:st,normalMapObjectSpace:Ue&&D.normalMapType===hD,normalMapTangentSpace:Ue&&D.normalMapType===tu,metalnessMap:yt,roughnessMap:se,anisotropy:K,anisotropyMap:$,clearcoat:Ce,clearcoatMap:F,clearcoatNormalMap:B,clearcoatRoughnessMap:Q,dispersion:Xe,iridescence:Ye,iridescenceMap:ie,iridescenceThicknessMap:pe,sheen:We,sheenColorMap:ve,sheenRoughnessMap:Ve,specularMap:de,specularColorMap:ke,specularIntensityMap:tt,transmission:Et,transmissionMap:fe,thicknessMap:Ke,gradientMap:He,opaque:D.transparent===!1&&D.blending===Cd&&D.alphaToCoverage===!1,alphaMap:$e,alphaTest:lt,alphaHash:Ut,combine:D.combine,mapUv:ft&&S(D.map.channel),aoMapUv:Be&&S(D.aoMap.channel),lightMapUv:Ge&&S(D.lightMap.channel),bumpMapUv:qe&&S(D.bumpMap.channel),normalMapUv:Ue&&S(D.normalMap.channel),displacementMapUv:xt&&S(D.displacementMap.channel),emissiveMapUv:st&&S(D.emissiveMap.channel),metalnessMapUv:yt&&S(D.metalnessMap.channel),roughnessMapUv:se&&S(D.roughnessMap.channel),anisotropyMapUv:$&&S(D.anisotropyMap.channel),clearcoatMapUv:F&&S(D.clearcoatMap.channel),clearcoatNormalMapUv:B&&S(D.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Q&&S(D.clearcoatRoughnessMap.channel),iridescenceMapUv:ie&&S(D.iridescenceMap.channel),iridescenceThicknessMapUv:pe&&S(D.iridescenceThicknessMap.channel),sheenColorMapUv:ve&&S(D.sheenColorMap.channel),sheenRoughnessMapUv:Ve&&S(D.sheenRoughnessMap.channel),specularMapUv:de&&S(D.specularMap.channel),specularColorMapUv:ke&&S(D.specularColorMap.channel),specularIntensityMapUv:tt&&S(D.specularIntensityMap.channel),transmissionMapUv:fe&&S(D.transmissionMap.channel),thicknessMapUv:Ke&&S(D.thicknessMap.channel),alphaMapUv:$e&&S(D.alphaMap.channel),vertexTangents:!!te.attributes.tangent&&(Ue||K),vertexColors:D.vertexColors,vertexAlphas:D.vertexColors===!0&&!!te.attributes.color&&te.attributes.color.itemSize===4,pointsUvs:W.isPoints===!0&&!!te.attributes.uv&&(ft||$e),fog:!!ee,useFog:D.fog===!0,fogExp2:!!ee&&ee.isFogExp2,flatShading:D.flatShading===!0,sizeAttenuation:D.sizeAttenuation===!0,logarithmicDepthBuffer:m,skinning:W.isSkinnedMesh===!0,morphTargets:te.morphAttributes.position!==void 0,morphNormals:te.morphAttributes.normal!==void 0,morphColors:te.morphAttributes.color!==void 0,morphTargetsCount:X,morphTextureStride:ne,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numLightProbes:I.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:D.dithering,shadowMapEnabled:r.shadowMap.enabled&&V.length>0,shadowMapType:r.shadowMap.type,toneMapping:ge,decodeVideoTexture:ft&&D.map.isVideoTexture===!0&&jn.getTransfer(D.map.colorSpace)===ur,premultipliedAlpha:D.premultipliedAlpha,doubleSided:D.side===Io,flipSided:D.side===ya,useDepthPacking:D.depthPacking>=0,depthPacking:D.depthPacking||0,index0AttributeName:D.index0AttributeName,extensionClipCullDistance:Xt&&D.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Xt&&D.extensions.multiDraw===!0||ot)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:D.customProgramCacheKey()};return Me.vertexUv1s=d.has(1),Me.vertexUv2s=d.has(2),Me.vertexUv3s=d.has(3),d.clear(),Me}function E(D){const I=[];if(D.shaderID?I.push(D.shaderID):(I.push(D.customVertexShaderID),I.push(D.customFragmentShaderID)),D.defines!==void 0)for(const V in D.defines)I.push(V),I.push(D.defines[V]);return D.isRawShaderMaterial===!1&&(w(I,D),C(I,D),I.push(r.outputColorSpace)),I.push(D.customProgramCacheKey),I.join()}function w(D,I){D.push(I.precision),D.push(I.outputColorSpace),D.push(I.envMapMode),D.push(I.envMapCubeUVHeight),D.push(I.mapUv),D.push(I.alphaMapUv),D.push(I.lightMapUv),D.push(I.aoMapUv),D.push(I.bumpMapUv),D.push(I.normalMapUv),D.push(I.displacementMapUv),D.push(I.emissiveMapUv),D.push(I.metalnessMapUv),D.push(I.roughnessMapUv),D.push(I.anisotropyMapUv),D.push(I.clearcoatMapUv),D.push(I.clearcoatNormalMapUv),D.push(I.clearcoatRoughnessMapUv),D.push(I.iridescenceMapUv),D.push(I.iridescenceThicknessMapUv),D.push(I.sheenColorMapUv),D.push(I.sheenRoughnessMapUv),D.push(I.specularMapUv),D.push(I.specularColorMapUv),D.push(I.specularIntensityMapUv),D.push(I.transmissionMapUv),D.push(I.thicknessMapUv),D.push(I.combine),D.push(I.fogExp2),D.push(I.sizeAttenuation),D.push(I.morphTargetsCount),D.push(I.morphAttributeCount),D.push(I.numDirLights),D.push(I.numPointLights),D.push(I.numSpotLights),D.push(I.numSpotLightMaps),D.push(I.numHemiLights),D.push(I.numRectAreaLights),D.push(I.numDirLightShadows),D.push(I.numPointLightShadows),D.push(I.numSpotLightShadows),D.push(I.numSpotLightShadowsWithMaps),D.push(I.numLightProbes),D.push(I.shadowMapType),D.push(I.toneMapping),D.push(I.numClippingPlanes),D.push(I.numClipIntersection),D.push(I.depthPacking)}function C(D,I){o.disableAll(),I.supportsVertexTextures&&o.enable(0),I.instancing&&o.enable(1),I.instancingColor&&o.enable(2),I.instancingMorph&&o.enable(3),I.matcap&&o.enable(4),I.envMap&&o.enable(5),I.normalMapObjectSpace&&o.enable(6),I.normalMapTangentSpace&&o.enable(7),I.clearcoat&&o.enable(8),I.iridescence&&o.enable(9),I.alphaTest&&o.enable(10),I.vertexColors&&o.enable(11),I.vertexAlphas&&o.enable(12),I.vertexUv1s&&o.enable(13),I.vertexUv2s&&o.enable(14),I.vertexUv3s&&o.enable(15),I.vertexTangents&&o.enable(16),I.anisotropy&&o.enable(17),I.alphaHash&&o.enable(18),I.batching&&o.enable(19),I.dispersion&&o.enable(20),I.batchingColor&&o.enable(21),D.push(o.mask),o.disableAll(),I.fog&&o.enable(0),I.useFog&&o.enable(1),I.flatShading&&o.enable(2),I.logarithmicDepthBuffer&&o.enable(3),I.skinning&&o.enable(4),I.morphTargets&&o.enable(5),I.morphNormals&&o.enable(6),I.morphColors&&o.enable(7),I.premultipliedAlpha&&o.enable(8),I.shadowMapEnabled&&o.enable(9),I.doubleSided&&o.enable(10),I.flipSided&&o.enable(11),I.useDepthPacking&&o.enable(12),I.dithering&&o.enable(13),I.transmission&&o.enable(14),I.sheen&&o.enable(15),I.opaque&&o.enable(16),I.pointsUvs&&o.enable(17),I.decodeVideoTexture&&o.enable(18),I.alphaToCoverage&&o.enable(19),D.push(o.mask)}function T(D){const I=x[D.type];let V;if(I){const q=no[I];V=TD.clone(q.uniforms)}else V=D.uniforms;return V}function O(D,I){let V;for(let q=0,W=f.length;q<W;q++){const ee=f[q];if(ee.cacheKey===I){V=ee,++V.usedTimes;break}}return V===void 0&&(V=new $J(r,I,D,a),f.push(V)),V}function R(D){if(--D.usedTimes===0){const I=f.indexOf(D);f[I]=f[f.length-1],f.pop(),D.destroy()}}function P(D){c.remove(D)}function N(){c.dispose()}return{getParameters:_,getProgramCacheKey:E,getUniforms:T,acquireProgram:O,releaseProgram:R,releaseShaderCache:P,programs:f,dispose:N}}function YJ(){let r=new WeakMap;function e(a){let s=r.get(a);return s===void 0&&(s={},r.set(a,s)),s}function t(a){r.delete(a)}function n(a,s,o){r.get(a)[s]=o}function i(){r=new WeakMap}return{get:e,remove:t,update:n,dispose:i}}function QJ(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.material.id!==e.material.id?r.material.id-e.material.id:r.z!==e.z?r.z-e.z:r.id-e.id}function zP(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?e.z-r.z:r.id-e.id}function VP(){const r=[];let e=0;const t=[],n=[],i=[];function a(){e=0,t.length=0,n.length=0,i.length=0}function s(m,g,y,x,S,_){let E=r[e];return E===void 0?(E={id:m.id,object:m,geometry:g,material:y,groupOrder:x,renderOrder:m.renderOrder,z:S,group:_},r[e]=E):(E.id=m.id,E.object=m,E.geometry=g,E.material=y,E.groupOrder=x,E.renderOrder=m.renderOrder,E.z=S,E.group=_),e++,E}function o(m,g,y,x,S,_){const E=s(m,g,y,x,S,_);y.transmission>0?n.push(E):y.transparent===!0?i.push(E):t.push(E)}function c(m,g,y,x,S,_){const E=s(m,g,y,x,S,_);y.transmission>0?n.unshift(E):y.transparent===!0?i.unshift(E):t.unshift(E)}function d(m,g){t.length>1&&t.sort(m||QJ),n.length>1&&n.sort(g||zP),i.length>1&&i.sort(g||zP)}function f(){for(let m=e,g=r.length;m<g;m++){const y=r[m];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:t,transmissive:n,transparent:i,init:a,push:o,unshift:c,finish:f,sort:d}}function KJ(){let r=new WeakMap;function e(n,i){const a=r.get(n);let s;return a===void 0?(s=new VP,r.set(n,[s])):i>=a.length?(s=new VP,a.push(s)):s=a[i],s}function t(){r=new WeakMap}return{get:e,dispose:t}}function JJ(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ae,color:new At};break;case"SpotLight":t={position:new ae,direction:new ae,color:new At,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ae,color:new At,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ae,skyColor:new At,groundColor:new At};break;case"RectAreaLight":t={color:new At,position:new ae,halfWidth:new ae,halfHeight:new ae};break}return r[e.id]=t,t}}}function ZJ(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qe};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qe};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qe,shadowCameraNear:1,shadowCameraFar:1e3};break}return r[e.id]=t,t}}}let eZ=0;function tZ(r,e){return(e.castShadow?2:0)-(r.castShadow?2:0)+(e.map?1:0)-(r.map?1:0)}function nZ(r){const e=new JJ,t=ZJ(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)n.probe.push(new ae);const i=new ae,a=new an,s=new an;function o(d){let f=0,m=0,g=0;for(let D=0;D<9;D++)n.probe[D].set(0,0,0);let y=0,x=0,S=0,_=0,E=0,w=0,C=0,T=0,O=0,R=0,P=0;d.sort(tZ);for(let D=0,I=d.length;D<I;D++){const V=d[D],q=V.color,W=V.intensity,ee=V.distance,te=V.shadow&&V.shadow.map?V.shadow.map.texture:null;if(V.isAmbientLight)f+=q.r*W,m+=q.g*W,g+=q.b*W;else if(V.isLightProbe){for(let re=0;re<9;re++)n.probe[re].addScaledVector(V.sh.coefficients[re],W);P++}else if(V.isDirectionalLight){const re=e.get(V);if(re.color.copy(V.color).multiplyScalar(V.intensity),V.castShadow){const ue=V.shadow,G=t.get(V);G.shadowIntensity=ue.intensity,G.shadowBias=ue.bias,G.shadowNormalBias=ue.normalBias,G.shadowRadius=ue.radius,G.shadowMapSize=ue.mapSize,n.directionalShadow[y]=G,n.directionalShadowMap[y]=te,n.directionalShadowMatrix[y]=V.shadow.matrix,w++}n.directional[y]=re,y++}else if(V.isSpotLight){const re=e.get(V);re.position.setFromMatrixPosition(V.matrixWorld),re.color.copy(q).multiplyScalar(W),re.distance=ee,re.coneCos=Math.cos(V.angle),re.penumbraCos=Math.cos(V.angle*(1-V.penumbra)),re.decay=V.decay,n.spot[S]=re;const ue=V.shadow;if(V.map&&(n.spotLightMap[O]=V.map,O++,ue.updateMatrices(V),V.castShadow&&R++),n.spotLightMatrix[S]=ue.matrix,V.castShadow){const G=t.get(V);G.shadowIntensity=ue.intensity,G.shadowBias=ue.bias,G.shadowNormalBias=ue.normalBias,G.shadowRadius=ue.radius,G.shadowMapSize=ue.mapSize,n.spotShadow[S]=G,n.spotShadowMap[S]=te,T++}S++}else if(V.isRectAreaLight){const re=e.get(V);re.color.copy(q).multiplyScalar(W),re.halfWidth.set(V.width*.5,0,0),re.halfHeight.set(0,V.height*.5,0),n.rectArea[_]=re,_++}else if(V.isPointLight){const re=e.get(V);if(re.color.copy(V.color).multiplyScalar(V.intensity),re.distance=V.distance,re.decay=V.decay,V.castShadow){const ue=V.shadow,G=t.get(V);G.shadowIntensity=ue.intensity,G.shadowBias=ue.bias,G.shadowNormalBias=ue.normalBias,G.shadowRadius=ue.radius,G.shadowMapSize=ue.mapSize,G.shadowCameraNear=ue.camera.near,G.shadowCameraFar=ue.camera.far,n.pointShadow[x]=G,n.pointShadowMap[x]=te,n.pointShadowMatrix[x]=V.shadow.matrix,C++}n.point[x]=re,x++}else if(V.isHemisphereLight){const re=e.get(V);re.skyColor.copy(V.color).multiplyScalar(W),re.groundColor.copy(V.groundColor).multiplyScalar(W),n.hemi[E]=re,E++}}_>0&&(r.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Mt.LTC_FLOAT_1,n.rectAreaLTC2=Mt.LTC_FLOAT_2):(n.rectAreaLTC1=Mt.LTC_HALF_1,n.rectAreaLTC2=Mt.LTC_HALF_2)),n.ambient[0]=f,n.ambient[1]=m,n.ambient[2]=g;const N=n.hash;(N.directionalLength!==y||N.pointLength!==x||N.spotLength!==S||N.rectAreaLength!==_||N.hemiLength!==E||N.numDirectionalShadows!==w||N.numPointShadows!==C||N.numSpotShadows!==T||N.numSpotMaps!==O||N.numLightProbes!==P)&&(n.directional.length=y,n.spot.length=S,n.rectArea.length=_,n.point.length=x,n.hemi.length=E,n.directionalShadow.length=w,n.directionalShadowMap.length=w,n.pointShadow.length=C,n.pointShadowMap.length=C,n.spotShadow.length=T,n.spotShadowMap.length=T,n.directionalShadowMatrix.length=w,n.pointShadowMatrix.length=C,n.spotLightMatrix.length=T+O-R,n.spotLightMap.length=O,n.numSpotLightShadowsWithMaps=R,n.numLightProbes=P,N.directionalLength=y,N.pointLength=x,N.spotLength=S,N.rectAreaLength=_,N.hemiLength=E,N.numDirectionalShadows=w,N.numPointShadows=C,N.numSpotShadows=T,N.numSpotMaps=O,N.numLightProbes=P,n.version=eZ++)}function c(d,f){let m=0,g=0,y=0,x=0,S=0;const _=f.matrixWorldInverse;for(let E=0,w=d.length;E<w;E++){const C=d[E];if(C.isDirectionalLight){const T=n.directional[m];T.direction.setFromMatrixPosition(C.matrixWorld),i.setFromMatrixPosition(C.target.matrixWorld),T.direction.sub(i),T.direction.transformDirection(_),m++}else if(C.isSpotLight){const T=n.spot[y];T.position.setFromMatrixPosition(C.matrixWorld),T.position.applyMatrix4(_),T.direction.setFromMatrixPosition(C.matrixWorld),i.setFromMatrixPosition(C.target.matrixWorld),T.direction.sub(i),T.direction.transformDirection(_),y++}else if(C.isRectAreaLight){const T=n.rectArea[x];T.position.setFromMatrixPosition(C.matrixWorld),T.position.applyMatrix4(_),s.identity(),a.copy(C.matrixWorld),a.premultiply(_),s.extractRotation(a),T.halfWidth.set(C.width*.5,0,0),T.halfHeight.set(0,C.height*.5,0),T.halfWidth.applyMatrix4(s),T.halfHeight.applyMatrix4(s),x++}else if(C.isPointLight){const T=n.point[g];T.position.setFromMatrixPosition(C.matrixWorld),T.position.applyMatrix4(_),g++}else if(C.isHemisphereLight){const T=n.hemi[S];T.direction.setFromMatrixPosition(C.matrixWorld),T.direction.transformDirection(_),S++}}}return{setup:o,setupView:c,state:n}}function HP(r){const e=new nZ(r),t=[],n=[];function i(f){d.camera=f,t.length=0,n.length=0}function a(f){t.push(f)}function s(f){n.push(f)}function o(){e.setup(t)}function c(f){e.setupView(t,f)}const d={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:d,setupLights:o,setupLightsView:c,pushLight:a,pushShadow:s}}function rZ(r){let e=new WeakMap;function t(i,a=0){const s=e.get(i);let o;return s===void 0?(o=new HP(r),e.set(i,[o])):a>=s.length?(o=new HP(r),s.push(o)):o=s[a],o}function n(){e=new WeakMap}return{get:t,dispose:n}}class Ib extends Fi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=dD,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Ob extends Fi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const iZ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,aZ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function sZ(r,e,t){let n=new xy;const i=new Qe,a=new Qe,s=new Kn,o=new Ib({depthPacking:fD}),c=new Ob,d={},f=t.maxTextureSize,m={[$l]:ya,[ya]:$l,[Io]:Io},g=new so({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Qe},radius:{value:4}},vertexShader:iZ,fragmentShader:aZ}),y=g.clone();y.defines.HORIZONTAL_PASS=1;const x=new xn;x.setAttribute("position",new Jn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new Tr(x,g),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Tx;let E=this.type;this.render=function(R,P,N){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||R.length===0)return;const D=r.getRenderTarget(),I=r.getActiveCubeFace(),V=r.getActiveMipmapLevel(),q=r.state;q.setBlending(Hl),q.buffers.color.setClear(1,1,1,1),q.buffers.depth.setTest(!0),q.setScissorTest(!1);const W=E!==Zs&&this.type===Zs,ee=E===Zs&&this.type!==Zs;for(let te=0,re=R.length;te<re;te++){const ue=R[te],G=ue.shadow;if(G===void 0){console.warn("THREE.WebGLShadowMap:",ue,"has no shadow.");continue}if(G.autoUpdate===!1&&G.needsUpdate===!1)continue;i.copy(G.mapSize);const le=G.getFrameExtents();if(i.multiply(le),a.copy(G.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(a.x=Math.floor(f/le.x),i.x=a.x*le.x,G.mapSize.x=a.x),i.y>f&&(a.y=Math.floor(f/le.y),i.y=a.y*le.y,G.mapSize.y=a.y)),G.map===null||W===!0||ee===!0){const X=this.type!==Zs?{minFilter:xi,magFilter:xi}:{};G.map!==null&&G.map.dispose(),G.map=new ao(i.x,i.y,X),G.map.texture.name=ue.name+".shadowMap",G.camera.updateProjectionMatrix()}r.setRenderTarget(G.map),r.clear();const oe=G.getViewportCount();for(let X=0;X<oe;X++){const ne=G.getViewport(X);s.set(a.x*ne.x,a.y*ne.y,a.x*ne.z,a.y*ne.w),q.viewport(s),G.updateMatrices(ue,X),n=G.getFrustum(),T(P,N,G.camera,ue,this.type)}G.isPointLightShadow!==!0&&this.type===Zs&&w(G,N),G.needsUpdate=!1}E=this.type,_.needsUpdate=!1,r.setRenderTarget(D,I,V)};function w(R,P){const N=e.update(S);g.defines.VSM_SAMPLES!==R.blurSamples&&(g.defines.VSM_SAMPLES=R.blurSamples,y.defines.VSM_SAMPLES=R.blurSamples,g.needsUpdate=!0,y.needsUpdate=!0),R.mapPass===null&&(R.mapPass=new ao(i.x,i.y)),g.uniforms.shadow_pass.value=R.map.texture,g.uniforms.resolution.value=R.mapSize,g.uniforms.radius.value=R.radius,r.setRenderTarget(R.mapPass),r.clear(),r.renderBufferDirect(P,null,N,g,S,null),y.uniforms.shadow_pass.value=R.mapPass.texture,y.uniforms.resolution.value=R.mapSize,y.uniforms.radius.value=R.radius,r.setRenderTarget(R.map),r.clear(),r.renderBufferDirect(P,null,N,y,S,null)}function C(R,P,N,D){let I=null;const V=N.isPointLight===!0?R.customDistanceMaterial:R.customDepthMaterial;if(V!==void 0)I=V;else if(I=N.isPointLight===!0?c:o,r.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const q=I.uuid,W=P.uuid;let ee=d[q];ee===void 0&&(ee={},d[q]=ee);let te=ee[W];te===void 0&&(te=I.clone(),ee[W]=te,P.addEventListener("dispose",O)),I=te}if(I.visible=P.visible,I.wireframe=P.wireframe,D===Zs?I.side=P.shadowSide!==null?P.shadowSide:P.side:I.side=P.shadowSide!==null?P.shadowSide:m[P.side],I.alphaMap=P.alphaMap,I.alphaTest=P.alphaTest,I.map=P.map,I.clipShadows=P.clipShadows,I.clippingPlanes=P.clippingPlanes,I.clipIntersection=P.clipIntersection,I.displacementMap=P.displacementMap,I.displacementScale=P.displacementScale,I.displacementBias=P.displacementBias,I.wireframeLinewidth=P.wireframeLinewidth,I.linewidth=P.linewidth,N.isPointLight===!0&&I.isMeshDistanceMaterial===!0){const q=r.properties.get(I);q.light=N}return I}function T(R,P,N,D,I){if(R.visible===!1)return;if(R.layers.test(P.layers)&&(R.isMesh||R.isLine||R.isPoints)&&(R.castShadow||R.receiveShadow&&I===Zs)&&(!R.frustumCulled||n.intersectsObject(R))){R.modelViewMatrix.multiplyMatrices(N.matrixWorldInverse,R.matrixWorld);const W=e.update(R),ee=R.material;if(Array.isArray(ee)){const te=W.groups;for(let re=0,ue=te.length;re<ue;re++){const G=te[re],le=ee[G.materialIndex];if(le&&le.visible){const oe=C(R,le,D,I);R.onBeforeShadow(r,R,P,N,W,oe,G),r.renderBufferDirect(N,null,W,oe,R,G),R.onAfterShadow(r,R,P,N,W,oe,G)}}}else if(ee.visible){const te=C(R,ee,D,I);R.onBeforeShadow(r,R,P,N,W,te,null),r.renderBufferDirect(N,null,W,te,R,null),R.onAfterShadow(r,R,P,N,W,te,null)}}const q=R.children;for(let W=0,ee=q.length;W<ee;W++)T(q[W],P,N,D,I)}function O(R){R.target.removeEventListener("dispose",O);for(const N in d){const D=d[N],I=R.target.uuid;I in D&&(D[I].dispose(),delete D[I])}}}function oZ(r){function e(){let fe=!1;const Ke=new Kn;let He=null;const $e=new Kn(0,0,0,0);return{setMask:function(lt){He!==lt&&!fe&&(r.colorMask(lt,lt,lt,lt),He=lt)},setLocked:function(lt){fe=lt},setClear:function(lt,Ut,Xt,ge,Me){Me===!0&&(lt*=ge,Ut*=ge,Xt*=ge),Ke.set(lt,Ut,Xt,ge),$e.equals(Ke)===!1&&(r.clearColor(lt,Ut,Xt,ge),$e.copy(Ke))},reset:function(){fe=!1,He=null,$e.set(-1,0,0,0)}}}function t(){let fe=!1,Ke=null,He=null,$e=null;return{setTest:function(lt){lt?Pe(r.DEPTH_TEST):Le(r.DEPTH_TEST)},setMask:function(lt){Ke!==lt&&!fe&&(r.depthMask(lt),Ke=lt)},setFunc:function(lt){if(He!==lt){switch(lt){case G3:r.depthFunc(r.NEVER);break;case q3:r.depthFunc(r.ALWAYS);break;case X3:r.depthFunc(r.LESS);break;case bg:r.depthFunc(r.LEQUAL);break;case Y3:r.depthFunc(r.EQUAL);break;case Q3:r.depthFunc(r.GEQUAL);break;case K3:r.depthFunc(r.GREATER);break;case J3:r.depthFunc(r.NOTEQUAL);break;default:r.depthFunc(r.LEQUAL)}He=lt}},setLocked:function(lt){fe=lt},setClear:function(lt){$e!==lt&&(r.clearDepth(lt),$e=lt)},reset:function(){fe=!1,Ke=null,He=null,$e=null}}}function n(){let fe=!1,Ke=null,He=null,$e=null,lt=null,Ut=null,Xt=null,ge=null,Me=null;return{setTest:function(Re){fe||(Re?Pe(r.STENCIL_TEST):Le(r.STENCIL_TEST))},setMask:function(Re){Ke!==Re&&!fe&&(r.stencilMask(Re),Ke=Re)},setFunc:function(Re,Ze,ut){(He!==Re||$e!==Ze||lt!==ut)&&(r.stencilFunc(Re,Ze,ut),He=Re,$e=Ze,lt=ut)},setOp:function(Re,Ze,ut){(Ut!==Re||Xt!==Ze||ge!==ut)&&(r.stencilOp(Re,Ze,ut),Ut=Re,Xt=Ze,ge=ut)},setLocked:function(Re){fe=Re},setClear:function(Re){Me!==Re&&(r.clearStencil(Re),Me=Re)},reset:function(){fe=!1,Ke=null,He=null,$e=null,lt=null,Ut=null,Xt=null,ge=null,Me=null}}}const i=new e,a=new t,s=new n,o=new WeakMap,c=new WeakMap;let d={},f={},m=new WeakMap,g=[],y=null,x=!1,S=null,_=null,E=null,w=null,C=null,T=null,O=null,R=new At(0,0,0),P=0,N=!1,D=null,I=null,V=null,q=null,W=null;const ee=r.getParameter(r.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let te=!1,re=0;const ue=r.getParameter(r.VERSION);ue.indexOf("WebGL")!==-1?(re=parseFloat(/^WebGL (\d)/.exec(ue)[1]),te=re>=1):ue.indexOf("OpenGL ES")!==-1&&(re=parseFloat(/^OpenGL ES (\d)/.exec(ue)[1]),te=re>=2);let G=null,le={};const oe=r.getParameter(r.SCISSOR_BOX),X=r.getParameter(r.VIEWPORT),ne=new Kn().fromArray(oe),we=new Kn().fromArray(X);function me(fe,Ke,He,$e){const lt=new Uint8Array(4),Ut=r.createTexture();r.bindTexture(fe,Ut),r.texParameteri(fe,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(fe,r.TEXTURE_MAG_FILTER,r.NEAREST);for(let Xt=0;Xt<He;Xt++)fe===r.TEXTURE_3D||fe===r.TEXTURE_2D_ARRAY?r.texImage3D(Ke,0,r.RGBA,1,1,$e,0,r.RGBA,r.UNSIGNED_BYTE,lt):r.texImage2D(Ke+Xt,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,lt);return Ut}const ye={};ye[r.TEXTURE_2D]=me(r.TEXTURE_2D,r.TEXTURE_2D,1),ye[r.TEXTURE_CUBE_MAP]=me(r.TEXTURE_CUBE_MAP,r.TEXTURE_CUBE_MAP_POSITIVE_X,6),ye[r.TEXTURE_2D_ARRAY]=me(r.TEXTURE_2D_ARRAY,r.TEXTURE_2D_ARRAY,1,1),ye[r.TEXTURE_3D]=me(r.TEXTURE_3D,r.TEXTURE_3D,1,1),i.setClear(0,0,0,1),a.setClear(1),s.setClear(0),Pe(r.DEPTH_TEST),a.setFunc(bg),qe(!1),Ue(KE),Pe(r.CULL_FACE),Be(Hl);function Pe(fe){d[fe]!==!0&&(r.enable(fe),d[fe]=!0)}function Le(fe){d[fe]!==!1&&(r.disable(fe),d[fe]=!1)}function Je(fe,Ke){return f[fe]!==Ke?(r.bindFramebuffer(fe,Ke),f[fe]=Ke,fe===r.DRAW_FRAMEBUFFER&&(f[r.FRAMEBUFFER]=Ke),fe===r.FRAMEBUFFER&&(f[r.DRAW_FRAMEBUFFER]=Ke),!0):!1}function ot(fe,Ke){let He=g,$e=!1;if(fe){He=m.get(Ke),He===void 0&&(He=[],m.set(Ke,He));const lt=fe.textures;if(He.length!==lt.length||He[0]!==r.COLOR_ATTACHMENT0){for(let Ut=0,Xt=lt.length;Ut<Xt;Ut++)He[Ut]=r.COLOR_ATTACHMENT0+Ut;He.length=lt.length,$e=!0}}else He[0]!==r.BACK&&(He[0]=r.BACK,$e=!0);$e&&r.drawBuffers(He)}function ft(fe){return y!==fe?(r.useProgram(fe),y=fe,!0):!1}const wt={[qc]:r.FUNC_ADD,[P3]:r.FUNC_SUBTRACT,[R3]:r.FUNC_REVERSE_SUBTRACT};wt[I3]=r.MIN,wt[O3]=r.MAX;const Z={[k3]:r.ZERO,[F3]:r.ONE,[D3]:r.SRC_COLOR,[v_]:r.SRC_ALPHA,[V3]:r.SRC_ALPHA_SATURATE,[B3]:r.DST_COLOR,[N3]:r.DST_ALPHA,[L3]:r.ONE_MINUS_SRC_COLOR,[__]:r.ONE_MINUS_SRC_ALPHA,[z3]:r.ONE_MINUS_DST_COLOR,[U3]:r.ONE_MINUS_DST_ALPHA,[H3]:r.CONSTANT_COLOR,[j3]:r.ONE_MINUS_CONSTANT_COLOR,[$3]:r.CONSTANT_ALPHA,[W3]:r.ONE_MINUS_CONSTANT_ALPHA};function Be(fe,Ke,He,$e,lt,Ut,Xt,ge,Me,Re){if(fe===Hl){x===!0&&(Le(r.BLEND),x=!1);return}if(x===!1&&(Pe(r.BLEND),x=!0),fe!==A3){if(fe!==S||Re!==N){if((_!==qc||C!==qc)&&(r.blendEquation(r.FUNC_ADD),_=qc,C=qc),Re)switch(fe){case Cd:r.blendFuncSeparate(r.ONE,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case JE:r.blendFunc(r.ONE,r.ONE);break;case ZE:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case ew:r.blendFuncSeparate(r.ZERO,r.SRC_COLOR,r.ZERO,r.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",fe);break}else switch(fe){case Cd:r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case JE:r.blendFunc(r.SRC_ALPHA,r.ONE);break;case ZE:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case ew:r.blendFunc(r.ZERO,r.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",fe);break}E=null,w=null,T=null,O=null,R.set(0,0,0),P=0,S=fe,N=Re}return}lt=lt||Ke,Ut=Ut||He,Xt=Xt||$e,(Ke!==_||lt!==C)&&(r.blendEquationSeparate(wt[Ke],wt[lt]),_=Ke,C=lt),(He!==E||$e!==w||Ut!==T||Xt!==O)&&(r.blendFuncSeparate(Z[He],Z[$e],Z[Ut],Z[Xt]),E=He,w=$e,T=Ut,O=Xt),(ge.equals(R)===!1||Me!==P)&&(r.blendColor(ge.r,ge.g,ge.b,Me),R.copy(ge),P=Me),S=fe,N=!1}function Ge(fe,Ke){fe.side===Io?Le(r.CULL_FACE):Pe(r.CULL_FACE);let He=fe.side===ya;Ke&&(He=!He),qe(He),fe.blending===Cd&&fe.transparent===!1?Be(Hl):Be(fe.blending,fe.blendEquation,fe.blendSrc,fe.blendDst,fe.blendEquationAlpha,fe.blendSrcAlpha,fe.blendDstAlpha,fe.blendColor,fe.blendAlpha,fe.premultipliedAlpha),a.setFunc(fe.depthFunc),a.setTest(fe.depthTest),a.setMask(fe.depthWrite),i.setMask(fe.colorWrite);const $e=fe.stencilWrite;s.setTest($e),$e&&(s.setMask(fe.stencilWriteMask),s.setFunc(fe.stencilFunc,fe.stencilRef,fe.stencilFuncMask),s.setOp(fe.stencilFail,fe.stencilZFail,fe.stencilZPass)),st(fe.polygonOffset,fe.polygonOffsetFactor,fe.polygonOffsetUnits),fe.alphaToCoverage===!0?Pe(r.SAMPLE_ALPHA_TO_COVERAGE):Le(r.SAMPLE_ALPHA_TO_COVERAGE)}function qe(fe){D!==fe&&(fe?r.frontFace(r.CW):r.frontFace(r.CCW),D=fe)}function Ue(fe){fe!==b3?(Pe(r.CULL_FACE),fe!==I&&(fe===KE?r.cullFace(r.BACK):fe===M3?r.cullFace(r.FRONT):r.cullFace(r.FRONT_AND_BACK))):Le(r.CULL_FACE),I=fe}function xt(fe){fe!==V&&(te&&r.lineWidth(fe),V=fe)}function st(fe,Ke,He){fe?(Pe(r.POLYGON_OFFSET_FILL),(q!==Ke||W!==He)&&(r.polygonOffset(Ke,He),q=Ke,W=He)):Le(r.POLYGON_OFFSET_FILL)}function yt(fe){fe?Pe(r.SCISSOR_TEST):Le(r.SCISSOR_TEST)}function se(fe){fe===void 0&&(fe=r.TEXTURE0+ee-1),G!==fe&&(r.activeTexture(fe),G=fe)}function K(fe,Ke,He){He===void 0&&(G===null?He=r.TEXTURE0+ee-1:He=G);let $e=le[He];$e===void 0&&($e={type:void 0,texture:void 0},le[He]=$e),($e.type!==fe||$e.texture!==Ke)&&(G!==He&&(r.activeTexture(He),G=He),r.bindTexture(fe,Ke||ye[fe]),$e.type=fe,$e.texture=Ke)}function Ce(){const fe=le[G];fe!==void 0&&fe.type!==void 0&&(r.bindTexture(fe.type,null),fe.type=void 0,fe.texture=void 0)}function Xe(){try{r.compressedTexImage2D.apply(r,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Ye(){try{r.compressedTexImage3D.apply(r,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function We(){try{r.texSubImage2D.apply(r,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Et(){try{r.texSubImage3D.apply(r,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function $(){try{r.compressedTexSubImage2D.apply(r,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function F(){try{r.compressedTexSubImage3D.apply(r,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function B(){try{r.texStorage2D.apply(r,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Q(){try{r.texStorage3D.apply(r,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function ie(){try{r.texImage2D.apply(r,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function pe(){try{r.texImage3D.apply(r,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function ve(fe){ne.equals(fe)===!1&&(r.scissor(fe.x,fe.y,fe.z,fe.w),ne.copy(fe))}function Ve(fe){we.equals(fe)===!1&&(r.viewport(fe.x,fe.y,fe.z,fe.w),we.copy(fe))}function de(fe,Ke){let He=c.get(Ke);He===void 0&&(He=new WeakMap,c.set(Ke,He));let $e=He.get(fe);$e===void 0&&($e=r.getUniformBlockIndex(Ke,fe.name),He.set(fe,$e))}function ke(fe,Ke){const $e=c.get(Ke).get(fe);o.get(Ke)!==$e&&(r.uniformBlockBinding(Ke,$e,fe.__bindingPointIndex),o.set(Ke,$e))}function tt(){r.disable(r.BLEND),r.disable(r.CULL_FACE),r.disable(r.DEPTH_TEST),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SCISSOR_TEST),r.disable(r.STENCIL_TEST),r.disable(r.SAMPLE_ALPHA_TO_COVERAGE),r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO),r.blendFuncSeparate(r.ONE,r.ZERO,r.ONE,r.ZERO),r.blendColor(0,0,0,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(r.LESS),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(r.ALWAYS,0,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),r.clearStencil(0),r.cullFace(r.BACK),r.frontFace(r.CCW),r.polygonOffset(0,0),r.activeTexture(r.TEXTURE0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),r.bindFramebuffer(r.READ_FRAMEBUFFER,null),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),d={},G=null,le={},f={},m=new WeakMap,g=[],y=null,x=!1,S=null,_=null,E=null,w=null,C=null,T=null,O=null,R=new At(0,0,0),P=0,N=!1,D=null,I=null,V=null,q=null,W=null,ne.set(0,0,r.canvas.width,r.canvas.height),we.set(0,0,r.canvas.width,r.canvas.height),i.reset(),a.reset(),s.reset()}return{buffers:{color:i,depth:a,stencil:s},enable:Pe,disable:Le,bindFramebuffer:Je,drawBuffers:ot,useProgram:ft,setBlending:Be,setMaterial:Ge,setFlipSided:qe,setCullFace:Ue,setLineWidth:xt,setPolygonOffset:st,setScissorTest:yt,activeTexture:se,bindTexture:K,unbindTexture:Ce,compressedTexImage2D:Xe,compressedTexImage3D:Ye,texImage2D:ie,texImage3D:pe,updateUBOMapping:de,uniformBlockBinding:ke,texStorage2D:B,texStorage3D:Q,texSubImage2D:We,texSubImage3D:Et,compressedTexSubImage2D:$,compressedTexSubImage3D:F,scissor:ve,viewport:Ve,reset:tt}}function lZ(r,e){const t=r.image&&r.image.width?r.image.width/r.image.height:1;return t>e?(r.repeat.x=1,r.repeat.y=t/e,r.offset.x=0,r.offset.y=(1-r.repeat.y)/2):(r.repeat.x=e/t,r.repeat.y=1,r.offset.x=(1-r.repeat.x)/2,r.offset.y=0),r}function cZ(r,e){const t=r.image&&r.image.width?r.image.width/r.image.height:1;return t>e?(r.repeat.x=e/t,r.repeat.y=1,r.offset.x=(1-r.repeat.x)/2,r.offset.y=0):(r.repeat.x=1,r.repeat.y=t/e,r.offset.x=0,r.offset.y=(1-r.repeat.y)/2),r}function uZ(r){return r.repeat.x=1,r.repeat.y=1,r.offset.x=0,r.offset.y=0,r}function sw(r,e,t,n){const i=dZ(n);switch(t){case mb:return r*e;case yb:return r*e;case vb:return r*e*2;case Ox:return r*e/i.components*i.byteLength;case gy:return r*e/i.components*i.byteLength;case _b:return r*e*2/i.components*i.byteLength;case kx:return r*e*2/i.components*i.byteLength;case gb:return r*e*3/i.components*i.byteLength;case Yi:return r*e*4/i.components*i.byteLength;case Fx:return r*e*4/i.components*i.byteLength;case Km:case Jm:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*8;case Zm:case eg:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case S_:case w_:return Math.max(r,16)*Math.max(e,8)/4;case x_:case E_:return Math.max(r,8)*Math.max(e,8)/2;case C_:case b_:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*8;case M_:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case T_:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case A_:return Math.floor((r+4)/5)*Math.floor((e+3)/4)*16;case P_:return Math.floor((r+4)/5)*Math.floor((e+4)/5)*16;case R_:return Math.floor((r+5)/6)*Math.floor((e+4)/5)*16;case I_:return Math.floor((r+5)/6)*Math.floor((e+5)/6)*16;case O_:return Math.floor((r+7)/8)*Math.floor((e+4)/5)*16;case k_:return Math.floor((r+7)/8)*Math.floor((e+5)/6)*16;case F_:return Math.floor((r+7)/8)*Math.floor((e+7)/8)*16;case D_:return Math.floor((r+9)/10)*Math.floor((e+4)/5)*16;case L_:return Math.floor((r+9)/10)*Math.floor((e+5)/6)*16;case N_:return Math.floor((r+9)/10)*Math.floor((e+7)/8)*16;case U_:return Math.floor((r+9)/10)*Math.floor((e+9)/10)*16;case B_:return Math.floor((r+11)/12)*Math.floor((e+9)/10)*16;case z_:return Math.floor((r+11)/12)*Math.floor((e+11)/12)*16;case tg:case V_:case H_:return Math.ceil(r/4)*Math.ceil(e/4)*16;case xb:case j_:return Math.ceil(r/4)*Math.ceil(e/4)*8;case $_:case W_:return Math.ceil(r/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function dZ(r){switch(r){case io:case fb:return{byteLength:1,components:1};case np:case hb:case gp:return{byteLength:2,components:1};case Rx:case Ix:return{byteLength:2,components:4};case Gl:case Px:case Ba:return{byteLength:4,components:1};case pb:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${r}.`)}const fZ={contain:lZ,cover:cZ,fill:uZ,getByteLength:sw};function hZ(r,e,t,n,i,a,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new Qe,f=new WeakMap;let m;const g=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(se,K){return y?new OffscreenCanvas(se,K):Ng("canvas")}function S(se,K,Ce){let Xe=1;const Ye=yt(se);if((Ye.width>Ce||Ye.height>Ce)&&(Xe=Ce/Math.max(Ye.width,Ye.height)),Xe<1)if(typeof HTMLImageElement<"u"&&se instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&se instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&se instanceof ImageBitmap||typeof VideoFrame<"u"&&se instanceof VideoFrame){const We=Math.floor(Xe*Ye.width),Et=Math.floor(Xe*Ye.height);m===void 0&&(m=x(We,Et));const $=K?x(We,Et):m;return $.width=We,$.height=Et,$.getContext("2d").drawImage(se,0,0,We,Et),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ye.width+"x"+Ye.height+") to ("+We+"x"+Et+")."),$}else return"data"in se&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ye.width+"x"+Ye.height+")."),se;return se}function _(se){return se.generateMipmaps&&se.minFilter!==xi&&se.minFilter!==Qr}function E(se){r.generateMipmap(se)}function w(se,K,Ce,Xe,Ye=!1){if(se!==null){if(r[se]!==void 0)return r[se];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+se+"'")}let We=K;if(K===r.RED&&(Ce===r.FLOAT&&(We=r.R32F),Ce===r.HALF_FLOAT&&(We=r.R16F),Ce===r.UNSIGNED_BYTE&&(We=r.R8)),K===r.RED_INTEGER&&(Ce===r.UNSIGNED_BYTE&&(We=r.R8UI),Ce===r.UNSIGNED_SHORT&&(We=r.R16UI),Ce===r.UNSIGNED_INT&&(We=r.R32UI),Ce===r.BYTE&&(We=r.R8I),Ce===r.SHORT&&(We=r.R16I),Ce===r.INT&&(We=r.R32I)),K===r.RG&&(Ce===r.FLOAT&&(We=r.RG32F),Ce===r.HALF_FLOAT&&(We=r.RG16F),Ce===r.UNSIGNED_BYTE&&(We=r.RG8)),K===r.RG_INTEGER&&(Ce===r.UNSIGNED_BYTE&&(We=r.RG8UI),Ce===r.UNSIGNED_SHORT&&(We=r.RG16UI),Ce===r.UNSIGNED_INT&&(We=r.RG32UI),Ce===r.BYTE&&(We=r.RG8I),Ce===r.SHORT&&(We=r.RG16I),Ce===r.INT&&(We=r.RG32I)),K===r.RGB&&Ce===r.UNSIGNED_INT_5_9_9_9_REV&&(We=r.RGB9_E5),K===r.RGBA){const Et=Ye?Og:jn.getTransfer(Xe);Ce===r.FLOAT&&(We=r.RGBA32F),Ce===r.HALF_FLOAT&&(We=r.RGBA16F),Ce===r.UNSIGNED_BYTE&&(We=Et===ur?r.SRGB8_ALPHA8:r.RGBA8),Ce===r.UNSIGNED_SHORT_4_4_4_4&&(We=r.RGBA4),Ce===r.UNSIGNED_SHORT_5_5_5_1&&(We=r.RGB5_A1)}return(We===r.R16F||We===r.R32F||We===r.RG16F||We===r.RG32F||We===r.RGBA16F||We===r.RGBA32F)&&e.get("EXT_color_buffer_float"),We}function C(se,K){let Ce;return se?K===null||K===Gl||K===kd?Ce=r.DEPTH24_STENCIL8:K===Ba?Ce=r.DEPTH32F_STENCIL8:K===np&&(Ce=r.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):K===null||K===Gl||K===kd?Ce=r.DEPTH_COMPONENT24:K===Ba?Ce=r.DEPTH_COMPONENT32F:K===np&&(Ce=r.DEPTH_COMPONENT16),Ce}function T(se,K){return _(se)===!0||se.isFramebufferTexture&&se.minFilter!==xi&&se.minFilter!==Qr?Math.log2(Math.max(K.width,K.height))+1:se.mipmaps!==void 0&&se.mipmaps.length>0?se.mipmaps.length:se.isCompressedTexture&&Array.isArray(se.image)?K.mipmaps.length:1}function O(se){const K=se.target;K.removeEventListener("dispose",O),P(K),K.isVideoTexture&&f.delete(K)}function R(se){const K=se.target;K.removeEventListener("dispose",R),D(K)}function P(se){const K=n.get(se);if(K.__webglInit===void 0)return;const Ce=se.source,Xe=g.get(Ce);if(Xe){const Ye=Xe[K.__cacheKey];Ye.usedTimes--,Ye.usedTimes===0&&N(se),Object.keys(Xe).length===0&&g.delete(Ce)}n.remove(se)}function N(se){const K=n.get(se);r.deleteTexture(K.__webglTexture);const Ce=se.source,Xe=g.get(Ce);delete Xe[K.__cacheKey],s.memory.textures--}function D(se){const K=n.get(se);if(se.depthTexture&&se.depthTexture.dispose(),se.isWebGLCubeRenderTarget)for(let Xe=0;Xe<6;Xe++){if(Array.isArray(K.__webglFramebuffer[Xe]))for(let Ye=0;Ye<K.__webglFramebuffer[Xe].length;Ye++)r.deleteFramebuffer(K.__webglFramebuffer[Xe][Ye]);else r.deleteFramebuffer(K.__webglFramebuffer[Xe]);K.__webglDepthbuffer&&r.deleteRenderbuffer(K.__webglDepthbuffer[Xe])}else{if(Array.isArray(K.__webglFramebuffer))for(let Xe=0;Xe<K.__webglFramebuffer.length;Xe++)r.deleteFramebuffer(K.__webglFramebuffer[Xe]);else r.deleteFramebuffer(K.__webglFramebuffer);if(K.__webglDepthbuffer&&r.deleteRenderbuffer(K.__webglDepthbuffer),K.__webglMultisampledFramebuffer&&r.deleteFramebuffer(K.__webglMultisampledFramebuffer),K.__webglColorRenderbuffer)for(let Xe=0;Xe<K.__webglColorRenderbuffer.length;Xe++)K.__webglColorRenderbuffer[Xe]&&r.deleteRenderbuffer(K.__webglColorRenderbuffer[Xe]);K.__webglDepthRenderbuffer&&r.deleteRenderbuffer(K.__webglDepthRenderbuffer)}const Ce=se.textures;for(let Xe=0,Ye=Ce.length;Xe<Ye;Xe++){const We=n.get(Ce[Xe]);We.__webglTexture&&(r.deleteTexture(We.__webglTexture),s.memory.textures--),n.remove(Ce[Xe])}n.remove(se)}let I=0;function V(){I=0}function q(){const se=I;return se>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+se+" texture units while this GPU supports only "+i.maxTextures),I+=1,se}function W(se){const K=[];return K.push(se.wrapS),K.push(se.wrapT),K.push(se.wrapR||0),K.push(se.magFilter),K.push(se.minFilter),K.push(se.anisotropy),K.push(se.internalFormat),K.push(se.format),K.push(se.type),K.push(se.generateMipmaps),K.push(se.premultiplyAlpha),K.push(se.flipY),K.push(se.unpackAlignment),K.push(se.colorSpace),K.join()}function ee(se,K){const Ce=n.get(se);if(se.isVideoTexture&&xt(se),se.isRenderTargetTexture===!1&&se.version>0&&Ce.__version!==se.version){const Xe=se.image;if(Xe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Xe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{we(Ce,se,K);return}}t.bindTexture(r.TEXTURE_2D,Ce.__webglTexture,r.TEXTURE0+K)}function te(se,K){const Ce=n.get(se);if(se.version>0&&Ce.__version!==se.version){we(Ce,se,K);return}t.bindTexture(r.TEXTURE_2D_ARRAY,Ce.__webglTexture,r.TEXTURE0+K)}function re(se,K){const Ce=n.get(se);if(se.version>0&&Ce.__version!==se.version){we(Ce,se,K);return}t.bindTexture(r.TEXTURE_3D,Ce.__webglTexture,r.TEXTURE0+K)}function ue(se,K){const Ce=n.get(se);if(se.version>0&&Ce.__version!==se.version){me(Ce,se,K);return}t.bindTexture(r.TEXTURE_CUBE_MAP,Ce.__webglTexture,r.TEXTURE0+K)}const G={[Ag]:r.REPEAT,[bs]:r.CLAMP_TO_EDGE,[Pg]:r.MIRRORED_REPEAT},le={[xi]:r.NEAREST,[db]:r.NEAREST_MIPMAP_NEAREST,[Fh]:r.NEAREST_MIPMAP_LINEAR,[Qr]:r.LINEAR,[Qm]:r.LINEAR_MIPMAP_NEAREST,[Oo]:r.LINEAR_MIPMAP_LINEAR},oe={[pD]:r.NEVER,[xD]:r.ALWAYS,[mD]:r.LESS,[Eb]:r.LEQUAL,[gD]:r.EQUAL,[_D]:r.GEQUAL,[yD]:r.GREATER,[vD]:r.NOTEQUAL};function X(se,K){if(K.type===Ba&&e.has("OES_texture_float_linear")===!1&&(K.magFilter===Qr||K.magFilter===Qm||K.magFilter===Fh||K.magFilter===Oo||K.minFilter===Qr||K.minFilter===Qm||K.minFilter===Fh||K.minFilter===Oo)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),r.texParameteri(se,r.TEXTURE_WRAP_S,G[K.wrapS]),r.texParameteri(se,r.TEXTURE_WRAP_T,G[K.wrapT]),(se===r.TEXTURE_3D||se===r.TEXTURE_2D_ARRAY)&&r.texParameteri(se,r.TEXTURE_WRAP_R,G[K.wrapR]),r.texParameteri(se,r.TEXTURE_MAG_FILTER,le[K.magFilter]),r.texParameteri(se,r.TEXTURE_MIN_FILTER,le[K.minFilter]),K.compareFunction&&(r.texParameteri(se,r.TEXTURE_COMPARE_MODE,r.COMPARE_REF_TO_TEXTURE),r.texParameteri(se,r.TEXTURE_COMPARE_FUNC,oe[K.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(K.magFilter===xi||K.minFilter!==Fh&&K.minFilter!==Oo||K.type===Ba&&e.has("OES_texture_float_linear")===!1)return;if(K.anisotropy>1||n.get(K).__currentAnisotropy){const Ce=e.get("EXT_texture_filter_anisotropic");r.texParameterf(se,Ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(K.anisotropy,i.getMaxAnisotropy())),n.get(K).__currentAnisotropy=K.anisotropy}}}function ne(se,K){let Ce=!1;se.__webglInit===void 0&&(se.__webglInit=!0,K.addEventListener("dispose",O));const Xe=K.source;let Ye=g.get(Xe);Ye===void 0&&(Ye={},g.set(Xe,Ye));const We=W(K);if(We!==se.__cacheKey){Ye[We]===void 0&&(Ye[We]={texture:r.createTexture(),usedTimes:0},s.memory.textures++,Ce=!0),Ye[We].usedTimes++;const Et=Ye[se.__cacheKey];Et!==void 0&&(Ye[se.__cacheKey].usedTimes--,Et.usedTimes===0&&N(K)),se.__cacheKey=We,se.__webglTexture=Ye[We].texture}return Ce}function we(se,K,Ce){let Xe=r.TEXTURE_2D;(K.isDataArrayTexture||K.isCompressedArrayTexture)&&(Xe=r.TEXTURE_2D_ARRAY),K.isData3DTexture&&(Xe=r.TEXTURE_3D);const Ye=ne(se,K),We=K.source;t.bindTexture(Xe,se.__webglTexture,r.TEXTURE0+Ce);const Et=n.get(We);if(We.version!==Et.__version||Ye===!0){t.activeTexture(r.TEXTURE0+Ce);const $=jn.getPrimaries(jn.workingColorSpace),F=K.colorSpace===kl?null:jn.getPrimaries(K.colorSpace),B=K.colorSpace===kl||$===F?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,K.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,K.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,B);let Q=S(K.image,!1,i.maxTextureSize);Q=st(K,Q);const ie=a.convert(K.format,K.colorSpace),pe=a.convert(K.type);let ve=w(K.internalFormat,ie,pe,K.colorSpace,K.isVideoTexture);X(Xe,K);let Ve;const de=K.mipmaps,ke=K.isVideoTexture!==!0,tt=Et.__version===void 0||Ye===!0,fe=We.dataReady,Ke=T(K,Q);if(K.isDepthTexture)ve=C(K.format===Fd,K.type),tt&&(ke?t.texStorage2D(r.TEXTURE_2D,1,ve,Q.width,Q.height):t.texImage2D(r.TEXTURE_2D,0,ve,Q.width,Q.height,0,ie,pe,null));else if(K.isDataTexture)if(de.length>0){ke&&tt&&t.texStorage2D(r.TEXTURE_2D,Ke,ve,de[0].width,de[0].height);for(let He=0,$e=de.length;He<$e;He++)Ve=de[He],ke?fe&&t.texSubImage2D(r.TEXTURE_2D,He,0,0,Ve.width,Ve.height,ie,pe,Ve.data):t.texImage2D(r.TEXTURE_2D,He,ve,Ve.width,Ve.height,0,ie,pe,Ve.data);K.generateMipmaps=!1}else ke?(tt&&t.texStorage2D(r.TEXTURE_2D,Ke,ve,Q.width,Q.height),fe&&t.texSubImage2D(r.TEXTURE_2D,0,0,0,Q.width,Q.height,ie,pe,Q.data)):t.texImage2D(r.TEXTURE_2D,0,ve,Q.width,Q.height,0,ie,pe,Q.data);else if(K.isCompressedTexture)if(K.isCompressedArrayTexture){ke&&tt&&t.texStorage3D(r.TEXTURE_2D_ARRAY,Ke,ve,de[0].width,de[0].height,Q.depth);for(let He=0,$e=de.length;He<$e;He++)if(Ve=de[He],K.format!==Yi)if(ie!==null)if(ke){if(fe)if(K.layerUpdates.size>0){const lt=sw(Ve.width,Ve.height,K.format,K.type);for(const Ut of K.layerUpdates){const Xt=Ve.data.subarray(Ut*lt/Ve.data.BYTES_PER_ELEMENT,(Ut+1)*lt/Ve.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,He,0,0,Ut,Ve.width,Ve.height,1,ie,Xt,0,0)}K.clearLayerUpdates()}else t.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,He,0,0,0,Ve.width,Ve.height,Q.depth,ie,Ve.data,0,0)}else t.compressedTexImage3D(r.TEXTURE_2D_ARRAY,He,ve,Ve.width,Ve.height,Q.depth,0,Ve.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ke?fe&&t.texSubImage3D(r.TEXTURE_2D_ARRAY,He,0,0,0,Ve.width,Ve.height,Q.depth,ie,pe,Ve.data):t.texImage3D(r.TEXTURE_2D_ARRAY,He,ve,Ve.width,Ve.height,Q.depth,0,ie,pe,Ve.data)}else{ke&&tt&&t.texStorage2D(r.TEXTURE_2D,Ke,ve,de[0].width,de[0].height);for(let He=0,$e=de.length;He<$e;He++)Ve=de[He],K.format!==Yi?ie!==null?ke?fe&&t.compressedTexSubImage2D(r.TEXTURE_2D,He,0,0,Ve.width,Ve.height,ie,Ve.data):t.compressedTexImage2D(r.TEXTURE_2D,He,ve,Ve.width,Ve.height,0,Ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ke?fe&&t.texSubImage2D(r.TEXTURE_2D,He,0,0,Ve.width,Ve.height,ie,pe,Ve.data):t.texImage2D(r.TEXTURE_2D,He,ve,Ve.width,Ve.height,0,ie,pe,Ve.data)}else if(K.isDataArrayTexture)if(ke){if(tt&&t.texStorage3D(r.TEXTURE_2D_ARRAY,Ke,ve,Q.width,Q.height,Q.depth),fe)if(K.layerUpdates.size>0){const He=sw(Q.width,Q.height,K.format,K.type);for(const $e of K.layerUpdates){const lt=Q.data.subarray($e*He/Q.data.BYTES_PER_ELEMENT,($e+1)*He/Q.data.BYTES_PER_ELEMENT);t.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,$e,Q.width,Q.height,1,ie,pe,lt)}K.clearLayerUpdates()}else t.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,0,Q.width,Q.height,Q.depth,ie,pe,Q.data)}else t.texImage3D(r.TEXTURE_2D_ARRAY,0,ve,Q.width,Q.height,Q.depth,0,ie,pe,Q.data);else if(K.isData3DTexture)ke?(tt&&t.texStorage3D(r.TEXTURE_3D,Ke,ve,Q.width,Q.height,Q.depth),fe&&t.texSubImage3D(r.TEXTURE_3D,0,0,0,0,Q.width,Q.height,Q.depth,ie,pe,Q.data)):t.texImage3D(r.TEXTURE_3D,0,ve,Q.width,Q.height,Q.depth,0,ie,pe,Q.data);else if(K.isFramebufferTexture){if(tt)if(ke)t.texStorage2D(r.TEXTURE_2D,Ke,ve,Q.width,Q.height);else{let He=Q.width,$e=Q.height;for(let lt=0;lt<Ke;lt++)t.texImage2D(r.TEXTURE_2D,lt,ve,He,$e,0,ie,pe,null),He>>=1,$e>>=1}}else if(de.length>0){if(ke&&tt){const He=yt(de[0]);t.texStorage2D(r.TEXTURE_2D,Ke,ve,He.width,He.height)}for(let He=0,$e=de.length;He<$e;He++)Ve=de[He],ke?fe&&t.texSubImage2D(r.TEXTURE_2D,He,0,0,ie,pe,Ve):t.texImage2D(r.TEXTURE_2D,He,ve,ie,pe,Ve);K.generateMipmaps=!1}else if(ke){if(tt){const He=yt(Q);t.texStorage2D(r.TEXTURE_2D,Ke,ve,He.width,He.height)}fe&&t.texSubImage2D(r.TEXTURE_2D,0,0,0,ie,pe,Q)}else t.texImage2D(r.TEXTURE_2D,0,ve,ie,pe,Q);_(K)&&E(Xe),Et.__version=We.version,K.onUpdate&&K.onUpdate(K)}se.__version=K.version}function me(se,K,Ce){if(K.image.length!==6)return;const Xe=ne(se,K),Ye=K.source;t.bindTexture(r.TEXTURE_CUBE_MAP,se.__webglTexture,r.TEXTURE0+Ce);const We=n.get(Ye);if(Ye.version!==We.__version||Xe===!0){t.activeTexture(r.TEXTURE0+Ce);const Et=jn.getPrimaries(jn.workingColorSpace),$=K.colorSpace===kl?null:jn.getPrimaries(K.colorSpace),F=K.colorSpace===kl||Et===$?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,K.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,K.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,F);const B=K.isCompressedTexture||K.image[0].isCompressedTexture,Q=K.image[0]&&K.image[0].isDataTexture,ie=[];for(let $e=0;$e<6;$e++)!B&&!Q?ie[$e]=S(K.image[$e],!0,i.maxCubemapSize):ie[$e]=Q?K.image[$e].image:K.image[$e],ie[$e]=st(K,ie[$e]);const pe=ie[0],ve=a.convert(K.format,K.colorSpace),Ve=a.convert(K.type),de=w(K.internalFormat,ve,Ve,K.colorSpace),ke=K.isVideoTexture!==!0,tt=We.__version===void 0||Xe===!0,fe=Ye.dataReady;let Ke=T(K,pe);X(r.TEXTURE_CUBE_MAP,K);let He;if(B){ke&&tt&&t.texStorage2D(r.TEXTURE_CUBE_MAP,Ke,de,pe.width,pe.height);for(let $e=0;$e<6;$e++){He=ie[$e].mipmaps;for(let lt=0;lt<He.length;lt++){const Ut=He[lt];K.format!==Yi?ve!==null?ke?fe&&t.compressedTexSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+$e,lt,0,0,Ut.width,Ut.height,ve,Ut.data):t.compressedTexImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+$e,lt,de,Ut.width,Ut.height,0,Ut.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ke?fe&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+$e,lt,0,0,Ut.width,Ut.height,ve,Ve,Ut.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+$e,lt,de,Ut.width,Ut.height,0,ve,Ve,Ut.data)}}}else{if(He=K.mipmaps,ke&&tt){He.length>0&&Ke++;const $e=yt(ie[0]);t.texStorage2D(r.TEXTURE_CUBE_MAP,Ke,de,$e.width,$e.height)}for(let $e=0;$e<6;$e++)if(Q){ke?fe&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+$e,0,0,0,ie[$e].width,ie[$e].height,ve,Ve,ie[$e].data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+$e,0,de,ie[$e].width,ie[$e].height,0,ve,Ve,ie[$e].data);for(let lt=0;lt<He.length;lt++){const Xt=He[lt].image[$e].image;ke?fe&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+$e,lt+1,0,0,Xt.width,Xt.height,ve,Ve,Xt.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+$e,lt+1,de,Xt.width,Xt.height,0,ve,Ve,Xt.data)}}else{ke?fe&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+$e,0,0,0,ve,Ve,ie[$e]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+$e,0,de,ve,Ve,ie[$e]);for(let lt=0;lt<He.length;lt++){const Ut=He[lt];ke?fe&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+$e,lt+1,0,0,ve,Ve,Ut.image[$e]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+$e,lt+1,de,ve,Ve,Ut.image[$e])}}}_(K)&&E(r.TEXTURE_CUBE_MAP),We.__version=Ye.version,K.onUpdate&&K.onUpdate(K)}se.__version=K.version}function ye(se,K,Ce,Xe,Ye,We){const Et=a.convert(Ce.format,Ce.colorSpace),$=a.convert(Ce.type),F=w(Ce.internalFormat,Et,$,Ce.colorSpace);if(!n.get(K).__hasExternalTextures){const Q=Math.max(1,K.width>>We),ie=Math.max(1,K.height>>We);Ye===r.TEXTURE_3D||Ye===r.TEXTURE_2D_ARRAY?t.texImage3D(Ye,We,F,Q,ie,K.depth,0,Et,$,null):t.texImage2D(Ye,We,F,Q,ie,0,Et,$,null)}t.bindFramebuffer(r.FRAMEBUFFER,se),Ue(K)?o.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,Xe,Ye,n.get(Ce).__webglTexture,0,qe(K)):(Ye===r.TEXTURE_2D||Ye>=r.TEXTURE_CUBE_MAP_POSITIVE_X&&Ye<=r.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&r.framebufferTexture2D(r.FRAMEBUFFER,Xe,Ye,n.get(Ce).__webglTexture,We),t.bindFramebuffer(r.FRAMEBUFFER,null)}function Pe(se,K,Ce){if(r.bindRenderbuffer(r.RENDERBUFFER,se),K.depthBuffer){const Xe=K.depthTexture,Ye=Xe&&Xe.isDepthTexture?Xe.type:null,We=C(K.stencilBuffer,Ye),Et=K.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,$=qe(K);Ue(K)?o.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,$,We,K.width,K.height):Ce?r.renderbufferStorageMultisample(r.RENDERBUFFER,$,We,K.width,K.height):r.renderbufferStorage(r.RENDERBUFFER,We,K.width,K.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,Et,r.RENDERBUFFER,se)}else{const Xe=K.textures;for(let Ye=0;Ye<Xe.length;Ye++){const We=Xe[Ye],Et=a.convert(We.format,We.colorSpace),$=a.convert(We.type),F=w(We.internalFormat,Et,$,We.colorSpace),B=qe(K);Ce&&Ue(K)===!1?r.renderbufferStorageMultisample(r.RENDERBUFFER,B,F,K.width,K.height):Ue(K)?o.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,B,F,K.width,K.height):r.renderbufferStorage(r.RENDERBUFFER,F,K.width,K.height)}}r.bindRenderbuffer(r.RENDERBUFFER,null)}function Le(se,K){if(K&&K.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(r.FRAMEBUFFER,se),!(K.depthTexture&&K.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(K.depthTexture).__webglTexture||K.depthTexture.image.width!==K.width||K.depthTexture.image.height!==K.height)&&(K.depthTexture.image.width=K.width,K.depthTexture.image.height=K.height,K.depthTexture.needsUpdate=!0),ee(K.depthTexture,0);const Xe=n.get(K.depthTexture).__webglTexture,Ye=qe(K);if(K.depthTexture.format===bd)Ue(K)?o.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,Xe,0,Ye):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,Xe,0);else if(K.depthTexture.format===Fd)Ue(K)?o.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,Xe,0,Ye):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,Xe,0);else throw new Error("Unknown depthTexture format")}function Je(se){const K=n.get(se),Ce=se.isWebGLCubeRenderTarget===!0;if(se.depthTexture&&!K.__autoAllocateDepthBuffer){if(Ce)throw new Error("target.depthTexture not supported in Cube render targets");Le(K.__webglFramebuffer,se)}else if(Ce){K.__webglDepthbuffer=[];for(let Xe=0;Xe<6;Xe++)t.bindFramebuffer(r.FRAMEBUFFER,K.__webglFramebuffer[Xe]),K.__webglDepthbuffer[Xe]=r.createRenderbuffer(),Pe(K.__webglDepthbuffer[Xe],se,!1)}else t.bindFramebuffer(r.FRAMEBUFFER,K.__webglFramebuffer),K.__webglDepthbuffer=r.createRenderbuffer(),Pe(K.__webglDepthbuffer,se,!1);t.bindFramebuffer(r.FRAMEBUFFER,null)}function ot(se,K,Ce){const Xe=n.get(se);K!==void 0&&ye(Xe.__webglFramebuffer,se,se.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,0),Ce!==void 0&&Je(se)}function ft(se){const K=se.texture,Ce=n.get(se),Xe=n.get(K);se.addEventListener("dispose",R);const Ye=se.textures,We=se.isWebGLCubeRenderTarget===!0,Et=Ye.length>1;if(Et||(Xe.__webglTexture===void 0&&(Xe.__webglTexture=r.createTexture()),Xe.__version=K.version,s.memory.textures++),We){Ce.__webglFramebuffer=[];for(let $=0;$<6;$++)if(K.mipmaps&&K.mipmaps.length>0){Ce.__webglFramebuffer[$]=[];for(let F=0;F<K.mipmaps.length;F++)Ce.__webglFramebuffer[$][F]=r.createFramebuffer()}else Ce.__webglFramebuffer[$]=r.createFramebuffer()}else{if(K.mipmaps&&K.mipmaps.length>0){Ce.__webglFramebuffer=[];for(let $=0;$<K.mipmaps.length;$++)Ce.__webglFramebuffer[$]=r.createFramebuffer()}else Ce.__webglFramebuffer=r.createFramebuffer();if(Et)for(let $=0,F=Ye.length;$<F;$++){const B=n.get(Ye[$]);B.__webglTexture===void 0&&(B.__webglTexture=r.createTexture(),s.memory.textures++)}if(se.samples>0&&Ue(se)===!1){Ce.__webglMultisampledFramebuffer=r.createFramebuffer(),Ce.__webglColorRenderbuffer=[],t.bindFramebuffer(r.FRAMEBUFFER,Ce.__webglMultisampledFramebuffer);for(let $=0;$<Ye.length;$++){const F=Ye[$];Ce.__webglColorRenderbuffer[$]=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,Ce.__webglColorRenderbuffer[$]);const B=a.convert(F.format,F.colorSpace),Q=a.convert(F.type),ie=w(F.internalFormat,B,Q,F.colorSpace,se.isXRRenderTarget===!0),pe=qe(se);r.renderbufferStorageMultisample(r.RENDERBUFFER,pe,ie,se.width,se.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+$,r.RENDERBUFFER,Ce.__webglColorRenderbuffer[$])}r.bindRenderbuffer(r.RENDERBUFFER,null),se.depthBuffer&&(Ce.__webglDepthRenderbuffer=r.createRenderbuffer(),Pe(Ce.__webglDepthRenderbuffer,se,!0)),t.bindFramebuffer(r.FRAMEBUFFER,null)}}if(We){t.bindTexture(r.TEXTURE_CUBE_MAP,Xe.__webglTexture),X(r.TEXTURE_CUBE_MAP,K);for(let $=0;$<6;$++)if(K.mipmaps&&K.mipmaps.length>0)for(let F=0;F<K.mipmaps.length;F++)ye(Ce.__webglFramebuffer[$][F],se,K,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+$,F);else ye(Ce.__webglFramebuffer[$],se,K,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+$,0);_(K)&&E(r.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Et){for(let $=0,F=Ye.length;$<F;$++){const B=Ye[$],Q=n.get(B);t.bindTexture(r.TEXTURE_2D,Q.__webglTexture),X(r.TEXTURE_2D,B),ye(Ce.__webglFramebuffer,se,B,r.COLOR_ATTACHMENT0+$,r.TEXTURE_2D,0),_(B)&&E(r.TEXTURE_2D)}t.unbindTexture()}else{let $=r.TEXTURE_2D;if((se.isWebGL3DRenderTarget||se.isWebGLArrayRenderTarget)&&($=se.isWebGL3DRenderTarget?r.TEXTURE_3D:r.TEXTURE_2D_ARRAY),t.bindTexture($,Xe.__webglTexture),X($,K),K.mipmaps&&K.mipmaps.length>0)for(let F=0;F<K.mipmaps.length;F++)ye(Ce.__webglFramebuffer[F],se,K,r.COLOR_ATTACHMENT0,$,F);else ye(Ce.__webglFramebuffer,se,K,r.COLOR_ATTACHMENT0,$,0);_(K)&&E($),t.unbindTexture()}se.depthBuffer&&Je(se)}function wt(se){const K=se.textures;for(let Ce=0,Xe=K.length;Ce<Xe;Ce++){const Ye=K[Ce];if(_(Ye)){const We=se.isWebGLCubeRenderTarget?r.TEXTURE_CUBE_MAP:r.TEXTURE_2D,Et=n.get(Ye).__webglTexture;t.bindTexture(We,Et),E(We),t.unbindTexture()}}}const Z=[],Be=[];function Ge(se){if(se.samples>0){if(Ue(se)===!1){const K=se.textures,Ce=se.width,Xe=se.height;let Ye=r.COLOR_BUFFER_BIT;const We=se.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Et=n.get(se),$=K.length>1;if($)for(let F=0;F<K.length;F++)t.bindFramebuffer(r.FRAMEBUFFER,Et.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+F,r.RENDERBUFFER,null),t.bindFramebuffer(r.FRAMEBUFFER,Et.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+F,r.TEXTURE_2D,null,0);t.bindFramebuffer(r.READ_FRAMEBUFFER,Et.__webglMultisampledFramebuffer),t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Et.__webglFramebuffer);for(let F=0;F<K.length;F++){if(se.resolveDepthBuffer&&(se.depthBuffer&&(Ye|=r.DEPTH_BUFFER_BIT),se.stencilBuffer&&se.resolveStencilBuffer&&(Ye|=r.STENCIL_BUFFER_BIT)),$){r.framebufferRenderbuffer(r.READ_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,Et.__webglColorRenderbuffer[F]);const B=n.get(K[F]).__webglTexture;r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,B,0)}r.blitFramebuffer(0,0,Ce,Xe,0,0,Ce,Xe,Ye,r.NEAREST),c===!0&&(Z.length=0,Be.length=0,Z.push(r.COLOR_ATTACHMENT0+F),se.depthBuffer&&se.resolveDepthBuffer===!1&&(Z.push(We),Be.push(We),r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,Be)),r.invalidateFramebuffer(r.READ_FRAMEBUFFER,Z))}if(t.bindFramebuffer(r.READ_FRAMEBUFFER,null),t.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),$)for(let F=0;F<K.length;F++){t.bindFramebuffer(r.FRAMEBUFFER,Et.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+F,r.RENDERBUFFER,Et.__webglColorRenderbuffer[F]);const B=n.get(K[F]).__webglTexture;t.bindFramebuffer(r.FRAMEBUFFER,Et.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+F,r.TEXTURE_2D,B,0)}t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Et.__webglMultisampledFramebuffer)}else if(se.depthBuffer&&se.resolveDepthBuffer===!1&&c){const K=se.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT;r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,[K])}}}function qe(se){return Math.min(i.maxSamples,se.samples)}function Ue(se){const K=n.get(se);return se.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&K.__useRenderToTexture!==!1}function xt(se){const K=s.render.frame;f.get(se)!==K&&(f.set(se,K),se.update())}function st(se,K){const Ce=se.colorSpace,Xe=se.format,Ye=se.type;return se.isCompressedTexture===!0||se.isVideoTexture===!0||Ce!==ec&&Ce!==kl&&(jn.getTransfer(Ce)===ur?(Xe!==Yi||Ye!==io)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ce)),K}function yt(se){return typeof HTMLImageElement<"u"&&se instanceof HTMLImageElement?(d.width=se.naturalWidth||se.width,d.height=se.naturalHeight||se.height):typeof VideoFrame<"u"&&se instanceof VideoFrame?(d.width=se.displayWidth,d.height=se.displayHeight):(d.width=se.width,d.height=se.height),d}this.allocateTextureUnit=q,this.resetTextureUnits=V,this.setTexture2D=ee,this.setTexture2DArray=te,this.setTexture3D=re,this.setTextureCube=ue,this.rebindTextures=ot,this.setupRenderTarget=ft,this.updateRenderTargetMipmap=wt,this.updateMultisampleRenderTarget=Ge,this.setupDepthRenderbuffer=Je,this.setupFrameBufferTexture=ye,this.useMultisampledRTT=Ue}function kD(r,e){function t(n,i=kl){let a;const s=jn.getTransfer(i);if(n===io)return r.UNSIGNED_BYTE;if(n===Rx)return r.UNSIGNED_SHORT_4_4_4_4;if(n===Ix)return r.UNSIGNED_SHORT_5_5_5_1;if(n===pb)return r.UNSIGNED_INT_5_9_9_9_REV;if(n===fb)return r.BYTE;if(n===hb)return r.SHORT;if(n===np)return r.UNSIGNED_SHORT;if(n===Px)return r.INT;if(n===Gl)return r.UNSIGNED_INT;if(n===Ba)return r.FLOAT;if(n===gp)return r.HALF_FLOAT;if(n===mb)return r.ALPHA;if(n===gb)return r.RGB;if(n===Yi)return r.RGBA;if(n===yb)return r.LUMINANCE;if(n===vb)return r.LUMINANCE_ALPHA;if(n===bd)return r.DEPTH_COMPONENT;if(n===Fd)return r.DEPTH_STENCIL;if(n===Ox)return r.RED;if(n===gy)return r.RED_INTEGER;if(n===_b)return r.RG;if(n===kx)return r.RG_INTEGER;if(n===Fx)return r.RGBA_INTEGER;if(n===Km||n===Jm||n===Zm||n===eg)if(s===ur)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(n===Km)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Jm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Zm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===eg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(n===Km)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Jm)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Zm)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===eg)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===x_||n===S_||n===E_||n===w_)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(n===x_)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===S_)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===E_)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===w_)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===C_||n===b_||n===M_)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(n===C_||n===b_)return s===ur?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(n===M_)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===T_||n===A_||n===P_||n===R_||n===I_||n===O_||n===k_||n===F_||n===D_||n===L_||n===N_||n===U_||n===B_||n===z_)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(n===T_)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===A_)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===P_)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===R_)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===I_)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===O_)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===k_)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===F_)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===D_)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===L_)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===N_)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===U_)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===B_)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===z_)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===tg||n===V_||n===H_)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(n===tg)return s===ur?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===V_)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===H_)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===xb||n===j_||n===$_||n===W_)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(n===tg)return a.COMPRESSED_RED_RGTC1_EXT;if(n===j_)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===$_)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===W_)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===kd?r.UNSIGNED_INT_24_8:r[n]!==void 0?r[n]:null}return{convert:t}}class FD extends Dr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Nh extends zn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const pZ={type:"move"};class U1{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Nh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Nh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ae,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ae),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Nh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ae,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ae),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let i=null,a=null,s=null;const o=this._targetRay,c=this._grip,d=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(d&&e.hand){s=!0;for(const S of e.hand.values()){const _=t.getJointPose(S,n),E=this._getHandJoint(d,S);_!==null&&(E.matrix.fromArray(_.transform.matrix),E.matrix.decompose(E.position,E.rotation,E.scale),E.matrixWorldNeedsUpdate=!0,E.jointRadius=_.radius),E.visible=_!==null}const f=d.joints["index-finger-tip"],m=d.joints["thumb-tip"],g=f.position.distanceTo(m.position),y=.02,x=.005;d.inputState.pinching&&g>y+x?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&g<=y-x&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,n),a!==null&&(c.matrix.fromArray(a.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,a.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(a.linearVelocity)):c.hasLinearVelocity=!1,a.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(a.angularVelocity)):c.hasAngularVelocity=!1));o!==null&&(i=t.getPose(e.targetRaySpace,n),i===null&&a!==null&&(i=a),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(pZ)))}return o!==null&&(o.visible=i!==null),c!==null&&(c.visible=a!==null),d!==null&&(d.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new Nh;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}const mZ=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,gZ=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class yZ{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(this.texture===null){const i=new Ar,a=e.properties.get(i);a.__webglTexture=t.texture,(t.depthNear!=n.depthNear||t.depthFar!=n.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new so({vertexShader:mZ,fragmentShader:gZ,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Tr(new yp(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class vZ extends $o{constructor(e,t){super();const n=this;let i=null,a=1,s=null,o="local-floor",c=1,d=null,f=null,m=null,g=null,y=null,x=null;const S=new yZ,_=t.getContextAttributes();let E=null,w=null;const C=[],T=[],O=new Qe;let R=null;const P=new Dr;P.layers.enable(1),P.viewport=new Kn;const N=new Dr;N.layers.enable(2),N.viewport=new Kn;const D=[P,N],I=new FD;I.layers.enable(1),I.layers.enable(2);let V=null,q=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(me){let ye=C[me];return ye===void 0&&(ye=new U1,C[me]=ye),ye.getTargetRaySpace()},this.getControllerGrip=function(me){let ye=C[me];return ye===void 0&&(ye=new U1,C[me]=ye),ye.getGripSpace()},this.getHand=function(me){let ye=C[me];return ye===void 0&&(ye=new U1,C[me]=ye),ye.getHandSpace()};function W(me){const ye=T.indexOf(me.inputSource);if(ye===-1)return;const Pe=C[ye];Pe!==void 0&&(Pe.update(me.inputSource,me.frame,d||s),Pe.dispatchEvent({type:me.type,data:me.inputSource}))}function ee(){i.removeEventListener("select",W),i.removeEventListener("selectstart",W),i.removeEventListener("selectend",W),i.removeEventListener("squeeze",W),i.removeEventListener("squeezestart",W),i.removeEventListener("squeezeend",W),i.removeEventListener("end",ee),i.removeEventListener("inputsourceschange",te);for(let me=0;me<C.length;me++){const ye=T[me];ye!==null&&(T[me]=null,C[me].disconnect(ye))}V=null,q=null,S.reset(),e.setRenderTarget(E),y=null,g=null,m=null,i=null,w=null,we.stop(),n.isPresenting=!1,e.setPixelRatio(R),e.setSize(O.width,O.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(me){a=me,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(me){o=me,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||s},this.setReferenceSpace=function(me){d=me},this.getBaseLayer=function(){return g!==null?g:y},this.getBinding=function(){return m},this.getFrame=function(){return x},this.getSession=function(){return i},this.setSession=async function(me){if(i=me,i!==null){if(E=e.getRenderTarget(),i.addEventListener("select",W),i.addEventListener("selectstart",W),i.addEventListener("selectend",W),i.addEventListener("squeeze",W),i.addEventListener("squeezestart",W),i.addEventListener("squeezeend",W),i.addEventListener("end",ee),i.addEventListener("inputsourceschange",te),_.xrCompatible!==!0&&await t.makeXRCompatible(),R=e.getPixelRatio(),e.getSize(O),i.renderState.layers===void 0){const ye={antialias:_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:a};y=new XRWebGLLayer(i,t,ye),i.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),w=new ao(y.framebufferWidth,y.framebufferHeight,{format:Yi,type:io,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil})}else{let ye=null,Pe=null,Le=null;_.depth&&(Le=_.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ye=_.stencil?Fd:bd,Pe=_.stencil?kd:Gl);const Je={colorFormat:t.RGBA8,depthFormat:Le,scaleFactor:a};m=new XRWebGLBinding(i,t),g=m.createProjectionLayer(Je),i.updateRenderState({layers:[g]}),e.setPixelRatio(1),e.setSize(g.textureWidth,g.textureHeight,!1),w=new ao(g.textureWidth,g.textureHeight,{format:Yi,type:io,depthTexture:new Rb(g.textureWidth,g.textureHeight,Pe,void 0,void 0,void 0,void 0,void 0,void 0,ye),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0,resolveDepthBuffer:g.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(c),d=null,s=await i.requestReferenceSpace(o),we.setContext(i),we.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return S.getDepthTexture()};function te(me){for(let ye=0;ye<me.removed.length;ye++){const Pe=me.removed[ye],Le=T.indexOf(Pe);Le>=0&&(T[Le]=null,C[Le].disconnect(Pe))}for(let ye=0;ye<me.added.length;ye++){const Pe=me.added[ye];let Le=T.indexOf(Pe);if(Le===-1){for(let ot=0;ot<C.length;ot++)if(ot>=T.length){T.push(Pe),Le=ot;break}else if(T[ot]===null){T[ot]=Pe,Le=ot;break}if(Le===-1)break}const Je=C[Le];Je&&Je.connect(Pe)}}const re=new ae,ue=new ae;function G(me,ye,Pe){re.setFromMatrixPosition(ye.matrixWorld),ue.setFromMatrixPosition(Pe.matrixWorld);const Le=re.distanceTo(ue),Je=ye.projectionMatrix.elements,ot=Pe.projectionMatrix.elements,ft=Je[14]/(Je[10]-1),wt=Je[14]/(Je[10]+1),Z=(Je[9]+1)/Je[5],Be=(Je[9]-1)/Je[5],Ge=(Je[8]-1)/Je[0],qe=(ot[8]+1)/ot[0],Ue=ft*Ge,xt=ft*qe,st=Le/(-Ge+qe),yt=st*-Ge;ye.matrixWorld.decompose(me.position,me.quaternion,me.scale),me.translateX(yt),me.translateZ(st),me.matrixWorld.compose(me.position,me.quaternion,me.scale),me.matrixWorldInverse.copy(me.matrixWorld).invert();const se=ft+st,K=wt+st,Ce=Ue-yt,Xe=xt+(Le-yt),Ye=Z*wt/K*se,We=Be*wt/K*se;me.projectionMatrix.makePerspective(Ce,Xe,Ye,We,se,K),me.projectionMatrixInverse.copy(me.projectionMatrix).invert()}function le(me,ye){ye===null?me.matrixWorld.copy(me.matrix):me.matrixWorld.multiplyMatrices(ye.matrixWorld,me.matrix),me.matrixWorldInverse.copy(me.matrixWorld).invert()}this.updateCamera=function(me){if(i===null)return;S.texture!==null&&(me.near=S.depthNear,me.far=S.depthFar),I.near=N.near=P.near=me.near,I.far=N.far=P.far=me.far,(V!==I.near||q!==I.far)&&(i.updateRenderState({depthNear:I.near,depthFar:I.far}),V=I.near,q=I.far,P.near=V,P.far=q,N.near=V,N.far=q,P.updateProjectionMatrix(),N.updateProjectionMatrix(),me.updateProjectionMatrix());const ye=me.parent,Pe=I.cameras;le(I,ye);for(let Le=0;Le<Pe.length;Le++)le(Pe[Le],ye);Pe.length===2?G(I,P,N):I.projectionMatrix.copy(P.projectionMatrix),oe(me,I,ye)};function oe(me,ye,Pe){Pe===null?me.matrix.copy(ye.matrixWorld):(me.matrix.copy(Pe.matrixWorld),me.matrix.invert(),me.matrix.multiply(ye.matrixWorld)),me.matrix.decompose(me.position,me.quaternion,me.scale),me.updateMatrixWorld(!0),me.projectionMatrix.copy(ye.projectionMatrix),me.projectionMatrixInverse.copy(ye.projectionMatrixInverse),me.isPerspectiveCamera&&(me.fov=rp*2*Math.atan(1/me.projectionMatrix.elements[5]),me.zoom=1)}this.getCamera=function(){return I},this.getFoveation=function(){if(!(g===null&&y===null))return c},this.setFoveation=function(me){c=me,g!==null&&(g.fixedFoveation=me),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=me)},this.hasDepthSensing=function(){return S.texture!==null},this.getDepthSensingMesh=function(){return S.getMesh(I)};let X=null;function ne(me,ye){if(f=ye.getViewerPose(d||s),x=ye,f!==null){const Pe=f.views;y!==null&&(e.setRenderTargetFramebuffer(w,y.framebuffer),e.setRenderTarget(w));let Le=!1;Pe.length!==I.cameras.length&&(I.cameras.length=0,Le=!0);for(let ot=0;ot<Pe.length;ot++){const ft=Pe[ot];let wt=null;if(y!==null)wt=y.getViewport(ft);else{const Be=m.getViewSubImage(g,ft);wt=Be.viewport,ot===0&&(e.setRenderTargetTextures(w,Be.colorTexture,g.ignoreDepthValues?void 0:Be.depthStencilTexture),e.setRenderTarget(w))}let Z=D[ot];Z===void 0&&(Z=new Dr,Z.layers.enable(ot),Z.viewport=new Kn,D[ot]=Z),Z.matrix.fromArray(ft.transform.matrix),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale),Z.projectionMatrix.fromArray(ft.projectionMatrix),Z.projectionMatrixInverse.copy(Z.projectionMatrix).invert(),Z.viewport.set(wt.x,wt.y,wt.width,wt.height),ot===0&&(I.matrix.copy(Z.matrix),I.matrix.decompose(I.position,I.quaternion,I.scale)),Le===!0&&I.cameras.push(Z)}const Je=i.enabledFeatures;if(Je&&Je.includes("depth-sensing")){const ot=m.getDepthInformation(Pe[0]);ot&&ot.isValid&&ot.texture&&S.init(e,ot,i.renderState)}}for(let Pe=0;Pe<C.length;Pe++){const Le=T[Pe],Je=C[Pe];Le!==null&&Je!==void 0&&Je.update(Le,ye,d||s)}X&&X(me,ye),ye.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:ye}),x=null}const we=new AD;we.setAnimationLoop(ne),this.setAnimationLoop=function(me){X=me},this.dispose=function(){}}}const Qu=new as,_Z=new an;function xZ(r,e){function t(_,E){_.matrixAutoUpdate===!0&&_.updateMatrix(),E.value.copy(_.matrix)}function n(_,E){E.color.getRGB(_.fogColor.value,MD(r)),E.isFog?(_.fogNear.value=E.near,_.fogFar.value=E.far):E.isFogExp2&&(_.fogDensity.value=E.density)}function i(_,E,w,C,T){E.isMeshBasicMaterial||E.isMeshLambertMaterial?a(_,E):E.isMeshToonMaterial?(a(_,E),m(_,E)):E.isMeshPhongMaterial?(a(_,E),f(_,E)):E.isMeshStandardMaterial?(a(_,E),g(_,E),E.isMeshPhysicalMaterial&&y(_,E,T)):E.isMeshMatcapMaterial?(a(_,E),x(_,E)):E.isMeshDepthMaterial?a(_,E):E.isMeshDistanceMaterial?(a(_,E),S(_,E)):E.isMeshNormalMaterial?a(_,E):E.isLineBasicMaterial?(s(_,E),E.isLineDashedMaterial&&o(_,E)):E.isPointsMaterial?c(_,E,w,C):E.isSpriteMaterial?d(_,E):E.isShadowMaterial?(_.color.value.copy(E.color),_.opacity.value=E.opacity):E.isShaderMaterial&&(E.uniformsNeedUpdate=!1)}function a(_,E){_.opacity.value=E.opacity,E.color&&_.diffuse.value.copy(E.color),E.emissive&&_.emissive.value.copy(E.emissive).multiplyScalar(E.emissiveIntensity),E.map&&(_.map.value=E.map,t(E.map,_.mapTransform)),E.alphaMap&&(_.alphaMap.value=E.alphaMap,t(E.alphaMap,_.alphaMapTransform)),E.bumpMap&&(_.bumpMap.value=E.bumpMap,t(E.bumpMap,_.bumpMapTransform),_.bumpScale.value=E.bumpScale,E.side===ya&&(_.bumpScale.value*=-1)),E.normalMap&&(_.normalMap.value=E.normalMap,t(E.normalMap,_.normalMapTransform),_.normalScale.value.copy(E.normalScale),E.side===ya&&_.normalScale.value.negate()),E.displacementMap&&(_.displacementMap.value=E.displacementMap,t(E.displacementMap,_.displacementMapTransform),_.displacementScale.value=E.displacementScale,_.displacementBias.value=E.displacementBias),E.emissiveMap&&(_.emissiveMap.value=E.emissiveMap,t(E.emissiveMap,_.emissiveMapTransform)),E.specularMap&&(_.specularMap.value=E.specularMap,t(E.specularMap,_.specularMapTransform)),E.alphaTest>0&&(_.alphaTest.value=E.alphaTest);const w=e.get(E),C=w.envMap,T=w.envMapRotation;C&&(_.envMap.value=C,Qu.copy(T),Qu.x*=-1,Qu.y*=-1,Qu.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(Qu.y*=-1,Qu.z*=-1),_.envMapRotation.value.setFromMatrix4(_Z.makeRotationFromEuler(Qu)),_.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=E.reflectivity,_.ior.value=E.ior,_.refractionRatio.value=E.refractionRatio),E.lightMap&&(_.lightMap.value=E.lightMap,_.lightMapIntensity.value=E.lightMapIntensity,t(E.lightMap,_.lightMapTransform)),E.aoMap&&(_.aoMap.value=E.aoMap,_.aoMapIntensity.value=E.aoMapIntensity,t(E.aoMap,_.aoMapTransform))}function s(_,E){_.diffuse.value.copy(E.color),_.opacity.value=E.opacity,E.map&&(_.map.value=E.map,t(E.map,_.mapTransform))}function o(_,E){_.dashSize.value=E.dashSize,_.totalSize.value=E.dashSize+E.gapSize,_.scale.value=E.scale}function c(_,E,w,C){_.diffuse.value.copy(E.color),_.opacity.value=E.opacity,_.size.value=E.size*w,_.scale.value=C*.5,E.map&&(_.map.value=E.map,t(E.map,_.uvTransform)),E.alphaMap&&(_.alphaMap.value=E.alphaMap,t(E.alphaMap,_.alphaMapTransform)),E.alphaTest>0&&(_.alphaTest.value=E.alphaTest)}function d(_,E){_.diffuse.value.copy(E.color),_.opacity.value=E.opacity,_.rotation.value=E.rotation,E.map&&(_.map.value=E.map,t(E.map,_.mapTransform)),E.alphaMap&&(_.alphaMap.value=E.alphaMap,t(E.alphaMap,_.alphaMapTransform)),E.alphaTest>0&&(_.alphaTest.value=E.alphaTest)}function f(_,E){_.specular.value.copy(E.specular),_.shininess.value=Math.max(E.shininess,1e-4)}function m(_,E){E.gradientMap&&(_.gradientMap.value=E.gradientMap)}function g(_,E){_.metalness.value=E.metalness,E.metalnessMap&&(_.metalnessMap.value=E.metalnessMap,t(E.metalnessMap,_.metalnessMapTransform)),_.roughness.value=E.roughness,E.roughnessMap&&(_.roughnessMap.value=E.roughnessMap,t(E.roughnessMap,_.roughnessMapTransform)),E.envMap&&(_.envMapIntensity.value=E.envMapIntensity)}function y(_,E,w){_.ior.value=E.ior,E.sheen>0&&(_.sheenColor.value.copy(E.sheenColor).multiplyScalar(E.sheen),_.sheenRoughness.value=E.sheenRoughness,E.sheenColorMap&&(_.sheenColorMap.value=E.sheenColorMap,t(E.sheenColorMap,_.sheenColorMapTransform)),E.sheenRoughnessMap&&(_.sheenRoughnessMap.value=E.sheenRoughnessMap,t(E.sheenRoughnessMap,_.sheenRoughnessMapTransform))),E.clearcoat>0&&(_.clearcoat.value=E.clearcoat,_.clearcoatRoughness.value=E.clearcoatRoughness,E.clearcoatMap&&(_.clearcoatMap.value=E.clearcoatMap,t(E.clearcoatMap,_.clearcoatMapTransform)),E.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=E.clearcoatRoughnessMap,t(E.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),E.clearcoatNormalMap&&(_.clearcoatNormalMap.value=E.clearcoatNormalMap,t(E.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(E.clearcoatNormalScale),E.side===ya&&_.clearcoatNormalScale.value.negate())),E.dispersion>0&&(_.dispersion.value=E.dispersion),E.iridescence>0&&(_.iridescence.value=E.iridescence,_.iridescenceIOR.value=E.iridescenceIOR,_.iridescenceThicknessMinimum.value=E.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=E.iridescenceThicknessRange[1],E.iridescenceMap&&(_.iridescenceMap.value=E.iridescenceMap,t(E.iridescenceMap,_.iridescenceMapTransform)),E.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=E.iridescenceThicknessMap,t(E.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),E.transmission>0&&(_.transmission.value=E.transmission,_.transmissionSamplerMap.value=w.texture,_.transmissionSamplerSize.value.set(w.width,w.height),E.transmissionMap&&(_.transmissionMap.value=E.transmissionMap,t(E.transmissionMap,_.transmissionMapTransform)),_.thickness.value=E.thickness,E.thicknessMap&&(_.thicknessMap.value=E.thicknessMap,t(E.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=E.attenuationDistance,_.attenuationColor.value.copy(E.attenuationColor)),E.anisotropy>0&&(_.anisotropyVector.value.set(E.anisotropy*Math.cos(E.anisotropyRotation),E.anisotropy*Math.sin(E.anisotropyRotation)),E.anisotropyMap&&(_.anisotropyMap.value=E.anisotropyMap,t(E.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=E.specularIntensity,_.specularColor.value.copy(E.specularColor),E.specularColorMap&&(_.specularColorMap.value=E.specularColorMap,t(E.specularColorMap,_.specularColorMapTransform)),E.specularIntensityMap&&(_.specularIntensityMap.value=E.specularIntensityMap,t(E.specularIntensityMap,_.specularIntensityMapTransform))}function x(_,E){E.matcap&&(_.matcap.value=E.matcap)}function S(_,E){const w=e.get(E).light;_.referencePosition.value.setFromMatrixPosition(w.matrixWorld),_.nearDistance.value=w.shadow.camera.near,_.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:i}}function SZ(r,e,t,n){let i={},a={},s=[];const o=r.getParameter(r.MAX_UNIFORM_BUFFER_BINDINGS);function c(w,C){const T=C.program;n.uniformBlockBinding(w,T)}function d(w,C){let T=i[w.id];T===void 0&&(x(w),T=f(w),i[w.id]=T,w.addEventListener("dispose",_));const O=C.program;n.updateUBOMapping(w,O);const R=e.render.frame;a[w.id]!==R&&(g(w),a[w.id]=R)}function f(w){const C=m();w.__bindingPointIndex=C;const T=r.createBuffer(),O=w.__size,R=w.usage;return r.bindBuffer(r.UNIFORM_BUFFER,T),r.bufferData(r.UNIFORM_BUFFER,O,R),r.bindBuffer(r.UNIFORM_BUFFER,null),r.bindBufferBase(r.UNIFORM_BUFFER,C,T),T}function m(){for(let w=0;w<o;w++)if(s.indexOf(w)===-1)return s.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function g(w){const C=i[w.id],T=w.uniforms,O=w.__cache;r.bindBuffer(r.UNIFORM_BUFFER,C);for(let R=0,P=T.length;R<P;R++){const N=Array.isArray(T[R])?T[R]:[T[R]];for(let D=0,I=N.length;D<I;D++){const V=N[D];if(y(V,R,D,O)===!0){const q=V.__offset,W=Array.isArray(V.value)?V.value:[V.value];let ee=0;for(let te=0;te<W.length;te++){const re=W[te],ue=S(re);typeof re=="number"||typeof re=="boolean"?(V.__data[0]=re,r.bufferSubData(r.UNIFORM_BUFFER,q+ee,V.__data)):re.isMatrix3?(V.__data[0]=re.elements[0],V.__data[1]=re.elements[1],V.__data[2]=re.elements[2],V.__data[3]=0,V.__data[4]=re.elements[3],V.__data[5]=re.elements[4],V.__data[6]=re.elements[5],V.__data[7]=0,V.__data[8]=re.elements[6],V.__data[9]=re.elements[7],V.__data[10]=re.elements[8],V.__data[11]=0):(re.toArray(V.__data,ee),ee+=ue.storage/Float32Array.BYTES_PER_ELEMENT)}r.bufferSubData(r.UNIFORM_BUFFER,q,V.__data)}}}r.bindBuffer(r.UNIFORM_BUFFER,null)}function y(w,C,T,O){const R=w.value,P=C+"_"+T;if(O[P]===void 0)return typeof R=="number"||typeof R=="boolean"?O[P]=R:O[P]=R.clone(),!0;{const N=O[P];if(typeof R=="number"||typeof R=="boolean"){if(N!==R)return O[P]=R,!0}else if(N.equals(R)===!1)return N.copy(R),!0}return!1}function x(w){const C=w.uniforms;let T=0;const O=16;for(let P=0,N=C.length;P<N;P++){const D=Array.isArray(C[P])?C[P]:[C[P]];for(let I=0,V=D.length;I<V;I++){const q=D[I],W=Array.isArray(q.value)?q.value:[q.value];for(let ee=0,te=W.length;ee<te;ee++){const re=W[ee],ue=S(re),G=T%O,le=G%ue.boundary,oe=G+le;T+=le,oe!==0&&O-oe<ue.storage&&(T+=O-oe),q.__data=new Float32Array(ue.storage/Float32Array.BYTES_PER_ELEMENT),q.__offset=T,T+=ue.storage}}}const R=T%O;return R>0&&(T+=O-R),w.__size=T,w.__cache={},this}function S(w){const C={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(C.boundary=4,C.storage=4):w.isVector2?(C.boundary=8,C.storage=8):w.isVector3||w.isColor?(C.boundary=16,C.storage=12):w.isVector4?(C.boundary=16,C.storage=16):w.isMatrix3?(C.boundary=48,C.storage=48):w.isMatrix4?(C.boundary=64,C.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),C}function _(w){const C=w.target;C.removeEventListener("dispose",_);const T=s.indexOf(C.__bindingPointIndex);s.splice(T,1),r.deleteBuffer(i[C.id]),delete i[C.id],delete a[C.id]}function E(){for(const w in i)r.deleteBuffer(i[w]);s=[],i={},a={}}return{bind:c,update:d,dispose:E}}class DD{constructor(e={}){const{canvas:t=ED(),context:n=null,depth:i=!0,stencil:a=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:d=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:m=!1}=e;this.isWebGLRenderer=!0;let g;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");g=n.getContextAttributes().alpha}else g=s;const y=new Uint32Array(4),x=new Int32Array(4);let S=null,_=null;const E=[],w=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Ss,this.toneMapping=Lo,this.toneMappingExposure=1;const C=this;let T=!1,O=0,R=0,P=null,N=-1,D=null;const I=new Kn,V=new Kn;let q=null;const W=new At(0);let ee=0,te=t.width,re=t.height,ue=1,G=null,le=null;const oe=new Kn(0,0,te,re),X=new Kn(0,0,te,re);let ne=!1;const we=new xy;let me=!1,ye=!1;const Pe=new an,Le=new ae,Je=new Kn,ot={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ft=!1;function wt(){return P===null?ue:1}let Z=n;function Be(J,xe){return t.getContext(J,xe)}try{const J={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:c,preserveDrawingBuffer:d,powerPreference:f,failIfMajorPerformanceCaveat:m};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Mx}`),t.addEventListener("webglcontextlost",He,!1),t.addEventListener("webglcontextrestored",$e,!1),t.addEventListener("webglcontextcreationerror",lt,!1),Z===null){const xe="webgl2";if(Z=Be(xe,J),Z===null)throw Be(xe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(J){throw console.error("THREE.WebGLRenderer: "+J.message),J}let Ge,qe,Ue,xt,st,yt,se,K,Ce,Xe,Ye,We,Et,$,F,B,Q,ie,pe,ve,Ve,de,ke,tt;function fe(){Ge=new AK(Z),Ge.init(),de=new kD(Z,Ge),qe=new EK(Z,Ge,e,de),Ue=new oZ(Z),xt=new IK(Z),st=new YJ,yt=new hZ(Z,Ge,Ue,st,qe,de,xt),se=new CK(C),K=new TK(C),Ce=new UX(Z),ke=new xK(Z,Ce),Xe=new PK(Z,Ce,xt,ke),Ye=new kK(Z,Xe,Ce,xt),pe=new OK(Z,qe,yt),B=new wK(st),We=new XJ(C,se,K,Ge,qe,ke,B),Et=new xZ(C,st),$=new KJ,F=new rZ(Ge),ie=new _K(C,se,K,Ue,Ye,g,c),Q=new sZ(C,Ye,qe),tt=new SZ(Z,xt,qe,Ue),ve=new SK(Z,Ge,xt),Ve=new RK(Z,Ge,xt),xt.programs=We.programs,C.capabilities=qe,C.extensions=Ge,C.properties=st,C.renderLists=$,C.shadowMap=Q,C.state=Ue,C.info=xt}fe();const Ke=new vZ(C,Z);this.xr=Ke,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){const J=Ge.get("WEBGL_lose_context");J&&J.loseContext()},this.forceContextRestore=function(){const J=Ge.get("WEBGL_lose_context");J&&J.restoreContext()},this.getPixelRatio=function(){return ue},this.setPixelRatio=function(J){J!==void 0&&(ue=J,this.setSize(te,re,!1))},this.getSize=function(J){return J.set(te,re)},this.setSize=function(J,xe,Ae=!0){if(Ke.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}te=J,re=xe,t.width=Math.floor(J*ue),t.height=Math.floor(xe*ue),Ae===!0&&(t.style.width=J+"px",t.style.height=xe+"px"),this.setViewport(0,0,J,xe)},this.getDrawingBufferSize=function(J){return J.set(te*ue,re*ue).floor()},this.setDrawingBufferSize=function(J,xe,Ae){te=J,re=xe,ue=Ae,t.width=Math.floor(J*Ae),t.height=Math.floor(xe*Ae),this.setViewport(0,0,J,xe)},this.getCurrentViewport=function(J){return J.copy(I)},this.getViewport=function(J){return J.copy(oe)},this.setViewport=function(J,xe,Ae,Oe){J.isVector4?oe.set(J.x,J.y,J.z,J.w):oe.set(J,xe,Ae,Oe),Ue.viewport(I.copy(oe).multiplyScalar(ue).round())},this.getScissor=function(J){return J.copy(X)},this.setScissor=function(J,xe,Ae,Oe){J.isVector4?X.set(J.x,J.y,J.z,J.w):X.set(J,xe,Ae,Oe),Ue.scissor(V.copy(X).multiplyScalar(ue).round())},this.getScissorTest=function(){return ne},this.setScissorTest=function(J){Ue.setScissorTest(ne=J)},this.setOpaqueSort=function(J){G=J},this.setTransparentSort=function(J){le=J},this.getClearColor=function(J){return J.copy(ie.getClearColor())},this.setClearColor=function(){ie.setClearColor.apply(ie,arguments)},this.getClearAlpha=function(){return ie.getClearAlpha()},this.setClearAlpha=function(){ie.setClearAlpha.apply(ie,arguments)},this.clear=function(J=!0,xe=!0,Ae=!0){let Oe=0;if(J){let be=!1;if(P!==null){const it=P.texture.format;be=it===Fx||it===kx||it===gy}if(be){const it=P.texture.type,et=it===io||it===Gl||it===np||it===kd||it===Rx||it===Ix,mt=ie.getClearColor(),nt=ie.getClearAlpha(),Tt=mt.r,Yt=mt.g,Qt=mt.b;et?(y[0]=Tt,y[1]=Yt,y[2]=Qt,y[3]=nt,Z.clearBufferuiv(Z.COLOR,0,y)):(x[0]=Tt,x[1]=Yt,x[2]=Qt,x[3]=nt,Z.clearBufferiv(Z.COLOR,0,x))}else Oe|=Z.COLOR_BUFFER_BIT}xe&&(Oe|=Z.DEPTH_BUFFER_BIT),Ae&&(Oe|=Z.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Z.clear(Oe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",He,!1),t.removeEventListener("webglcontextrestored",$e,!1),t.removeEventListener("webglcontextcreationerror",lt,!1),$.dispose(),F.dispose(),st.dispose(),se.dispose(),K.dispose(),Ye.dispose(),ke.dispose(),tt.dispose(),We.dispose(),Ke.dispose(),Ke.removeEventListener("sessionstart",ut),Ke.removeEventListener("sessionend",Vt),Ct.stop()};function He(J){J.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function $e(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const J=xt.autoReset,xe=Q.enabled,Ae=Q.autoUpdate,Oe=Q.needsUpdate,be=Q.type;fe(),xt.autoReset=J,Q.enabled=xe,Q.autoUpdate=Ae,Q.needsUpdate=Oe,Q.type=be}function lt(J){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",J.statusMessage)}function Ut(J){const xe=J.target;xe.removeEventListener("dispose",Ut),Xt(xe)}function Xt(J){ge(J),st.remove(J)}function ge(J){const xe=st.get(J).programs;xe!==void 0&&(xe.forEach(function(Ae){We.releaseProgram(Ae)}),J.isShaderMaterial&&We.releaseShaderCache(J))}this.renderBufferDirect=function(J,xe,Ae,Oe,be,it){xe===null&&(xe=ot);const et=be.isMesh&&be.matrixWorld.determinant()<0,mt=dn(J,xe,Ae,Oe,be);Ue.setMaterial(Oe,et);let nt=Ae.index,Tt=1;if(Oe.wireframe===!0){if(nt=Xe.getWireframeAttribute(Ae),nt===void 0)return;Tt=2}const Yt=Ae.drawRange,Qt=Ae.attributes.position;let Mn=Yt.start*Tt,er=(Yt.start+Yt.count)*Tt;it!==null&&(Mn=Math.max(Mn,it.start*Tt),er=Math.min(er,(it.start+it.count)*Tt)),nt!==null?(Mn=Math.max(Mn,0),er=Math.min(er,nt.count)):Qt!=null&&(Mn=Math.max(Mn,0),er=Math.min(er,Qt.count));const Vn=er-Mn;if(Vn<0||Vn===1/0)return;ke.setup(be,Oe,mt,Ae,nt);let ar,Lt=ve;if(nt!==null&&(ar=Ce.get(nt),Lt=Ve,Lt.setIndex(ar)),be.isMesh)Oe.wireframe===!0?(Ue.setLineWidth(Oe.wireframeLinewidth*wt()),Lt.setMode(Z.LINES)):Lt.setMode(Z.TRIANGLES);else if(be.isLine){let vt=Oe.linewidth;vt===void 0&&(vt=1),Ue.setLineWidth(vt*wt()),be.isLineSegments?Lt.setMode(Z.LINES):be.isLineLoop?Lt.setMode(Z.LINE_LOOP):Lt.setMode(Z.LINE_STRIP)}else be.isPoints?Lt.setMode(Z.POINTS):be.isSprite&&Lt.setMode(Z.TRIANGLES);if(be.isBatchedMesh)if(be._multiDrawInstances!==null)Lt.renderMultiDrawInstances(be._multiDrawStarts,be._multiDrawCounts,be._multiDrawCount,be._multiDrawInstances);else if(Ge.get("WEBGL_multi_draw"))Lt.renderMultiDraw(be._multiDrawStarts,be._multiDrawCounts,be._multiDrawCount);else{const vt=be._multiDrawStarts,Tn=be._multiDrawCounts,sn=be._multiDrawCount,tr=nt?Ce.get(nt).bytesPerElement:1,Di=st.get(Oe).currentProgram.getUniforms();for(let dr=0;dr<sn;dr++)Di.setValue(Z,"_gl_DrawID",dr),Lt.render(vt[dr]/tr,Tn[dr])}else if(be.isInstancedMesh)Lt.renderInstances(Mn,Vn,be.count);else if(Ae.isInstancedBufferGeometry){const vt=Ae._maxInstanceCount!==void 0?Ae._maxInstanceCount:1/0,Tn=Math.min(Ae.instanceCount,vt);Lt.renderInstances(Mn,Vn,Tn)}else Lt.render(Mn,Vn)};function Me(J,xe,Ae){J.transparent===!0&&J.side===Io&&J.forceSinglePass===!1?(J.side=ya,J.needsUpdate=!0,Ot(J,xe,Ae),J.side=$l,J.needsUpdate=!0,Ot(J,xe,Ae),J.side=Io):Ot(J,xe,Ae)}this.compile=function(J,xe,Ae=null){Ae===null&&(Ae=J),_=F.get(Ae),_.init(xe),w.push(_),Ae.traverseVisible(function(be){be.isLight&&be.layers.test(xe.layers)&&(_.pushLight(be),be.castShadow&&_.pushShadow(be))}),J!==Ae&&J.traverseVisible(function(be){be.isLight&&be.layers.test(xe.layers)&&(_.pushLight(be),be.castShadow&&_.pushShadow(be))}),_.setupLights();const Oe=new Set;return J.traverse(function(be){const it=be.material;if(it)if(Array.isArray(it))for(let et=0;et<it.length;et++){const mt=it[et];Me(mt,Ae,be),Oe.add(mt)}else Me(it,Ae,be),Oe.add(it)}),w.pop(),_=null,Oe},this.compileAsync=function(J,xe,Ae=null){const Oe=this.compile(J,xe,Ae);return new Promise(be=>{function it(){if(Oe.forEach(function(et){st.get(et).currentProgram.isReady()&&Oe.delete(et)}),Oe.size===0){be(J);return}setTimeout(it,10)}Ge.get("KHR_parallel_shader_compile")!==null?it():setTimeout(it,10)})};let Re=null;function Ze(J){Re&&Re(J)}function ut(){Ct.stop()}function Vt(){Ct.start()}const Ct=new AD;Ct.setAnimationLoop(Ze),typeof self<"u"&&Ct.setContext(self),this.setAnimationLoop=function(J){Re=J,Ke.setAnimationLoop(J),J===null?Ct.stop():Ct.start()},Ke.addEventListener("sessionstart",ut),Ke.addEventListener("sessionend",Vt),this.render=function(J,xe){if(xe!==void 0&&xe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(T===!0)return;if(J.matrixWorldAutoUpdate===!0&&J.updateMatrixWorld(),xe.parent===null&&xe.matrixWorldAutoUpdate===!0&&xe.updateMatrixWorld(),Ke.enabled===!0&&Ke.isPresenting===!0&&(Ke.cameraAutoUpdate===!0&&Ke.updateCamera(xe),xe=Ke.getCamera()),J.isScene===!0&&J.onBeforeRender(C,J,xe,P),_=F.get(J,w.length),_.init(xe),w.push(_),Pe.multiplyMatrices(xe.projectionMatrix,xe.matrixWorldInverse),we.setFromProjectionMatrix(Pe),ye=this.localClippingEnabled,me=B.init(this.clippingPlanes,ye),S=$.get(J,E.length),S.init(),E.push(S),Ke.enabled===!0&&Ke.isPresenting===!0){const it=C.xr.getDepthSensingMesh();it!==null&&pt(it,xe,-1/0,C.sortObjects)}pt(J,xe,0,C.sortObjects),S.finish(),C.sortObjects===!0&&S.sort(G,le),ft=Ke.enabled===!1||Ke.isPresenting===!1||Ke.hasDepthSensing()===!1,ft&&ie.addToRenderList(S,J),this.info.render.frame++,me===!0&&B.beginShadows();const Ae=_.state.shadowsArray;Q.render(Ae,J,xe),me===!0&&B.endShadows(),this.info.autoReset===!0&&this.info.reset();const Oe=S.opaque,be=S.transmissive;if(_.setupLights(),xe.isArrayCamera){const it=xe.cameras;if(be.length>0)for(let et=0,mt=it.length;et<mt;et++){const nt=it[et];Pt(Oe,be,J,nt)}ft&&ie.render(J);for(let et=0,mt=it.length;et<mt;et++){const nt=it[et];Jt(S,J,nt,nt.viewport)}}else be.length>0&&Pt(Oe,be,J,xe),ft&&ie.render(J),Jt(S,J,xe);P!==null&&(yt.updateMultisampleRenderTarget(P),yt.updateRenderTargetMipmap(P)),J.isScene===!0&&J.onAfterRender(C,J,xe),ke.resetDefaultState(),N=-1,D=null,w.pop(),w.length>0?(_=w[w.length-1],me===!0&&B.setGlobalState(C.clippingPlanes,_.state.camera)):_=null,E.pop(),E.length>0?S=E[E.length-1]:S=null};function pt(J,xe,Ae,Oe){if(J.visible===!1)return;if(J.layers.test(xe.layers)){if(J.isGroup)Ae=J.renderOrder;else if(J.isLOD)J.autoUpdate===!0&&J.update(xe);else if(J.isLight)_.pushLight(J),J.castShadow&&_.pushShadow(J);else if(J.isSprite){if(!J.frustumCulled||we.intersectsSprite(J)){Oe&&Je.setFromMatrixPosition(J.matrixWorld).applyMatrix4(Pe);const et=Ye.update(J),mt=J.material;mt.visible&&S.push(J,et,mt,Ae,Je.z,null)}}else if((J.isMesh||J.isLine||J.isPoints)&&(!J.frustumCulled||we.intersectsObject(J))){const et=Ye.update(J),mt=J.material;if(Oe&&(J.boundingSphere!==void 0?(J.boundingSphere===null&&J.computeBoundingSphere(),Je.copy(J.boundingSphere.center)):(et.boundingSphere===null&&et.computeBoundingSphere(),Je.copy(et.boundingSphere.center)),Je.applyMatrix4(J.matrixWorld).applyMatrix4(Pe)),Array.isArray(mt)){const nt=et.groups;for(let Tt=0,Yt=nt.length;Tt<Yt;Tt++){const Qt=nt[Tt],Mn=mt[Qt.materialIndex];Mn&&Mn.visible&&S.push(J,et,Mn,Ae,Je.z,Qt)}}else mt.visible&&S.push(J,et,mt,Ae,Je.z,null)}}const it=J.children;for(let et=0,mt=it.length;et<mt;et++)pt(it[et],xe,Ae,Oe)}function Jt(J,xe,Ae,Oe){const be=J.opaque,it=J.transmissive,et=J.transparent;_.setupLightsView(Ae),me===!0&&B.setGlobalState(C.clippingPlanes,Ae),Oe&&Ue.viewport(I.copy(Oe)),be.length>0&&hn(be,xe,Ae),it.length>0&&hn(it,xe,Ae),et.length>0&&hn(et,xe,Ae),Ue.buffers.depth.setTest(!0),Ue.buffers.depth.setMask(!0),Ue.buffers.color.setMask(!0),Ue.setPolygonOffset(!1)}function Pt(J,xe,Ae,Oe){if((Ae.isScene===!0?Ae.overrideMaterial:null)!==null)return;_.state.transmissionRenderTarget[Oe.id]===void 0&&(_.state.transmissionRenderTarget[Oe.id]=new ao(1,1,{generateMipmaps:!0,type:Ge.has("EXT_color_buffer_half_float")||Ge.has("EXT_color_buffer_float")?gp:io,minFilter:Oo,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:jn.workingColorSpace}));const it=_.state.transmissionRenderTarget[Oe.id],et=Oe.viewport||I;it.setSize(et.z,et.w);const mt=C.getRenderTarget();C.setRenderTarget(it),C.getClearColor(W),ee=C.getClearAlpha(),ee<1&&C.setClearColor(16777215,.5),C.clear(),ft&&ie.render(Ae);const nt=C.toneMapping;C.toneMapping=Lo;const Tt=Oe.viewport;if(Oe.viewport!==void 0&&(Oe.viewport=void 0),_.setupLightsView(Oe),me===!0&&B.setGlobalState(C.clippingPlanes,Oe),hn(J,Ae,Oe),yt.updateMultisampleRenderTarget(it),yt.updateRenderTargetMipmap(it),Ge.has("WEBGL_multisampled_render_to_texture")===!1){let Yt=!1;for(let Qt=0,Mn=xe.length;Qt<Mn;Qt++){const er=xe[Qt],Vn=er.object,ar=er.geometry,Lt=er.material,vt=er.group;if(Lt.side===Io&&Vn.layers.test(Oe.layers)){const Tn=Lt.side;Lt.side=ya,Lt.needsUpdate=!0,gn(Vn,Ae,Oe,ar,Lt,vt),Lt.side=Tn,Lt.needsUpdate=!0,Yt=!0}}Yt===!0&&(yt.updateMultisampleRenderTarget(it),yt.updateRenderTargetMipmap(it))}C.setRenderTarget(mt),C.setClearColor(W,ee),Tt!==void 0&&(Oe.viewport=Tt),C.toneMapping=nt}function hn(J,xe,Ae){const Oe=xe.isScene===!0?xe.overrideMaterial:null;for(let be=0,it=J.length;be<it;be++){const et=J[be],mt=et.object,nt=et.geometry,Tt=Oe===null?et.material:Oe,Yt=et.group;mt.layers.test(Ae.layers)&&gn(mt,xe,Ae,nt,Tt,Yt)}}function gn(J,xe,Ae,Oe,be,it){J.onBeforeRender(C,xe,Ae,Oe,be,it),J.modelViewMatrix.multiplyMatrices(Ae.matrixWorldInverse,J.matrixWorld),J.normalMatrix.getNormalMatrix(J.modelViewMatrix),be.transparent===!0&&be.side===Io&&be.forceSinglePass===!1?(be.side=ya,be.needsUpdate=!0,C.renderBufferDirect(Ae,xe,Oe,be,J,it),be.side=$l,be.needsUpdate=!0,C.renderBufferDirect(Ae,xe,Oe,be,J,it),be.side=Io):C.renderBufferDirect(Ae,xe,Oe,be,J,it),J.onAfterRender(C,xe,Ae,Oe,be,it)}function Ot(J,xe,Ae){xe.isScene!==!0&&(xe=ot);const Oe=st.get(J),be=_.state.lights,it=_.state.shadowsArray,et=be.state.version,mt=We.getParameters(J,be.state,it,xe,Ae),nt=We.getProgramCacheKey(mt);let Tt=Oe.programs;Oe.environment=J.isMeshStandardMaterial?xe.environment:null,Oe.fog=xe.fog,Oe.envMap=(J.isMeshStandardMaterial?K:se).get(J.envMap||Oe.environment),Oe.envMapRotation=Oe.environment!==null&&J.envMap===null?xe.environmentRotation:J.envMapRotation,Tt===void 0&&(J.addEventListener("dispose",Ut),Tt=new Map,Oe.programs=Tt);let Yt=Tt.get(nt);if(Yt!==void 0){if(Oe.currentProgram===Yt&&Oe.lightsStateVersion===et)return Pn(J,mt),Yt}else mt.uniforms=We.getUniforms(J),J.onBeforeCompile(mt,C),Yt=We.acquireProgram(mt,nt),Tt.set(nt,Yt),Oe.uniforms=mt.uniforms;const Qt=Oe.uniforms;return(!J.isShaderMaterial&&!J.isRawShaderMaterial||J.clipping===!0)&&(Qt.clippingPlanes=B.uniform),Pn(J,mt),Oe.needsLights=pn(J),Oe.lightsStateVersion=et,Oe.needsLights&&(Qt.ambientLightColor.value=be.state.ambient,Qt.lightProbe.value=be.state.probe,Qt.directionalLights.value=be.state.directional,Qt.directionalLightShadows.value=be.state.directionalShadow,Qt.spotLights.value=be.state.spot,Qt.spotLightShadows.value=be.state.spotShadow,Qt.rectAreaLights.value=be.state.rectArea,Qt.ltc_1.value=be.state.rectAreaLTC1,Qt.ltc_2.value=be.state.rectAreaLTC2,Qt.pointLights.value=be.state.point,Qt.pointLightShadows.value=be.state.pointShadow,Qt.hemisphereLights.value=be.state.hemi,Qt.directionalShadowMap.value=be.state.directionalShadowMap,Qt.directionalShadowMatrix.value=be.state.directionalShadowMatrix,Qt.spotShadowMap.value=be.state.spotShadowMap,Qt.spotLightMatrix.value=be.state.spotLightMatrix,Qt.spotLightMap.value=be.state.spotLightMap,Qt.pointShadowMap.value=be.state.pointShadowMap,Qt.pointShadowMatrix.value=be.state.pointShadowMatrix),Oe.currentProgram=Yt,Oe.uniformsList=null,Yt}function Cn(J){if(J.uniformsList===null){const xe=J.currentProgram.getUniforms();J.uniformsList=H0.seqWithValue(xe.seq,J.uniforms)}return J.uniformsList}function Pn(J,xe){const Ae=st.get(J);Ae.outputColorSpace=xe.outputColorSpace,Ae.batching=xe.batching,Ae.batchingColor=xe.batchingColor,Ae.instancing=xe.instancing,Ae.instancingColor=xe.instancingColor,Ae.instancingMorph=xe.instancingMorph,Ae.skinning=xe.skinning,Ae.morphTargets=xe.morphTargets,Ae.morphNormals=xe.morphNormals,Ae.morphColors=xe.morphColors,Ae.morphTargetsCount=xe.morphTargetsCount,Ae.numClippingPlanes=xe.numClippingPlanes,Ae.numIntersection=xe.numClipIntersection,Ae.vertexAlphas=xe.vertexAlphas,Ae.vertexTangents=xe.vertexTangents,Ae.toneMapping=xe.toneMapping}function dn(J,xe,Ae,Oe,be){xe.isScene!==!0&&(xe=ot),yt.resetTextureUnits();const it=xe.fog,et=Oe.isMeshStandardMaterial?xe.environment:null,mt=P===null?C.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:ec,nt=(Oe.isMeshStandardMaterial?K:se).get(Oe.envMap||et),Tt=Oe.vertexColors===!0&&!!Ae.attributes.color&&Ae.attributes.color.itemSize===4,Yt=!!Ae.attributes.tangent&&(!!Oe.normalMap||Oe.anisotropy>0),Qt=!!Ae.morphAttributes.position,Mn=!!Ae.morphAttributes.normal,er=!!Ae.morphAttributes.color;let Vn=Lo;Oe.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&(Vn=C.toneMapping);const ar=Ae.morphAttributes.position||Ae.morphAttributes.normal||Ae.morphAttributes.color,Lt=ar!==void 0?ar.length:0,vt=st.get(Oe),Tn=_.state.lights;if(me===!0&&(ye===!0||J!==D)){const Jr=J===D&&Oe.id===N;B.setState(Oe,J,Jr)}let sn=!1;Oe.version===vt.__version?(vt.needsLights&&vt.lightsStateVersion!==Tn.state.version||vt.outputColorSpace!==mt||be.isBatchedMesh&&vt.batching===!1||!be.isBatchedMesh&&vt.batching===!0||be.isBatchedMesh&&vt.batchingColor===!0&&be.colorTexture===null||be.isBatchedMesh&&vt.batchingColor===!1&&be.colorTexture!==null||be.isInstancedMesh&&vt.instancing===!1||!be.isInstancedMesh&&vt.instancing===!0||be.isSkinnedMesh&&vt.skinning===!1||!be.isSkinnedMesh&&vt.skinning===!0||be.isInstancedMesh&&vt.instancingColor===!0&&be.instanceColor===null||be.isInstancedMesh&&vt.instancingColor===!1&&be.instanceColor!==null||be.isInstancedMesh&&vt.instancingMorph===!0&&be.morphTexture===null||be.isInstancedMesh&&vt.instancingMorph===!1&&be.morphTexture!==null||vt.envMap!==nt||Oe.fog===!0&&vt.fog!==it||vt.numClippingPlanes!==void 0&&(vt.numClippingPlanes!==B.numPlanes||vt.numIntersection!==B.numIntersection)||vt.vertexAlphas!==Tt||vt.vertexTangents!==Yt||vt.morphTargets!==Qt||vt.morphNormals!==Mn||vt.morphColors!==er||vt.toneMapping!==Vn||vt.morphTargetsCount!==Lt)&&(sn=!0):(sn=!0,vt.__version=Oe.version);let tr=vt.currentProgram;sn===!0&&(tr=Ot(Oe,xe,be));let Di=!1,dr=!1,Sr=!1;const $n=tr.getUniforms(),Li=vt.uniforms;if(Ue.useProgram(tr.program)&&(Di=!0,dr=!0,Sr=!0),Oe.id!==N&&(N=Oe.id,dr=!0),Di||D!==J){$n.setValue(Z,"projectionMatrix",J.projectionMatrix),$n.setValue(Z,"viewMatrix",J.matrixWorldInverse);const Jr=$n.map.cameraPosition;Jr!==void 0&&Jr.setValue(Z,Le.setFromMatrixPosition(J.matrixWorld)),qe.logarithmicDepthBuffer&&$n.setValue(Z,"logDepthBufFC",2/(Math.log(J.far+1)/Math.LN2)),(Oe.isMeshPhongMaterial||Oe.isMeshToonMaterial||Oe.isMeshLambertMaterial||Oe.isMeshBasicMaterial||Oe.isMeshStandardMaterial||Oe.isShaderMaterial)&&$n.setValue(Z,"isOrthographic",J.isOrthographicCamera===!0),D!==J&&(D=J,dr=!0,Sr=!0)}if(be.isSkinnedMesh){$n.setOptional(Z,be,"bindMatrix"),$n.setOptional(Z,be,"bindMatrixInverse");const Jr=be.skeleton;Jr&&(Jr.boneTexture===null&&Jr.computeBoneTexture(),$n.setValue(Z,"boneTexture",Jr.boneTexture,yt))}be.isBatchedMesh&&($n.setOptional(Z,be,"batchingTexture"),$n.setValue(Z,"batchingTexture",be._matricesTexture,yt),$n.setOptional(Z,be,"batchingIdTexture"),$n.setValue(Z,"batchingIdTexture",be._indirectTexture,yt),$n.setOptional(Z,be,"batchingColorTexture"),be._colorsTexture!==null&&$n.setValue(Z,"batchingColorTexture",be._colorsTexture,yt));const tc=Ae.morphAttributes;if((tc.position!==void 0||tc.normal!==void 0||tc.color!==void 0)&&pe.update(be,Ae,tr),(dr||vt.receiveShadow!==be.receiveShadow)&&(vt.receiveShadow=be.receiveShadow,$n.setValue(Z,"receiveShadow",be.receiveShadow)),Oe.isMeshGouraudMaterial&&Oe.envMap!==null&&(Li.envMap.value=nt,Li.flipEnvMap.value=nt.isCubeTexture&&nt.isRenderTargetTexture===!1?-1:1),Oe.isMeshStandardMaterial&&Oe.envMap===null&&xe.environment!==null&&(Li.envMapIntensity.value=xe.environmentIntensity),dr&&($n.setValue(Z,"toneMappingExposure",C.toneMappingExposure),vt.needsLights&&Dt(Li,Sr),it&&Oe.fog===!0&&Et.refreshFogUniforms(Li,it),Et.refreshMaterialUniforms(Li,Oe,ue,re,_.state.transmissionRenderTarget[J.id]),H0.upload(Z,Cn(vt),Li,yt)),Oe.isShaderMaterial&&Oe.uniformsNeedUpdate===!0&&(H0.upload(Z,Cn(vt),Li,yt),Oe.uniformsNeedUpdate=!1),Oe.isSpriteMaterial&&$n.setValue(Z,"center",be.center),$n.setValue(Z,"modelViewMatrix",be.modelViewMatrix),$n.setValue(Z,"normalMatrix",be.normalMatrix),$n.setValue(Z,"modelMatrix",be.matrixWorld),Oe.isShaderMaterial||Oe.isRawShaderMaterial){const Jr=Oe.uniformsGroups;for(let ho=0,Ni=Jr.length;ho<Ni;ho++){const nc=Jr[ho];tt.update(nc,tr),tt.bind(nc,tr)}}return tr}function Dt(J,xe){J.ambientLightColor.needsUpdate=xe,J.lightProbe.needsUpdate=xe,J.directionalLights.needsUpdate=xe,J.directionalLightShadows.needsUpdate=xe,J.pointLights.needsUpdate=xe,J.pointLightShadows.needsUpdate=xe,J.spotLights.needsUpdate=xe,J.spotLightShadows.needsUpdate=xe,J.rectAreaLights.needsUpdate=xe,J.hemisphereLights.needsUpdate=xe}function pn(J){return J.isMeshLambertMaterial||J.isMeshToonMaterial||J.isMeshPhongMaterial||J.isMeshStandardMaterial||J.isShadowMaterial||J.isShaderMaterial&&J.lights===!0}this.getActiveCubeFace=function(){return O},this.getActiveMipmapLevel=function(){return R},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(J,xe,Ae){st.get(J.texture).__webglTexture=xe,st.get(J.depthTexture).__webglTexture=Ae;const Oe=st.get(J);Oe.__hasExternalTextures=!0,Oe.__autoAllocateDepthBuffer=Ae===void 0,Oe.__autoAllocateDepthBuffer||Ge.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Oe.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(J,xe){const Ae=st.get(J);Ae.__webglFramebuffer=xe,Ae.__useDefaultFramebuffer=xe===void 0},this.setRenderTarget=function(J,xe=0,Ae=0){P=J,O=xe,R=Ae;let Oe=!0,be=null,it=!1,et=!1;if(J){const nt=st.get(J);nt.__useDefaultFramebuffer!==void 0?(Ue.bindFramebuffer(Z.FRAMEBUFFER,null),Oe=!1):nt.__webglFramebuffer===void 0?yt.setupRenderTarget(J):nt.__hasExternalTextures&&yt.rebindTextures(J,st.get(J.texture).__webglTexture,st.get(J.depthTexture).__webglTexture);const Tt=J.texture;(Tt.isData3DTexture||Tt.isDataArrayTexture||Tt.isCompressedArrayTexture)&&(et=!0);const Yt=st.get(J).__webglFramebuffer;J.isWebGLCubeRenderTarget?(Array.isArray(Yt[xe])?be=Yt[xe][Ae]:be=Yt[xe],it=!0):J.samples>0&&yt.useMultisampledRTT(J)===!1?be=st.get(J).__webglMultisampledFramebuffer:Array.isArray(Yt)?be=Yt[Ae]:be=Yt,I.copy(J.viewport),V.copy(J.scissor),q=J.scissorTest}else I.copy(oe).multiplyScalar(ue).floor(),V.copy(X).multiplyScalar(ue).floor(),q=ne;if(Ue.bindFramebuffer(Z.FRAMEBUFFER,be)&&Oe&&Ue.drawBuffers(J,be),Ue.viewport(I),Ue.scissor(V),Ue.setScissorTest(q),it){const nt=st.get(J.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_CUBE_MAP_POSITIVE_X+xe,nt.__webglTexture,Ae)}else if(et){const nt=st.get(J.texture),Tt=xe||0;Z.framebufferTextureLayer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,nt.__webglTexture,Ae||0,Tt)}N=-1},this.readRenderTargetPixels=function(J,xe,Ae,Oe,be,it,et){if(!(J&&J.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let mt=st.get(J).__webglFramebuffer;if(J.isWebGLCubeRenderTarget&&et!==void 0&&(mt=mt[et]),mt){Ue.bindFramebuffer(Z.FRAMEBUFFER,mt);try{const nt=J.texture,Tt=nt.format,Yt=nt.type;if(!qe.textureFormatReadable(Tt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!qe.textureTypeReadable(Yt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}xe>=0&&xe<=J.width-Oe&&Ae>=0&&Ae<=J.height-be&&Z.readPixels(xe,Ae,Oe,be,de.convert(Tt),de.convert(Yt),it)}finally{const nt=P!==null?st.get(P).__webglFramebuffer:null;Ue.bindFramebuffer(Z.FRAMEBUFFER,nt)}}},this.readRenderTargetPixelsAsync=async function(J,xe,Ae,Oe,be,it,et){if(!(J&&J.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let mt=st.get(J).__webglFramebuffer;if(J.isWebGLCubeRenderTarget&&et!==void 0&&(mt=mt[et]),mt){Ue.bindFramebuffer(Z.FRAMEBUFFER,mt);try{const nt=J.texture,Tt=nt.format,Yt=nt.type;if(!qe.textureFormatReadable(Tt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!qe.textureTypeReadable(Yt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(xe>=0&&xe<=J.width-Oe&&Ae>=0&&Ae<=J.height-be){const Qt=Z.createBuffer();Z.bindBuffer(Z.PIXEL_PACK_BUFFER,Qt),Z.bufferData(Z.PIXEL_PACK_BUFFER,it.byteLength,Z.STREAM_READ),Z.readPixels(xe,Ae,Oe,be,de.convert(Tt),de.convert(Yt),0),Z.flush();const Mn=Z.fenceSync(Z.SYNC_GPU_COMMANDS_COMPLETE,0);await cX(Z,Mn,4);try{Z.bindBuffer(Z.PIXEL_PACK_BUFFER,Qt),Z.getBufferSubData(Z.PIXEL_PACK_BUFFER,0,it)}finally{Z.deleteBuffer(Qt),Z.deleteSync(Mn)}return it}}finally{const nt=P!==null?st.get(P).__webglFramebuffer:null;Ue.bindFramebuffer(Z.FRAMEBUFFER,nt)}}},this.copyFramebufferToTexture=function(J,xe=null,Ae=0){J.isTexture!==!0&&($h("WebGLRenderer: copyFramebufferToTexture function signature has changed."),xe=arguments[0]||null,J=arguments[1]);const Oe=Math.pow(2,-Ae),be=Math.floor(J.image.width*Oe),it=Math.floor(J.image.height*Oe),et=xe!==null?xe.x:0,mt=xe!==null?xe.y:0;yt.setTexture2D(J,0),Z.copyTexSubImage2D(Z.TEXTURE_2D,Ae,0,0,et,mt,be,it),Ue.unbindTexture()},this.copyTextureToTexture=function(J,xe,Ae=null,Oe=null,be=0){J.isTexture!==!0&&($h("WebGLRenderer: copyTextureToTexture function signature has changed."),Oe=arguments[0]||null,J=arguments[1],xe=arguments[2],be=arguments[3]||0,Ae=null);let it,et,mt,nt,Tt,Yt;Ae!==null?(it=Ae.max.x-Ae.min.x,et=Ae.max.y-Ae.min.y,mt=Ae.min.x,nt=Ae.min.y):(it=J.image.width,et=J.image.height,mt=0,nt=0),Oe!==null?(Tt=Oe.x,Yt=Oe.y):(Tt=0,Yt=0);const Qt=de.convert(xe.format),Mn=de.convert(xe.type);yt.setTexture2D(xe,0),Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,xe.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,xe.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,xe.unpackAlignment);const er=Z.getParameter(Z.UNPACK_ROW_LENGTH),Vn=Z.getParameter(Z.UNPACK_IMAGE_HEIGHT),ar=Z.getParameter(Z.UNPACK_SKIP_PIXELS),Lt=Z.getParameter(Z.UNPACK_SKIP_ROWS),vt=Z.getParameter(Z.UNPACK_SKIP_IMAGES),Tn=J.isCompressedTexture?J.mipmaps[be]:J.image;Z.pixelStorei(Z.UNPACK_ROW_LENGTH,Tn.width),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,Tn.height),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,mt),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,nt),J.isDataTexture?Z.texSubImage2D(Z.TEXTURE_2D,be,Tt,Yt,it,et,Qt,Mn,Tn.data):J.isCompressedTexture?Z.compressedTexSubImage2D(Z.TEXTURE_2D,be,Tt,Yt,Tn.width,Tn.height,Qt,Tn.data):Z.texSubImage2D(Z.TEXTURE_2D,be,Tt,Yt,it,et,Qt,Mn,Tn),Z.pixelStorei(Z.UNPACK_ROW_LENGTH,er),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,Vn),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,ar),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,Lt),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,vt),be===0&&xe.generateMipmaps&&Z.generateMipmap(Z.TEXTURE_2D),Ue.unbindTexture()},this.copyTextureToTexture3D=function(J,xe,Ae=null,Oe=null,be=0){J.isTexture!==!0&&($h("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Ae=arguments[0]||null,Oe=arguments[1]||null,J=arguments[2],xe=arguments[3],be=arguments[4]||0);let it,et,mt,nt,Tt,Yt,Qt,Mn,er;const Vn=J.isCompressedTexture?J.mipmaps[be]:J.image;Ae!==null?(it=Ae.max.x-Ae.min.x,et=Ae.max.y-Ae.min.y,mt=Ae.max.z-Ae.min.z,nt=Ae.min.x,Tt=Ae.min.y,Yt=Ae.min.z):(it=Vn.width,et=Vn.height,mt=Vn.depth,nt=0,Tt=0,Yt=0),Oe!==null?(Qt=Oe.x,Mn=Oe.y,er=Oe.z):(Qt=0,Mn=0,er=0);const ar=de.convert(xe.format),Lt=de.convert(xe.type);let vt;if(xe.isData3DTexture)yt.setTexture3D(xe,0),vt=Z.TEXTURE_3D;else if(xe.isDataArrayTexture||xe.isCompressedArrayTexture)yt.setTexture2DArray(xe,0),vt=Z.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,xe.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,xe.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,xe.unpackAlignment);const Tn=Z.getParameter(Z.UNPACK_ROW_LENGTH),sn=Z.getParameter(Z.UNPACK_IMAGE_HEIGHT),tr=Z.getParameter(Z.UNPACK_SKIP_PIXELS),Di=Z.getParameter(Z.UNPACK_SKIP_ROWS),dr=Z.getParameter(Z.UNPACK_SKIP_IMAGES);Z.pixelStorei(Z.UNPACK_ROW_LENGTH,Vn.width),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,Vn.height),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,nt),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,Tt),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,Yt),J.isDataTexture||J.isData3DTexture?Z.texSubImage3D(vt,be,Qt,Mn,er,it,et,mt,ar,Lt,Vn.data):xe.isCompressedArrayTexture?Z.compressedTexSubImage3D(vt,be,Qt,Mn,er,it,et,mt,ar,Vn.data):Z.texSubImage3D(vt,be,Qt,Mn,er,it,et,mt,ar,Lt,Vn),Z.pixelStorei(Z.UNPACK_ROW_LENGTH,Tn),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,sn),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,tr),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,Di),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,dr),be===0&&xe.generateMipmaps&&Z.generateMipmap(vt),Ue.unbindTexture()},this.initRenderTarget=function(J){st.get(J).__webglFramebuffer===void 0&&yt.setupRenderTarget(J)},this.initTexture=function(J){J.isCubeTexture?yt.setTextureCube(J,0):J.isData3DTexture?yt.setTexture3D(J,0):J.isDataArrayTexture||J.isCompressedArrayTexture?yt.setTexture2DArray(J,0):yt.setTexture2D(J,0),Ue.unbindTexture()},this.resetState=function(){O=0,R=0,P=null,Ue.reset(),ke.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ko}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===Lx?"display-p3":"srgb",t.unpackColorSpace=jn.workingColorSpace===yy?"display-p3":"srgb"}}class Sy{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new At(e),this.density=t}clone(){return new Sy(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Bx{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new At(e),this.near=t,this.far=n}clone(){return new Bx(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class q_ extends zn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new as,this.environmentIntensity=1,this.environmentRotation=new as,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class zx{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Dg,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=is()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return $h("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=is()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=is()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const fa=new ae;class Dd{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)fa.fromBufferAttribute(this,t),fa.applyMatrix4(e),this.setXYZ(t,fa.x,fa.y,fa.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)fa.fromBufferAttribute(this,t),fa.applyNormalMatrix(e),this.setXYZ(t,fa.x,fa.y,fa.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)fa.fromBufferAttribute(this,t),fa.transformDirection(e),this.setXYZ(t,fa.x,fa.y,fa.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=ga(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=_n(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=_n(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=_n(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=_n(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=_n(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ga(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ga(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ga(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ga(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array),i=_n(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array),i=_n(i,this.array),a=_n(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return new Jn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Dd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class kb extends Fi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new At(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let _h;const Am=new ae,xh=new ae,Sh=new ae,Eh=new Qe,Pm=new Qe,LD=new an,e0=new ae,Rm=new ae,t0=new ae,jP=new Qe,B1=new Qe,$P=new Qe;class ND extends zn{constructor(e=new kb){if(super(),this.isSprite=!0,this.type="Sprite",_h===void 0){_h=new xn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new zx(t,5);_h.setIndex([0,1,2,0,2,3]),_h.setAttribute("position",new Dd(n,3,0,!1)),_h.setAttribute("uv",new Dd(n,2,3,!1))}this.geometry=_h,this.material=e,this.center=new Qe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),xh.setFromMatrixScale(this.matrixWorld),LD.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Sh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&xh.multiplyScalar(-Sh.z);const n=this.material.rotation;let i,a;n!==0&&(a=Math.cos(n),i=Math.sin(n));const s=this.center;n0(e0.set(-.5,-.5,0),Sh,s,xh,i,a),n0(Rm.set(.5,-.5,0),Sh,s,xh,i,a),n0(t0.set(.5,.5,0),Sh,s,xh,i,a),jP.set(0,0),B1.set(1,0),$P.set(1,1);let o=e.ray.intersectTriangle(e0,Rm,t0,!1,Am);if(o===null&&(n0(Rm.set(-.5,.5,0),Sh,s,xh,i,a),B1.set(0,1),o=e.ray.intersectTriangle(e0,t0,Rm,!1,Am),o===null))return;const c=e.ray.origin.distanceTo(Am);c<e.near||c>e.far||t.push({distance:c,point:Am.clone(),uv:ns.getInterpolation(Am,e0,Rm,t0,jP,B1,$P,new Qe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function n0(r,e,t,n,i,a){Eh.subVectors(r,t).addScalar(.5).multiply(n),i!==void 0?(Pm.x=a*Eh.x-i*Eh.y,Pm.y=i*Eh.x+a*Eh.y):Pm.copy(Eh),r.copy(e),r.x+=Pm.x,r.y+=Pm.y,r.applyMatrix4(LD)}const r0=new ae,WP=new ae;class UD extends zn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const a=t[n];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const i=this.levels;let a;for(a=0;a<i.length&&!(t<i[a].distance);a++);return i.splice(a,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i;n++){let a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),e<a)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){r0.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(r0);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){r0.setFromMatrixPosition(e.matrixWorld),WP.setFromMatrixPosition(this.matrixWorld);const n=r0.distanceTo(WP)/e.zoom;t[0].object.visible=!0;let i,a;for(i=1,a=t.length;i<a;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),n>=s)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,a=n.length;i<a;i++){const s=n[i];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}}const GP=new ae,qP=new Kn,XP=new Kn,EZ=new ae,YP=new an,i0=new ae,z1=new Ji,QP=new an,V1=new $d;class BD extends Tr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=tw,this.bindMatrix=new an,this.bindMatrixInverse=new an,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new va),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,i0),this.boundingBox.expandByPoint(i0)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ji),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,i0),this.boundingSphere.expandByPoint(i0)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,i=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),z1.copy(this.boundingSphere),z1.applyMatrix4(i),e.ray.intersectsSphere(z1)!==!1&&(QP.copy(i).invert(),V1.copy(e.ray).applyMatrix4(QP),!(this.boundingBox!==null&&V1.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,V1)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Kn,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===tw?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===oD?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,i=this.geometry;qP.fromBufferAttribute(i.attributes.skinIndex,e),XP.fromBufferAttribute(i.attributes.skinWeight,e),GP.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const s=XP.getComponent(a);if(s!==0){const o=qP.getComponent(a);YP.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(EZ.copy(GP).applyMatrix4(YP),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Fb extends zn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class No extends Ar{constructor(e=null,t=1,n=1,i,a,s,o,c,d=xi,f=xi,m,g){super(null,s,o,c,d,f,i,a,m,g),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const KP=new an,wZ=new an;class Vx{constructor(e=[],t=[]){this.uuid=is(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new an)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new an;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const o=e[a]?e[a].matrixWorld:wZ;KP.multiplyMatrices(o,t[a]),KP.toArray(n,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Vx(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new No(t,e,e,Yi,Ba);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const a=e.bones[n];let s=t[a];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),s=new Fb),this.bones.push(s),this.boneInverses.push(new an().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,a=t.length;i<a;i++){const s=t[i];e.bones.push(s.uuid);const o=n[i];e.boneInverses.push(o.toArray())}return e}}class ap extends Jn{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const wh=new an,JP=new an,a0=[],ZP=new va,CZ=new an,Im=new Tr,Om=new Ji;class zD extends Tr{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new ap(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<n;i++)this.setMatrixAt(i,CZ)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new va),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,wh),ZP.copy(e.boundingBox).applyMatrix4(wh),this.boundingBox.union(ZP)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ji),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,wh),Om.copy(e.boundingSphere).applyMatrix4(wh),this.boundingSphere.union(Om)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,i=this.morphTexture.source.data.data,a=n.length+1,s=e*a+1;for(let o=0;o<n.length;o++)n[o]=i[s+o]}raycast(e,t){const n=this.matrixWorld,i=this.count;if(Im.geometry=this.geometry,Im.material=this.material,Im.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Om.copy(this.boundingSphere),Om.applyMatrix4(n),e.ray.intersectsSphere(Om)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,wh),JP.multiplyMatrices(n,wh),Im.matrixWorld=JP,Im.raycast(e,a0);for(let s=0,o=a0.length;s<o;s++){const c=a0[s];c.instanceId=a,c.object=this,t.push(c)}a0.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new ap(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,i=n.length+1;this.morphTexture===null&&(this.morphTexture=new No(new Float32Array(i*this.count),i,this.count,Ox,Ba));const a=this.morphTexture.source.data.data;let s=0;for(let d=0;d<n.length;d++)s+=n[d];const o=this.geometry.morphTargetsRelative?1:1-s,c=i*e;a[c]=o,a.set(n,c+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function bZ(r,e){return r.z-e.z}function MZ(r,e){return e.z-r.z}class TZ{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n){const i=this.pool,a=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1,index:-1});const s=i[this.index];a.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=t,s.index=n}reset(){this.list.length=0,this.index=0}}const Vc=new an,H1=new an,AZ=new an,PZ=new At(1,1,1),eR=new an,j1=new xy,s0=new va,Ku=new Ji,km=new ae,tR=new ae,RZ=new ae,$1=new TZ,qi=new Tr,o0=[];function IZ(r,e,t=0){const n=e.itemSize;if(r.isInterleavedBufferAttribute||r.array.constructor!==e.array.constructor){const i=r.count;for(let a=0;a<i;a++)for(let s=0;s<n;s++)e.setComponent(a+t,s,r.getComponent(a,s))}else e.array.set(r.array,t*n);e.needsUpdate=!0}class VD extends Tr{get maxInstanceCount(){return this._maxInstanceCount}constructor(e,t,n=t*2,i){super(new xn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawInfo=[],this._drawRanges=[],this._reservedRanges=[],this._bounds=[],this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new No(t,e,e,Yi,Ba);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new No(t,e,e,gy,Gl);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxIndexCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new No(t,e,e,Yi,Ba);n.colorSpace=jn.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:o,itemSize:c,normalized:d}=s,f=new o.constructor(n*c),m=new Jn(f,c,d);t.setAttribute(a,m)}if(e.getIndex()!==null){const a=n>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new Jn(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const i=e.getAttribute(n),a=t.getAttribute(n);if(i.itemSize!==a.itemSize||i.normalized!==a.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new va);const e=this._geometryCount,t=this.boundingBox,n=this._drawInfo;t.makeEmpty();for(let i=0;i<e;i++){if(n[i].active===!1)continue;const a=n[i].geometryIndex;this.getMatrixAt(i,Vc),this.getBoundingBoxAt(a,s0).applyMatrix4(Vc),t.union(s0)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ji);const e=this.boundingSphere,t=this._drawInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(t[n].active===!1)continue;const a=t[n].geometryIndex;this.getMatrixAt(n,Vc),this.getBoundingSphereAt(a,Ku).applyMatrix4(Vc),e.union(Ku)}}addInstance(e){if(this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");this._drawInfo.push({visible:!0,active:!0,geometryIndex:e});const t=this._drawInfo.length-1,n=this._matricesTexture,i=n.image.data;AZ.toArray(i,t*16),n.needsUpdate=!0;const a=this._colorsTexture;return a&&(PZ.toArray(a.image.data,t*4),a.needsUpdate=!0),t}addGeometry(e,t=-1,n=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let a=null;const s=this._reservedRanges,o=this._drawRanges,c=this._bounds;this._geometryCount!==0&&(a=s[s.length-1]),t===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=t,a===null?i.vertexStart=0:i.vertexStart=a.vertexStart+a.vertexCount;const d=e.getIndex(),f=d!==null;if(f&&(n===-1?i.indexCount=d.count:i.indexCount=n,a===null?i.indexStart=0:i.indexStart=a.indexStart+a.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const m=this._geometryCount;return this._geometryCount++,s.push(i),o.push({start:f?i.indexStart:i.vertexStart,count:-1}),c.push({boxInitialized:!1,box:new va,sphereInitialized:!1,sphere:new Ji}),this.setGeometryAt(m,e),m}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,i=n.getIndex()!==null,a=n.getIndex(),s=t.getIndex(),o=this._reservedRanges[e];if(i&&s.count>o.indexCount||t.attributes.position.count>o.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const c=o.vertexStart,d=o.vertexCount;for(const y in n.attributes){const x=t.getAttribute(y),S=n.getAttribute(y);IZ(x,S,c);const _=x.itemSize;for(let E=x.count,w=d;E<w;E++){const C=c+E;for(let T=0;T<_;T++)S.setComponent(C,T,0)}S.needsUpdate=!0,S.addUpdateRange(c*_,d*_)}if(i){const y=o.indexStart;for(let x=0;x<s.count;x++)a.setX(y+x,c+s.getX(x));for(let x=s.count,S=o.indexCount;x<S;x++)a.setX(y+x,c);a.needsUpdate=!0,a.addUpdateRange(y,o.indexCount)}const f=this._bounds[e];t.boundingBox!==null?(f.box.copy(t.boundingBox),f.boxInitialized=!0):f.boxInitialized=!1,t.boundingSphere!==null?(f.sphere.copy(t.boundingSphere),f.sphereInitialized=!0):f.sphereInitialized=!1;const m=this._drawRanges[e],g=t.getAttribute("position");return m.count=i?s.count:g.count,this._visibilityChanged=!0,e}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this._bounds[e],i=n.box,a=this.geometry;if(n.boxInitialized===!1){i.makeEmpty();const s=a.index,o=a.attributes.position,c=this._drawRanges[e];for(let d=c.start,f=c.start+c.count;d<f;d++){let m=d;s&&(m=s.getX(m)),i.expandByPoint(km.fromBufferAttribute(o,m))}n.boxInitialized=!0}return t.copy(i),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this._bounds[e],i=n.sphere,a=this.geometry;if(n.sphereInitialized===!1){i.makeEmpty(),this.getBoundingBoxAt(e,s0),s0.getCenter(i.center);const s=a.index,o=a.attributes.position,c=this._drawRanges[e];let d=0;for(let f=c.start,m=c.start+c.count;f<m;f++){let g=f;s&&(g=s.getX(g)),km.fromBufferAttribute(o,g),d=Math.max(d,i.center.distanceToSquared(km))}i.radius=Math.sqrt(d),n.sphereInitialized=!0}return t.copy(i),t}setMatrixAt(e,t){const n=this._drawInfo,i=this._matricesTexture,a=this._matricesTexture.image.data;return e>=n.length||n[e].active===!1?this:(t.toArray(a,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,t){const n=this._drawInfo,i=this._matricesTexture.image.data;return e>=n.length||n[e].active===!1?null:t.fromArray(i,e*16)}setColorAt(e,t){this._colorsTexture===null&&this._initColorsTexture();const n=this._colorsTexture,i=this._colorsTexture.image.data,a=this._drawInfo;return e>=a.length||a[e].active===!1?this:(t.toArray(i,e*4),n.needsUpdate=!0,this)}getColorAt(e,t){const n=this._colorsTexture.image.data,i=this._drawInfo;return e>=i.length||i[e].active===!1?null:t.fromArray(n,e*4)}setVisibleAt(e,t){const n=this._drawInfo;return e>=n.length||n[e].active===!1||n[e].visible===t?this:(n[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._drawInfo;return e>=t.length||t[e].active===!1?!1:t[e].visible}raycast(e,t){const n=this._drawInfo,i=this._drawRanges,a=this.matrixWorld,s=this.geometry;qi.material=this.material,qi.geometry.index=s.index,qi.geometry.attributes=s.attributes,qi.geometry.boundingBox===null&&(qi.geometry.boundingBox=new va),qi.geometry.boundingSphere===null&&(qi.geometry.boundingSphere=new Ji);for(let o=0,c=n.length;o<c;o++){if(!n[o].visible||!n[o].active)continue;const d=n[o].geometryIndex,f=i[d];qi.geometry.setDrawRange(f.start,f.count),this.getMatrixAt(o,qi.matrixWorld).premultiply(a),this.getBoundingBoxAt(d,qi.geometry.boundingBox),this.getBoundingSphereAt(d,qi.geometry.boundingSphere),qi.raycast(e,o0);for(let m=0,g=o0.length;m<g;m++){const y=o0[m];y.object=this,y.batchId=o,t.push(y)}o0.length=0}qi.material=null,qi.geometry.index=null,qi.geometry.attributes={},qi.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._drawInfo=e._drawInfo.map(t=>({...t})),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,n,i,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=i.getIndex(),o=s===null?1:s.array.BYTES_PER_ELEMENT,c=this._drawInfo,d=this._multiDrawStarts,f=this._multiDrawCounts,m=this._drawRanges,g=this.perObjectFrustumCulled,y=this._indirectTexture,x=y.image.data;g&&(eR.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),j1.setFromProjectionMatrix(eR,e.coordinateSystem));let S=0;if(this.sortObjects){H1.copy(this.matrixWorld).invert(),km.setFromMatrixPosition(n.matrixWorld).applyMatrix4(H1),tR.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(H1);for(let w=0,C=c.length;w<C;w++)if(c[w].visible&&c[w].active){const T=c[w].geometryIndex;this.getMatrixAt(w,Vc),this.getBoundingSphereAt(T,Ku).applyMatrix4(Vc);let O=!1;if(g&&(O=!j1.intersectsSphere(Ku)),!O){const R=RZ.subVectors(Ku.center,km).dot(tR);$1.push(m[T],R,w)}}const _=$1.list,E=this.customSort;E===null?_.sort(a.transparent?MZ:bZ):E.call(this,_,n);for(let w=0,C=_.length;w<C;w++){const T=_[w];d[S]=T.start*o,f[S]=T.count,x[S]=T.index,S++}$1.reset()}else for(let _=0,E=c.length;_<E;_++)if(c[_].visible&&c[_].active){const w=c[_].geometryIndex;let C=!1;if(g&&(this.getMatrixAt(_,Vc),this.getBoundingSphereAt(w,Ku).applyMatrix4(Vc),C=!j1.intersectsSphere(Ku)),!C){const T=m[w];d[S]=T.start*o,f[S]=T.count,x[S]=_,S++}}y.needsUpdate=!0,this._multiDrawCount=S,this._visibilityChanged=!1}onBeforeShadow(e,t,n,i,a,s){this.onBeforeRender(e,null,i,a,s)}}class Ea extends Fi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new At(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const X_=new ae,Y_=new ae,nR=new an,Fm=new $d,l0=new Ji,W1=new ae,rR=new ae;class Kc extends zn{constructor(e=new xn,t=new Ea){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,a=t.count;i<a;i++)X_.fromBufferAttribute(t,i-1),Y_.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=X_.distanceTo(Y_);e.setAttribute("lineDistance",new qt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),l0.copy(n.boundingSphere),l0.applyMatrix4(i),l0.radius+=a,e.ray.intersectsSphere(l0)===!1)return;nR.copy(i).invert(),Fm.copy(e.ray).applyMatrix4(nR);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,d=this.isLineSegments?2:1,f=n.index,g=n.attributes.position;if(f!==null){const y=Math.max(0,s.start),x=Math.min(f.count,s.start+s.count);for(let S=y,_=x-1;S<_;S+=d){const E=f.getX(S),w=f.getX(S+1),C=c0(this,e,Fm,c,E,w);C&&t.push(C)}if(this.isLineLoop){const S=f.getX(x-1),_=f.getX(y),E=c0(this,e,Fm,c,S,_);E&&t.push(E)}}else{const y=Math.max(0,s.start),x=Math.min(g.count,s.start+s.count);for(let S=y,_=x-1;S<_;S+=d){const E=c0(this,e,Fm,c,S,S+1);E&&t.push(E)}if(this.isLineLoop){const S=c0(this,e,Fm,c,x-1,y);S&&t.push(S)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function c0(r,e,t,n,i,a){const s=r.geometry.attributes.position;if(X_.fromBufferAttribute(s,i),Y_.fromBufferAttribute(s,a),t.distanceSqToSegment(X_,Y_,W1,rR)>n)return;W1.applyMatrix4(r.matrixWorld);const c=e.ray.origin.distanceTo(W1);if(!(c<e.near||c>e.far))return{distance:c,point:rR.clone().applyMatrix4(r.matrixWorld),index:i,face:null,faceIndex:null,object:r}}const iR=new ae,aR=new ae;class Go extends Kc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,a=t.count;i<a;i+=2)iR.fromBufferAttribute(t,i),aR.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+iR.distanceTo(aR);e.setAttribute("lineDistance",new qt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class HD extends Kc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Hx extends Fi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new At(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const sR=new an,ow=new $d,u0=new Ji,d0=new ae;class Db extends zn{constructor(e=new xn,t=new Hx){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),u0.copy(n.boundingSphere),u0.applyMatrix4(i),u0.radius+=a,e.ray.intersectsSphere(u0)===!1)return;sR.copy(i).invert(),ow.copy(e.ray).applyMatrix4(sR);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,d=n.index,m=n.attributes.position;if(d!==null){const g=Math.max(0,s.start),y=Math.min(d.count,s.start+s.count);for(let x=g,S=y;x<S;x++){const _=d.getX(x);d0.fromBufferAttribute(m,_),oR(d0,_,c,i,e,t,this)}}else{const g=Math.max(0,s.start),y=Math.min(m.count,s.start+s.count);for(let x=g,S=y;x<S;x++)d0.fromBufferAttribute(m,x),oR(d0,x,c,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function oR(r,e,t,n,i,a,s){const o=ow.distanceSqToPoint(r);if(o<t){const c=new ae;ow.closestPointToPoint(r,c),c.applyMatrix4(n);const d=i.ray.origin.distanceTo(c);if(d<i.near||d>i.far)return;a.push({distance:d,distanceToRay:Math.sqrt(o),point:c,index:e,face:null,object:s})}}class OZ extends Ar{constructor(e,t,n,i,a,s,o,c,d){super(e,t,n,i,a,s,o,c,d),this.isVideoTexture=!0,this.minFilter=s!==void 0?s:Qr,this.magFilter=a!==void 0?a:Qr,this.generateMipmaps=!1;const f=this;function m(){f.needsUpdate=!0,e.requestVideoFrameCallback(m)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(m)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class kZ extends Ar{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=xi,this.minFilter=xi,this.generateMipmaps=!1,this.needsUpdate=!0}}class jx extends Ar{constructor(e,t,n,i,a,s,o,c,d,f,m,g){super(null,s,o,c,d,f,i,a,m,g),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class FZ extends jx{constructor(e,t,n,i,a,s){super(e,t,n,a,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=bs,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class DZ extends jx{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,Wl),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class LZ extends Ar{constructor(e,t,n,i,a,s,o,c,d){super(e,t,n,i,a,s,o,c,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class uo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)n=this.getPoint(s/e),a+=n.distanceTo(i),t.push(a),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let i=0;const a=n.length;let s;t?s=t:s=e*n[a-1];let o=0,c=a-1,d;for(;o<=c;)if(i=Math.floor(o+(c-o)/2),d=n[i]-s,d<0)o=i+1;else if(d>0)c=i-1;else{c=i;break}if(i=c,n[i]===s)return i/(a-1);const f=n[i],g=n[i+1]-f,y=(s-f)/g;return(i+y)/(a-1)}getTangent(e,t){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const s=this.getPoint(i),o=this.getPoint(a),c=t||(s.isVector2?new Qe:new ae);return c.copy(o).sub(s).normalize(),c}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new ae,i=[],a=[],s=[],o=new ae,c=new an;for(let y=0;y<=e;y++){const x=y/e;i[y]=this.getTangentAt(x,new ae)}a[0]=new ae,s[0]=new ae;let d=Number.MAX_VALUE;const f=Math.abs(i[0].x),m=Math.abs(i[0].y),g=Math.abs(i[0].z);f<=d&&(d=f,n.set(1,0,0)),m<=d&&(d=m,n.set(0,1,0)),g<=d&&n.set(0,0,1),o.crossVectors(i[0],n).normalize(),a[0].crossVectors(i[0],o),s[0].crossVectors(i[0],a[0]);for(let y=1;y<=e;y++){if(a[y]=a[y-1].clone(),s[y]=s[y-1].clone(),o.crossVectors(i[y-1],i[y]),o.length()>Number.EPSILON){o.normalize();const x=Math.acos(Fr(i[y-1].dot(i[y]),-1,1));a[y].applyMatrix4(c.makeRotationAxis(o,x))}s[y].crossVectors(i[y],a[y])}if(t===!0){let y=Math.acos(Fr(a[0].dot(a[e]),-1,1));y/=e,i[0].dot(o.crossVectors(a[0],a[e]))>0&&(y=-y);for(let x=1;x<=e;x++)a[x].applyMatrix4(c.makeRotationAxis(i[x],y*x)),s[x].crossVectors(i[x],a[x])}return{tangents:i,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class $x extends uo{constructor(e=0,t=0,n=1,i=1,a=0,s=Math.PI*2,o=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=c}getPoint(e,t=new Qe){const n=t,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(s?a=0:a=i),this.aClockwise===!0&&!s&&(a===i?a=-i:a=a-i);const o=this.aStartAngle+e*a;let c=this.aX+this.xRadius*Math.cos(o),d=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const f=Math.cos(this.aRotation),m=Math.sin(this.aRotation),g=c-this.aX,y=d-this.aY;c=g*f-y*m+this.aX,d=g*m+y*f+this.aY}return n.set(c,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class jD extends $x{constructor(e,t,n,i,a,s){super(e,t,n,n,i,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function Lb(){let r=0,e=0,t=0,n=0;function i(a,s,o,c){r=a,e=o,t=-3*a+3*s-2*o-c,n=2*a-2*s+o+c}return{initCatmullRom:function(a,s,o,c,d){i(s,o,d*(o-a),d*(c-s))},initNonuniformCatmullRom:function(a,s,o,c,d,f,m){let g=(s-a)/d-(o-a)/(d+f)+(o-s)/f,y=(o-s)/f-(c-s)/(f+m)+(c-o)/m;g*=f,y*=f,i(s,o,g,y)},calc:function(a){const s=a*a,o=s*a;return r+e*a+t*s+n*o}}}const f0=new ae,G1=new Lb,q1=new Lb,X1=new Lb;class $D extends uo{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new ae){const n=t,i=this.points,a=i.length,s=(a-(this.closed?0:1))*e;let o=Math.floor(s),c=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:c===0&&o===a-1&&(o=a-2,c=1);let d,f;this.closed||o>0?d=i[(o-1)%a]:(f0.subVectors(i[0],i[1]).add(i[0]),d=f0);const m=i[o%a],g=i[(o+1)%a];if(this.closed||o+2<a?f=i[(o+2)%a]:(f0.subVectors(i[a-1],i[a-2]).add(i[a-1]),f=f0),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let x=Math.pow(d.distanceToSquared(m),y),S=Math.pow(m.distanceToSquared(g),y),_=Math.pow(g.distanceToSquared(f),y);S<1e-4&&(S=1),x<1e-4&&(x=S),_<1e-4&&(_=S),G1.initNonuniformCatmullRom(d.x,m.x,g.x,f.x,x,S,_),q1.initNonuniformCatmullRom(d.y,m.y,g.y,f.y,x,S,_),X1.initNonuniformCatmullRom(d.z,m.z,g.z,f.z,x,S,_)}else this.curveType==="catmullrom"&&(G1.initCatmullRom(d.x,m.x,g.x,f.x,this.tension),q1.initCatmullRom(d.y,m.y,g.y,f.y,this.tension),X1.initCatmullRom(d.z,m.z,g.z,f.z,this.tension));return n.set(G1.calc(c),q1.calc(c),X1.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new ae().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function lR(r,e,t,n,i){const a=(n-e)*.5,s=(i-t)*.5,o=r*r,c=r*o;return(2*t-2*n+a+s)*c+(-3*t+3*n-2*a-s)*o+a*r+t}function NZ(r,e){const t=1-r;return t*t*e}function UZ(r,e){return 2*(1-r)*r*e}function BZ(r,e){return r*r*e}function rg(r,e,t,n){return NZ(r,e)+UZ(r,t)+BZ(r,n)}function zZ(r,e){const t=1-r;return t*t*t*e}function VZ(r,e){const t=1-r;return 3*t*t*r*e}function HZ(r,e){return 3*(1-r)*r*r*e}function jZ(r,e){return r*r*r*e}function ig(r,e,t,n,i){return zZ(r,e)+VZ(r,t)+HZ(r,n)+jZ(r,i)}class Nb extends uo{constructor(e=new Qe,t=new Qe,n=new Qe,i=new Qe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new Qe){const n=t,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return n.set(ig(e,i.x,a.x,s.x,o.x),ig(e,i.y,a.y,s.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class WD extends uo{constructor(e=new ae,t=new ae,n=new ae,i=new ae){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new ae){const n=t,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return n.set(ig(e,i.x,a.x,s.x,o.x),ig(e,i.y,a.y,s.y,o.y),ig(e,i.z,a.z,s.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Ub extends uo{constructor(e=new Qe,t=new Qe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Qe){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Qe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class GD extends uo{constructor(e=new ae,t=new ae){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ae){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ae){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Bb extends uo{constructor(e=new Qe,t=new Qe,n=new Qe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Qe){const n=t,i=this.v0,a=this.v1,s=this.v2;return n.set(rg(e,i.x,a.x,s.x),rg(e,i.y,a.y,s.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class zb extends uo{constructor(e=new ae,t=new ae,n=new ae){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new ae){const n=t,i=this.v0,a=this.v1,s=this.v2;return n.set(rg(e,i.x,a.x,s.x),rg(e,i.y,a.y,s.y),rg(e,i.z,a.z,s.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Vb extends uo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Qe){const n=t,i=this.points,a=(i.length-1)*e,s=Math.floor(a),o=a-s,c=i[s===0?s:s-1],d=i[s],f=i[s>i.length-2?i.length-1:s+1],m=i[s>i.length-3?i.length-1:s+2];return n.set(lR(o,c.x,d.x,f.x,m.x),lR(o,c.y,d.y,f.y,m.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new Qe().fromArray(i))}return this}}var Q_=Object.freeze({__proto__:null,ArcCurve:jD,CatmullRomCurve3:$D,CubicBezierCurve:Nb,CubicBezierCurve3:WD,EllipseCurve:$x,LineCurve:Ub,LineCurve3:GD,QuadraticBezierCurve:Bb,QuadraticBezierCurve3:zb,SplineCurve:Vb});class qD extends uo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Q_[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=n){const s=i[a]-n,o=this.curves[a],c=o.getLength(),d=c===0?0:1-s/c;return o.getPointAt(d,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let i=0,a=this.curves;i<a.length;i++){const s=a[i],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,c=s.getPoints(o);for(let d=0;d<c.length;d++){const f=c[d];n&&n.equals(f)||(t.push(f),n=f)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new Q_[i.type]().fromJSON(i))}return this}}class Ug extends qD{constructor(e){super(),this.type="Path",this.currentPoint=new Qe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new Ub(this.currentPoint.clone(),new Qe(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){const a=new Bb(this.currentPoint.clone(),new Qe(e,t),new Qe(n,i));return this.curves.push(a),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,a,s){const o=new Nb(this.currentPoint.clone(),new Qe(e,t),new Qe(n,i),new Qe(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new Vb(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,a,s){const o=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+o,t+c,n,i,a,s),this}absarc(e,t,n,i,a,s){return this.absellipse(e,t,n,n,i,a,s),this}ellipse(e,t,n,i,a,s,o,c){const d=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+d,t+f,n,i,a,s,o,c),this}absellipse(e,t,n,i,a,s,o,c){const d=new $x(e,t,n,i,a,s,o,c);if(this.curves.length>0){const m=d.getPoint(0);m.equals(this.currentPoint)||this.lineTo(m.x,m.y)}this.curves.push(d);const f=d.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Ey extends xn{constructor(e=[new Qe(0,-.5),new Qe(.5,0),new Qe(0,.5)],t=12,n=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=Fr(i,0,Math.PI*2);const a=[],s=[],o=[],c=[],d=[],f=1/t,m=new ae,g=new Qe,y=new ae,x=new ae,S=new ae;let _=0,E=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:_=e[w+1].x-e[w].x,E=e[w+1].y-e[w].y,y.x=E*1,y.y=-_,y.z=E*0,S.copy(y),y.normalize(),c.push(y.x,y.y,y.z);break;case e.length-1:c.push(S.x,S.y,S.z);break;default:_=e[w+1].x-e[w].x,E=e[w+1].y-e[w].y,y.x=E*1,y.y=-_,y.z=E*0,x.copy(y),y.x+=S.x,y.y+=S.y,y.z+=S.z,y.normalize(),c.push(y.x,y.y,y.z),S.copy(x)}for(let w=0;w<=t;w++){const C=n+w*f*i,T=Math.sin(C),O=Math.cos(C);for(let R=0;R<=e.length-1;R++){m.x=e[R].x*T,m.y=e[R].y,m.z=e[R].x*O,s.push(m.x,m.y,m.z),g.x=w/t,g.y=R/(e.length-1),o.push(g.x,g.y);const P=c[3*R+0]*T,N=c[3*R+1],D=c[3*R+0]*O;d.push(P,N,D)}}for(let w=0;w<t;w++)for(let C=0;C<e.length-1;C++){const T=C+w*e.length,O=T,R=T+e.length,P=T+e.length+1,N=T+1;a.push(O,R,N),a.push(P,N,R)}this.setIndex(a),this.setAttribute("position",new qt(s,3)),this.setAttribute("uv",new qt(o,2)),this.setAttribute("normal",new qt(d,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ey(e.points,e.segments,e.phiStart,e.phiLength)}}class Wx extends Ey{constructor(e=1,t=1,n=4,i=8){const a=new Ug;a.absarc(0,-t/2,e,Math.PI*1.5,0),a.absarc(0,t/2,e,0,Math.PI*.5),super(a.getPoints(n),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:i}}static fromJSON(e){return new Wx(e.radius,e.length,e.capSegments,e.radialSegments)}}class Gx extends xn{constructor(e=1,t=32,n=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const a=[],s=[],o=[],c=[],d=new ae,f=new Qe;s.push(0,0,0),o.push(0,0,1),c.push(.5,.5);for(let m=0,g=3;m<=t;m++,g+=3){const y=n+m/t*i;d.x=e*Math.cos(y),d.y=e*Math.sin(y),s.push(d.x,d.y,d.z),o.push(0,0,1),f.x=(s[g]/e+1)/2,f.y=(s[g+1]/e+1)/2,c.push(f.x,f.y)}for(let m=1;m<=t;m++)a.push(m,m+1,0);this.setIndex(a),this.setAttribute("position",new qt(s,3)),this.setAttribute("normal",new qt(o,3)),this.setAttribute("uv",new qt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gx(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class _p extends xn{constructor(e=1,t=1,n=1,i=32,a=1,s=!1,o=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:c};const d=this;i=Math.floor(i),a=Math.floor(a);const f=[],m=[],g=[],y=[];let x=0;const S=[],_=n/2;let E=0;w(),s===!1&&(e>0&&C(!0),t>0&&C(!1)),this.setIndex(f),this.setAttribute("position",new qt(m,3)),this.setAttribute("normal",new qt(g,3)),this.setAttribute("uv",new qt(y,2));function w(){const T=new ae,O=new ae;let R=0;const P=(t-e)/n;for(let N=0;N<=a;N++){const D=[],I=N/a,V=I*(t-e)+e;for(let q=0;q<=i;q++){const W=q/i,ee=W*c+o,te=Math.sin(ee),re=Math.cos(ee);O.x=V*te,O.y=-I*n+_,O.z=V*re,m.push(O.x,O.y,O.z),T.set(te,P,re).normalize(),g.push(T.x,T.y,T.z),y.push(W,1-I),D.push(x++)}S.push(D)}for(let N=0;N<i;N++)for(let D=0;D<a;D++){const I=S[D][N],V=S[D+1][N],q=S[D+1][N+1],W=S[D][N+1];f.push(I,V,W),f.push(V,q,W),R+=6}d.addGroup(E,R,0),E+=R}function C(T){const O=x,R=new Qe,P=new ae;let N=0;const D=T===!0?e:t,I=T===!0?1:-1;for(let q=1;q<=i;q++)m.push(0,_*I,0),g.push(0,I,0),y.push(.5,.5),x++;const V=x;for(let q=0;q<=i;q++){const ee=q/i*c+o,te=Math.cos(ee),re=Math.sin(ee);P.x=D*re,P.y=_*I,P.z=D*te,m.push(P.x,P.y,P.z),g.push(0,I,0),R.x=te*.5+.5,R.y=re*.5*I+.5,y.push(R.x,R.y),x++}for(let q=0;q<i;q++){const W=O+q,ee=V+q;T===!0?f.push(ee,ee+1,W):f.push(ee+1,ee,W),N+=3}d.addGroup(E,N,T===!0?1:2),E+=N}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _p(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class qx extends _p{constructor(e=1,t=1,n=32,i=1,a=!1,s=0,o=Math.PI*2){super(0,e,t,n,i,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new qx(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class nu extends xn{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const a=[],s=[];o(i),d(n),f(),this.setAttribute("position",new qt(a,3)),this.setAttribute("normal",new qt(a.slice(),3)),this.setAttribute("uv",new qt(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(w){const C=new ae,T=new ae,O=new ae;for(let R=0;R<t.length;R+=3)y(t[R+0],C),y(t[R+1],T),y(t[R+2],O),c(C,T,O,w)}function c(w,C,T,O){const R=O+1,P=[];for(let N=0;N<=R;N++){P[N]=[];const D=w.clone().lerp(T,N/R),I=C.clone().lerp(T,N/R),V=R-N;for(let q=0;q<=V;q++)q===0&&N===R?P[N][q]=D:P[N][q]=D.clone().lerp(I,q/V)}for(let N=0;N<R;N++)for(let D=0;D<2*(R-N)-1;D++){const I=Math.floor(D/2);D%2===0?(g(P[N][I+1]),g(P[N+1][I]),g(P[N][I])):(g(P[N][I+1]),g(P[N+1][I+1]),g(P[N+1][I]))}}function d(w){const C=new ae;for(let T=0;T<a.length;T+=3)C.x=a[T+0],C.y=a[T+1],C.z=a[T+2],C.normalize().multiplyScalar(w),a[T+0]=C.x,a[T+1]=C.y,a[T+2]=C.z}function f(){const w=new ae;for(let C=0;C<a.length;C+=3){w.x=a[C+0],w.y=a[C+1],w.z=a[C+2];const T=_(w)/2/Math.PI+.5,O=E(w)/Math.PI+.5;s.push(T,1-O)}x(),m()}function m(){for(let w=0;w<s.length;w+=6){const C=s[w+0],T=s[w+2],O=s[w+4],R=Math.max(C,T,O),P=Math.min(C,T,O);R>.9&&P<.1&&(C<.2&&(s[w+0]+=1),T<.2&&(s[w+2]+=1),O<.2&&(s[w+4]+=1))}}function g(w){a.push(w.x,w.y,w.z)}function y(w,C){const T=w*3;C.x=e[T+0],C.y=e[T+1],C.z=e[T+2]}function x(){const w=new ae,C=new ae,T=new ae,O=new ae,R=new Qe,P=new Qe,N=new Qe;for(let D=0,I=0;D<a.length;D+=9,I+=6){w.set(a[D+0],a[D+1],a[D+2]),C.set(a[D+3],a[D+4],a[D+5]),T.set(a[D+6],a[D+7],a[D+8]),R.set(s[I+0],s[I+1]),P.set(s[I+2],s[I+3]),N.set(s[I+4],s[I+5]),O.copy(w).add(C).add(T).divideScalar(3);const V=_(O);S(R,I+0,w,V),S(P,I+2,C,V),S(N,I+4,T,V)}}function S(w,C,T,O){O<0&&w.x===1&&(s[C]=w.x-1),T.x===0&&T.z===0&&(s[C]=O/2/Math.PI+.5)}function _(w){return Math.atan2(w.z,-w.x)}function E(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nu(e.vertices,e.indices,e.radius,e.details)}}class Xx extends nu{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=1/n,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Xx(e.radius,e.detail)}}const h0=new ae,p0=new ae,Y1=new ae,m0=new ns;class XD extends xn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),a=Math.cos(Md*t),s=e.getIndex(),o=e.getAttribute("position"),c=s?s.count:o.count,d=[0,0,0],f=["a","b","c"],m=new Array(3),g={},y=[];for(let x=0;x<c;x+=3){s?(d[0]=s.getX(x),d[1]=s.getX(x+1),d[2]=s.getX(x+2)):(d[0]=x,d[1]=x+1,d[2]=x+2);const{a:S,b:_,c:E}=m0;if(S.fromBufferAttribute(o,d[0]),_.fromBufferAttribute(o,d[1]),E.fromBufferAttribute(o,d[2]),m0.getNormal(Y1),m[0]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,m[1]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,m[2]=`${Math.round(E.x*i)},${Math.round(E.y*i)},${Math.round(E.z*i)}`,!(m[0]===m[1]||m[1]===m[2]||m[2]===m[0]))for(let w=0;w<3;w++){const C=(w+1)%3,T=m[w],O=m[C],R=m0[f[w]],P=m0[f[C]],N=`${T}_${O}`,D=`${O}_${T}`;D in g&&g[D]?(Y1.dot(g[D].normal)<=a&&(y.push(R.x,R.y,R.z),y.push(P.x,P.y,P.z)),g[D]=null):N in g||(g[N]={index0:d[w],index1:d[C],normal:Y1.clone()})}}for(const x in g)if(g[x]){const{index0:S,index1:_}=g[x];h0.fromBufferAttribute(o,S),p0.fromBufferAttribute(o,_),y.push(h0.x,h0.y,h0.z),y.push(p0.x,p0.y,p0.z)}this.setAttribute("position",new qt(y,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Ad extends Ug{constructor(e){super(e),this.uuid=is(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new Ug().fromJSON(i))}return this}}const $Z={triangulate:function(r,e,t=2){const n=e&&e.length,i=n?e[0]*t:r.length;let a=YD(r,0,i,t,!0);const s=[];if(!a||a.next===a.prev)return s;let o,c,d,f,m,g,y;if(n&&(a=YZ(r,e,a,t)),r.length>80*t){o=d=r[0],c=f=r[1];for(let x=t;x<i;x+=t)m=r[x],g=r[x+1],m<o&&(o=m),g<c&&(c=g),m>d&&(d=m),g>f&&(f=g);y=Math.max(d-o,f-c),y=y!==0?32767/y:0}return Bg(a,s,t,o,c,y,0),s}};function YD(r,e,t,n,i){let a,s;if(i===see(r,e,t,n)>0)for(a=e;a<t;a+=n)s=cR(a,r[a],r[a+1],s);else for(a=t-n;a>=e;a-=n)s=cR(a,r[a],r[a+1],s);return s&&Yx(s,s.next)&&(Vg(s),s=s.next),s}function Ld(r,e){if(!r)return r;e||(e=r);let t=r,n;do if(n=!1,!t.steiner&&(Yx(t,t.next)||Mr(t.prev,t,t.next)===0)){if(Vg(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function Bg(r,e,t,n,i,a,s){if(!r)return;!s&&a&&eee(r,n,i,a);let o=r,c,d;for(;r.prev!==r.next;){if(c=r.prev,d=r.next,a?GZ(r,n,i,a):WZ(r)){e.push(c.i/t|0),e.push(r.i/t|0),e.push(d.i/t|0),Vg(r),r=d.next,o=d.next;continue}if(r=d,r===o){s?s===1?(r=qZ(Ld(r),e,t),Bg(r,e,t,n,i,a,2)):s===2&&XZ(r,e,t,n,i,a):Bg(Ld(r),e,t,n,i,a,1);break}}}function WZ(r){const e=r.prev,t=r,n=r.next;if(Mr(e,t,n)>=0)return!1;const i=e.x,a=t.x,s=n.x,o=e.y,c=t.y,d=n.y,f=i<a?i<s?i:s:a<s?a:s,m=o<c?o<d?o:d:c<d?c:d,g=i>a?i>s?i:s:a>s?a:s,y=o>c?o>d?o:d:c>d?c:d;let x=n.next;for(;x!==e;){if(x.x>=f&&x.x<=g&&x.y>=m&&x.y<=y&&Uh(i,o,a,c,s,d,x.x,x.y)&&Mr(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function GZ(r,e,t,n){const i=r.prev,a=r,s=r.next;if(Mr(i,a,s)>=0)return!1;const o=i.x,c=a.x,d=s.x,f=i.y,m=a.y,g=s.y,y=o<c?o<d?o:d:c<d?c:d,x=f<m?f<g?f:g:m<g?m:g,S=o>c?o>d?o:d:c>d?c:d,_=f>m?f>g?f:g:m>g?m:g,E=lw(y,x,e,t,n),w=lw(S,_,e,t,n);let C=r.prevZ,T=r.nextZ;for(;C&&C.z>=E&&T&&T.z<=w;){if(C.x>=y&&C.x<=S&&C.y>=x&&C.y<=_&&C!==i&&C!==s&&Uh(o,f,c,m,d,g,C.x,C.y)&&Mr(C.prev,C,C.next)>=0||(C=C.prevZ,T.x>=y&&T.x<=S&&T.y>=x&&T.y<=_&&T!==i&&T!==s&&Uh(o,f,c,m,d,g,T.x,T.y)&&Mr(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;C&&C.z>=E;){if(C.x>=y&&C.x<=S&&C.y>=x&&C.y<=_&&C!==i&&C!==s&&Uh(o,f,c,m,d,g,C.x,C.y)&&Mr(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;T&&T.z<=w;){if(T.x>=y&&T.x<=S&&T.y>=x&&T.y<=_&&T!==i&&T!==s&&Uh(o,f,c,m,d,g,T.x,T.y)&&Mr(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function qZ(r,e,t){let n=r;do{const i=n.prev,a=n.next.next;!Yx(i,a)&&QD(i,n,n.next,a)&&zg(i,a)&&zg(a,i)&&(e.push(i.i/t|0),e.push(n.i/t|0),e.push(a.i/t|0),Vg(n),Vg(n.next),n=r=a),n=n.next}while(n!==r);return Ld(n)}function XZ(r,e,t,n,i,a){let s=r;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&ree(s,o)){let c=KD(s,o);s=Ld(s,s.next),c=Ld(c,c.next),Bg(s,e,t,n,i,a,0),Bg(c,e,t,n,i,a,0);return}o=o.next}s=s.next}while(s!==r)}function YZ(r,e,t,n){const i=[];let a,s,o,c,d;for(a=0,s=e.length;a<s;a++)o=e[a]*n,c=a<s-1?e[a+1]*n:r.length,d=YD(r,o,c,n,!1),d===d.next&&(d.steiner=!0),i.push(nee(d));for(i.sort(QZ),a=0;a<i.length;a++)t=KZ(i[a],t);return t}function QZ(r,e){return r.x-e.x}function KZ(r,e){const t=JZ(r,e);if(!t)return e;const n=KD(t,r);return Ld(n,n.next),Ld(t,t.next)}function JZ(r,e){let t=e,n=-1/0,i;const a=r.x,s=r.y;do{if(s<=t.y&&s>=t.next.y&&t.next.y!==t.y){const g=t.x+(s-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=a&&g>n&&(n=g,i=t.x<t.next.x?t:t.next,g===a))return i}t=t.next}while(t!==e);if(!i)return null;const o=i,c=i.x,d=i.y;let f=1/0,m;t=i;do a>=t.x&&t.x>=c&&a!==t.x&&Uh(s<d?a:n,s,c,d,s<d?n:a,s,t.x,t.y)&&(m=Math.abs(s-t.y)/(a-t.x),zg(t,r)&&(m<f||m===f&&(t.x>i.x||t.x===i.x&&ZZ(i,t)))&&(i=t,f=m)),t=t.next;while(t!==o);return i}function ZZ(r,e){return Mr(r.prev,r,e.prev)<0&&Mr(e.next,r,r.next)<0}function eee(r,e,t,n){let i=r;do i.z===0&&(i.z=lw(i.x,i.y,e,t,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==r);i.prevZ.nextZ=null,i.prevZ=null,tee(i)}function tee(r){let e,t,n,i,a,s,o,c,d=1;do{for(t=r,r=null,a=null,s=0;t;){for(s++,n=t,o=0,e=0;e<d&&(o++,n=n.nextZ,!!n);e++);for(c=d;o>0||c>0&&n;)o!==0&&(c===0||!n||t.z<=n.z)?(i=t,t=t.nextZ,o--):(i=n,n=n.nextZ,c--),a?a.nextZ=i:r=i,i.prevZ=a,a=i;t=n}a.nextZ=null,d*=2}while(s>1);return r}function lw(r,e,t,n,i){return r=(r-t)*i|0,e=(e-n)*i|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r|e<<1}function nee(r){let e=r,t=r;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==r);return t}function Uh(r,e,t,n,i,a,s,o){return(i-s)*(e-o)>=(r-s)*(a-o)&&(r-s)*(n-o)>=(t-s)*(e-o)&&(t-s)*(a-o)>=(i-s)*(n-o)}function ree(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!iee(r,e)&&(zg(r,e)&&zg(e,r)&&aee(r,e)&&(Mr(r.prev,r,e.prev)||Mr(r,e.prev,e))||Yx(r,e)&&Mr(r.prev,r,r.next)>0&&Mr(e.prev,e,e.next)>0)}function Mr(r,e,t){return(e.y-r.y)*(t.x-e.x)-(e.x-r.x)*(t.y-e.y)}function Yx(r,e){return r.x===e.x&&r.y===e.y}function QD(r,e,t,n){const i=y0(Mr(r,e,t)),a=y0(Mr(r,e,n)),s=y0(Mr(t,n,r)),o=y0(Mr(t,n,e));return!!(i!==a&&s!==o||i===0&&g0(r,t,e)||a===0&&g0(r,n,e)||s===0&&g0(t,r,n)||o===0&&g0(t,e,n))}function g0(r,e,t){return e.x<=Math.max(r.x,t.x)&&e.x>=Math.min(r.x,t.x)&&e.y<=Math.max(r.y,t.y)&&e.y>=Math.min(r.y,t.y)}function y0(r){return r>0?1:r<0?-1:0}function iee(r,e){let t=r;do{if(t.i!==r.i&&t.next.i!==r.i&&t.i!==e.i&&t.next.i!==e.i&&QD(t,t.next,r,e))return!0;t=t.next}while(t!==r);return!1}function zg(r,e){return Mr(r.prev,r,r.next)<0?Mr(r,e,r.next)>=0&&Mr(r,r.prev,e)>=0:Mr(r,e,r.prev)<0||Mr(r,r.next,e)<0}function aee(r,e){let t=r,n=!1;const i=(r.x+e.x)/2,a=(r.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&i<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==r);return n}function KD(r,e){const t=new cw(r.i,r.x,r.y),n=new cw(e.i,e.x,e.y),i=r.next,a=e.prev;return r.next=e,e.prev=r,t.next=i,i.prev=t,n.next=t,t.prev=n,a.next=n,n.prev=a,n}function cR(r,e,t,n){const i=new cw(r,e,t);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Vg(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function cw(r,e,t){this.i=r,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function see(r,e,t,n){let i=0;for(let a=e,s=t-n;a<t;a+=n)i+=(r[s]-r[a])*(r[a+1]+r[s+1]),s=a;return i}class Uo{static area(e){const t=e.length;let n=0;for(let i=t-1,a=0;a<t;i=a++)n+=e[i].x*e[a].y-e[a].x*e[i].y;return n*.5}static isClockWise(e){return Uo.area(e)<0}static triangulateShape(e,t){const n=[],i=[],a=[];uR(e),dR(n,e);let s=e.length;t.forEach(uR);for(let c=0;c<t.length;c++)i.push(s),s+=t[c].length,dR(n,t[c]);const o=$Z.triangulate(n,i);for(let c=0;c<o.length;c+=3)a.push(o.slice(c,c+3));return a}}function uR(r){const e=r.length;e>2&&r[e-1].equals(r[0])&&r.pop()}function dR(r,e){for(let t=0;t<e.length;t++)r.push(e[t].x),r.push(e[t].y)}class Qx extends xn{constructor(e=new Ad([new Qe(.5,.5),new Qe(-.5,.5),new Qe(-.5,-.5),new Qe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],a=[];for(let o=0,c=e.length;o<c;o++){const d=e[o];s(d)}this.setAttribute("position",new qt(i,3)),this.setAttribute("uv",new qt(a,2)),this.computeVertexNormals();function s(o){const c=[],d=t.curveSegments!==void 0?t.curveSegments:12,f=t.steps!==void 0?t.steps:1,m=t.depth!==void 0?t.depth:1;let g=t.bevelEnabled!==void 0?t.bevelEnabled:!0,y=t.bevelThickness!==void 0?t.bevelThickness:.2,x=t.bevelSize!==void 0?t.bevelSize:y-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const E=t.extrudePath,w=t.UVGenerator!==void 0?t.UVGenerator:oee;let C,T=!1,O,R,P,N;E&&(C=E.getSpacedPoints(f),T=!0,g=!1,O=E.computeFrenetFrames(f,!1),R=new ae,P=new ae,N=new ae),g||(_=0,y=0,x=0,S=0);const D=o.extractPoints(d);let I=D.shape;const V=D.holes;if(!Uo.isClockWise(I)){I=I.reverse();for(let Z=0,Be=V.length;Z<Be;Z++){const Ge=V[Z];Uo.isClockWise(Ge)&&(V[Z]=Ge.reverse())}}const W=Uo.triangulateShape(I,V),ee=I;for(let Z=0,Be=V.length;Z<Be;Z++){const Ge=V[Z];I=I.concat(Ge)}function te(Z,Be,Ge){return Be||console.error("THREE.ExtrudeGeometry: vec does not exist"),Z.clone().addScaledVector(Be,Ge)}const re=I.length,ue=W.length;function G(Z,Be,Ge){let qe,Ue,xt;const st=Z.x-Be.x,yt=Z.y-Be.y,se=Ge.x-Z.x,K=Ge.y-Z.y,Ce=st*st+yt*yt,Xe=st*K-yt*se;if(Math.abs(Xe)>Number.EPSILON){const Ye=Math.sqrt(Ce),We=Math.sqrt(se*se+K*K),Et=Be.x-yt/Ye,$=Be.y+st/Ye,F=Ge.x-K/We,B=Ge.y+se/We,Q=((F-Et)*K-(B-$)*se)/(st*K-yt*se);qe=Et+st*Q-Z.x,Ue=$+yt*Q-Z.y;const ie=qe*qe+Ue*Ue;if(ie<=2)return new Qe(qe,Ue);xt=Math.sqrt(ie/2)}else{let Ye=!1;st>Number.EPSILON?se>Number.EPSILON&&(Ye=!0):st<-Number.EPSILON?se<-Number.EPSILON&&(Ye=!0):Math.sign(yt)===Math.sign(K)&&(Ye=!0),Ye?(qe=-yt,Ue=st,xt=Math.sqrt(Ce)):(qe=st,Ue=yt,xt=Math.sqrt(Ce/2))}return new Qe(qe/xt,Ue/xt)}const le=[];for(let Z=0,Be=ee.length,Ge=Be-1,qe=Z+1;Z<Be;Z++,Ge++,qe++)Ge===Be&&(Ge=0),qe===Be&&(qe=0),le[Z]=G(ee[Z],ee[Ge],ee[qe]);const oe=[];let X,ne=le.concat();for(let Z=0,Be=V.length;Z<Be;Z++){const Ge=V[Z];X=[];for(let qe=0,Ue=Ge.length,xt=Ue-1,st=qe+1;qe<Ue;qe++,xt++,st++)xt===Ue&&(xt=0),st===Ue&&(st=0),X[qe]=G(Ge[qe],Ge[xt],Ge[st]);oe.push(X),ne=ne.concat(X)}for(let Z=0;Z<_;Z++){const Be=Z/_,Ge=y*Math.cos(Be*Math.PI/2),qe=x*Math.sin(Be*Math.PI/2)+S;for(let Ue=0,xt=ee.length;Ue<xt;Ue++){const st=te(ee[Ue],le[Ue],qe);Le(st.x,st.y,-Ge)}for(let Ue=0,xt=V.length;Ue<xt;Ue++){const st=V[Ue];X=oe[Ue];for(let yt=0,se=st.length;yt<se;yt++){const K=te(st[yt],X[yt],qe);Le(K.x,K.y,-Ge)}}}const we=x+S;for(let Z=0;Z<re;Z++){const Be=g?te(I[Z],ne[Z],we):I[Z];T?(P.copy(O.normals[0]).multiplyScalar(Be.x),R.copy(O.binormals[0]).multiplyScalar(Be.y),N.copy(C[0]).add(P).add(R),Le(N.x,N.y,N.z)):Le(Be.x,Be.y,0)}for(let Z=1;Z<=f;Z++)for(let Be=0;Be<re;Be++){const Ge=g?te(I[Be],ne[Be],we):I[Be];T?(P.copy(O.normals[Z]).multiplyScalar(Ge.x),R.copy(O.binormals[Z]).multiplyScalar(Ge.y),N.copy(C[Z]).add(P).add(R),Le(N.x,N.y,N.z)):Le(Ge.x,Ge.y,m/f*Z)}for(let Z=_-1;Z>=0;Z--){const Be=Z/_,Ge=y*Math.cos(Be*Math.PI/2),qe=x*Math.sin(Be*Math.PI/2)+S;for(let Ue=0,xt=ee.length;Ue<xt;Ue++){const st=te(ee[Ue],le[Ue],qe);Le(st.x,st.y,m+Ge)}for(let Ue=0,xt=V.length;Ue<xt;Ue++){const st=V[Ue];X=oe[Ue];for(let yt=0,se=st.length;yt<se;yt++){const K=te(st[yt],X[yt],qe);T?Le(K.x,K.y+C[f-1].y,C[f-1].x+Ge):Le(K.x,K.y,m+Ge)}}}me(),ye();function me(){const Z=i.length/3;if(g){let Be=0,Ge=re*Be;for(let qe=0;qe<ue;qe++){const Ue=W[qe];Je(Ue[2]+Ge,Ue[1]+Ge,Ue[0]+Ge)}Be=f+_*2,Ge=re*Be;for(let qe=0;qe<ue;qe++){const Ue=W[qe];Je(Ue[0]+Ge,Ue[1]+Ge,Ue[2]+Ge)}}else{for(let Be=0;Be<ue;Be++){const Ge=W[Be];Je(Ge[2],Ge[1],Ge[0])}for(let Be=0;Be<ue;Be++){const Ge=W[Be];Je(Ge[0]+re*f,Ge[1]+re*f,Ge[2]+re*f)}}n.addGroup(Z,i.length/3-Z,0)}function ye(){const Z=i.length/3;let Be=0;Pe(ee,Be),Be+=ee.length;for(let Ge=0,qe=V.length;Ge<qe;Ge++){const Ue=V[Ge];Pe(Ue,Be),Be+=Ue.length}n.addGroup(Z,i.length/3-Z,1)}function Pe(Z,Be){let Ge=Z.length;for(;--Ge>=0;){const qe=Ge;let Ue=Ge-1;Ue<0&&(Ue=Z.length-1);for(let xt=0,st=f+_*2;xt<st;xt++){const yt=re*xt,se=re*(xt+1),K=Be+qe+yt,Ce=Be+Ue+yt,Xe=Be+Ue+se,Ye=Be+qe+se;ot(K,Ce,Xe,Ye)}}}function Le(Z,Be,Ge){c.push(Z),c.push(Be),c.push(Ge)}function Je(Z,Be,Ge){ft(Z),ft(Be),ft(Ge);const qe=i.length/3,Ue=w.generateTopUV(n,i,qe-3,qe-2,qe-1);wt(Ue[0]),wt(Ue[1]),wt(Ue[2])}function ot(Z,Be,Ge,qe){ft(Z),ft(Be),ft(qe),ft(Be),ft(Ge),ft(qe);const Ue=i.length/3,xt=w.generateSideWallUV(n,i,Ue-6,Ue-3,Ue-2,Ue-1);wt(xt[0]),wt(xt[1]),wt(xt[3]),wt(xt[1]),wt(xt[2]),wt(xt[3])}function ft(Z){i.push(c[Z*3+0]),i.push(c[Z*3+1]),i.push(c[Z*3+2])}function wt(Z){a.push(Z.x),a.push(Z.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return lee(t,n,e)}static fromJSON(e,t){const n=[];for(let a=0,s=e.shapes.length;a<s;a++){const o=t[e.shapes[a]];n.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Q_[i.type]().fromJSON(i)),new Qx(n,e.options)}}const oee={generateTopUV:function(r,e,t,n,i){const a=e[t*3],s=e[t*3+1],o=e[n*3],c=e[n*3+1],d=e[i*3],f=e[i*3+1];return[new Qe(a,s),new Qe(o,c),new Qe(d,f)]},generateSideWallUV:function(r,e,t,n,i,a){const s=e[t*3],o=e[t*3+1],c=e[t*3+2],d=e[n*3],f=e[n*3+1],m=e[n*3+2],g=e[i*3],y=e[i*3+1],x=e[i*3+2],S=e[a*3],_=e[a*3+1],E=e[a*3+2];return Math.abs(o-f)<Math.abs(s-d)?[new Qe(s,1-c),new Qe(d,1-m),new Qe(g,1-x),new Qe(S,1-E)]:[new Qe(o,1-c),new Qe(f,1-m),new Qe(y,1-x),new Qe(_,1-E)]}};function lee(r,e,t){if(t.shapes=[],Array.isArray(r))for(let n=0,i=r.length;n<i;n++){const a=r[n];t.shapes.push(a.uuid)}else t.shapes.push(r.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Kx extends nu{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Kx(e.radius,e.detail)}}class wy extends nu{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new wy(e.radius,e.detail)}}class Jx extends xn{constructor(e=.5,t=1,n=32,i=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:a,thetaLength:s},n=Math.max(3,n),i=Math.max(1,i);const o=[],c=[],d=[],f=[];let m=e;const g=(t-e)/i,y=new ae,x=new Qe;for(let S=0;S<=i;S++){for(let _=0;_<=n;_++){const E=a+_/n*s;y.x=m*Math.cos(E),y.y=m*Math.sin(E),c.push(y.x,y.y,y.z),d.push(0,0,1),x.x=(y.x/t+1)/2,x.y=(y.y/t+1)/2,f.push(x.x,x.y)}m+=g}for(let S=0;S<i;S++){const _=S*(n+1);for(let E=0;E<n;E++){const w=E+_,C=w,T=w+n+1,O=w+n+2,R=w+1;o.push(C,T,R),o.push(T,O,R)}}this.setIndex(o),this.setAttribute("position",new qt(c,3)),this.setAttribute("normal",new qt(d,3)),this.setAttribute("uv",new qt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jx(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Zx extends xn{constructor(e=new Ad([new Qe(0,.5),new Qe(-.5,-.5),new Qe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],a=[],s=[];let o=0,c=0;if(Array.isArray(e)===!1)d(e);else for(let f=0;f<e.length;f++)d(e[f]),this.addGroup(o,c,f),o+=c,c=0;this.setIndex(n),this.setAttribute("position",new qt(i,3)),this.setAttribute("normal",new qt(a,3)),this.setAttribute("uv",new qt(s,2));function d(f){const m=i.length/3,g=f.extractPoints(t);let y=g.shape;const x=g.holes;Uo.isClockWise(y)===!1&&(y=y.reverse());for(let _=0,E=x.length;_<E;_++){const w=x[_];Uo.isClockWise(w)===!0&&(x[_]=w.reverse())}const S=Uo.triangulateShape(y,x);for(let _=0,E=x.length;_<E;_++){const w=x[_];y=y.concat(w)}for(let _=0,E=y.length;_<E;_++){const w=y[_];i.push(w.x,w.y,0),a.push(0,0,1),s.push(w.x,w.y)}for(let _=0,E=S.length;_<E;_++){const w=S[_],C=w[0]+m,T=w[1]+m,O=w[2]+m;n.push(C,T,O),c+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return cee(t,e)}static fromJSON(e,t){const n=[];for(let i=0,a=e.shapes.length;i<a;i++){const s=t[e.shapes[i]];n.push(s)}return new Zx(n,e.curveSegments)}}function cee(r,e){if(e.shapes=[],Array.isArray(r))for(let t=0,n=r.length;t<n;t++){const i=r[t];e.shapes.push(i.uuid)}else e.shapes.push(r.uuid);return e}class ql extends xn{constructor(e=1,t=32,n=16,i=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:a,thetaStart:s,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const c=Math.min(s+o,Math.PI);let d=0;const f=[],m=new ae,g=new ae,y=[],x=[],S=[],_=[];for(let E=0;E<=n;E++){const w=[],C=E/n;let T=0;E===0&&s===0?T=.5/t:E===n&&c===Math.PI&&(T=-.5/t);for(let O=0;O<=t;O++){const R=O/t;m.x=-e*Math.cos(i+R*a)*Math.sin(s+C*o),m.y=e*Math.cos(s+C*o),m.z=e*Math.sin(i+R*a)*Math.sin(s+C*o),x.push(m.x,m.y,m.z),g.copy(m).normalize(),S.push(g.x,g.y,g.z),_.push(R+T,1-C),w.push(d++)}f.push(w)}for(let E=0;E<n;E++)for(let w=0;w<t;w++){const C=f[E][w+1],T=f[E][w],O=f[E+1][w],R=f[E+1][w+1];(E!==0||s>0)&&y.push(C,T,R),(E!==n-1||c<Math.PI)&&y.push(T,O,R)}this.setIndex(y),this.setAttribute("position",new qt(x,3)),this.setAttribute("normal",new qt(S,3)),this.setAttribute("uv",new qt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ql(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class eS extends nu{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new eS(e.radius,e.detail)}}class tS extends xn{constructor(e=1,t=.4,n=12,i=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:a},n=Math.floor(n),i=Math.floor(i);const s=[],o=[],c=[],d=[],f=new ae,m=new ae,g=new ae;for(let y=0;y<=n;y++)for(let x=0;x<=i;x++){const S=x/i*a,_=y/n*Math.PI*2;m.x=(e+t*Math.cos(_))*Math.cos(S),m.y=(e+t*Math.cos(_))*Math.sin(S),m.z=t*Math.sin(_),o.push(m.x,m.y,m.z),f.x=e*Math.cos(S),f.y=e*Math.sin(S),g.subVectors(m,f).normalize(),c.push(g.x,g.y,g.z),d.push(x/i),d.push(y/n)}for(let y=1;y<=n;y++)for(let x=1;x<=i;x++){const S=(i+1)*y+x-1,_=(i+1)*(y-1)+x-1,E=(i+1)*(y-1)+x,w=(i+1)*y+x;s.push(S,_,w),s.push(_,E,w)}this.setIndex(s),this.setAttribute("position",new qt(o,3)),this.setAttribute("normal",new qt(c,3)),this.setAttribute("uv",new qt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tS(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class nS extends xn{constructor(e=1,t=.4,n=64,i=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:a,q:s},n=Math.floor(n),i=Math.floor(i);const o=[],c=[],d=[],f=[],m=new ae,g=new ae,y=new ae,x=new ae,S=new ae,_=new ae,E=new ae;for(let C=0;C<=n;++C){const T=C/n*a*Math.PI*2;w(T,a,s,e,y),w(T+.01,a,s,e,x),_.subVectors(x,y),E.addVectors(x,y),S.crossVectors(_,E),E.crossVectors(S,_),S.normalize(),E.normalize();for(let O=0;O<=i;++O){const R=O/i*Math.PI*2,P=-t*Math.cos(R),N=t*Math.sin(R);m.x=y.x+(P*E.x+N*S.x),m.y=y.y+(P*E.y+N*S.y),m.z=y.z+(P*E.z+N*S.z),c.push(m.x,m.y,m.z),g.subVectors(m,y).normalize(),d.push(g.x,g.y,g.z),f.push(C/n),f.push(O/i)}}for(let C=1;C<=n;C++)for(let T=1;T<=i;T++){const O=(i+1)*(C-1)+(T-1),R=(i+1)*C+(T-1),P=(i+1)*C+T,N=(i+1)*(C-1)+T;o.push(O,R,N),o.push(R,P,N)}this.setIndex(o),this.setAttribute("position",new qt(c,3)),this.setAttribute("normal",new qt(d,3)),this.setAttribute("uv",new qt(f,2));function w(C,T,O,R,P){const N=Math.cos(C),D=Math.sin(C),I=O/T*C,V=Math.cos(I);P.x=R*(2+V)*.5*N,P.y=R*(2+V)*D*.5,P.z=R*Math.sin(I)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nS(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class rS extends xn{constructor(e=new zb(new ae(-1,-1,0),new ae(-1,1,0),new ae(1,1,0)),t=64,n=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:a};const s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new ae,c=new ae,d=new Qe;let f=new ae;const m=[],g=[],y=[],x=[];S(),this.setIndex(x),this.setAttribute("position",new qt(m,3)),this.setAttribute("normal",new qt(g,3)),this.setAttribute("uv",new qt(y,2));function S(){for(let C=0;C<t;C++)_(C);_(a===!1?t:0),w(),E()}function _(C){f=e.getPointAt(C/t,f);const T=s.normals[C],O=s.binormals[C];for(let R=0;R<=i;R++){const P=R/i*Math.PI*2,N=Math.sin(P),D=-Math.cos(P);c.x=D*T.x+N*O.x,c.y=D*T.y+N*O.y,c.z=D*T.z+N*O.z,c.normalize(),g.push(c.x,c.y,c.z),o.x=f.x+n*c.x,o.y=f.y+n*c.y,o.z=f.z+n*c.z,m.push(o.x,o.y,o.z)}}function E(){for(let C=1;C<=t;C++)for(let T=1;T<=i;T++){const O=(i+1)*(C-1)+(T-1),R=(i+1)*C+(T-1),P=(i+1)*C+T,N=(i+1)*(C-1)+T;x.push(O,R,N),x.push(R,P,N)}}function w(){for(let C=0;C<=t;C++)for(let T=0;T<=i;T++)d.x=C/t,d.y=T/i,y.push(d.x,d.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new rS(new Q_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class JD extends xn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,i=new ae,a=new ae;if(e.index!==null){const s=e.attributes.position,o=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:o.count,materialIndex:0}]);for(let d=0,f=c.length;d<f;++d){const m=c[d],g=m.start,y=m.count;for(let x=g,S=g+y;x<S;x+=3)for(let _=0;_<3;_++){const E=o.getX(x+_),w=o.getX(x+(_+1)%3);i.fromBufferAttribute(s,E),a.fromBufferAttribute(s,w),fR(i,a,n)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let o=0,c=s.count/3;o<c;o++)for(let d=0;d<3;d++){const f=3*o+d,m=3*o+(d+1)%3;i.fromBufferAttribute(s,f),a.fromBufferAttribute(s,m),fR(i,a,n)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new qt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function fR(r,e,t){const n=`${r.x},${r.y},${r.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${r.x},${r.y},${r.z}`;return t.has(n)===!0||t.has(i)===!0?!1:(t.add(n),t.add(i),!0)}var hR=Object.freeze({__proto__:null,BoxGeometry:Wd,CapsuleGeometry:Wx,CircleGeometry:Gx,ConeGeometry:qx,CylinderGeometry:_p,DodecahedronGeometry:Xx,EdgesGeometry:XD,ExtrudeGeometry:Qx,IcosahedronGeometry:Kx,LatheGeometry:Ey,OctahedronGeometry:wy,PlaneGeometry:yp,PolyhedronGeometry:nu,RingGeometry:Jx,ShapeGeometry:Zx,SphereGeometry:ql,TetrahedronGeometry:eS,TorusGeometry:tS,TorusKnotGeometry:nS,TubeGeometry:rS,WireframeGeometry:JD});class ZD extends Fi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new At(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class eL extends so{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Hb extends Fi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new At(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new At(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tu,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new as,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tL extends Hb{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Qe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Fr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new At(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new At(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new At(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class iS extends Fi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new At(16777215),this.specular=new At(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new At(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tu,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new as,this.combine=my,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nL extends Fi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new At(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new At(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tu,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class rL extends Fi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tu,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class iL extends Fi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new At(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new At(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tu,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new as,this.combine=my,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class aL extends Fi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new At(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tu,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sL extends Ea{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function vd(r,e,t){return!r||!t&&r.constructor===e?r:typeof e.BYTES_PER_ELEMENT=="number"?new e(r):Array.prototype.slice.call(r)}function oL(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function lL(r){function e(i,a){return r[i]-r[a]}const t=r.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort(e),n}function uw(r,e,t){const n=r.length,i=new r.constructor(n);for(let a=0,s=0;s!==n;++a){const o=t[a]*e;for(let c=0;c!==e;++c)i[s++]=r[o+c]}return i}function jb(r,e,t,n){let i=1,a=r[0];for(;a!==void 0&&a[n]===void 0;)a=r[i++];if(a===void 0)return;let s=a[n];if(s!==void 0)if(Array.isArray(s))do s=a[n],s!==void 0&&(e.push(a.time),t.push.apply(t,s)),a=r[i++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[n],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=r[i++];while(a!==void 0);else do s=a[n],s!==void 0&&(e.push(a.time),t.push(s)),a=r[i++];while(a!==void 0)}function uee(r,e,t,n,i=30){const a=r.clone();a.name=e;const s=[];for(let c=0;c<a.tracks.length;++c){const d=a.tracks[c],f=d.getValueSize(),m=[],g=[];for(let y=0;y<d.times.length;++y){const x=d.times[y]*i;if(!(x<t||x>=n)){m.push(d.times[y]);for(let S=0;S<f;++S)g.push(d.values[y*f+S])}}m.length!==0&&(d.times=vd(m,d.times.constructor),d.values=vd(g,d.values.constructor),s.push(d))}a.tracks=s;let o=1/0;for(let c=0;c<a.tracks.length;++c)o>a.tracks[c].times[0]&&(o=a.tracks[c].times[0]);for(let c=0;c<a.tracks.length;++c)a.tracks[c].shift(-1*o);return a.resetDuration(),a}function dee(r,e=0,t=r,n=30){n<=0&&(n=30);const i=t.tracks.length,a=e/n;for(let s=0;s<i;++s){const o=t.tracks[s],c=o.ValueTypeName;if(c==="bool"||c==="string")continue;const d=r.tracks.find(function(E){return E.name===o.name&&E.ValueTypeName===c});if(d===void 0)continue;let f=0;const m=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=m/3);let g=0;const y=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=y/3);const x=o.times.length-1;let S;if(a<=o.times[0]){const E=f,w=m-f;S=o.values.slice(E,w)}else if(a>=o.times[x]){const E=x*m+f,w=E+m-f;S=o.values.slice(E,w)}else{const E=o.createInterpolant(),w=f,C=m-f;E.evaluate(a),S=E.resultBuffer.slice(w,C)}c==="quaternion"&&new Ki().fromArray(S).normalize().conjugate().toArray(S);const _=d.times.length;for(let E=0;E<_;++E){const w=E*y+g;if(c==="quaternion")Ki.multiplyQuaternionsFlat(d.values,w,S,0,d.values,w);else{const C=y-g*2;for(let T=0;T<C;++T)d.values[w+T]-=S[T]}}}return r.blendMode=Sb,r}const fee={convertArray:vd,isTypedArray:oL,getKeyframeOrder:lL,sortedArray:uw,flattenJSON:jb,subclip:uee,makeClipAdditive:dee};class Cy{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],a=t[n-1];e:{t:{let s;n:{r:if(!(e<i)){for(let o=n+2;;){if(i===void 0){if(e<a)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(a=i,i=t[++n],e<i)break t}s=t.length;break n}if(!(e>=a)){const o=t[1];e<o&&(n=2,a=o);for(let c=n-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===c)break;if(i=a,a=t[--n-1],e>=a)break t}s=n,n=0;break n}break e}for(;n<s;){const o=n+s>>>1;e<t[o]?s=o:n=o+1}if(i=t[n],a=t[n-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,a,i)}return this.interpolate_(n,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,a=e*i;for(let s=0;s!==i;++s)t[s]=n[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class cL extends Cy{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:md,endingEnd:md}}intervalChanged_(e,t,n){const i=this.parameterPositions;let a=e-2,s=e+1,o=i[a],c=i[s];if(o===void 0)switch(this.getSettings_().endingStart){case gd:a=e,o=2*t-n;break;case Ig:a=i.length-2,o=t+i[a]-i[a+1];break;default:a=e,o=n}if(c===void 0)switch(this.getSettings_().endingEnd){case gd:s=e,c=2*n-t;break;case Ig:s=1,c=n+i[1]-i[0];break;default:s=e-1,c=t}const d=(n-t)*.5,f=this.valueSize;this._weightPrev=d/(t-o),this._weightNext=d/(c-n),this._offsetPrev=a*f,this._offsetNext=s*f}interpolate_(e,t,n,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,c=e*o,d=c-o,f=this._offsetPrev,m=this._offsetNext,g=this._weightPrev,y=this._weightNext,x=(n-t)/(i-t),S=x*x,_=S*x,E=-g*_+2*g*S-g*x,w=(1+g)*_+(-1.5-2*g)*S+(-.5+g)*x+1,C=(-1-y)*_+(1.5+y)*S+.5*x,T=y*_-y*S;for(let O=0;O!==o;++O)a[O]=E*s[f+O]+w*s[d+O]+C*s[c+O]+T*s[m+O];return a}}class $b extends Cy{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,c=e*o,d=c-o,f=(n-t)/(i-t),m=1-f;for(let g=0;g!==o;++g)a[g]=s[d+g]*m+s[c+g]*f;return a}}class uL extends Cy{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class fo{constructor(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=vd(t,this.TimeBufferType),this.values=vd(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:vd(e.times,Array),values:vd(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new uL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new $b(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new cL(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Rg:t=this.InterpolantFactoryMethodDiscrete;break;case G_:t=this.InterpolantFactoryMethodLinear;break;case V0:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Rg;case this.InterpolantFactoryMethodLinear:return G_;case this.InterpolantFactoryMethodSmooth:return V0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let a=0,s=i-1;for(;a!==i&&n[a]<e;)++a;for(;s!==-1&&n[s]>t;)--s;if(++s,a!==0||s!==i){a>=s&&(s=Math.max(s,1),a=s-1);const o=this.getValueSize();this.times=n.slice(a,s),this.values=this.values.slice(a*o,s*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,a=n.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){const c=n[o];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,c),e=!1;break}if(s!==null&&s>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,c,s),e=!1;break}s=c}if(i!==void 0&&oL(i))for(let o=0,c=i.length;o!==c;++o){const d=i[o];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,d),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===V0,a=e.length-1;let s=1;for(let o=1;o<a;++o){let c=!1;const d=e[o],f=e[o+1];if(d!==f&&(o!==1||d!==e[0]))if(i)c=!0;else{const m=o*n,g=m-n,y=m+n;for(let x=0;x!==n;++x){const S=t[m+x];if(S!==t[g+x]||S!==t[y+x]){c=!0;break}}}if(c){if(o!==s){e[s]=e[o];const m=o*n,g=s*n;for(let y=0;y!==n;++y)t[g+y]=t[m+y]}++s}}if(a>0){e[s]=e[a];for(let o=a*n,c=s*n,d=0;d!==n;++d)t[c+d]=t[o+d];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}fo.prototype.TimeBufferType=Float32Array;fo.prototype.ValueBufferType=Float32Array;fo.prototype.DefaultInterpolation=G_;class Gd extends fo{constructor(e,t,n){super(e,t,n)}}Gd.prototype.ValueTypeName="bool";Gd.prototype.ValueBufferType=Array;Gd.prototype.DefaultInterpolation=Rg;Gd.prototype.InterpolantFactoryMethodLinear=void 0;Gd.prototype.InterpolantFactoryMethodSmooth=void 0;class Wb extends fo{}Wb.prototype.ValueTypeName="color";class Hg extends fo{}Hg.prototype.ValueTypeName="number";class dL extends Cy{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,c=(n-t)/(i-t);let d=e*o;for(let f=d+o;d!==f;d+=4)Ki.slerpFlat(a,0,s,d-o,s,d,c);return a}}class by extends fo{InterpolantFactoryMethodLinear(e){return new dL(this.times,this.values,this.getValueSize(),e)}}by.prototype.ValueTypeName="quaternion";by.prototype.InterpolantFactoryMethodSmooth=void 0;class qd extends fo{constructor(e,t,n){super(e,t,n)}}qd.prototype.ValueTypeName="string";qd.prototype.ValueBufferType=Array;qd.prototype.DefaultInterpolation=Rg;qd.prototype.InterpolantFactoryMethodLinear=void 0;qd.prototype.InterpolantFactoryMethodSmooth=void 0;class jg extends fo{}jg.prototype.ValueTypeName="vector";class $g{constructor(e="",t=-1,n=[],i=Dx){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=is(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let s=0,o=n.length;s!==o;++s)t.push(pee(n[s]).scale(i));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,s=n.length;a!==s;++a)t.push(fo.toJSON(n[a]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const a=t.length,s=[];for(let o=0;o<a;o++){let c=[],d=[];c.push((o+a-1)%a,o,(o+1)%a),d.push(0,1,0);const f=lL(c);c=uw(c,1,f),d=uw(d,1,f),!i&&c[0]===0&&(c.push(a),d.push(d[0])),s.push(new Hg(".morphTargetInfluences["+t[o].name+"]",c,d).scale(1/n))}return new this(e,-1,s)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,c=e.length;o<c;o++){const d=e[o],f=d.name.match(a);if(f&&f.length>1){const m=f[1];let g=i[m];g||(i[m]=g=[]),g.push(d)}}const s=[];for(const o in i)s.push(this.CreateFromMorphTargetSequence(o,i[o],t,n));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(m,g,y,x,S){if(y.length!==0){const _=[],E=[];jb(y,_,E,x),_.length!==0&&S.push(new m(g,_,E))}},i=[],a=e.name||"default",s=e.fps||30,o=e.blendMode;let c=e.length||-1;const d=e.hierarchy||[];for(let m=0;m<d.length;m++){const g=d[m].keys;if(!(!g||g.length===0))if(g[0].morphTargets){const y={};let x;for(x=0;x<g.length;x++)if(g[x].morphTargets)for(let S=0;S<g[x].morphTargets.length;S++)y[g[x].morphTargets[S]]=-1;for(const S in y){const _=[],E=[];for(let w=0;w!==g[x].morphTargets.length;++w){const C=g[x];_.push(C.time),E.push(C.morphTarget===S?1:0)}i.push(new Hg(".morphTargetInfluence["+S+"]",_,E))}c=y.length*s}else{const y=".bones["+t[m].name+"]";n(jg,y+".position",g,"pos",i),n(by,y+".quaternion",g,"rot",i),n(jg,y+".scale",g,"scl",i)}}return i.length===0?null:new this(a,c,i,o)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const a=this.tracks[n];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function hee(r){switch(r.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Hg;case"vector":case"vector2":case"vector3":case"vector4":return jg;case"color":return Wb;case"quaternion":return by;case"bool":case"boolean":return Gd;case"string":return qd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+r)}function pee(r){if(r.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=hee(r.type);if(r.times===void 0){const t=[],n=[];jb(r.keys,t,n,"value"),r.times=t,r.values=n}return e.parse!==void 0?e.parse(r):new e(r.name,r.times,r.values,r.interpolation)}const Ll={enabled:!1,files:{},add:function(r,e){this.enabled!==!1&&(this.files[r]=e)},get:function(r){if(this.enabled!==!1)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}};class Gb{constructor(e,t,n){const i=this;let a=!1,s=0,o=0,c;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(f){o++,a===!1&&i.onStart!==void 0&&i.onStart(f,s,o),a=!0},this.itemEnd=function(f){s++,i.onProgress!==void 0&&i.onProgress(f,s,o),s===o&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return c?c(f):f},this.setURLModifier=function(f){return c=f,this},this.addHandler=function(f,m){return d.push(f,m),this},this.removeHandler=function(f){const m=d.indexOf(f);return m!==-1&&d.splice(m,2),this},this.getHandler=function(f){for(let m=0,g=d.length;m<g;m+=2){const y=d[m],x=d[m+1];if(y.global&&(y.lastIndex=0),y.test(f))return x}return null}}}const fL=new Gb;class Ha{constructor(e){this.manager=e!==void 0?e:fL,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(i,a){n.load(e,i,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ha.DEFAULT_MATERIAL_NAME="__DEFAULT";const Rl={};class mee extends Error{constructor(e,t){super(e),this.response=t}}class Xl extends Ha{constructor(e){super(e)}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Ll.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Rl[e]!==void 0){Rl[e].push({onLoad:t,onProgress:n,onError:i});return}Rl[e]=[],Rl[e].push({onLoad:t,onProgress:n,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,c=this.responseType;fetch(s).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const f=Rl[e],m=d.body.getReader(),g=d.headers.get("X-File-Size")||d.headers.get("Content-Length"),y=g?parseInt(g):0,x=y!==0;let S=0;const _=new ReadableStream({start(E){w();function w(){m.read().then(({done:C,value:T})=>{if(C)E.close();else{S+=T.byteLength;const O=new ProgressEvent("progress",{lengthComputable:x,loaded:S,total:y});for(let R=0,P=f.length;R<P;R++){const N=f[R];N.onProgress&&N.onProgress(O)}E.enqueue(T),w()}},C=>{E.error(C)})}}});return new Response(_)}else throw new mee(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(c){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(f=>new DOMParser().parseFromString(f,o));case"json":return d.json();default:if(o===void 0)return d.text();{const m=/charset="?([^;"\s]*)"?/i.exec(o),g=m&&m[1]?m[1].toLowerCase():void 0,y=new TextDecoder(g);return d.arrayBuffer().then(x=>y.decode(x))}}}).then(d=>{Ll.add(e,d);const f=Rl[e];delete Rl[e];for(let m=0,g=f.length;m<g;m++){const y=f[m];y.onLoad&&y.onLoad(d)}}).catch(d=>{const f=Rl[e];if(f===void 0)throw this.manager.itemError(e),d;delete Rl[e];for(let m=0,g=f.length;m<g;m++){const y=f[m];y.onError&&y.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class gee extends Ha{constructor(e){super(e)}load(e,t,n,i){const a=this,s=new Xl(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(c){i?i(c):console.error(c),a.manager.itemError(e)}},n,i)}parse(e){const t=[];for(let n=0;n<e.length;n++){const i=$g.parse(e[n]);t.push(i)}return t}}class yee extends Ha{constructor(e){super(e)}load(e,t,n,i){const a=this,s=[],o=new jx,c=new Xl(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(a.withCredentials);let d=0;function f(m){c.load(e[m],function(g){const y=a.parse(g,!0);s[m]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},d+=1,d===6&&(y.mipmapCount===1&&(o.minFilter=Qr),o.image=s,o.format=y.format,o.needsUpdate=!0,t&&t(o))},n,i)}if(Array.isArray(e))for(let m=0,g=e.length;m<g;++m)f(m);else c.load(e,function(m){const g=a.parse(m,!0);if(g.isCubemap){const y=g.mipmaps.length/g.mipmapCount;for(let x=0;x<y;x++){s[x]={mipmaps:[]};for(let S=0;S<g.mipmapCount;S++)s[x].mipmaps.push(g.mipmaps[x*g.mipmapCount+S]),s[x].format=g.format,s[x].width=g.width,s[x].height=g.height}o.image=s}else o.image.width=g.width,o.image.height=g.height,o.mipmaps=g.mipmaps;g.mipmapCount===1&&(o.minFilter=Qr),o.format=g.format,o.needsUpdate=!0,t&&t(o)},n,i);return o}}class Wg extends Ha{constructor(e){super(e)}load(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Ll.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s;const o=Ng("img");function c(){f(),Ll.add(e,this),t&&t(this),a.manager.itemEnd(e)}function d(m){f(),i&&i(m),a.manager.itemError(e),a.manager.itemEnd(e)}function f(){o.removeEventListener("load",c,!1),o.removeEventListener("error",d,!1)}return o.addEventListener("load",c,!1),o.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),a.manager.itemStart(e),o.src=e,o}}class vee extends Ha{constructor(e){super(e)}load(e,t,n,i){const a=new _y;a.colorSpace=Ss;const s=new Wg(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function c(d){s.load(e[d],function(f){a.images[d]=f,o++,o===6&&(a.needsUpdate=!0,t&&t(a))},void 0,i)}for(let d=0;d<e.length;++d)c(d);return a}}class _ee extends Ha{constructor(e){super(e)}load(e,t,n,i){const a=this,s=new No,o=new Xl(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(c){let d;try{d=a.parse(c)}catch(f){if(i!==void 0)i(f);else{console.error(f);return}}d.image!==void 0?s.image=d.image:d.data!==void 0&&(s.image.width=d.width,s.image.height=d.height,s.image.data=d.data),s.wrapS=d.wrapS!==void 0?d.wrapS:bs,s.wrapT=d.wrapT!==void 0?d.wrapT:bs,s.magFilter=d.magFilter!==void 0?d.magFilter:Qr,s.minFilter=d.minFilter!==void 0?d.minFilter:Qr,s.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0&&(s.colorSpace=d.colorSpace),d.flipY!==void 0&&(s.flipY=d.flipY),d.format!==void 0&&(s.format=d.format),d.type!==void 0&&(s.type=d.type),d.mipmaps!==void 0&&(s.mipmaps=d.mipmaps,s.minFilter=Oo),d.mipmapCount===1&&(s.minFilter=Qr),d.generateMipmaps!==void 0&&(s.generateMipmaps=d.generateMipmaps),s.needsUpdate=!0,t&&t(s,d)},n,i),s}}class xee extends Ha{constructor(e){super(e)}load(e,t,n,i){const a=new Ar,s=new Wg(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,t!==void 0&&t(a)},n,i),a}}class ru extends zn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new At(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class hL extends ru{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(zn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new At(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Q1=new an,pR=new ae,mR=new ae;class qb{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Qe(512,512),this.map=null,this.mapPass=null,this.matrix=new an,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new xy,this._frameExtents=new Qe(1,1),this._viewportCount=1,this._viewports=[new Kn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;pR.setFromMatrixPosition(e.matrixWorld),t.position.copy(pR),mR.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(mR),t.updateMatrixWorld(),Q1.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Q1),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Q1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class See extends qb{constructor(){super(new Dr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=rp*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(n!==t.fov||i!==t.aspect||a!==t.far)&&(t.fov=n,t.aspect=i,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class pL extends ru{constructor(e,t,n=0,i=Math.PI/3,a=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(zn.DEFAULT_UP),this.updateMatrix(),this.target=new zn,this.distance=n,this.angle=i,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new See}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const gR=new an,Dm=new ae,K1=new ae;class Eee extends qb{constructor(){super(new Dr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Qe(4,2),this._viewportCount=6,this._viewports=[new Kn(2,1,1,1),new Kn(0,1,1,1),new Kn(3,1,1,1),new Kn(1,1,1,1),new Kn(3,0,1,1),new Kn(1,0,1,1)],this._cubeDirections=[new ae(1,0,0),new ae(-1,0,0),new ae(0,0,1),new ae(0,0,-1),new ae(0,1,0),new ae(0,-1,0)],this._cubeUps=[new ae(0,1,0),new ae(0,1,0),new ae(0,1,0),new ae(0,1,0),new ae(0,0,1),new ae(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,i=this.matrix,a=e.distance||n.far;a!==n.far&&(n.far=a,n.updateProjectionMatrix()),Dm.setFromMatrixPosition(e.matrixWorld),n.position.copy(Dm),K1.copy(n.position),K1.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(K1),n.updateMatrixWorld(),i.makeTranslation(-Dm.x,-Dm.y,-Dm.z),gR.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(gR)}}class mL extends ru{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new Eee}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class wee extends qb{constructor(){super(new Dl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Xb extends ru{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(zn.DEFAULT_UP),this.updateMatrix(),this.target=new zn,this.shadow=new wee}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class gL extends ru{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class yL extends ru{constructor(e,t,n=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class vL{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ae)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,i=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*n),t.addScaledVector(s[4],1.092548*(n*i)),t.addScaledVector(s[5],1.092548*(i*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(n*a)),t.addScaledVector(s[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){const n=e.x,i=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*i),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*n),t.addScaledVector(s[4],2*.429043*n*i),t.addScaledVector(s[5],2*.429043*i*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*n*a),t.addScaledVector(s[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const n=e.x,i=e.y,a=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*a,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*n*a,t[8]=.546274*(n*n-i*i)}}class _L extends ru{constructor(e=new vL,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class aS extends Ha{constructor(e){super(e),this.textures={}}load(e,t,n,i){const a=this,s=new Xl(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(c){i?i(c):console.error(c),a.manager.itemError(e)}},n,i)}parse(e){const t=this.textures;function n(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const i=aS.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new At().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(i.uniforms[a]={},s.type){case"t":i.uniforms[a].value=n(s.value);break;case"c":i.uniforms[a].value=new At().setHex(s.value);break;case"v2":i.uniforms[a].value=new Qe().fromArray(s.value);break;case"v3":i.uniforms[a].value=new ae().fromArray(s.value);break;case"v4":i.uniforms[a].value=new Kn().fromArray(s.value);break;case"m3":i.uniforms[a].value=new vn().fromArray(s.value);break;case"m4":i.uniforms[a].value=new an().fromArray(s.value);break;default:i.uniforms[a].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new Qe().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Qe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=n(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:ZD,SpriteMaterial:kb,RawShaderMaterial:eL,ShaderMaterial:so,PointsMaterial:Hx,MeshPhysicalMaterial:tL,MeshStandardMaterial:Hb,MeshPhongMaterial:iS,MeshToonMaterial:nL,MeshNormalMaterial:rL,MeshLambertMaterial:iL,MeshDepthMaterial:Ib,MeshDistanceMaterial:Ob,MeshBasicMaterial:Wo,MeshMatcapMaterial:aL,LineDashedMaterial:sL,LineBasicMaterial:Ea,Material:Fi};return new t[e]}}class dw{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class xL extends xn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class SL extends Ha{constructor(e){super(e)}load(e,t,n,i){const a=this,s=new Xl(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(c){i?i(c):console.error(c),a.manager.itemError(e)}},n,i)}parse(e){const t={},n={};function i(y,x){if(t[x]!==void 0)return t[x];const _=y.interleavedBuffers[x],E=a(y,_.buffer),w=Dh(_.type,E),C=new zx(w,_.stride);return C.uuid=_.uuid,t[x]=C,C}function a(y,x){if(n[x]!==void 0)return n[x];const _=y.arrayBuffers[x],E=new Uint32Array(_).buffer;return n[x]=E,E}const s=e.isInstancedBufferGeometry?new xL:new xn,o=e.data.index;if(o!==void 0){const y=Dh(o.type,o.array);s.setIndex(new Jn(y,1))}const c=e.data.attributes;for(const y in c){const x=c[y];let S;if(x.isInterleavedBufferAttribute){const _=i(e.data,x.data);S=new Dd(_,x.itemSize,x.offset,x.normalized)}else{const _=Dh(x.type,x.array),E=x.isInstancedBufferAttribute?ap:Jn;S=new E(_,x.itemSize,x.normalized)}x.name!==void 0&&(S.name=x.name),x.usage!==void 0&&S.setUsage(x.usage),s.setAttribute(y,S)}const d=e.data.morphAttributes;if(d)for(const y in d){const x=d[y],S=[];for(let _=0,E=x.length;_<E;_++){const w=x[_];let C;if(w.isInterleavedBufferAttribute){const T=i(e.data,w.data);C=new Dd(T,w.itemSize,w.offset,w.normalized)}else{const T=Dh(w.type,w.array);C=new Jn(T,w.itemSize,w.normalized)}w.name!==void 0&&(C.name=w.name),S.push(C)}s.morphAttributes[y]=S}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const m=e.data.groups||e.data.drawcalls||e.data.offsets;if(m!==void 0)for(let y=0,x=m.length;y!==x;++y){const S=m[y];s.addGroup(S.start,S.count,S.materialIndex)}const g=e.data.boundingSphere;if(g!==void 0){const y=new ae;g.center!==void 0&&y.fromArray(g.center),s.boundingSphere=new Ji(y,g.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class Cee extends Ha{constructor(e){super(e)}load(e,t,n,i){const a=this,s=this.path===""?dw.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new Xl(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){let d=null;try{d=JSON.parse(c)}catch(m){i!==void 0&&i(m),console.error("THREE:ObjectLoader: Can't parse "+e+".",m.message);return}const f=d.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(d,t)},n,i)}async loadAsync(e,t){const n=this,i=this.path===""?dw.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new Xl(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,t),o=JSON.parse(s),c=o.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(o)}parse(e,t){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){t!==void 0&&t(d)}),o=this.parseTextures(e.textures,s),c=this.parseMaterials(e.materials,o),d=this.parseObject(e.object,a,c,o,n),f=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,f),this.bindLightTargets(d),t!==void 0){let m=!1;for(const g in s)if(s[g].data instanceof HTMLImageElement){m=!0;break}m===!1&&t(d)}return d}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,i,o,s,t),d=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,d),this.bindLightTargets(c),c}parseShapes(e){const t={};if(e!==void 0)for(let n=0,i=e.length;n<i;n++){const a=new Ad().fromJSON(e[n]);t[a.uuid]=a}return t}parseSkeletons(e,t){const n={},i={};if(t.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=new Vx().fromJSON(e[a],i);n[o.uuid]=o}return n}parseGeometries(e,t){const n={};if(e!==void 0){const i=new SL;for(let a=0,s=e.length;a<s;a++){let o;const c=e[a];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(c);break;default:c.type in hR?o=hR[c.type].fromJSON(c,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}o.uuid=c.uuid,c.name!==void 0&&(o.name=c.name),c.userData!==void 0&&(o.userData=c.userData),n[c.uuid]=o}}return n}parseMaterials(e,t){const n={},i={};if(e!==void 0){const a=new aS;a.setTextures(t);for(let s=0,o=e.length;s<o;s++){const c=e[s];n[c.uuid]===void 0&&(n[c.uuid]=a.parse(c)),i[c.uuid]=n[c.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const i=e[n],a=$g.parse(i);t[a.uuid]=a}return t}parseImages(e,t){const n=this,i={};let a;function s(c){return n.manager.itemStart(c),a.load(c,function(){n.manager.itemEnd(c)},void 0,function(){n.manager.itemError(c),n.manager.itemEnd(c)})}function o(c){if(typeof c=="string"){const d=c,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;return s(f)}else return c.data?{data:Dh(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new Gb(t);a=new Wg(c),a.setCrossOrigin(this.crossOrigin);for(let d=0,f=e.length;d<f;d++){const m=e[d],g=m.url;if(Array.isArray(g)){const y=[];for(let x=0,S=g.length;x<S;x++){const _=g[x],E=o(_);E!==null&&(E instanceof HTMLImageElement?y.push(E):y.push(new No(E.data,E.width,E.height)))}i[m.uuid]=new yd(y)}else{const y=o(m.url);i[m.uuid]=new yd(y)}}}return i}async parseImagesAsync(e){const t=this,n={};let i;async function a(s){if(typeof s=="string"){const o=s,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await i.loadAsync(c)}else return s.data?{data:Dh(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new Wg(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){const c=e[s],d=c.url;if(Array.isArray(d)){const f=[];for(let m=0,g=d.length;m<g;m++){const y=d[m],x=await a(y);x!==null&&(x instanceof HTMLImageElement?f.push(x):f.push(new No(x.data,x.width,x.height)))}n[c.uuid]=new yd(f)}else{const f=await a(c.url);n[c.uuid]=new yd(f)}}}return n}parseTextures(e,t){function n(a,s){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const i={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=e[a];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const c=t[o.image],d=c.data;let f;Array.isArray(d)?(f=new _y,d.length===6&&(f.needsUpdate=!0)):(d&&d.data?f=new No:f=new Ar,d&&(f.needsUpdate=!0)),f.source=c,f.uuid=o.uuid,o.name!==void 0&&(f.name=o.name),o.mapping!==void 0&&(f.mapping=n(o.mapping,bee)),o.channel!==void 0&&(f.channel=o.channel),o.offset!==void 0&&f.offset.fromArray(o.offset),o.repeat!==void 0&&f.repeat.fromArray(o.repeat),o.center!==void 0&&f.center.fromArray(o.center),o.rotation!==void 0&&(f.rotation=o.rotation),o.wrap!==void 0&&(f.wrapS=n(o.wrap[0],yR),f.wrapT=n(o.wrap[1],yR)),o.format!==void 0&&(f.format=o.format),o.internalFormat!==void 0&&(f.internalFormat=o.internalFormat),o.type!==void 0&&(f.type=o.type),o.colorSpace!==void 0&&(f.colorSpace=o.colorSpace),o.minFilter!==void 0&&(f.minFilter=n(o.minFilter,vR)),o.magFilter!==void 0&&(f.magFilter=n(o.magFilter,vR)),o.anisotropy!==void 0&&(f.anisotropy=o.anisotropy),o.flipY!==void 0&&(f.flipY=o.flipY),o.generateMipmaps!==void 0&&(f.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(f.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(f.compareFunction=o.compareFunction),o.userData!==void 0&&(f.userData=o.userData),i[o.uuid]=f}return i}parseObject(e,t,n,i,a){let s;function o(g){return t[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",g),t[g]}function c(g){if(g!==void 0){if(Array.isArray(g)){const y=[];for(let x=0,S=g.length;x<S;x++){const _=g[x];n[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),y.push(n[_])}return y}return n[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",g),n[g]}}function d(g){return i[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",g),i[g]}let f,m;switch(e.type){case"Scene":s=new q_,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new At(e.background):s.background=d(e.background)),e.environment!==void 0&&(s.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new Bx(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new Sy(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new Dr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Dl(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new gL(e.color,e.intensity);break;case"DirectionalLight":s=new Xb(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new mL(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new yL(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new pL(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new hL(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new _L().fromJSON(e);break;case"SkinnedMesh":f=o(e.geometry),m=c(e.material),s=new BD(f,m),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":f=o(e.geometry),m=c(e.material),s=new Tr(f,m);break;case"InstancedMesh":f=o(e.geometry),m=c(e.material);const g=e.count,y=e.instanceMatrix,x=e.instanceColor;s=new zD(f,m,g),s.instanceMatrix=new ap(new Float32Array(y.array),16),x!==void 0&&(s.instanceColor=new ap(new Float32Array(x.array),x.itemSize));break;case"BatchedMesh":f=o(e.geometry),m=c(e.material),s=new VD(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,m),s.geometry=f,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._visibility=e.visibility,s._active=e.active,s._bounds=e.bounds.map(S=>{const _=new va;_.min.fromArray(S.boxMin),_.max.fromArray(S.boxMax);const E=new Ji;return E.radius=S.sphereRadius,E.center.fromArray(S.sphereCenter),{boxInitialized:S.boxInitialized,box:_,sphereInitialized:S.sphereInitialized,sphere:E}}),s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._geometryCount=e.geometryCount,s._matricesTexture=d(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=d(e.colorsTexture.uuid));break;case"LOD":s=new UD;break;case"Line":s=new Kc(o(e.geometry),c(e.material));break;case"LineLoop":s=new HD(o(e.geometry),c(e.material));break;case"LineSegments":s=new Go(o(e.geometry),c(e.material));break;case"PointCloud":case"Points":s=new Db(o(e.geometry),c(e.material));break;case"Sprite":s=new ND(c(e.material));break;case"Group":s=new Nh;break;case"Bone":s=new Fb;break;default:s=new zn}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const g=e.children;for(let y=0;y<g.length;y++)s.add(this.parseObject(g[y],t,n,i,a))}if(e.animations!==void 0){const g=e.animations;for(let y=0;y<g.length;y++){const x=g[y];s.animations.push(a[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const g=e.levels;for(let y=0;y<g.length;y++){const x=g[y],S=s.getObjectByProperty("uuid",x.object);S!==void 0&&s.addLevel(S,x.distance,x.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const i=t[n.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(i,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,i=e.getObjectByProperty("uuid",n);i!==void 0?t.target=i:t.target=new zn}})}}const bee={UVMapping:Ax,CubeReflectionMapping:Wl,CubeRefractionMapping:Qc,EquirectangularReflectionMapping:Mg,EquirectangularRefractionMapping:Tg,CubeUVReflectionMapping:mp},yR={RepeatWrapping:Ag,ClampToEdgeWrapping:bs,MirroredRepeatWrapping:Pg},vR={NearestFilter:xi,NearestMipmapNearestFilter:db,NearestMipmapLinearFilter:Fh,LinearFilter:Qr,LinearMipmapNearestFilter:Qm,LinearMipmapLinearFilter:Oo};class Mee extends Ha{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Ll.get(e);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(d=>{t&&t(d),a.manager.itemEnd(e)}).catch(d=>{i&&i(d)});return}return setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const c=fetch(e,o).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(d){return Ll.add(e,d),t&&t(d),a.manager.itemEnd(e),d}).catch(function(d){i&&i(d),Ll.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});Ll.add(e,c),a.manager.itemStart(e)}}let v0;class Yb{static getContext(){return v0===void 0&&(v0=new(window.AudioContext||window.webkitAudioContext)),v0}static setContext(e){v0=e}}class Tee extends Ha{constructor(e){super(e)}load(e,t,n,i){const a=this,s=new Xl(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(c){try{const d=c.slice(0);Yb.getContext().decodeAudioData(d,function(m){t(m)}).catch(o)}catch(d){o(d)}},n,i);function o(c){i?i(c):console.error(c),a.manager.itemError(e)}}}const _R=new an,xR=new an,Ju=new an;class Aee{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Dr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Dr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Ju.copy(e.projectionMatrix);const i=t.eyeSep/2,a=i*t.near/t.focus,s=t.near*Math.tan(Md*t.fov*.5)/t.zoom;let o,c;xR.elements[12]=-i,_R.elements[12]=i,o=-s*t.aspect+a,c=s*t.aspect+a,Ju.elements[0]=2*t.near/(c-o),Ju.elements[8]=(c+o)/(c-o),this.cameraL.projectionMatrix.copy(Ju),o=-s*t.aspect-a,c=s*t.aspect-a,Ju.elements[0]=2*t.near/(c-o),Ju.elements[8]=(c+o)/(c-o),this.cameraR.projectionMatrix.copy(Ju)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(xR),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(_R)}}class My{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=SR(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=SR();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function SR(){return(typeof performance>"u"?Date:performance).now()}const Zu=new ae,ER=new Ki,Pee=new ae,ed=new ae;class Qb extends zn{constructor(){super(),this.type="AudioListener",this.context=Yb.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new My}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Zu,ER,Pee),ed.set(0,0,-1).applyQuaternion(ER),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Zu.x,i),t.positionY.linearRampToValueAtTime(Zu.y,i),t.positionZ.linearRampToValueAtTime(Zu.z,i),t.forwardX.linearRampToValueAtTime(ed.x,i),t.forwardY.linearRampToValueAtTime(ed.y,i),t.forwardZ.linearRampToValueAtTime(ed.z,i),t.upX.linearRampToValueAtTime(n.x,i),t.upY.linearRampToValueAtTime(n.y,i),t.upZ.linearRampToValueAtTime(n.z,i)}else t.setPosition(Zu.x,Zu.y,Zu.z),t.setOrientation(ed.x,ed.y,ed.z,n.x,n.y,n.z)}}let EL=class extends zn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const td=new ae,wR=new Ki,Ree=new ae,nd=new ae;class sS extends EL{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(td,wR,Ree),nd.set(0,0,1).applyQuaternion(wR);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(td.x,n),t.positionY.linearRampToValueAtTime(td.y,n),t.positionZ.linearRampToValueAtTime(td.z,n),t.orientationX.linearRampToValueAtTime(nd.x,n),t.orientationY.linearRampToValueAtTime(nd.y,n),t.orientationZ.linearRampToValueAtTime(nd.z,n)}else t.setPosition(td.x,td.y,td.z),t.setOrientation(nd.x,nd.y,nd.z)}}class Kb{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class wL{constructor(e,t,n){this.binding=e,this.valueSize=n;let i,a,s;switch(t){case"quaternion":i=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,i=this.valueSize,a=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==i;++o)n[a+o]=n[o];s=t}else{s+=t;const o=t/s;this._mixBufferRegion(n,a,0,o,i)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,i=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const c=t*this._origIndex;this._mixBufferRegion(n,i,c,1-a,t)}s>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let c=t,d=t+t;c!==d;++c)if(n[c]!==n[c+t]){o.setValue(n,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let a=n,s=i;a!==s;++a)t[a]=t[i+a%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,a){if(i>=.5)for(let s=0;s!==a;++s)e[t+s]=e[n+s]}_slerp(e,t,n,i){Ki.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,a){const s=this._workIndex*a;Ki.multiplyQuaternionsFlat(e,s,e,t,e,n),Ki.slerpFlat(e,t,e,t,e,s,i)}_lerp(e,t,n,i,a){const s=1-i;for(let o=0;o!==a;++o){const c=t+o;e[c]=e[c]*s+e[n+o]*i}}_lerpAdditive(e,t,n,i,a){for(let s=0;s!==a;++s){const o=t+s;e[o]=e[o]+e[n+s]*i}}}const Jb="\\[\\]\\.:\\/",Iee=new RegExp("["+Jb+"]","g"),Zb="[^"+Jb+"]",Oee="[^"+Jb.replace("\\.","")+"]",kee=/((?:WC+[\/:])*)/.source.replace("WC",Zb),Fee=/(WCOD+)?/.source.replace("WCOD",Oee),Dee=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Zb),Lee=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Zb),Nee=new RegExp("^"+kee+Fee+Dee+Lee+"$"),Uee=["material","materials","bones","map"];class Bee{constructor(e,t,n){const i=n||Bn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=n.length;i!==a;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Bn{constructor(e,t,n){this.path=t,this.parsedPath=n||Bn.parseTrackName(t),this.node=Bn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Bn.Composite(e,t,n):new Bn(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Iee,"")}static parseTrackName(e){const t=Nee.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=n.nodeName.substring(i+1);Uee.indexOf(a)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=a)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(a){for(let s=0;s<a.length;s++){const o=a[s];if(o.name===t||o.uuid===t)return o;const c=n(o.children);if(c)return c}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let a=t.propertyIndex;if(e||(e=Bn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let d=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===d){d=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const s=e[i];if(s===void 0){const d=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Bn.Composite=Bee;Bn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Bn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Bn.prototype.GetterByBindingType=[Bn.prototype._getValue_direct,Bn.prototype._getValue_array,Bn.prototype._getValue_arrayElement,Bn.prototype._getValue_toArray];Bn.prototype.SetterByBindingTypeAndVersioning=[[Bn.prototype._setValue_direct,Bn.prototype._setValue_direct_setNeedsUpdate,Bn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Bn.prototype._setValue_array,Bn.prototype._setValue_array_setNeedsUpdate,Bn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Bn.prototype._setValue_arrayElement,Bn.prototype._setValue_arrayElement_setNeedsUpdate,Bn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Bn.prototype._setValue_fromArray,Bn.prototype._setValue_fromArray_setNeedsUpdate,Bn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class zee{constructor(){this.isAnimationObjectGroup=!0,this.uuid=is(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,a=this._bindings,s=a.length;let o,c=e.length,d=this.nCachedObjects_;for(let f=0,m=arguments.length;f!==m;++f){const g=arguments[f],y=g.uuid;let x=t[y];if(x===void 0){x=c++,t[y]=x,e.push(g);for(let S=0,_=s;S!==_;++S)a[S].push(new Bn(g,n[S],i[S]))}else if(x<d){o=e[x];const S=--d,_=e[S];t[_.uuid]=x,e[x]=_,t[y]=S,e[S]=g;for(let E=0,w=s;E!==w;++E){const C=a[E],T=C[S];let O=C[x];C[x]=T,O===void 0&&(O=new Bn(g,n[E],i[E])),C[S]=O}}else e[x]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let a=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const c=arguments[s],d=c.uuid,f=t[d];if(f!==void 0&&f>=a){const m=a++,g=e[m];t[g.uuid]=f,e[f]=g,t[d]=m,e[m]=c;for(let y=0,x=i;y!==x;++y){const S=n[y],_=S[m],E=S[f];S[f]=_,S[m]=E}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let a=this.nCachedObjects_,s=e.length;for(let o=0,c=arguments.length;o!==c;++o){const d=arguments[o],f=d.uuid,m=t[f];if(m!==void 0)if(delete t[f],m<a){const g=--a,y=e[g],x=--s,S=e[x];t[y.uuid]=m,e[m]=y,t[S.uuid]=g,e[g]=S,e.pop();for(let _=0,E=i;_!==E;++_){const w=n[_],C=w[g],T=w[x];w[m]=C,w[g]=T,w.pop()}}else{const g=--s,y=e[g];g>0&&(t[y.uuid]=m),e[m]=y,e.pop();for(let x=0,S=i;x!==S;++x){const _=n[x];_[m]=_[g],_.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const a=this._bindings;if(i!==void 0)return a[i];const s=this._paths,o=this._parsedPaths,c=this._objects,d=c.length,f=this.nCachedObjects_,m=new Array(d);i=a.length,n[e]=i,s.push(e),o.push(t),a.push(m);for(let g=f,y=c.length;g!==y;++g){const x=c[g];m[g]=new Bn(x,e,t)}return m}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const i=this._paths,a=this._parsedPaths,s=this._bindings,o=s.length-1,c=s[o],d=e[o];t[d]=n,s[n]=c,s.pop(),a[n]=a[o],a.pop(),i[n]=i[o],i.pop()}}}class CL{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const a=t.tracks,s=a.length,o=new Array(s),c={endingStart:md,endingEnd:md};for(let d=0;d!==s;++d){const f=a[d].createInterpolant(null);o[d]=f,f.settings=c}this._interpolantSettings=c,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=cD,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const i=this._clip.duration,a=e._clip.duration,s=a/i,o=i/a;e.warp(1,s,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const i=this._mixer,a=i.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const c=o.parameterPositions,d=o.sampleValues;return c[0]=a,c[1]=a+n,d[0]=e/s,d[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const c=(e-a)*n;c<0||n===0?t=0:(this._startTime=null,t=n*c)}t*=this._updateTimeScale(e);const s=this._updateTime(t),o=this._updateWeight(e);if(o>0){const c=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case Sb:for(let f=0,m=c.length;f!==m;++f)c[f].evaluate(s),d[f].accumulateAdditive(o);break;case Dx:default:for(let f=0,m=c.length;f!==m;++f)c[f].evaluate(s),d[f].accumulate(i,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,a=this._loopCount;const s=n===uD;if(e===0)return a===-1?i:s&&(a&1)===1?t-i:i;if(n===lD){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=t||i<0){const o=Math.floor(i/t);i-=t*o,a+=Math.abs(o);const c=this.repetitions-a;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const d=e<0;this._setEndings(d,!d,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(s&&(a&1)===1)return t-i}return i}_setEndings(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=gd,i.endingEnd=gd):(e?i.endingStart=this.zeroSlopeAtStart?gd:md:i.endingStart=Ig,t?i.endingEnd=this.zeroSlopeAtEnd?gd:md:i.endingEnd=Ig)}_scheduleFading(e,t,n){const i=this._mixer,a=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,c=s.sampleValues;return o[0]=a,c[0]=t,o[1]=a+e,c[1]=n,this}}const Vee=new Float32Array(1);class Hee extends $o{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,a=i.length,s=e._propertyBindings,o=e._interpolants,c=n.uuid,d=this._bindingsByRootAndName;let f=d[c];f===void 0&&(f={},d[c]=f);for(let m=0;m!==a;++m){const g=i[m],y=g.name;let x=f[y];if(x!==void 0)++x.referenceCount,s[m]=x;else{if(x=s[m],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,c,y));continue}const S=t&&t._propertyBindings[m].binding.parsedPath;x=new wL(Bn.create(n,y,S),g.ValueTypeName,g.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,c,y),s[m]=x}o[m].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const a=t[n];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const a=t[n];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const i=this._actions,a=this._actionsByClip;let s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,o=s[a],c=o.knownActions,d=c[c.length-1],f=e._byClipCacheIndex;d._byClipCacheIndex=f,c[f]=d,c.pop(),e._byClipCacheIndex=null;const m=o.actionByRoot,g=(e._localRoot||this._root).uuid;delete m[g],c.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const a=t[n];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_addInactiveBinding(e,t,n){const i=this._bindingsByRootAndName,a=this._bindings;let s=i[t];s===void 0&&(s={},i[t]=s),s[n]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,a=n.path,s=this._bindingsByRootAndName,o=s[i],c=t[t.length-1],d=e._cacheIndex;c._cacheIndex=d,t[d]=c,t.pop(),delete o[a],Object.keys(o).length===0&&delete s[i]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new $b(new Float32Array(2),new Float32Array(2),1,Vee),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=t[i];e.__cacheIndex=i,t[i]=e,a.__cacheIndex=n,t[n]=a}clipAction(e,t,n){const i=t||this._root,a=i.uuid;let s=typeof e=="string"?$g.findByName(i,e):e;const o=s!==null?s.uuid:e,c=this._actionsByClip[o];let d=null;if(n===void 0&&(s!==null?n=s.blendMode:n=Dx),c!==void 0){const m=c.actionByRoot[a];if(m!==void 0&&m.blendMode===n)return m;d=c.knownActions[0],s===null&&(s=d._clip)}if(s===null)return null;const f=new CL(this,s,t,n);return this._bindAction(f,d),this._addInactiveAction(f,o,a),f}existingAction(e,t){const n=t||this._root,i=n.uuid,a=typeof e=="string"?$g.findByName(n,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let d=0;d!==n;++d)t[d]._update(i,e,a,s);const o=this._bindings,c=this._nActiveBindings;for(let d=0;d!==c;++d)o[d].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,a=i[n];if(a!==void 0){const s=a.knownActions;for(let o=0,c=s.length;o!==c;++o){const d=s[o];this._deactivateAction(d);const f=d._cacheIndex,m=t[t.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,m._cacheIndex=f,t[f]=m,t.pop(),this._removeInactiveBindingsForAction(d)}delete i[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const s in n){const o=n[s].actionByRoot,c=o[t];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const i=this._bindingsByRootAndName,a=i[t];if(a!==void 0)for(const s in a){const o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class eM{constructor(e){this.value=e}clone(){return new eM(this.value.clone===void 0?this.value:this.value.clone())}}let jee=0;class $ee extends $o{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:jee++}),this.name="",this.usage=Dg,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,i=t.length;n<i;n++){const a=Array.isArray(t[n])?t[n]:[t[n]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class Wee extends zx{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Gee{constructor(e,t,n,i,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const CR=new an;class tM{constructor(e,t,n=0,i=1/0){this.ray=new $d(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new Td,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return CR.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(CR),this}intersectObject(e,t=!0,n=[]){return fw(e,this,n,t),n.sort(bR),n}intersectObjects(e,t=!0,n=[]){for(let i=0,a=e.length;i<a;i++)fw(e[i],this,n,t);return n.sort(bR),n}}function bR(r,e){return r.distance-e.distance}function fw(r,e,t,n){let i=!0;if(r.layers.test(e.layers)&&r.raycast(e,t)===!1&&(i=!1),i===!0&&n===!0){const a=r.children;for(let s=0,o=a.length;s<o;s++)fw(a[s],e,t,!0)}}class hw{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Fr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class qee{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class nM{constructor(e,t,n,i){nM.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,i){const a=this.elements;return a[0]=e,a[2]=t,a[1]=n,a[3]=i,this}}const MR=new Qe;class Xee{constructor(e=new Qe(1/0,1/0),t=new Qe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=MR.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,MR).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const TR=new ae,_0=new ae;class Yee{constructor(e=new ae,t=new ae){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){TR.subVectors(e,this.start),_0.subVectors(this.end,this.start);const n=_0.dot(_0);let a=_0.dot(TR)/n;return t&&(a=Fr(a,0,1)),a}closestPointToPoint(e,t,n){const i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const AR=new ae;class Qee extends zn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new xn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,c=32;s<c;s++,o++){const d=s/c*Math.PI*2,f=o/c*Math.PI*2;i.push(Math.cos(d),Math.sin(d),1,Math.cos(f),Math.sin(f),1)}n.setAttribute("position",new qt(i,3));const a=new Ea({fog:!1,toneMapped:!1});this.cone=new Go(n,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),AR.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(AR),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Hc=new ae,x0=new an,J1=new an;class Kee extends Go{constructor(e){const t=bL(e),n=new xn,i=[],a=[],s=new At(0,0,1),o=new At(0,1,0);for(let d=0;d<t.length;d++){const f=t[d];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(s.r,s.g,s.b),a.push(o.r,o.g,o.b))}n.setAttribute("position",new qt(i,3)),n.setAttribute("color",new qt(a,3));const c=new Ea({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,c),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");J1.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<t.length;a++){const o=t[a];o.parent&&o.parent.isBone&&(x0.multiplyMatrices(J1,o.matrixWorld),Hc.setFromMatrixPosition(x0),i.setXYZ(s,Hc.x,Hc.y,Hc.z),x0.multiplyMatrices(J1,o.parent.matrixWorld),Hc.setFromMatrixPosition(x0),i.setXYZ(s+1,Hc.x,Hc.y,Hc.z),s+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function bL(r){const e=[];r.isBone===!0&&e.push(r);for(let t=0;t<r.children.length;t++)e.push.apply(e,bL(r.children[t]));return e}class Jee extends Tr{constructor(e,t,n){const i=new ql(t,4,2),a=new Wo({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Zee=new ae,PR=new At,RR=new At;class ete extends zn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const i=new wy(t);i.rotateY(Math.PI*.5),this.material=new Wo({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),s=new Float32Array(a.count*3);i.setAttribute("color",new Jn(s,3)),this.add(new Tr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");PR.copy(this.light.color),RR.copy(this.light.groundColor);for(let n=0,i=t.count;n<i;n++){const a=n<i/2?PR:RR;t.setXYZ(n,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Zee.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ML extends Go{constructor(e=10,t=10,n=4473924,i=8947848){n=new At(n),i=new At(i);const a=t/2,s=e/t,o=e/2,c=[],d=[];for(let g=0,y=0,x=-o;g<=t;g++,x+=s){c.push(-o,0,x,o,0,x),c.push(x,0,-o,x,0,o);const S=g===a?n:i;S.toArray(d,y),y+=3,S.toArray(d,y),y+=3,S.toArray(d,y),y+=3,S.toArray(d,y),y+=3}const f=new xn;f.setAttribute("position",new qt(c,3)),f.setAttribute("color",new qt(d,3));const m=new Ea({vertexColors:!0,toneMapped:!1});super(f,m),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class tte extends Go{constructor(e=10,t=16,n=8,i=64,a=4473924,s=8947848){a=new At(a),s=new At(s);const o=[],c=[];if(t>1)for(let m=0;m<t;m++){const g=m/t*(Math.PI*2),y=Math.sin(g)*e,x=Math.cos(g)*e;o.push(0,0,0),o.push(y,0,x);const S=m&1?a:s;c.push(S.r,S.g,S.b),c.push(S.r,S.g,S.b)}for(let m=0;m<n;m++){const g=m&1?a:s,y=e-e/n*m;for(let x=0;x<i;x++){let S=x/i*(Math.PI*2),_=Math.sin(S)*y,E=Math.cos(S)*y;o.push(_,0,E),c.push(g.r,g.g,g.b),S=(x+1)/i*(Math.PI*2),_=Math.sin(S)*y,E=Math.cos(S)*y,o.push(_,0,E),c.push(g.r,g.g,g.b)}}const d=new xn;d.setAttribute("position",new qt(o,3)),d.setAttribute("color",new qt(c,3));const f=new Ea({vertexColors:!0,toneMapped:!1});super(d,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const IR=new ae,S0=new ae,OR=new ae;class nte extends zn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new xn;i.setAttribute("position",new qt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new Ea({fog:!1,toneMapped:!1});this.lightPlane=new Kc(i,a),this.add(this.lightPlane),i=new xn,i.setAttribute("position",new qt([0,0,0,0,0,1],3)),this.targetLine=new Kc(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),IR.setFromMatrixPosition(this.light.matrixWorld),S0.setFromMatrixPosition(this.light.target.matrixWorld),OR.subVectors(S0,IR),this.lightPlane.lookAt(S0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(S0),this.targetLine.scale.z=OR.length()}}const E0=new ae,Or=new vy;class rte extends Go{constructor(e){const t=new xn,n=new Ea({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],s={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(x,S){c(x),c(S)}function c(x){i.push(0,0,0),a.push(0,0,0),s[x]===void 0&&(s[x]=[]),s[x].push(i.length/3-1)}t.setAttribute("position",new qt(i,3)),t.setAttribute("color",new qt(a,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const d=new At(16755200),f=new At(16711680),m=new At(43775),g=new At(16777215),y=new At(3355443);this.setColors(d,f,m,g,y)}setColors(e,t,n,i,a){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,n.r,n.g,n.b),o.setXYZ(33,n.r,n.g,n.b),o.setXYZ(34,n.r,n.g,n.b),o.setXYZ(35,n.r,n.g,n.b),o.setXYZ(36,n.r,n.g,n.b),o.setXYZ(37,n.r,n.g,n.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,a.r,a.g,a.b),o.setXYZ(41,a.r,a.g,a.b),o.setXYZ(42,a.r,a.g,a.b),o.setXYZ(43,a.r,a.g,a.b),o.setXYZ(44,a.r,a.g,a.b),o.setXYZ(45,a.r,a.g,a.b),o.setXYZ(46,a.r,a.g,a.b),o.setXYZ(47,a.r,a.g,a.b),o.setXYZ(48,a.r,a.g,a.b),o.setXYZ(49,a.r,a.g,a.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,i=1;Or.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Br("c",t,e,Or,0,0,-1),Br("t",t,e,Or,0,0,1),Br("n1",t,e,Or,-n,-i,-1),Br("n2",t,e,Or,n,-i,-1),Br("n3",t,e,Or,-n,i,-1),Br("n4",t,e,Or,n,i,-1),Br("f1",t,e,Or,-n,-i,1),Br("f2",t,e,Or,n,-i,1),Br("f3",t,e,Or,-n,i,1),Br("f4",t,e,Or,n,i,1),Br("u1",t,e,Or,n*.7,i*1.1,-1),Br("u2",t,e,Or,-n*.7,i*1.1,-1),Br("u3",t,e,Or,0,i*2,-1),Br("cf1",t,e,Or,-n,0,1),Br("cf2",t,e,Or,n,0,1),Br("cf3",t,e,Or,0,-i,1),Br("cf4",t,e,Or,0,i,1),Br("cn1",t,e,Or,-n,0,-1),Br("cn2",t,e,Or,n,0,-1),Br("cn3",t,e,Or,0,-i,-1),Br("cn4",t,e,Or,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Br(r,e,t,n,i,a,s){E0.set(i,a,s).unproject(n);const o=e[r];if(o!==void 0){const c=t.getAttribute("position");for(let d=0,f=o.length;d<f;d++)c.setXYZ(o[d],E0.x,E0.y,E0.z)}}const w0=new va;class ite extends Go{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),a=new xn;a.setIndex(new Jn(n,1)),a.setAttribute("position",new Jn(i,3)),super(a,new Ea({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&w0.setFromObject(this.object),w0.isEmpty())return;const t=w0.min,n=w0.max,i=this.geometry.attributes.position,a=i.array;a[0]=n.x,a[1]=n.y,a[2]=n.z,a[3]=t.x,a[4]=n.y,a[5]=n.z,a[6]=t.x,a[7]=t.y,a[8]=n.z,a[9]=n.x,a[10]=t.y,a[11]=n.z,a[12]=n.x,a[13]=n.y,a[14]=t.z,a[15]=t.x,a[16]=n.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=n.x,a[22]=t.y,a[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ate extends Go{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new xn;a.setIndex(new Jn(n,1)),a.setAttribute("position",new qt(i,3)),super(a,new Ea({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class ste extends Kc{constructor(e,t=1,n=16776960){const i=n,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new xn;s.setAttribute("position",new qt(a,3)),s.computeBoundingSphere(),super(s,new Ea({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new xn;c.setAttribute("position",new qt(o,3)),c.computeBoundingSphere(),this.add(new Tr(c,new Wo({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const kR=new ae;let C0,Z1;class ote extends zn{constructor(e=new ae(0,0,1),t=new ae(0,0,0),n=1,i=16776960,a=n*.2,s=a*.2){super(),this.type="ArrowHelper",C0===void 0&&(C0=new xn,C0.setAttribute("position",new qt([0,0,0,0,1,0],3)),Z1=new _p(0,.5,1,5,1),Z1.translate(0,-.5,0)),this.position.copy(t),this.line=new Kc(C0,new Ea({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Tr(Z1,new Wo({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{kR.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(kR,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class lte extends Go{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new xn;i.setAttribute("position",new qt(t,3)),i.setAttribute("color",new qt(n,3));const a=new Ea({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,t,n){const i=new At,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(t),i.toArray(a,6),i.toArray(a,9),i.set(n),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class cte{constructor(){this.type="ShapePath",this.color=new At,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Ug,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,a,s){return this.currentPath.bezierCurveTo(e,t,n,i,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(E){const w=[];for(let C=0,T=E.length;C<T;C++){const O=E[C],R=new Ad;R.curves=O.curves,w.push(R)}return w}function n(E,w){const C=w.length;let T=!1;for(let O=C-1,R=0;R<C;O=R++){let P=w[O],N=w[R],D=N.x-P.x,I=N.y-P.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(P=w[R],D=-D,N=w[O],I=-I),E.y<P.y||E.y>N.y)continue;if(E.y===P.y){if(E.x===P.x)return!0}else{const V=I*(E.x-P.x)-D*(E.y-P.y);if(V===0)return!0;if(V<0)continue;T=!T}}else{if(E.y!==P.y)continue;if(N.x<=E.x&&E.x<=P.x||P.x<=E.x&&E.x<=N.x)return!0}}return T}const i=Uo.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,o,c;const d=[];if(a.length===1)return o=a[0],c=new Ad,c.curves=o.curves,d.push(c),d;let f=!i(a[0].getPoints());f=e?!f:f;const m=[],g=[];let y=[],x=0,S;g[x]=void 0,y[x]=[];for(let E=0,w=a.length;E<w;E++)o=a[E],S=o.getPoints(),s=i(S),s=e?!s:s,s?(!f&&g[x]&&x++,g[x]={s:new Ad,p:S},g[x].s.curves=o.curves,f&&x++,y[x]=[]):y[x].push({h:o,p:S[0]});if(!g[0])return t(a);if(g.length>1){let E=!1,w=0;for(let C=0,T=g.length;C<T;C++)m[C]=[];for(let C=0,T=g.length;C<T;C++){const O=y[C];for(let R=0;R<O.length;R++){const P=O[R];let N=!0;for(let D=0;D<g.length;D++)n(P.p,g[D].p)&&(C!==D&&w++,N?(N=!1,m[D].push(P)):E=!0);N&&m[C].push(P)}}w>0&&E===!1&&(y=m)}let _;for(let E=0,w=g.length;E<w;E++){c=g[E].s,d.push(c),_=y[E];for(let C=0,T=_.length;C<T;C++)c.holes.push(_[C].h)}return d}}class ute extends ao{constructor(e=1,t=1,n=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...i,count:n}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Mx}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Mx);const dte=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:ub,AddEquation:qc,AddOperation:eD,AdditiveAnimationBlendMode:Sb,AdditiveBlending:JE,AgXToneMapping:aD,AlphaFormat:mb,AlwaysCompare:xD,AlwaysDepth:q3,AlwaysStencilFunc:nw,AmbientLight:gL,AnimationAction:CL,AnimationClip:$g,AnimationLoader:gee,AnimationMixer:Hee,AnimationObjectGroup:zee,AnimationUtils:fee,ArcCurve:jD,ArrayCamera:FD,ArrowHelper:ote,AttachedBindMode:tw,Audio:EL,AudioAnalyser:Kb,AudioContext:Yb,AudioListener:Qb,AudioLoader:Tee,AxesHelper:lte,BackSide:ya,BasicDepthPacking:dD,BasicShadowMap:T3,BatchedMesh:VD,Bone:Fb,BooleanKeyframeTrack:Gd,Box2:Xee,Box3:va,Box3Helper:ate,BoxGeometry:Wd,BoxHelper:ite,BufferAttribute:Jn,BufferGeometry:xn,BufferGeometryLoader:SL,ByteType:fb,Cache:Ll,Camera:vy,CameraHelper:rte,CanvasTexture:LZ,CapsuleGeometry:Wx,CatmullRomCurve3:$D,CineonToneMapping:rD,CircleGeometry:Gx,ClampToEdgeWrapping:bs,Clock:My,Color:At,ColorKeyframeTrack:Wb,ColorManagement:jn,CompressedArrayTexture:FZ,CompressedCubeTexture:DZ,CompressedTexture:jx,CompressedTextureLoader:yee,ConeGeometry:qx,ConstantAlphaFactor:$3,ConstantColorFactor:H3,CubeCamera:Tb,CubeReflectionMapping:Wl,CubeRefractionMapping:Qc,CubeTexture:_y,CubeTextureLoader:vee,CubeUVReflectionMapping:mp,CubicBezierCurve:Nb,CubicBezierCurve3:WD,CubicInterpolant:cL,CullFaceBack:KE,CullFaceFront:M3,CullFaceFrontBack:dq,CullFaceNone:b3,Curve:uo,CurvePath:qD,CustomBlending:A3,CustomToneMapping:iD,CylinderGeometry:_p,Cylindrical:qee,Data3DTexture:Cb,DataArrayTexture:Nx,DataTexture:No,DataTextureLoader:_ee,DataUtils:CX,DecrementStencilOp:bq,DecrementWrapStencilOp:Tq,DefaultLoadingManager:fL,DepthFormat:bd,DepthStencilFormat:Fd,DepthTexture:Rb,DetachedBindMode:oD,DirectionalLight:Xb,DirectionalLightHelper:nte,DiscreteInterpolant:uL,DisplayP3ColorSpace:Lx,DodecahedronGeometry:Xx,DoubleSide:Io,DstAlphaFactor:N3,DstColorFactor:B3,DynamicCopyUsage:Hq,DynamicDrawUsage:Lq,DynamicReadUsage:Bq,EdgesGeometry:XD,EllipseCurve:$x,EqualCompare:gD,EqualDepth:Y3,EqualStencilFunc:Iq,EquirectangularReflectionMapping:Mg,EquirectangularRefractionMapping:Tg,Euler:as,EventDispatcher:$o,ExtrudeGeometry:Qx,FileLoader:Xl,Float16BufferAttribute:RX,Float32BufferAttribute:qt,FloatType:Ba,Fog:Bx,FogExp2:Sy,FramebufferTexture:kZ,FrontSide:$l,Frustum:xy,GLBufferAttribute:Gee,GLSL1:$q,GLSL3:rw,GreaterCompare:yD,GreaterDepth:K3,GreaterEqualCompare:_D,GreaterEqualDepth:Q3,GreaterEqualStencilFunc:Dq,GreaterStencilFunc:kq,GridHelper:ML,Group:Nh,HalfFloatType:gp,HemisphereLight:hL,HemisphereLightHelper:ete,IcosahedronGeometry:Kx,ImageBitmapLoader:Mee,ImageLoader:Wg,ImageUtils:wD,IncrementStencilOp:Cq,IncrementWrapStencilOp:Mq,InstancedBufferAttribute:ap,InstancedBufferGeometry:xL,InstancedInterleavedBuffer:Wee,InstancedMesh:zD,Int16BufferAttribute:AX,Int32BufferAttribute:PX,Int8BufferAttribute:bX,IntType:Px,InterleavedBuffer:zx,InterleavedBufferAttribute:Dd,Interpolant:Cy,InterpolateDiscrete:Rg,InterpolateLinear:G_,InterpolateSmooth:V0,InvertStencilOp:Aq,KeepStencilOp:od,KeyframeTrack:fo,LOD:UD,LatheGeometry:Ey,Layers:Td,LessCompare:mD,LessDepth:X3,LessEqualCompare:Eb,LessEqualDepth:bg,LessEqualStencilFunc:Oq,LessStencilFunc:Rq,Light:ru,LightProbe:_L,Line:Kc,Line3:Yee,LineBasicMaterial:Ea,LineCurve:Ub,LineCurve3:GD,LineDashedMaterial:sL,LineLoop:HD,LineSegments:Go,LinearDisplayP3ColorSpace:yy,LinearFilter:Qr,LinearInterpolant:$b,LinearMipMapLinearFilter:mq,LinearMipMapNearestFilter:pq,LinearMipmapLinearFilter:Oo,LinearMipmapNearestFilter:Qm,LinearSRGBColorSpace:ec,LinearToneMapping:tD,LinearTransfer:Og,Loader:Ha,LoaderUtils:dw,LoadingManager:Gb,LoopOnce:lD,LoopPingPong:uD,LoopRepeat:cD,LuminanceAlphaFormat:vb,LuminanceFormat:yb,MOUSE:ad,Material:Fi,MaterialLoader:aS,MathUtils:oX,Matrix2:nM,Matrix3:vn,Matrix4:an,MaxEquation:O3,Mesh:Tr,MeshBasicMaterial:Wo,MeshDepthMaterial:Ib,MeshDistanceMaterial:Ob,MeshLambertMaterial:iL,MeshMatcapMaterial:aL,MeshNormalMaterial:rL,MeshPhongMaterial:iS,MeshPhysicalMaterial:tL,MeshStandardMaterial:Hb,MeshToonMaterial:nL,MinEquation:I3,MirroredRepeatWrapping:Pg,MixOperation:Z3,MultiplyBlending:ew,MultiplyOperation:my,NearestFilter:xi,NearestMipMapLinearFilter:hq,NearestMipMapNearestFilter:fq,NearestMipmapLinearFilter:Fh,NearestMipmapNearestFilter:db,NeutralToneMapping:sD,NeverCompare:pD,NeverDepth:G3,NeverStencilFunc:Pq,NoBlending:Hl,NoColorSpace:kl,NoToneMapping:Lo,NormalAnimationBlendMode:Dx,NormalBlending:Cd,NotEqualCompare:vD,NotEqualDepth:J3,NotEqualStencilFunc:Fq,NumberKeyframeTrack:Hg,Object3D:zn,ObjectLoader:Cee,ObjectSpaceNormalMap:hD,OctahedronGeometry:wy,OneFactor:F3,OneMinusConstantAlphaFactor:W3,OneMinusConstantColorFactor:j3,OneMinusDstAlphaFactor:U3,OneMinusDstColorFactor:z3,OneMinusSrcAlphaFactor:__,OneMinusSrcColorFactor:L3,OrthographicCamera:Dl,P3Primaries:Fg,PCFShadowMap:Tx,PCFSoftShadowMap:Ym,PMREMGenerator:iw,Path:Ug,PerspectiveCamera:Dr,Plane:Il,PlaneGeometry:yp,PlaneHelper:ste,PointLight:mL,PointLightHelper:Jee,Points:Db,PointsMaterial:Hx,PolarGridHelper:tte,PolyhedronGeometry:nu,PositionalAudio:sS,PropertyBinding:Bn,PropertyMixer:wL,QuadraticBezierCurve:Bb,QuadraticBezierCurve3:zb,Quaternion:Ki,QuaternionKeyframeTrack:by,QuaternionLinearInterpolant:dL,RED_GREEN_RGTC2_Format:$_,RED_RGTC1_Format:xb,REVISION:Mx,RGBADepthPacking:fD,RGBAFormat:Yi,RGBAIntegerFormat:Fx,RGBA_ASTC_10x10_Format:U_,RGBA_ASTC_10x5_Format:D_,RGBA_ASTC_10x6_Format:L_,RGBA_ASTC_10x8_Format:N_,RGBA_ASTC_12x10_Format:B_,RGBA_ASTC_12x12_Format:z_,RGBA_ASTC_4x4_Format:T_,RGBA_ASTC_5x4_Format:A_,RGBA_ASTC_5x5_Format:P_,RGBA_ASTC_6x5_Format:R_,RGBA_ASTC_6x6_Format:I_,RGBA_ASTC_8x5_Format:O_,RGBA_ASTC_8x6_Format:k_,RGBA_ASTC_8x8_Format:F_,RGBA_BPTC_Format:tg,RGBA_ETC2_EAC_Format:M_,RGBA_PVRTC_2BPPV1_Format:w_,RGBA_PVRTC_4BPPV1_Format:E_,RGBA_S3TC_DXT1_Format:Jm,RGBA_S3TC_DXT3_Format:Zm,RGBA_S3TC_DXT5_Format:eg,RGBDepthPacking:xq,RGBFormat:gb,RGBIntegerFormat:gq,RGB_BPTC_SIGNED_Format:V_,RGB_BPTC_UNSIGNED_Format:H_,RGB_ETC1_Format:C_,RGB_ETC2_Format:b_,RGB_PVRTC_2BPPV1_Format:S_,RGB_PVRTC_4BPPV1_Format:x_,RGB_S3TC_DXT1_Format:Km,RGDepthPacking:Sq,RGFormat:_b,RGIntegerFormat:kx,RawShaderMaterial:eL,Ray:$d,Raycaster:tM,Rec709Primaries:kg,RectAreaLight:yL,RedFormat:Ox,RedIntegerFormat:gy,ReinhardToneMapping:nD,RenderTarget:CD,RepeatWrapping:Ag,ReplaceStencilOp:wq,ReverseSubtractEquation:R3,RingGeometry:Jx,SIGNED_RED_GREEN_RGTC2_Format:W_,SIGNED_RED_RGTC1_Format:j_,SRGBColorSpace:Ss,SRGBTransfer:ur,Scene:q_,ShaderChunk:En,ShaderLib:no,ShaderMaterial:so,ShadowMaterial:ZD,Shape:Ad,ShapeGeometry:Zx,ShapePath:cte,ShapeUtils:Uo,ShortType:hb,Skeleton:Vx,SkeletonHelper:Kee,SkinnedMesh:BD,Source:yd,Sphere:Ji,SphereGeometry:ql,Spherical:hw,SphericalHarmonics3:vL,SplineCurve:Vb,SpotLight:pL,SpotLightHelper:Qee,Sprite:ND,SpriteMaterial:kb,SrcAlphaFactor:v_,SrcAlphaSaturateFactor:V3,SrcColorFactor:D3,StaticCopyUsage:Vq,StaticDrawUsage:Dg,StaticReadUsage:Uq,StereoCamera:Aee,StreamCopyUsage:jq,StreamDrawUsage:Nq,StreamReadUsage:zq,StringKeyframeTrack:qd,SubtractEquation:P3,SubtractiveBlending:ZE,TOUCH:sd,TangentSpaceNormalMap:tu,TetrahedronGeometry:eS,Texture:Ar,TextureLoader:xee,TextureUtils:fZ,TorusGeometry:tS,TorusKnotGeometry:nS,Triangle:ns,TriangleFanDrawMode:_q,TriangleStripDrawMode:vq,TrianglesDrawMode:yq,TubeGeometry:rS,UVMapping:Ax,Uint16BufferAttribute:bb,Uint32BufferAttribute:Mb,Uint8BufferAttribute:MX,Uint8ClampedBufferAttribute:TX,Uniform:eM,UniformsGroup:$ee,UniformsLib:Mt,UniformsUtils:TD,UnsignedByteType:io,UnsignedInt248Type:kd,UnsignedInt5999Type:pb,UnsignedIntType:Gl,UnsignedShort4444Type:Rx,UnsignedShort5551Type:Ix,UnsignedShortType:np,VSMShadowMap:Zs,Vector2:Qe,Vector3:ae,Vector4:Kn,VectorKeyframeTrack:jg,VideoTexture:OZ,WebGL3DRenderTarget:pX,WebGLArrayRenderTarget:hX,WebGLCoordinateSystem:ko,WebGLCubeRenderTarget:Ab,WebGLMultipleRenderTargets:ute,WebGLRenderTarget:ao,WebGLRenderer:DD,WebGLUtils:kD,WebGPUCoordinateSystem:Lg,WireframeGeometry:JD,WrapAroundEnding:Ig,ZeroCurvatureEnding:md,ZeroFactor:k3,ZeroSlopeEnding:gd,ZeroStencilOp:Eq,createCanvasElement:ED},Symbol.toStringTag,{value:"Module"}));var TL={exports:{}},jc={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FR;function fte(){return FR||(FR=1,jc.ConcurrentRoot=1,jc.ContinuousEventPriority=4,jc.DefaultEventPriority=16,jc.DiscreteEventPriority=1,jc.IdleEventPriority=536870912,jc.LegacyRoot=0),jc}TL.exports=fte();var Bh=TL.exports;function hte(r){let e;const t=new Set,n=(d,f)=>{const m=typeof d=="function"?d(e):d;if(m!==e){const g=e;e=f?m:Object.assign({},e,m),t.forEach(y=>y(e,g))}},i=()=>e,a=(d,f=i,m=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let g=f(e);function y(){const x=f(e);if(!m(g,x)){const S=g;d(g=x,S)}}return t.add(y),()=>t.delete(y)},c={setState:n,getState:i,subscribe:(d,f,m)=>f||m?a(d,f,m):(t.add(d),()=>t.delete(d)),destroy:()=>t.clear()};return e=r(n,i,c),c}const pte=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),DR=pte?z.useEffect:z.useLayoutEffect;function mte(r){const e=typeof r=="function"?hte(r):r,t=(n=e.getState,i=Object.is)=>{const[,a]=z.useReducer(_=>_+1,0),s=e.getState(),o=z.useRef(s),c=z.useRef(n),d=z.useRef(i),f=z.useRef(!1),m=z.useRef();m.current===void 0&&(m.current=n(s));let g,y=!1;(o.current!==s||c.current!==n||d.current!==i||f.current)&&(g=n(s),y=!i(m.current,g)),DR(()=>{y&&(m.current=g),o.current=s,c.current=n,d.current=i,f.current=!1});const x=z.useRef(s);DR(()=>{const _=()=>{try{const w=e.getState(),C=c.current(w);d.current(m.current,C)||(o.current=w,m.current=C,a())}catch{f.current=!0,a()}},E=e.subscribe(_);return e.getState()!==x.current&&_(),E},[]);const S=y?g:m.current;return z.useDebugValue(S),S};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const n=[t,e];return{next(){const i=n.length<=0;return{value:n.shift(),done:i}}}},t}var AL={exports:{}},PL={exports:{}},eE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LR;function gte(){return LR||(LR=1,function(r){function e(G,le){var oe=G.length;G.push(le);e:for(;0<oe;){var X=oe-1>>>1,ne=G[X];if(0<i(ne,le))G[X]=le,G[oe]=ne,oe=X;else break e}}function t(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var le=G[0],oe=G.pop();if(oe!==le){G[0]=oe;e:for(var X=0,ne=G.length,we=ne>>>1;X<we;){var me=2*(X+1)-1,ye=G[me],Pe=me+1,Le=G[Pe];if(0>i(ye,oe))Pe<ne&&0>i(Le,ye)?(G[X]=Le,G[Pe]=oe,X=Pe):(G[X]=ye,G[me]=oe,X=me);else if(Pe<ne&&0>i(Le,oe))G[X]=Le,G[Pe]=oe,X=Pe;else break e}}return le}function i(G,le){var oe=G.sortIndex-le.sortIndex;return oe!==0?oe:G.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();r.unstable_now=function(){return s.now()-o}}var c=[],d=[],f=1,m=null,g=3,y=!1,x=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(G){for(var le=t(d);le!==null;){if(le.callback===null)n(d);else if(le.startTime<=G)n(d),le.sortIndex=le.expirationTime,e(c,le);else break;le=t(d)}}function T(G){if(S=!1,C(G),!x)if(t(c)!==null)x=!0,re(O);else{var le=t(d);le!==null&&ue(T,le.startTime-G)}}function O(G,le){x=!1,S&&(S=!1,E(N),N=-1),y=!0;var oe=g;try{for(C(le),m=t(c);m!==null&&(!(m.expirationTime>le)||G&&!V());){var X=m.callback;if(typeof X=="function"){m.callback=null,g=m.priorityLevel;var ne=X(m.expirationTime<=le);le=r.unstable_now(),typeof ne=="function"?m.callback=ne:m===t(c)&&n(c),C(le)}else n(c);m=t(c)}if(m!==null)var we=!0;else{var me=t(d);me!==null&&ue(T,me.startTime-le),we=!1}return we}finally{m=null,g=oe,y=!1}}var R=!1,P=null,N=-1,D=5,I=-1;function V(){return!(r.unstable_now()-I<D)}function q(){if(P!==null){var G=r.unstable_now();I=G;var le=!0;try{le=P(!0,G)}finally{le?W():(R=!1,P=null)}}else R=!1}var W;if(typeof w=="function")W=function(){w(q)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,te=ee.port2;ee.port1.onmessage=q,W=function(){te.postMessage(null)}}else W=function(){_(q,0)};function re(G){P=G,R||(R=!0,W())}function ue(G,le){N=_(function(){G(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_continueExecution=function(){x||y||(x=!0,re(O))},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return g},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(G){switch(g){case 1:case 2:case 3:var le=3;break;default:le=g}var oe=g;g=le;try{return G()}finally{g=oe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(G,le){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var oe=g;g=G;try{return le()}finally{g=oe}},r.unstable_scheduleCallback=function(G,le,oe){var X=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?X+oe:X):oe=X,G){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=oe+ne,G={id:f++,callback:le,priorityLevel:G,startTime:oe,expirationTime:ne,sortIndex:-1},oe>X?(G.sortIndex=oe,e(d,G),t(c)===null&&G===t(d)&&(S?(E(N),N=-1):S=!0,ue(T,oe-X))):(G.sortIndex=ne,e(c,G),x||y||(x=!0,re(O))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var le=g;return function(){var oe=g;g=le;try{return G.apply(this,arguments)}finally{g=oe}}}}(eE)),eE}PL.exports=gte();var K_=PL.exports;const yte=en(K_),vte=Wt({__proto__:null,default:yte},[K_]),_te=jt(vte);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE,NR;function xte(){return NR||(NR=1,tE=function(e){var t={},n=ta,i=_te,a=Object.assign;function s(h){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+h,b=1;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),d=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),O=Symbol.iterator;function R(h){return h===null||typeof h!="object"?null:(h=O&&h[O]||h["@@iterator"],typeof h=="function"?h:null)}function P(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case f:return"Fragment";case d:return"Portal";case g:return"Profiler";case m:return"StrictMode";case _:return"Suspense";case E:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case x:return(h.displayName||"Context")+".Consumer";case y:return(h._context.displayName||"Context")+".Provider";case S:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case w:return p=h.displayName||null,p!==null?p:P(h.type)||"Memo";case C:p=h._payload,h=h._init;try{return P(h(p))}catch{}}return null}function N(h){var p=h.type;switch(h.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=p.render,h=h.displayName||h.name||"",p.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(p);case 8:return p===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function D(h){var p=h,b=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,p.flags&4098&&(b=p.return),h=p.return;while(h)}return p.tag===3?b:null}function I(h){if(D(h)!==h)throw Error(s(188))}function V(h){var p=h.alternate;if(!p){if(p=D(h),p===null)throw Error(s(188));return p!==h?null:h}for(var b=h,A=p;;){var L=b.return;if(L===null)break;var j=L.alternate;if(j===null){if(A=L.return,A!==null){b=A;continue}break}if(L.child===j.child){for(j=L.child;j;){if(j===b)return I(L),h;if(j===A)return I(L),p;j=j.sibling}throw Error(s(188))}if(b.return!==A.return)b=L,A=j;else{for(var ce=!1,Ee=L.child;Ee;){if(Ee===b){ce=!0,b=L,A=j;break}if(Ee===A){ce=!0,A=L,b=j;break}Ee=Ee.sibling}if(!ce){for(Ee=j.child;Ee;){if(Ee===b){ce=!0,b=j,A=L;break}if(Ee===A){ce=!0,A=j,b=L;break}Ee=Ee.sibling}if(!ce)throw Error(s(189))}}if(b.alternate!==A)throw Error(s(190))}if(b.tag!==3)throw Error(s(188));return b.stateNode.current===b?h:p}function q(h){return h=V(h),h!==null?W(h):null}function W(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var p=W(h);if(p!==null)return p;h=h.sibling}return null}function ee(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var p=ee(h);if(p!==null)return p}h=h.sibling}return null}var te=Array.isArray,re=e.getPublicInstance,ue=e.getRootHostContext,G=e.getChildHostContext,le=e.prepareForCommit,oe=e.resetAfterCommit,X=e.createInstance,ne=e.appendInitialChild,we=e.finalizeInitialChildren,me=e.prepareUpdate,ye=e.shouldSetTextContent,Pe=e.createTextInstance,Le=e.scheduleTimeout,Je=e.cancelTimeout,ot=e.noTimeout,ft=e.isPrimaryRenderer,wt=e.supportsMutation,Z=e.supportsPersistence,Be=e.supportsHydration,Ge=e.getInstanceFromNode,qe=e.preparePortalMount,Ue=e.getCurrentEventPriority,xt=e.detachDeletedInstance,st=e.supportsMicrotasks,yt=e.scheduleMicrotask,se=e.supportsTestSelectors,K=e.findFiberRoot,Ce=e.getBoundingRect,Xe=e.getTextContent,Ye=e.isHiddenSubtree,We=e.matchAccessibilityRole,Et=e.setFocusIfFocusable,$=e.setupIntersectionObserver,F=e.appendChild,B=e.appendChildToContainer,Q=e.commitTextUpdate,ie=e.commitMount,pe=e.commitUpdate,ve=e.insertBefore,Ve=e.insertInContainerBefore,de=e.removeChild,ke=e.removeChildFromContainer,tt=e.resetTextContent,fe=e.hideInstance,Ke=e.hideTextInstance,He=e.unhideInstance,$e=e.unhideTextInstance,lt=e.clearContainer,Ut=e.cloneInstance,Xt=e.createContainerChildSet,ge=e.appendChildToContainerChildSet,Me=e.finalizeContainerChildren,Re=e.replaceContainerChildren,Ze=e.cloneHiddenInstance,ut=e.cloneHiddenTextInstance,Vt=e.canHydrateInstance,Ct=e.canHydrateTextInstance,pt=e.canHydrateSuspenseInstance,Jt=e.isSuspenseInstancePending,Pt=e.isSuspenseInstanceFallback,hn=e.registerSuspenseInstanceRetry,gn=e.getNextHydratableSibling,Ot=e.getFirstHydratableChild,Cn=e.getFirstHydratableChildWithinContainer,Pn=e.getFirstHydratableChildWithinSuspenseInstance,dn=e.hydrateInstance,Dt=e.hydrateTextInstance,pn=e.hydrateSuspenseInstance,J=e.getNextHydratableInstanceAfterSuspenseInstance,xe=e.commitHydratedContainer,Ae=e.commitHydratedSuspenseInstance,Oe=e.clearSuspenseBoundary,be=e.clearSuspenseBoundaryFromContainer,it=e.shouldDeleteUnhydratedTailInstances,et=e.didNotMatchHydratedContainerTextInstance,mt=e.didNotMatchHydratedTextInstance,nt;function Tt(h){if(nt===void 0)try{throw Error()}catch(b){var p=b.stack.trim().match(/\n( *(at )?)/);nt=p&&p[1]||""}return`
`+nt+h}var Yt=!1;function Qt(h,p){if(!h||Yt)return"";Yt=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(dt){var A=dt}Reflect.construct(h,[],p)}else{try{p.call()}catch(dt){A=dt}h.call(p.prototype)}else{try{throw Error()}catch(dt){A=dt}h()}}catch(dt){if(dt&&A&&typeof dt.stack=="string"){for(var L=dt.stack.split(`
`),j=A.stack.split(`
`),ce=L.length-1,Ee=j.length-1;1<=ce&&0<=Ee&&L[ce]!==j[Ee];)Ee--;for(;1<=ce&&0<=Ee;ce--,Ee--)if(L[ce]!==j[Ee]){if(ce!==1||Ee!==1)do if(ce--,Ee--,0>Ee||L[ce]!==j[Ee]){var je=`
`+L[ce].replace(" at new "," at ");return h.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",h.displayName)),je}while(1<=ce&&0<=Ee);break}}}finally{Yt=!1,Error.prepareStackTrace=b}return(h=h?h.displayName||h.name:"")?Tt(h):""}var Mn=Object.prototype.hasOwnProperty,er=[],Vn=-1;function ar(h){return{current:h}}function Lt(h){0>Vn||(h.current=er[Vn],er[Vn]=null,Vn--)}function vt(h,p){Vn++,er[Vn]=h.current,h.current=p}var Tn={},sn=ar(Tn),tr=ar(!1),Di=Tn;function dr(h,p){var b=h.type.contextTypes;if(!b)return Tn;var A=h.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===p)return A.__reactInternalMemoizedMaskedChildContext;var L={},j;for(j in b)L[j]=p[j];return A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=p,h.__reactInternalMemoizedMaskedChildContext=L),L}function Sr(h){return h=h.childContextTypes,h!=null}function $n(){Lt(tr),Lt(sn)}function Li(h,p,b){if(sn.current!==Tn)throw Error(s(168));vt(sn,p),vt(tr,b)}function tc(h,p,b){var A=h.stateNode;if(p=p.childContextTypes,typeof A.getChildContext!="function")return b;A=A.getChildContext();for(var L in A)if(!(L in p))throw Error(s(108,N(h)||"Unknown",L));return a({},b,A)}function Jr(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Tn,Di=sn.current,vt(sn,h),vt(tr,tr.current),!0}function ho(h,p,b){var A=h.stateNode;if(!A)throw Error(s(169));b?(h=tc(h,p,Di),A.__reactInternalMemoizedMergedChildContext=h,Lt(tr),Lt(sn),vt(sn,h)):Lt(tr),vt(tr,b)}var Ni=Math.clz32?Math.clz32:dS,nc=Math.log,iu=Math.LN2;function dS(h){return h>>>=0,h===0?32:31-(nc(h)/iu|0)|0}var rc=64,Fn=4194304;function ic(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function au(h,p){var b=h.pendingLanes;if(b===0)return 0;var A=0,L=h.suspendedLanes,j=h.pingedLanes,ce=b&268435455;if(ce!==0){var Ee=ce&~L;Ee!==0?A=ic(Ee):(j&=ce,j!==0&&(A=ic(j)))}else ce=b&~L,ce!==0?A=ic(ce):j!==0&&(A=ic(j));if(A===0)return 0;if(p!==0&&p!==A&&!(p&L)&&(L=A&-A,j=p&-p,L>=j||L===16&&(j&4194240)!==0))return p;if(A&4&&(A|=b&16),p=h.entangledLanes,p!==0)for(h=h.entanglements,p&=A;0<p;)b=31-Ni(p),L=1<<b,A|=h[b],p&=~L;return A}function Sp(h,p){switch(h){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ky(h,p){for(var b=h.suspendedLanes,A=h.pingedLanes,L=h.expirationTimes,j=h.pendingLanes;0<j;){var ce=31-Ni(j),Ee=1<<ce,je=L[ce];je===-1?(!(Ee&b)||Ee&A)&&(L[ce]=Sp(Ee,p)):je<=p&&(h.expiredLanes|=Ee),j&=~Ee}}function Jd(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function Zd(h){for(var p=[],b=0;31>b;b++)p.push(h);return p}function qo(h,p,b){h.pendingLanes|=p,p!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,p=31-Ni(p),h[p]=b}function ef(h,p){var b=h.pendingLanes&~p;h.pendingLanes=p,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=p,h.mutableReadLanes&=p,h.entangledLanes&=p,p=h.entanglements;var A=h.eventTimes;for(h=h.expirationTimes;0<b;){var L=31-Ni(b),j=1<<L;p[L]=0,A[L]=-1,h[L]=-1,b&=~j}}function os(h,p){var b=h.entangledLanes|=p;for(h=h.entanglements;b;){var A=31-Ni(b),L=1<<A;L&p|h[A]&p&&(h[A]|=p),b&=~L}}var Sn=0;function Ts(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var Xo=i.unstable_scheduleCallback,ac=i.unstable_cancelCallback,po=i.unstable_shouldYield,fS=i.unstable_requestPaint,Lr=i.unstable_now,Yo=i.unstable_ImmediatePriority,hS=i.unstable_UserBlockingPriority,tf=i.unstable_NormalPriority,nf=i.unstable_IdlePriority,su=null,ls=null;function ou(h){if(ls&&typeof ls.onCommitFiberRoot=="function")try{ls.onCommitFiberRoot(su,h,void 0,(h.current.flags&128)===128)}catch{}}function lu(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var Si=typeof Object.is=="function"?Object.is:lu,wa=null,rf=!1,Ep=!1;function af(h){wa===null?wa=[h]:wa.push(h)}function sf(h){rf=!0,af(h)}function Ca(){if(!Ep&&wa!==null){Ep=!0;var h=0,p=Sn;try{var b=wa;for(Sn=1;h<b.length;h++){var A=b[h];do A=A(!0);while(A!==null)}wa=null,rf=!1}catch(L){throw wa!==null&&(wa=wa.slice(h+1)),Xo(Yo,Ca),L}finally{Sn=p,Ep=!1}}return null}var Fy=o.ReactCurrentBatchConfig;function ja(h,p){if(Si(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var b=Object.keys(h),A=Object.keys(p);if(b.length!==A.length)return!1;for(A=0;A<b.length;A++){var L=b[A];if(!Mn.call(p,L)||!Si(h[L],p[L]))return!1}return!0}function wp(h){switch(h.tag){case 5:return Tt(h.type);case 16:return Tt("Lazy");case 13:return Tt("Suspense");case 19:return Tt("SuspenseList");case 0:case 2:case 15:return h=Qt(h.type,!1),h;case 11:return h=Qt(h.type.render,!1),h;case 1:return h=Qt(h.type,!0),h;default:return""}}function Ui(h,p){if(h&&h.defaultProps){p=a({},p),h=h.defaultProps;for(var b in h)p[b]===void 0&&(p[b]=h[b]);return p}return p}var cu=ar(null),Qo=null,As=null,of=null;function Ei(){of=As=Qo=null}function Ko(h,p,b){ft?(vt(cu,p._currentValue),p._currentValue=b):(vt(cu,p._currentValue2),p._currentValue2=b)}function uu(h){var p=cu.current;Lt(cu),ft?h._currentValue=p:h._currentValue2=p}function Jo(h,p,b){for(;h!==null;){var A=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,A!==null&&(A.childLanes|=p)):A!==null&&(A.childLanes&p)!==p&&(A.childLanes|=p),h===b)break;h=h.return}}function sc(h,p){Qo=h,of=As=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&p&&(Wr=!0),h.firstContext=null)}function Bi(h){var p=ft?h._currentValue:h._currentValue2;if(of!==h)if(h={context:h,memoizedValue:p,next:null},As===null){if(Qo===null)throw Error(s(308));As=h,Qo.dependencies={lanes:0,firstContext:h}}else As=As.next=h;return p}var ba=null,Ma=!1;function oc(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cp(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Ps(h,p){return{eventTime:h,lane:p,tag:0,payload:null,callback:null,next:null}}function mo(h,p){var b=h.updateQueue;b!==null&&(b=b.shared,wr!==null&&h.mode&1&&!(mn&2)?(h=b.interleaved,h===null?(p.next=p,ba===null?ba=[b]:ba.push(b)):(p.next=h.next,h.next=p),b.interleaved=p):(h=b.pending,h===null?p.next=p:(p.next=h.next,h.next=p),b.pending=p))}function lf(h,p,b){if(p=p.updateQueue,p!==null&&(p=p.shared,(b&4194240)!==0)){var A=p.lanes;A&=h.pendingLanes,b|=A,p.lanes=b,os(h,b)}}function cf(h,p){var b=h.updateQueue,A=h.alternate;if(A!==null&&(A=A.updateQueue,b===A)){var L=null,j=null;if(b=b.firstBaseUpdate,b!==null){do{var ce={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};j===null?L=j=ce:j=j.next=ce,b=b.next}while(b!==null);j===null?L=j=p:j=j.next=p}else L=j=p;b={baseState:A.baseState,firstBaseUpdate:L,lastBaseUpdate:j,shared:A.shared,effects:A.effects},h.updateQueue=b;return}h=b.lastBaseUpdate,h===null?b.firstBaseUpdate=p:h.next=p,b.lastBaseUpdate=p}function uf(h,p,b,A){var L=h.updateQueue;Ma=!1;var j=L.firstBaseUpdate,ce=L.lastBaseUpdate,Ee=L.shared.pending;if(Ee!==null){L.shared.pending=null;var je=Ee,dt=je.next;je.next=null,ce===null?j=dt:ce.next=dt,ce=je;var kt=h.alternate;kt!==null&&(kt=kt.updateQueue,Ee=kt.lastBaseUpdate,Ee!==ce&&(Ee===null?kt.firstBaseUpdate=dt:Ee.next=dt,kt.lastBaseUpdate=je))}if(j!==null){var cn=L.baseState;ce=0,kt=dt=je=null,Ee=j;do{var Zt=Ee.lane,yn=Ee.eventTime;if((A&Zt)===Zt){kt!==null&&(kt=kt.next={eventTime:yn,lane:0,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null});e:{var Rt=h,ii=Ee;switch(Zt=p,yn=b,ii.tag){case 1:if(Rt=ii.payload,typeof Rt=="function"){cn=Rt.call(yn,cn,Zt);break e}cn=Rt;break e;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=ii.payload,Zt=typeof Rt=="function"?Rt.call(yn,cn,Zt):Rt,Zt==null)break e;cn=a({},cn,Zt);break e;case 2:Ma=!0}}Ee.callback!==null&&Ee.lane!==0&&(h.flags|=64,Zt=L.effects,Zt===null?L.effects=[Ee]:Zt.push(Ee))}else yn={eventTime:yn,lane:Zt,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null},kt===null?(dt=kt=yn,je=cn):kt=kt.next=yn,ce|=Zt;if(Ee=Ee.next,Ee===null){if(Ee=L.shared.pending,Ee===null)break;Zt=Ee,Ee=Zt.next,Zt.next=null,L.lastBaseUpdate=Zt,L.shared.pending=null}}while(!0);if(kt===null&&(je=cn),L.baseState=je,L.firstBaseUpdate=dt,L.lastBaseUpdate=kt,p=L.shared.interleaved,p!==null){L=p;do ce|=L.lane,L=L.next;while(L!==p)}else j===null&&(L.shared.lanes=0);fs|=ce,h.lanes=ce,h.memoizedState=cn}}function Dy(h,p,b){if(h=p.effects,p.effects=null,h!==null)for(p=0;p<h.length;p++){var A=h[p],L=A.callback;if(L!==null){if(A.callback=null,A=b,typeof L!="function")throw Error(s(191,L));L.call(A)}}}var Ly=new n.Component().refs;function bp(h,p,b,A){p=h.memoizedState,b=b(A,p),b=b==null?p:a({},p,b),h.memoizedState=b,h.lanes===0&&(h.updateQueue.baseState=b)}var df={isMounted:function(h){return(h=h._reactInternals)?D(h)===h:!1},enqueueSetState:function(h,p,b){h=h._reactInternals;var A=Dn(),L=Qa(h),j=Ps(A,L);j.payload=p,b!=null&&(j.callback=b),mo(h,j),p=di(h,L,A),p!==null&&lf(p,h,L)},enqueueReplaceState:function(h,p,b){h=h._reactInternals;var A=Dn(),L=Qa(h),j=Ps(A,L);j.tag=1,j.payload=p,b!=null&&(j.callback=b),mo(h,j),p=di(h,L,A),p!==null&&lf(p,h,L)},enqueueForceUpdate:function(h,p){h=h._reactInternals;var b=Dn(),A=Qa(h),L=Ps(b,A);L.tag=2,p!=null&&(L.callback=p),mo(h,L),p=di(h,A,b),p!==null&&lf(p,h,A)}};function Mp(h,p,b,A,L,j,ce){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(A,j,ce):p.prototype&&p.prototype.isPureReactComponent?!ja(b,A)||!ja(L,j):!0}function Ny(h,p,b){var A=!1,L=Tn,j=p.contextType;return typeof j=="object"&&j!==null?j=Bi(j):(L=Sr(p)?Di:sn.current,A=p.contextTypes,j=(A=A!=null)?dr(h,L):Tn),p=new p(b,j),h.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=df,h.stateNode=p,p._reactInternals=h,A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=L,h.__reactInternalMemoizedMaskedChildContext=j),p}function Uy(h,p,b,A){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(b,A),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(b,A),p.state!==h&&df.enqueueReplaceState(p,p.state,null)}function Tp(h,p,b,A){var L=h.stateNode;L.props=b,L.state=h.memoizedState,L.refs=Ly,oc(h);var j=p.contextType;typeof j=="object"&&j!==null?L.context=Bi(j):(j=Sr(p)?Di:sn.current,L.context=dr(h,j)),L.state=h.memoizedState,j=p.getDerivedStateFromProps,typeof j=="function"&&(bp(h,p,j,b),L.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(p=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),p!==L.state&&df.enqueueReplaceState(L,L.state,null),uf(h,b,L,A),L.state=h.memoizedState),typeof L.componentDidMount=="function"&&(h.flags|=4194308)}var lc=[],go=0,ff=null,hf=0,Ta=[],na=0,Zo=null,Rs=1,Is="";function el(h,p){lc[go++]=hf,lc[go++]=ff,ff=h,hf=p}function By(h,p,b){Ta[na++]=Rs,Ta[na++]=Is,Ta[na++]=Zo,Zo=h;var A=Rs;h=Is;var L=32-Ni(A)-1;A&=~(1<<L),b+=1;var j=32-Ni(p)+L;if(30<j){var ce=L-L%5;j=(A&(1<<ce)-1).toString(32),A>>=ce,L-=ce,Rs=1<<32-Ni(p)+L|b<<L|A,Is=j+h}else Rs=1<<j|b<<L|A,Is=h}function Ap(h){h.return!==null&&(el(h,1),By(h,1,0))}function Pp(h){for(;h===ff;)ff=lc[--go],lc[go]=null,hf=lc[--go],lc[go]=null;for(;h===Zo;)Zo=Ta[--na],Ta[na]=null,Is=Ta[--na],Ta[na]=null,Rs=Ta[--na],Ta[na]=null}var wi=null,Zr=null,lr=!1,cc=!1,Aa=null;function Rp(h,p){var b=ca(5,null,null,0);b.elementType="DELETED",b.stateNode=p,b.return=h,p=h.deletions,p===null?(h.deletions=[b],h.flags|=16):p.push(b)}function Ip(h,p){switch(h.tag){case 5:return p=Vt(p,h.type,h.pendingProps),p!==null?(h.stateNode=p,wi=h,Zr=Ot(p),!0):!1;case 6:return p=Ct(p,h.pendingProps),p!==null?(h.stateNode=p,wi=h,Zr=null,!0):!1;case 13:if(p=pt(p),p!==null){var b=Zo!==null?{id:Rs,overflow:Is}:null;return h.memoizedState={dehydrated:p,treeContext:b,retryLane:1073741824},b=ca(18,null,null,0),b.stateNode=p,b.return=h,h.child=b,wi=h,Zr=null,!0}return!1;default:return!1}}function pf(h){return(h.mode&1)!==0&&(h.flags&128)===0}function yo(h){if(lr){var p=Zr;if(p){var b=p;if(!Ip(h,p)){if(pf(h))throw Error(s(418));p=gn(b);var A=wi;p&&Ip(h,p)?Rp(A,b):(h.flags=h.flags&-4097|2,lr=!1,wi=h)}}else{if(pf(h))throw Error(s(418));h.flags=h.flags&-4097|2,lr=!1,wi=h}}}function zy(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;wi=h}function du(h){if(!Be||h!==wi)return!1;if(!lr)return zy(h),lr=!0,!1;if(h.tag!==3&&(h.tag!==5||it(h.type)&&!ye(h.type,h.memoizedProps))){var p=Zr;if(p){if(pf(h)){for(h=Zr;h;)h=gn(h);throw Error(s(418))}for(;p;)Rp(h,p),p=gn(p)}}if(zy(h),h.tag===13){if(!Be)throw Error(s(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));Zr=J(h)}else Zr=wi?gn(h.stateNode):null;return!0}function uc(){Be&&(Zr=wi=null,cc=lr=!1)}function mf(h){Aa===null?Aa=[h]:Aa.push(h)}function dc(h,p,b){if(h=b.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(s(309));var A=b.stateNode}if(!A)throw Error(s(147,h));var L=A,j=""+h;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===j?p.ref:(p=function(ce){var Ee=L.refs;Ee===Ly&&(Ee=L.refs={}),ce===null?delete Ee[j]:Ee[j]=ce},p._stringRef=j,p)}if(typeof h!="string")throw Error(s(284));if(!b._owner)throw Error(s(290,h))}return h}function vo(h,p){throw h=Object.prototype.toString.call(p),Error(s(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h))}function fc(h){var p=h._init;return p(h._payload)}function Vy(h){function p(De,Te){if(h){var ze=De.deletions;ze===null?(De.deletions=[Te],De.flags|=16):ze.push(Te)}}function b(De,Te){if(!h)return null;for(;Te!==null;)p(De,Te),Te=Te.sibling;return null}function A(De,Te){for(De=new Map;Te!==null;)Te.key!==null?De.set(Te.key,Te):De.set(Te.index,Te),Te=Te.sibling;return De}function L(De,Te){return De=Ws(De,Te),De.index=0,De.sibling=null,De}function j(De,Te,ze){return De.index=ze,h?(ze=De.alternate,ze!==null?(ze=ze.index,ze<Te?(De.flags|=2,Te):ze):(De.flags|=2,Te)):(De.flags|=1048576,Te)}function ce(De){return h&&De.alternate===null&&(De.flags|=2),De}function Ee(De,Te,ze,bt){return Te===null||Te.tag!==6?(Te=Hf(ze,De.mode,bt),Te.return=De,Te):(Te=L(Te,ze),Te.return=De,Te)}function je(De,Te,ze,bt){var Gt=ze.type;return Gt===f?kt(De,Te,ze.props.children,bt,ze.key):Te!==null&&(Te.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===C&&fc(Gt)===Te.type)?(bt=L(Te,ze.props),bt.ref=dc(De,Te,ze),bt.return=De,bt):(bt=Vf(ze.type,ze.key,ze.props,null,De.mode,bt),bt.ref=dc(De,Te,ze),bt.return=De,bt)}function dt(De,Te,ze,bt){return Te===null||Te.tag!==4||Te.stateNode.containerInfo!==ze.containerInfo||Te.stateNode.implementation!==ze.implementation?(Te=jf(ze,De.mode,bt),Te.return=De,Te):(Te=L(Te,ze.children||[]),Te.return=De,Te)}function kt(De,Te,ze,bt,Gt){return Te===null||Te.tag!==7?(Te=El(ze,De.mode,bt,Gt),Te.return=De,Te):(Te=L(Te,ze),Te.return=De,Te)}function cn(De,Te,ze){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return Te=Hf(""+Te,De.mode,ze),Te.return=De,Te;if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case c:return ze=Vf(Te.type,Te.key,Te.props,null,De.mode,ze),ze.ref=dc(De,null,Te),ze.return=De,ze;case d:return Te=jf(Te,De.mode,ze),Te.return=De,Te;case C:var bt=Te._init;return cn(De,bt(Te._payload),ze)}if(te(Te)||R(Te))return Te=El(Te,De.mode,ze,null),Te.return=De,Te;vo(De,Te)}return null}function Zt(De,Te,ze,bt){var Gt=Te!==null?Te.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number")return Gt!==null?null:Ee(De,Te,""+ze,bt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case c:return ze.key===Gt?je(De,Te,ze,bt):null;case d:return ze.key===Gt?dt(De,Te,ze,bt):null;case C:return Gt=ze._init,Zt(De,Te,Gt(ze._payload),bt)}if(te(ze)||R(ze))return Gt!==null?null:kt(De,Te,ze,bt,null);vo(De,ze)}return null}function yn(De,Te,ze,bt,Gt){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return De=De.get(ze)||null,Ee(Te,De,""+bt,Gt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case c:return De=De.get(bt.key===null?ze:bt.key)||null,je(Te,De,bt,Gt);case d:return De=De.get(bt.key===null?ze:bt.key)||null,dt(Te,De,bt,Gt);case C:var fn=bt._init;return yn(De,Te,ze,fn(bt._payload),Gt)}if(te(bt)||R(bt))return De=De.get(ze)||null,kt(Te,De,bt,Gt,null);vo(Te,bt)}return null}function Rt(De,Te,ze,bt){for(var Gt=null,fn=null,un=Te,On=Te=0,Rr=null;un!==null&&On<ze.length;On++){un.index>On?(Rr=un,un=null):Rr=un.sibling;var Rn=Zt(De,un,ze[On],bt);if(Rn===null){un===null&&(un=Rr);break}h&&un&&Rn.alternate===null&&p(De,un),Te=j(Rn,Te,On),fn===null?Gt=Rn:fn.sibling=Rn,fn=Rn,un=Rr}if(On===ze.length)return b(De,un),lr&&el(De,On),Gt;if(un===null){for(;On<ze.length;On++)un=cn(De,ze[On],bt),un!==null&&(Te=j(un,Te,On),fn===null?Gt=un:fn.sibling=un,fn=un);return lr&&el(De,On),Gt}for(un=A(De,un);On<ze.length;On++)Rr=yn(un,De,On,ze[On],bt),Rr!==null&&(h&&Rr.alternate!==null&&un.delete(Rr.key===null?On:Rr.key),Te=j(Rr,Te,On),fn===null?Gt=Rr:fn.sibling=Rr,fn=Rr);return h&&un.forEach(function(Gs){return p(De,Gs)}),lr&&el(De,On),Gt}function ii(De,Te,ze,bt){var Gt=R(ze);if(typeof Gt!="function")throw Error(s(150));if(ze=Gt.call(ze),ze==null)throw Error(s(151));for(var fn=Gt=null,un=Te,On=Te=0,Rr=null,Rn=ze.next();un!==null&&!Rn.done;On++,Rn=ze.next()){un.index>On?(Rr=un,un=null):Rr=un.sibling;var Gs=Zt(De,un,Rn.value,bt);if(Gs===null){un===null&&(un=Rr);break}h&&un&&Gs.alternate===null&&p(De,un),Te=j(Gs,Te,On),fn===null?Gt=Gs:fn.sibling=Gs,fn=Gs,un=Rr}if(Rn.done)return b(De,un),lr&&el(De,On),Gt;if(un===null){for(;!Rn.done;On++,Rn=ze.next())Rn=cn(De,Rn.value,bt),Rn!==null&&(Te=j(Rn,Te,On),fn===null?Gt=Rn:fn.sibling=Rn,fn=Rn);return lr&&el(De,On),Gt}for(un=A(De,un);!Rn.done;On++,Rn=ze.next())Rn=yn(un,De,On,Rn.value,bt),Rn!==null&&(h&&Rn.alternate!==null&&un.delete(Rn.key===null?On:Rn.key),Te=j(Rn,Te,On),fn===null?Gt=Rn:fn.sibling=Rn,fn=Rn);return h&&un.forEach(function(lm){return p(De,lm)}),lr&&el(De,On),Gt}function ua(De,Te,ze,bt){if(typeof ze=="object"&&ze!==null&&ze.type===f&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case c:e:{for(var Gt=ze.key,fn=Te;fn!==null;){if(fn.key===Gt){if(Gt=ze.type,Gt===f){if(fn.tag===7){b(De,fn.sibling),Te=L(fn,ze.props.children),Te.return=De,De=Te;break e}}else if(fn.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===C&&fc(Gt)===fn.type){b(De,fn.sibling),Te=L(fn,ze.props),Te.ref=dc(De,fn,ze),Te.return=De,De=Te;break e}b(De,fn);break}else p(De,fn);fn=fn.sibling}ze.type===f?(Te=El(ze.props.children,De.mode,bt,ze.key),Te.return=De,De=Te):(bt=Vf(ze.type,ze.key,ze.props,null,De.mode,bt),bt.ref=dc(De,Te,ze),bt.return=De,De=bt)}return ce(De);case d:e:{for(fn=ze.key;Te!==null;){if(Te.key===fn)if(Te.tag===4&&Te.stateNode.containerInfo===ze.containerInfo&&Te.stateNode.implementation===ze.implementation){b(De,Te.sibling),Te=L(Te,ze.children||[]),Te.return=De,De=Te;break e}else{b(De,Te);break}else p(De,Te);Te=Te.sibling}Te=jf(ze,De.mode,bt),Te.return=De,De=Te}return ce(De);case C:return fn=ze._init,ua(De,Te,fn(ze._payload),bt)}if(te(ze))return Rt(De,Te,ze,bt);if(R(ze))return ii(De,Te,ze,bt);vo(De,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"?(ze=""+ze,Te!==null&&Te.tag===6?(b(De,Te.sibling),Te=L(Te,ze),Te.return=De,De=Te):(b(De,Te),Te=Hf(ze,De.mode,bt),Te.return=De,De=Te),ce(De)):b(De,Te)}return ua}var Os=Vy(!0),Hy=Vy(!1),hc={},zi=ar(hc),tl=ar(hc),nl=ar(hc);function $a(h){if(h===hc)throw Error(s(174));return h}function gf(h,p){vt(nl,p),vt(tl,h),vt(zi,hc),h=ue(p),Lt(zi),vt(zi,h)}function pc(){Lt(zi),Lt(tl),Lt(nl)}function jy(h){var p=$a(nl.current),b=$a(zi.current);p=G(b,h.type,p),b!==p&&(vt(tl,h),vt(zi,p))}function Op(h){tl.current===h&&(Lt(zi),Lt(tl))}var fr=ar(0);function yf(h){for(var p=h;p!==null;){if(p.tag===13){var b=p.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||Jt(b)||Pt(b)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var ra=[];function rl(){for(var h=0;h<ra.length;h++){var p=ra[h];ft?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}ra.length=0}var fu=o.ReactCurrentDispatcher,ia=o.ReactCurrentBatchConfig,il=0,hr=null,Hr=null,jr=null,vf=!1,cs=!1,al=0,hu=0;function $r(){throw Error(s(321))}function _f(h,p){if(p===null)return!1;for(var b=0;b<p.length&&b<h.length;b++)if(!Si(h[b],p[b]))return!1;return!0}function mc(h,p,b,A,L,j){if(il=j,hr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,fu.current=h===null||h.memoizedState===null?Up:Bp,h=b(A,L),cs){j=0;do{if(cs=!1,al=0,25<=j)throw Error(s(301));j+=1,jr=Hr=null,p.updateQueue=null,fu.current=zp,h=b(A,L)}while(cs)}if(fu.current=_c,p=Hr!==null&&Hr.next!==null,il=0,jr=Hr=hr=null,vf=!1,p)throw Error(s(300));return h}function _o(){var h=al!==0;return al=0,h}function Wa(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jr===null?hr.memoizedState=jr=h:jr=jr.next=h,jr}function Ga(){if(Hr===null){var h=hr.alternate;h=h!==null?h.memoizedState:null}else h=Hr.next;var p=jr===null?hr.memoizedState:jr.next;if(p!==null)jr=p,Hr=h;else{if(h===null)throw Error(s(310));Hr=h,h={memoizedState:Hr.memoizedState,baseState:Hr.baseState,baseQueue:Hr.baseQueue,queue:Hr.queue,next:null},jr===null?hr.memoizedState=jr=h:jr=jr.next=h}return jr}function us(h,p){return typeof p=="function"?p(h):p}function pu(h){var p=Ga(),b=p.queue;if(b===null)throw Error(s(311));b.lastRenderedReducer=h;var A=Hr,L=A.baseQueue,j=b.pending;if(j!==null){if(L!==null){var ce=L.next;L.next=j.next,j.next=ce}A.baseQueue=L=j,b.pending=null}if(L!==null){j=L.next,A=A.baseState;var Ee=ce=null,je=null,dt=j;do{var kt=dt.lane;if((il&kt)===kt)je!==null&&(je=je.next={lane:0,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null}),A=dt.hasEagerState?dt.eagerState:h(A,dt.action);else{var cn={lane:kt,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null};je===null?(Ee=je=cn,ce=A):je=je.next=cn,hr.lanes|=kt,fs|=kt}dt=dt.next}while(dt!==null&&dt!==j);je===null?ce=A:je.next=Ee,Si(A,p.memoizedState)||(Wr=!0),p.memoizedState=A,p.baseState=ce,p.baseQueue=je,b.lastRenderedState=A}if(h=b.interleaved,h!==null){L=h;do j=L.lane,hr.lanes|=j,fs|=j,L=L.next;while(L!==h)}else L===null&&(b.lanes=0);return[p.memoizedState,b.dispatch]}function mu(h){var p=Ga(),b=p.queue;if(b===null)throw Error(s(311));b.lastRenderedReducer=h;var A=b.dispatch,L=b.pending,j=p.memoizedState;if(L!==null){b.pending=null;var ce=L=L.next;do j=h(j,ce.action),ce=ce.next;while(ce!==L);Si(j,p.memoizedState)||(Wr=!0),p.memoizedState=j,p.baseQueue===null&&(p.baseState=j),b.lastRenderedState=j}return[j,A]}function kp(){}function Fp(h,p){var b=hr,A=Ga(),L=p(),j=!Si(A.memoizedState,L);if(j&&(A.memoizedState=L,Wr=!0),A=A.queue,gc(ks.bind(null,b,A,h),[h]),A.getSnapshot!==p||j||jr!==null&&jr.memoizedState.tag&1){if(b.flags|=2048,yu(9,Lp.bind(null,b,A,L,p),void 0,null),wr===null)throw Error(s(349));il&30||Dp(b,p,L)}return L}function Dp(h,p,b){h.flags|=16384,h={getSnapshot:p,value:b},p=hr.updateQueue,p===null?(p={lastEffect:null,stores:null},hr.updateQueue=p,p.stores=[h]):(b=p.stores,b===null?p.stores=[h]:b.push(h))}function Lp(h,p,b,A){p.value=b,p.getSnapshot=A,xf(p)&&di(h,1,-1)}function ks(h,p,b){return b(function(){xf(p)&&di(h,1,-1)})}function xf(h){var p=h.getSnapshot;h=h.value;try{var b=p();return!Si(h,b)}catch{return!0}}function gu(h){var p=Wa();return typeof h=="function"&&(h=h()),p.memoizedState=p.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:h},p.queue=h,h=h.dispatch=pS.bind(null,hr,h),[p.memoizedState,h]}function yu(h,p,b,A){return h={tag:h,create:p,destroy:b,deps:A,next:null},p=hr.updateQueue,p===null?(p={lastEffect:null,stores:null},hr.updateQueue=p,p.lastEffect=h.next=h):(b=p.lastEffect,b===null?p.lastEffect=h.next=h:(A=b.next,b.next=h,h.next=A,p.lastEffect=h)),h}function $y(){return Ga().memoizedState}function xo(h,p,b,A){var L=Wa();hr.flags|=h,L.memoizedState=yu(1|p,b,void 0,A===void 0?null:A)}function Sf(h,p,b,A){var L=Ga();A=A===void 0?null:A;var j=void 0;if(Hr!==null){var ce=Hr.memoizedState;if(j=ce.destroy,A!==null&&_f(A,ce.deps)){L.memoizedState=yu(p,b,j,A);return}}hr.flags|=h,L.memoizedState=yu(1|p,b,j,A)}function Ef(h,p){return xo(8390656,8,h,p)}function gc(h,p){return Sf(2048,8,h,p)}function nr(h,p){return Sf(4,2,h,p)}function wf(h,p){return Sf(4,4,h,p)}function vu(h,p){if(typeof p=="function")return h=h(),p(h),function(){p(null)};if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function yc(h,p,b){return b=b!=null?b.concat([h]):null,Sf(4,4,vu.bind(null,p,h),b)}function Cf(){}function bf(h,p){var b=Ga();p=p===void 0?null:p;var A=b.memoizedState;return A!==null&&p!==null&&_f(p,A[1])?A[0]:(b.memoizedState=[h,p],h)}function vc(h,p){var b=Ga();p=p===void 0?null:p;var A=b.memoizedState;return A!==null&&p!==null&&_f(p,A[1])?A[0]:(h=h(),b.memoizedState=[h,p],h)}function Mf(h,p){var b=Sn;Sn=b!==0&&4>b?b:4,h(!0);var A=ia.transition;ia.transition={};try{h(!1),p()}finally{Sn=b,ia.transition=A}}function sl(){return Ga().memoizedState}function Wy(h,p,b){var A=Qa(h);b={lane:A,action:b,hasEagerState:!1,eagerState:null,next:null},Gy(h)?Np(p,b):(_u(h,p,b),b=Dn(),h=di(h,A,b),h!==null&&xu(h,p,A))}function pS(h,p,b){var A=Qa(h),L={lane:A,action:b,hasEagerState:!1,eagerState:null,next:null};if(Gy(h))Np(p,L);else{_u(h,p,L);var j=h.alternate;if(h.lanes===0&&(j===null||j.lanes===0)&&(j=p.lastRenderedReducer,j!==null))try{var ce=p.lastRenderedState,Ee=j(ce,b);if(L.hasEagerState=!0,L.eagerState=Ee,Si(Ee,ce))return}catch{}finally{}b=Dn(),h=di(h,A,b),h!==null&&xu(h,p,A)}}function Gy(h){var p=h.alternate;return h===hr||p!==null&&p===hr}function Np(h,p){cs=vf=!0;var b=h.pending;b===null?p.next=p:(p.next=b.next,b.next=p),h.pending=p}function _u(h,p,b){wr!==null&&h.mode&1&&!(mn&2)?(h=p.interleaved,h===null?(b.next=b,ba===null?ba=[p]:ba.push(p)):(b.next=h.next,h.next=b),p.interleaved=b):(h=p.pending,h===null?b.next=b:(b.next=h.next,h.next=b),p.pending=b)}function xu(h,p,b){if(b&4194240){var A=p.lanes;A&=h.pendingLanes,b|=A,p.lanes=b,os(h,b)}}var _c={readContext:Bi,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useInsertionEffect:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useMutableSource:$r,useSyncExternalStore:$r,useId:$r,unstable_isNewReconciler:!1},Up={readContext:Bi,useCallback:function(h,p){return Wa().memoizedState=[h,p===void 0?null:p],h},useContext:Bi,useEffect:Ef,useImperativeHandle:function(h,p,b){return b=b!=null?b.concat([h]):null,xo(4194308,4,vu.bind(null,p,h),b)},useLayoutEffect:function(h,p){return xo(4194308,4,h,p)},useInsertionEffect:function(h,p){return xo(4,2,h,p)},useMemo:function(h,p){var b=Wa();return p=p===void 0?null:p,h=h(),b.memoizedState=[h,p],h},useReducer:function(h,p,b){var A=Wa();return p=b!==void 0?b(p):p,A.memoizedState=A.baseState=p,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:p},A.queue=h,h=h.dispatch=Wy.bind(null,hr,h),[A.memoizedState,h]},useRef:function(h){var p=Wa();return h={current:h},p.memoizedState=h},useState:gu,useDebugValue:Cf,useDeferredValue:function(h){var p=gu(h),b=p[0],A=p[1];return Ef(function(){var L=ia.transition;ia.transition={};try{A(h)}finally{ia.transition=L}},[h]),b},useTransition:function(){var h=gu(!1),p=h[0];return h=Mf.bind(null,h[1]),Wa().memoizedState=h,[p,h]},useMutableSource:function(){},useSyncExternalStore:function(h,p,b){var A=hr,L=Wa();if(lr){if(b===void 0)throw Error(s(407));b=b()}else{if(b=p(),wr===null)throw Error(s(349));il&30||Dp(A,p,b)}L.memoizedState=b;var j={value:b,getSnapshot:p};return L.queue=j,Ef(ks.bind(null,A,j,h),[h]),A.flags|=2048,yu(9,Lp.bind(null,A,j,b,p),void 0,null),b},useId:function(){var h=Wa(),p=wr.identifierPrefix;if(lr){var b=Is,A=Rs;b=(A&~(1<<32-Ni(A)-1)).toString(32)+b,p=":"+p+"R"+b,b=al++,0<b&&(p+="H"+b.toString(32)),p+=":"}else b=hu++,p=":"+p+"r"+b.toString(32)+":";return h.memoizedState=p},unstable_isNewReconciler:!1},Bp={readContext:Bi,useCallback:bf,useContext:Bi,useEffect:gc,useImperativeHandle:yc,useInsertionEffect:nr,useLayoutEffect:wf,useMemo:vc,useReducer:pu,useRef:$y,useState:function(){return pu(us)},useDebugValue:Cf,useDeferredValue:function(h){var p=pu(us),b=p[0],A=p[1];return gc(function(){var L=ia.transition;ia.transition={};try{A(h)}finally{ia.transition=L}},[h]),b},useTransition:function(){var h=pu(us)[0],p=Ga().memoizedState;return[h,p]},useMutableSource:kp,useSyncExternalStore:Fp,useId:sl,unstable_isNewReconciler:!1},zp={readContext:Bi,useCallback:bf,useContext:Bi,useEffect:gc,useImperativeHandle:yc,useInsertionEffect:nr,useLayoutEffect:wf,useMemo:vc,useReducer:mu,useRef:$y,useState:function(){return mu(us)},useDebugValue:Cf,useDeferredValue:function(h){var p=mu(us),b=p[0],A=p[1];return gc(function(){var L=ia.transition;ia.transition={};try{A(h)}finally{ia.transition=L}},[h]),b},useTransition:function(){var h=mu(us)[0],p=Ga().memoizedState;return[h,p]},useMutableSource:kp,useSyncExternalStore:Fp,useId:sl,unstable_isNewReconciler:!1};function Vp(h,p){try{var b="",A=p;do b+=wp(A),A=A.return;while(A);var L=b}catch(j){L=`
Error generating stack: `+j.message+`
`+j.stack}return{value:h,source:p,stack:L}}function Tf(h,p){try{console.error(p.value)}catch(b){setTimeout(function(){throw b})}}var mS=typeof WeakMap=="function"?WeakMap:Map;function qy(h,p,b){b=Ps(-1,b),b.tag=3,b.payload={element:null};var A=p.value;return b.callback=function(){bc||(bc=!0,or=A),Tf(h,p)},b}function Af(h,p,b){b=Ps(-1,b),b.tag=3;var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var L=p.value;b.payload=function(){return A(L)},b.callback=function(){Tf(h,p)}}var j=h.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(b.callback=function(){Tf(h,p),typeof A!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var ce=p.stack;this.componentDidCatch(p.value,{componentStack:ce!==null?ce:""})}),b}function Fs(h,p,b){var A=h.pingCache;if(A===null){A=h.pingCache=new mS;var L=new Set;A.set(p,L)}else L=A.get(p),L===void 0&&(L=new Set,A.set(p,L));L.has(b)||(L.add(b),h=am.bind(null,h,p,b),p.then(h,h))}function Hp(h){do{var p;if((p=h.tag===13)&&(p=h.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return h;h=h.return}while(h!==null);return null}function ol(h,p,b,A,L){return h.mode&1?(h.flags|=65536,h.lanes=L,h):(h===p?h.flags|=65536:(h.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(p=Ps(-1,1),p.tag=2,mo(b,p))),b.lanes|=1),h)}function Nr(h){h.flags|=4}function xc(h,p){if(h!==null&&h.child===p.child)return!0;if(p.flags&16)return!1;for(h=p.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var aa,ll,Pf,Rf;if(wt)aa=function(h,p){for(var b=p.child;b!==null;){if(b.tag===5||b.tag===6)ne(h,b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},ll=function(){},Pf=function(h,p,b,A,L){if(h=h.memoizedProps,h!==A){var j=p.stateNode,ce=$a(zi.current);b=me(j,b,h,A,L,ce),(p.updateQueue=b)&&Nr(p)}},Rf=function(h,p,b,A){b!==A&&Nr(p)};else if(Z){aa=function(h,p,b,A){for(var L=p.child;L!==null;){if(L.tag===5){var j=L.stateNode;b&&A&&(j=Ze(j,L.type,L.memoizedProps,L)),ne(h,j)}else if(L.tag===6)j=L.stateNode,b&&A&&(j=ut(j,L.memoizedProps,L)),ne(h,j);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)j=L.child,j!==null&&(j.return=L),aa(h,L,!0,!0);else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===p)break;for(;L.sibling===null;){if(L.return===null||L.return===p)return;L=L.return}L.sibling.return=L.return,L=L.sibling}};var So=function(h,p,b,A){for(var L=p.child;L!==null;){if(L.tag===5){var j=L.stateNode;b&&A&&(j=Ze(j,L.type,L.memoizedProps,L)),ge(h,j)}else if(L.tag===6)j=L.stateNode,b&&A&&(j=ut(j,L.memoizedProps,L)),ge(h,j);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)j=L.child,j!==null&&(j.return=L),So(h,L,!0,!0);else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===p)break;for(;L.sibling===null;){if(L.return===null||L.return===p)return;L=L.return}L.sibling.return=L.return,L=L.sibling}};ll=function(h,p){var b=p.stateNode;if(!xc(h,p)){h=b.containerInfo;var A=Xt(h);So(A,p,!1,!1),b.pendingChildren=A,Nr(p),Me(h,A)}},Pf=function(h,p,b,A,L){var j=h.stateNode,ce=h.memoizedProps;if((h=xc(h,p))&&ce===A)p.stateNode=j;else{var Ee=p.stateNode,je=$a(zi.current),dt=null;ce!==A&&(dt=me(Ee,b,ce,A,L,je)),h&&dt===null?p.stateNode=j:(j=Ut(j,dt,b,ce,A,p,h,Ee),we(j,b,A,L,je)&&Nr(p),p.stateNode=j,h?Nr(p):aa(j,p,!1,!1))}},Rf=function(h,p,b,A){b!==A?(h=$a(nl.current),b=$a(zi.current),p.stateNode=Pe(A,h,b,p),Nr(p)):p.stateNode=h.stateNode}}else ll=function(){},Pf=function(){},Rf=function(){};function Ds(h,p){if(!lr)switch(h.tailMode){case"hidden":p=h.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?h.tail=null:b.sibling=null;break;case"collapsed":b=h.tail;for(var A=null;b!==null;)b.alternate!==null&&(A=b),b=b.sibling;A===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:A.sibling=null}}function Er(h){var p=h.alternate!==null&&h.alternate.child===h.child,b=0,A=0;if(p)for(var L=h.child;L!==null;)b|=L.lanes|L.childLanes,A|=L.subtreeFlags&14680064,A|=L.flags&14680064,L.return=h,L=L.sibling;else for(L=h.child;L!==null;)b|=L.lanes|L.childLanes,A|=L.subtreeFlags,A|=L.flags,L.return=h,L=L.sibling;return h.subtreeFlags|=A,h.childLanes=b,p}function If(h,p,b){var A=p.pendingProps;switch(Pp(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(p),null;case 1:return Sr(p.type)&&$n(),Er(p),null;case 3:return A=p.stateNode,pc(),Lt(tr),Lt(sn),rl(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(h===null||h.child===null)&&(du(p)?Nr(p):h===null||h.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,Aa!==null&&(ku(Aa),Aa=null))),ll(h,p),Er(p),null;case 5:Op(p),b=$a(nl.current);var L=p.type;if(h!==null&&p.stateNode!=null)Pf(h,p,L,A,b),h.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!A){if(p.stateNode===null)throw Error(s(166));return Er(p),null}if(h=$a(zi.current),du(p)){if(!Be)throw Error(s(175));h=dn(p.stateNode,p.type,p.memoizedProps,b,h,p,!cc),p.updateQueue=h,h!==null&&Nr(p)}else{var j=X(L,A,b,h,p);aa(j,p,!1,!1),p.stateNode=j,we(j,L,A,b,h)&&Nr(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Er(p),null;case 6:if(h&&p.stateNode!=null)Rf(h,p,h.memoizedProps,A);else{if(typeof A!="string"&&p.stateNode===null)throw Error(s(166));if(h=$a(nl.current),b=$a(zi.current),du(p)){if(!Be)throw Error(s(176));if(h=p.stateNode,A=p.memoizedProps,(b=Dt(h,A,p,!cc))&&(L=wi,L!==null))switch(j=(L.mode&1)!==0,L.tag){case 3:et(L.stateNode.containerInfo,h,A,j);break;case 5:mt(L.type,L.memoizedProps,L.stateNode,h,A,j)}b&&Nr(p)}else p.stateNode=Pe(A,h,b,p)}return Er(p),null;case 13:if(Lt(fr),A=p.memoizedState,lr&&Zr!==null&&p.mode&1&&!(p.flags&128)){for(h=Zr;h;)h=gn(h);return uc(),p.flags|=98560,p}if(A!==null&&A.dehydrated!==null){if(A=du(p),h===null){if(!A)throw Error(s(318));if(!Be)throw Error(s(344));if(h=p.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));pn(h,p)}else uc(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return Er(p),null}return Aa!==null&&(ku(Aa),Aa=null),p.flags&128?(p.lanes=b,p):(A=A!==null,b=!1,h===null?du(p):b=h.memoizedState!==null,A&&!b&&(p.child.flags|=8192,p.mode&1&&(h===null||fr.current&1?vr===0&&(vr=3):Uf())),p.updateQueue!==null&&(p.flags|=4),Er(p),null);case 4:return pc(),ll(h,p),h===null&&qe(p.stateNode.containerInfo),Er(p),null;case 10:return uu(p.type._context),Er(p),null;case 17:return Sr(p.type)&&$n(),Er(p),null;case 19:if(Lt(fr),L=p.memoizedState,L===null)return Er(p),null;if(A=(p.flags&128)!==0,j=L.rendering,j===null)if(A)Ds(L,!1);else{if(vr!==0||h!==null&&h.flags&128)for(h=p.child;h!==null;){if(j=yf(h),j!==null){for(p.flags|=128,Ds(L,!1),h=j.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),p.subtreeFlags=0,h=b,A=p.child;A!==null;)b=A,L=h,b.flags&=14680066,j=b.alternate,j===null?(b.childLanes=0,b.lanes=L,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=j.childLanes,b.lanes=j.lanes,b.child=j.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=j.memoizedProps,b.memoizedState=j.memoizedState,b.updateQueue=j.updateQueue,b.type=j.type,L=j.dependencies,b.dependencies=L===null?null:{lanes:L.lanes,firstContext:L.firstContext}),A=A.sibling;return vt(fr,fr.current&1|2),p.child}h=h.sibling}L.tail!==null&&Lr()>Co&&(p.flags|=128,A=!0,Ds(L,!1),p.lanes=4194304)}else{if(!A)if(h=yf(j),h!==null){if(p.flags|=128,A=!0,h=h.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),Ds(L,!0),L.tail===null&&L.tailMode==="hidden"&&!j.alternate&&!lr)return Er(p),null}else 2*Lr()-L.renderingStartTime>Co&&b!==1073741824&&(p.flags|=128,A=!0,Ds(L,!1),p.lanes=4194304);L.isBackwards?(j.sibling=p.child,p.child=j):(h=L.last,h!==null?h.sibling=j:p.child=j,L.last=j)}return L.tail!==null?(p=L.tail,L.rendering=p,L.tail=p.sibling,L.renderingStartTime=Lr(),p.sibling=null,h=fr.current,vt(fr,A?h&1|2:h&1),p):(Er(p),null);case 22:case 23:return Fu(),A=p.memoizedState!==null,h!==null&&h.memoizedState!==null!==A&&(p.flags|=8192),A&&p.mode&1?ui&1073741824&&(Er(p),wt&&p.subtreeFlags&6&&(p.flags|=8192)):Er(p),null;case 24:return null;case 25:return null}throw Error(s(156,p.tag))}var jp=o.ReactCurrentOwner,Wr=!1;function yr(h,p,b,A){p.child=h===null?Hy(p,null,b,A):Os(p,h.child,b,A)}function rr(h,p,b,A,L){b=b.render;var j=p.ref;return sc(p,L),A=mc(h,p,b,A,j,L),b=_o(),h!==null&&!Wr?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~L,Vi(h,p,L)):(lr&&b&&Ap(p),p.flags|=1,yr(h,p,A,L),p.child)}function Zn(h,p,b,A,L){if(h===null){var j=b.type;return typeof j=="function"&&!zf(j)&&j.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(p.tag=15,p.type=j,Ls(h,p,j,A,L)):(h=Vf(b.type,null,A,p,p.mode,L),h.ref=p.ref,h.return=p,p.child=h)}if(j=h.child,!(h.lanes&L)){var ce=j.memoizedProps;if(b=b.compare,b=b!==null?b:ja,b(ce,A)&&h.ref===p.ref)return Vi(h,p,L)}return p.flags|=1,h=Ws(j,A),h.ref=p.ref,h.return=p,p.child=h}function Ls(h,p,b,A,L){if(h!==null&&ja(h.memoizedProps,A)&&h.ref===p.ref)if(Wr=!1,(h.lanes&L)!==0)h.flags&131072&&(Wr=!0);else return p.lanes=h.lanes,Vi(h,p,L);return Ns(h,p,b,A,L)}function ei(h,p,b){var A=p.pendingProps,L=A.children,j=h!==null?h.memoizedState:null;if(A.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},vt(yl,ui),ui|=b;else if(b&1073741824)p.memoizedState={baseLanes:0,cachePool:null},A=j!==null?j.baseLanes:b,vt(yl,ui),ui|=A;else return h=j!==null?j.baseLanes|b:b,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:h,cachePool:null},p.updateQueue=null,vt(yl,ui),ui|=h,null;else j!==null?(A=j.baseLanes|b,p.memoizedState=null):A=b,vt(yl,ui),ui|=A;return yr(h,p,L,b),p.child}function Ci(h,p){var b=p.ref;(h===null&&b!==null||h!==null&&h.ref!==b)&&(p.flags|=512,p.flags|=2097152)}function Ns(h,p,b,A,L){var j=Sr(b)?Di:sn.current;return j=dr(p,j),sc(p,L),b=mc(h,p,b,A,j,L),A=_o(),h!==null&&!Wr?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~L,Vi(h,p,L)):(lr&&A&&Ap(p),p.flags|=1,yr(h,p,b,L),p.child)}function cl(h,p,b,A,L){if(Sr(b)){var j=!0;Jr(p)}else j=!1;if(sc(p,L),p.stateNode===null)h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),Ny(p,b,A),Tp(p,b,A,L),A=!0;else if(h===null){var ce=p.stateNode,Ee=p.memoizedProps;ce.props=Ee;var je=ce.context,dt=b.contextType;typeof dt=="object"&&dt!==null?dt=Bi(dt):(dt=Sr(b)?Di:sn.current,dt=dr(p,dt));var kt=b.getDerivedStateFromProps,cn=typeof kt=="function"||typeof ce.getSnapshotBeforeUpdate=="function";cn||typeof ce.UNSAFE_componentWillReceiveProps!="function"&&typeof ce.componentWillReceiveProps!="function"||(Ee!==A||je!==dt)&&Uy(p,ce,A,dt),Ma=!1;var Zt=p.memoizedState;ce.state=Zt,uf(p,A,ce,L),je=p.memoizedState,Ee!==A||Zt!==je||tr.current||Ma?(typeof kt=="function"&&(bp(p,b,kt,A),je=p.memoizedState),(Ee=Ma||Mp(p,b,Ee,A,Zt,je,dt))?(cn||typeof ce.UNSAFE_componentWillMount!="function"&&typeof ce.componentWillMount!="function"||(typeof ce.componentWillMount=="function"&&ce.componentWillMount(),typeof ce.UNSAFE_componentWillMount=="function"&&ce.UNSAFE_componentWillMount()),typeof ce.componentDidMount=="function"&&(p.flags|=4194308)):(typeof ce.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=A,p.memoizedState=je),ce.props=A,ce.state=je,ce.context=dt,A=Ee):(typeof ce.componentDidMount=="function"&&(p.flags|=4194308),A=!1)}else{ce=p.stateNode,Cp(h,p),Ee=p.memoizedProps,dt=p.type===p.elementType?Ee:Ui(p.type,Ee),ce.props=dt,cn=p.pendingProps,Zt=ce.context,je=b.contextType,typeof je=="object"&&je!==null?je=Bi(je):(je=Sr(b)?Di:sn.current,je=dr(p,je));var yn=b.getDerivedStateFromProps;(kt=typeof yn=="function"||typeof ce.getSnapshotBeforeUpdate=="function")||typeof ce.UNSAFE_componentWillReceiveProps!="function"&&typeof ce.componentWillReceiveProps!="function"||(Ee!==cn||Zt!==je)&&Uy(p,ce,A,je),Ma=!1,Zt=p.memoizedState,ce.state=Zt,uf(p,A,ce,L);var Rt=p.memoizedState;Ee!==cn||Zt!==Rt||tr.current||Ma?(typeof yn=="function"&&(bp(p,b,yn,A),Rt=p.memoizedState),(dt=Ma||Mp(p,b,dt,A,Zt,Rt,je)||!1)?(kt||typeof ce.UNSAFE_componentWillUpdate!="function"&&typeof ce.componentWillUpdate!="function"||(typeof ce.componentWillUpdate=="function"&&ce.componentWillUpdate(A,Rt,je),typeof ce.UNSAFE_componentWillUpdate=="function"&&ce.UNSAFE_componentWillUpdate(A,Rt,je)),typeof ce.componentDidUpdate=="function"&&(p.flags|=4),typeof ce.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof ce.componentDidUpdate!="function"||Ee===h.memoizedProps&&Zt===h.memoizedState||(p.flags|=4),typeof ce.getSnapshotBeforeUpdate!="function"||Ee===h.memoizedProps&&Zt===h.memoizedState||(p.flags|=1024),p.memoizedProps=A,p.memoizedState=Rt),ce.props=A,ce.state=Rt,ce.context=je,A=dt):(typeof ce.componentDidUpdate!="function"||Ee===h.memoizedProps&&Zt===h.memoizedState||(p.flags|=4),typeof ce.getSnapshotBeforeUpdate!="function"||Ee===h.memoizedProps&&Zt===h.memoizedState||(p.flags|=1024),A=!1)}return ci(h,p,b,A,j,L)}function ci(h,p,b,A,L,j){Ci(h,p);var ce=(p.flags&128)!==0;if(!A&&!ce)return L&&ho(p,b,!1),Vi(h,p,j);A=p.stateNode,jp.current=p;var Ee=ce&&typeof b.getDerivedStateFromError!="function"?null:A.render();return p.flags|=1,h!==null&&ce?(p.child=Os(p,h.child,null,j),p.child=Os(p,null,Ee,j)):yr(h,p,Ee,j),p.memoizedState=A.state,L&&ho(p,b,!0),p.child}function Su(h){var p=h.stateNode;p.pendingContext?Li(h,p.pendingContext,p.pendingContext!==p.context):p.context&&Li(h,p.context,!1),gf(h,p.containerInfo)}function $p(h,p,b,A,L){return uc(),mf(L),p.flags|=256,yr(h,p,b,A),p.child}var Eu={dehydrated:null,treeContext:null,retryLane:0};function ul(h){return{baseLanes:h,cachePool:null}}function Wp(h,p,b){var A=p.pendingProps,L=fr.current,j=!1,ce=(p.flags&128)!==0,Ee;if((Ee=ce)||(Ee=h!==null&&h.memoizedState===null?!1:(L&2)!==0),Ee?(j=!0,p.flags&=-129):(h===null||h.memoizedState!==null)&&(L|=1),vt(fr,L&1),h===null)return yo(p),h=p.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(p.mode&1?Pt(h)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(L=A.children,h=A.fallback,j?(A=p.mode,j=p.child,L={mode:"hidden",children:L},!(A&1)&&j!==null?(j.childLanes=0,j.pendingProps=L):j=Nu(L,A,0,null),h=El(h,A,b,null),j.return=p,h.return=p,j.sibling=h,p.child=j,p.child.memoizedState=ul(b),p.memoizedState=Eu,h):qa(p,L));if(L=h.memoizedState,L!==null){if(Ee=L.dehydrated,Ee!==null){if(ce)return p.flags&256?(p.flags&=-257,Cu(h,p,b,Error(s(422)))):p.memoizedState!==null?(p.child=h.child,p.flags|=128,null):(j=A.fallback,L=p.mode,A=Nu({mode:"visible",children:A.children},L,0,null),j=El(j,L,b,null),j.flags|=2,A.return=p,j.return=p,A.sibling=j,p.child=A,p.mode&1&&Os(p,h.child,null,b),p.child.memoizedState=ul(b),p.memoizedState=Eu,j);if(!(p.mode&1))p=Cu(h,p,b,null);else if(Pt(Ee))p=Cu(h,p,b,Error(s(419)));else if(A=(b&h.childLanes)!==0,Wr||A){if(A=wr,A!==null){switch(b&-b){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}A=j&(A.suspendedLanes|b)?0:j,A!==0&&A!==L.retryLane&&(L.retryLane=A,di(h,A,-1))}Uf(),p=Cu(h,p,b,Error(s(421)))}else Jt(Ee)?(p.flags|=128,p.child=h.child,p=Jy.bind(null,h),hn(Ee,p),p=null):(b=L.treeContext,Be&&(Zr=Pn(Ee),wi=p,lr=!0,Aa=null,cc=!1,b!==null&&(Ta[na++]=Rs,Ta[na++]=Is,Ta[na++]=Zo,Rs=b.id,Is=b.overflow,Zo=p)),p=qa(p,p.pendingProps.children),p.flags|=4096);return p}return j?(A=Of(h,p,A.children,A.fallback,b),j=p.child,L=h.child.memoizedState,j.memoizedState=L===null?ul(b):{baseLanes:L.baseLanes|b,cachePool:null},j.childLanes=h.childLanes&~b,p.memoizedState=Eu,A):(b=wu(h,p,A.children,b),p.memoizedState=null,b)}return j?(A=Of(h,p,A.children,A.fallback,b),j=p.child,L=h.child.memoizedState,j.memoizedState=L===null?ul(b):{baseLanes:L.baseLanes|b,cachePool:null},j.childLanes=h.childLanes&~b,p.memoizedState=Eu,A):(b=wu(h,p,A.children,b),p.memoizedState=null,b)}function qa(h,p){return p=Nu({mode:"visible",children:p},h.mode,0,null),p.return=h,h.child=p}function wu(h,p,b,A){var L=h.child;return h=L.sibling,b=Ws(L,{mode:"visible",children:b}),!(p.mode&1)&&(b.lanes=A),b.return=p,b.sibling=null,h!==null&&(A=p.deletions,A===null?(p.deletions=[h],p.flags|=16):A.push(h)),p.child=b}function Of(h,p,b,A,L){var j=p.mode;h=h.child;var ce=h.sibling,Ee={mode:"hidden",children:b};return!(j&1)&&p.child!==h?(b=p.child,b.childLanes=0,b.pendingProps=Ee,p.deletions=null):(b=Ws(h,Ee),b.subtreeFlags=h.subtreeFlags&14680064),ce!==null?A=Ws(ce,A):(A=El(A,j,L,null),A.flags|=2),A.return=p,b.return=p,b.sibling=A,p.child=b,A}function Cu(h,p,b,A){return A!==null&&mf(A),Os(p,h.child,null,b),h=qa(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function Xy(h,p,b){h.lanes|=p;var A=h.alternate;A!==null&&(A.lanes|=p),Jo(h.return,p,b)}function ds(h,p,b,A,L){var j=h.memoizedState;j===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:A,tail:b,tailMode:L}:(j.isBackwards=p,j.rendering=null,j.renderingStartTime=0,j.last=A,j.tail=b,j.tailMode=L)}function dl(h,p,b){var A=p.pendingProps,L=A.revealOrder,j=A.tail;if(yr(h,p,A.children,b),A=fr.current,A&2)A=A&1|2,p.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&Xy(h,b,p);else if(h.tag===19)Xy(h,b,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}A&=1}if(vt(fr,A),!(p.mode&1))p.memoizedState=null;else switch(L){case"forwards":for(b=p.child,L=null;b!==null;)h=b.alternate,h!==null&&yf(h)===null&&(L=b),b=b.sibling;b=L,b===null?(L=p.child,p.child=null):(L=b.sibling,b.sibling=null),ds(p,!1,L,b,j);break;case"backwards":for(b=null,L=p.child,p.child=null;L!==null;){if(h=L.alternate,h!==null&&yf(h)===null){p.child=L;break}h=L.sibling,L.sibling=b,b=L,L=h}ds(p,!0,b,null,j);break;case"together":ds(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Vi(h,p,b){if(h!==null&&(p.dependencies=h.dependencies),fs|=p.lanes,!(b&p.childLanes))return null;if(h!==null&&p.child!==h.child)throw Error(s(153));if(p.child!==null){for(h=p.child,b=Ws(h,h.pendingProps),p.child=b,b.return=p;h.sibling!==null;)h=h.sibling,b=b.sibling=Ws(h,h.pendingProps),b.return=p;b.sibling=null}return p.child}function kf(h,p,b){switch(p.tag){case 3:Su(p),uc();break;case 5:jy(p);break;case 1:Sr(p.type)&&Jr(p);break;case 4:gf(p,p.stateNode.containerInfo);break;case 10:Ko(p,p.type._context,p.memoizedProps.value);break;case 13:var A=p.memoizedState;if(A!==null)return A.dehydrated!==null?(vt(fr,fr.current&1),p.flags|=128,null):b&p.child.childLanes?Wp(h,p,b):(vt(fr,fr.current&1),h=Vi(h,p,b),h!==null?h.sibling:null);vt(fr,fr.current&1);break;case 19:if(A=(b&p.childLanes)!==0,h.flags&128){if(A)return dl(h,p,b);p.flags|=128}var L=p.memoizedState;if(L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),vt(fr,fr.current),A)break;return null;case 22:case 23:return p.lanes=0,ei(h,p,b)}return Vi(h,p,b)}function Ff(h,p){switch(Pp(p),p.tag){case 1:return Sr(p.type)&&$n(),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return pc(),Lt(tr),Lt(sn),rl(),h=p.flags,h&65536&&!(h&128)?(p.flags=h&-65537|128,p):null;case 5:return Op(p),null;case 13:if(Lt(fr),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(s(340));uc()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return Lt(fr),null;case 4:return pc(),null;case 10:return uu(p.type._context),null;case 22:case 23:return Fu(),null;case 24:return null;default:return null}}var bi=!1,Gr=!1,fl=typeof WeakSet=="function"?WeakSet:Set,_t=null;function Pa(h,p){var b=h.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(A){Ti(h,p,A)}else b.current=null}function Us(h,p,b){try{b()}catch(A){Ti(h,p,A)}}var Gp=!1;function qp(h,p){for(le(h.containerInfo),_t=p;_t!==null;)if(h=_t,p=h.child,(h.subtreeFlags&1028)!==0&&p!==null)p.return=h,_t=p;else for(;_t!==null;){h=_t;try{var b=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var A=b.memoizedProps,L=b.memoizedState,j=h.stateNode,ce=j.getSnapshotBeforeUpdate(h.elementType===h.type?A:Ui(h.type,A),L);j.__reactInternalSnapshotBeforeUpdate=ce}break;case 3:wt&&lt(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Ee){Ti(h,h.return,Ee)}if(p=h.sibling,p!==null){p.return=h.return,_t=p;break}_t=h.return}return b=Gp,Gp=!1,b}function Bs(h,p,b){var A=p.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var L=A=A.next;do{if((L.tag&h)===h){var j=L.destroy;L.destroy=void 0,j!==void 0&&Us(p,b,j)}L=L.next}while(L!==A)}}function ti(h,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var b=p=p.next;do{if((b.tag&h)===h){var A=b.create;b.destroy=A()}b=b.next}while(b!==p)}}function Mi(h){var p=h.ref;if(p!==null){var b=h.stateNode;switch(h.tag){case 5:h=re(b);break;default:h=b}typeof p=="function"?p(h):p.current=h}}function sr(h,p,b){if(ls&&typeof ls.onCommitFiberUnmount=="function")try{ls.onCommitFiberUnmount(su,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(h=p.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var A=h=h.next;do{var L=A,j=L.destroy;L=L.tag,j!==void 0&&(L&2||L&4)&&Us(p,b,j),A=A.next}while(A!==h)}break;case 1:if(Pa(p,b),h=p.stateNode,typeof h.componentWillUnmount=="function")try{h.props=p.memoizedProps,h.state=p.memoizedState,h.componentWillUnmount()}catch(ce){Ti(p,b,ce)}break;case 5:Pa(p,b);break;case 4:wt?Qp(h,p,b):Z&&Z&&(p=p.stateNode.containerInfo,b=Xt(p),Re(p,b))}}function Ra(h,p,b){for(var A=p;;)if(sr(h,A,b),A.child===null||wt&&A.tag===4){if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function Xp(h){var p=h.alternate;p!==null&&(h.alternate=null,Xp(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&xt(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function Yp(h){return h.tag===5||h.tag===3||h.tag===4}function Df(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||Yp(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Lf(h){if(wt){e:{for(var p=h.return;p!==null;){if(Yp(p))break e;p=p.return}throw Error(s(160))}var b=p;switch(b.tag){case 5:p=b.stateNode,b.flags&32&&(tt(p),b.flags&=-33),b=Df(h),Sc(h,b,p);break;case 3:case 4:p=b.stateNode.containerInfo,b=Df(h),Nf(h,b,p);break;default:throw Error(s(161))}}}function Nf(h,p,b){var A=h.tag;if(A===5||A===6)h=h.stateNode,p?Ve(b,h,p):B(b,h);else if(A!==4&&(h=h.child,h!==null))for(Nf(h,p,b),h=h.sibling;h!==null;)Nf(h,p,b),h=h.sibling}function Sc(h,p,b){var A=h.tag;if(A===5||A===6)h=h.stateNode,p?ve(b,h,p):F(b,h);else if(A!==4&&(h=h.child,h!==null))for(Sc(h,p,b),h=h.sibling;h!==null;)Sc(h,p,b),h=h.sibling}function Qp(h,p,b){for(var A=p,L=!1,j,ce;;){if(!L){L=A.return;e:for(;;){if(L===null)throw Error(s(160));switch(j=L.stateNode,L.tag){case 5:ce=!1;break e;case 3:j=j.containerInfo,ce=!0;break e;case 4:j=j.containerInfo,ce=!0;break e}L=L.return}L=!0}if(A.tag===5||A.tag===6)Ra(h,A,b),ce?ke(j,A.stateNode):de(j,A.stateNode);else if(A.tag===18)ce?be(j,A.stateNode):Oe(j,A.stateNode);else if(A.tag===4){if(A.child!==null){j=A.stateNode.containerInfo,ce=!0,A.child.return=A,A=A.child;continue}}else if(sr(h,A,b),A.child!==null){A.child.return=A,A=A.child;continue}if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return,A.tag===4&&(L=!1)}A.sibling.return=A.return,A=A.sibling}}function Eo(h,p){if(wt){switch(p.tag){case 0:case 11:case 14:case 15:Bs(3,p,p.return),ti(3,p),Bs(5,p,p.return);return;case 1:return;case 5:var b=p.stateNode;if(b!=null){var A=p.memoizedProps;h=h!==null?h.memoizedProps:A;var L=p.type,j=p.updateQueue;p.updateQueue=null,j!==null&&pe(b,j,L,h,A,p)}return;case 6:if(p.stateNode===null)throw Error(s(162));b=p.memoizedProps,Q(p.stateNode,h!==null?h.memoizedProps:b,b);return;case 3:Be&&h!==null&&h.memoizedState.isDehydrated&&xe(p.stateNode.containerInfo);return;case 12:return;case 13:Ec(p);return;case 19:Ec(p);return;case 17:return}throw Error(s(163))}switch(p.tag){case 0:case 11:case 14:case 15:Bs(3,p,p.return),ti(3,p),Bs(5,p,p.return);return;case 12:return;case 13:Ec(p);return;case 19:Ec(p);return;case 3:Be&&h!==null&&h.memoizedState.isDehydrated&&xe(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(Z){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,Re(p.containerInfo,p.pendingChildren);break e}throw Error(s(163))}}function Ec(h){var p=h.updateQueue;if(p!==null){h.updateQueue=null;var b=h.stateNode;b===null&&(b=h.stateNode=new fl),p.forEach(function(A){var L=Zy.bind(null,h,A);b.has(A)||(b.add(A),A.then(L,L))})}}function gS(h,p){for(_t=p;_t!==null;){p=_t;var b=p.deletions;if(b!==null)for(var A=0;A<b.length;A++){var L=b[A];try{var j=h;wt?Qp(j,L,p):Ra(j,L,p);var ce=L.alternate;ce!==null&&(ce.return=null),L.return=null}catch(Gt){Ti(L,p,Gt)}}if(b=p.child,p.subtreeFlags&12854&&b!==null)b.return=p,_t=b;else for(;_t!==null;){p=_t;try{var Ee=p.flags;if(Ee&32&&wt&&tt(p.stateNode),Ee&512){var je=p.alternate;if(je!==null){var dt=je.ref;dt!==null&&(typeof dt=="function"?dt(null):dt.current=null)}}if(Ee&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var kt=p.alternate;(kt===null||kt.memoizedState===null)&&(Iu=Lr())}break;case 22:var cn=p.memoizedState!==null,Zt=p.alternate,yn=Zt!==null&&Zt.memoizedState!==null;if(b=p,wt){e:if(A=b,L=cn,j=null,wt)for(var Rt=A;;){if(Rt.tag===5){if(j===null){j=Rt;var ii=Rt.stateNode;L?fe(ii):He(Rt.stateNode,Rt.memoizedProps)}}else if(Rt.tag===6){if(j===null){var ua=Rt.stateNode;L?Ke(ua):$e(ua,Rt.memoizedProps)}}else if((Rt.tag!==22&&Rt.tag!==23||Rt.memoizedState===null||Rt===A)&&Rt.child!==null){Rt.child.return=Rt,Rt=Rt.child;continue}if(Rt===A)break;for(;Rt.sibling===null;){if(Rt.return===null||Rt.return===A)break e;j===Rt&&(j=null),Rt=Rt.return}j===Rt&&(j=null),Rt.sibling.return=Rt.return,Rt=Rt.sibling}}if(cn&&!yn&&b.mode&1){_t=b;for(var De=b.child;De!==null;){for(b=_t=De;_t!==null;){A=_t;var Te=A.child;switch(A.tag){case 0:case 11:case 14:case 15:Bs(4,A,A.return);break;case 1:Pa(A,A.return);var ze=A.stateNode;if(typeof ze.componentWillUnmount=="function"){var bt=A.return;try{ze.props=A.memoizedProps,ze.state=A.memoizedState,ze.componentWillUnmount()}catch(Gt){Ti(A,bt,Gt)}}break;case 5:Pa(A,A.return);break;case 22:if(A.memoizedState!==null){Jp(b);continue}}Te!==null?(Te.return=A,_t=Te):Jp(b)}De=De.sibling}}}switch(Ee&4102){case 2:Lf(p),p.flags&=-3;break;case 6:Lf(p),p.flags&=-3,Eo(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,Eo(p.alternate,p);break;case 4:Eo(p.alternate,p)}}catch(Gt){Ti(p,p.return,Gt)}if(b=p.sibling,b!==null){b.return=p.return,_t=b;break}_t=p.return}}}function bu(h,p,b){_t=h,Mu(h)}function Mu(h,p,b){for(var A=(h.mode&1)!==0;_t!==null;){var L=_t,j=L.child;if(L.tag===22&&A){var ce=L.memoizedState!==null||bi;if(!ce){var Ee=L.alternate,je=Ee!==null&&Ee.memoizedState!==null||Gr;Ee=bi;var dt=Gr;if(bi=ce,(Gr=je)&&!dt)for(_t=L;_t!==null;)ce=_t,je=ce.child,ce.tag===22&&ce.memoizedState!==null?hl(L):je!==null?(je.return=ce,_t=je):hl(L);for(;j!==null;)_t=j,Mu(j),j=j.sibling;_t=L,bi=Ee,Gr=dt}Kp(h)}else L.subtreeFlags&8772&&j!==null?(j.return=L,_t=j):Kp(h)}}function Kp(h){for(;_t!==null;){var p=_t;if(p.flags&8772){var b=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:Gr||ti(5,p);break;case 1:var A=p.stateNode;if(p.flags&4&&!Gr)if(b===null)A.componentDidMount();else{var L=p.elementType===p.type?b.memoizedProps:Ui(p.type,b.memoizedProps);A.componentDidUpdate(L,b.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var j=p.updateQueue;j!==null&&Dy(p,j,A);break;case 3:var ce=p.updateQueue;if(ce!==null){if(b=null,p.child!==null)switch(p.child.tag){case 5:b=re(p.child.stateNode);break;case 1:b=p.child.stateNode}Dy(p,ce,b)}break;case 5:var Ee=p.stateNode;b===null&&p.flags&4&&ie(Ee,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(Be&&p.memoizedState===null){var je=p.alternate;if(je!==null){var dt=je.memoizedState;if(dt!==null){var kt=dt.dehydrated;kt!==null&&Ae(kt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(s(163))}Gr||p.flags&512&&Mi(p)}catch(cn){Ti(p,p.return,cn)}}if(p===h){_t=null;break}if(b=p.sibling,b!==null){b.return=p.return,_t=b;break}_t=p.return}}function Jp(h){for(;_t!==null;){var p=_t;if(p===h){_t=null;break}var b=p.sibling;if(b!==null){b.return=p.return,_t=b;break}_t=p.return}}function hl(h){for(;_t!==null;){var p=_t;try{switch(p.tag){case 0:case 11:case 15:var b=p.return;try{ti(4,p)}catch(je){Ti(p,b,je)}break;case 1:var A=p.stateNode;if(typeof A.componentDidMount=="function"){var L=p.return;try{A.componentDidMount()}catch(je){Ti(p,L,je)}}var j=p.return;try{Mi(p)}catch(je){Ti(p,j,je)}break;case 5:var ce=p.return;try{Mi(p)}catch(je){Ti(p,ce,je)}}}catch(je){Ti(p,p.return,je)}if(p===h){_t=null;break}var Ee=p.sibling;if(Ee!==null){Ee.return=p.return,_t=Ee;break}_t=p.return}}var Tu=0,pl=1,ml=2,zs=3,wc=4;if(typeof Symbol=="function"&&Symbol.for){var gl=Symbol.for;Tu=gl("selector.component"),pl=gl("selector.has_pseudo_class"),ml=gl("selector.role"),zs=gl("selector.test_id"),wc=gl("selector.text")}function Au(h){var p=Ge(h);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(s(364));return p}if(h=K(h),h===null)throw Error(s(362));return h.stateNode.current}function Pu(h,p){switch(p.$$typeof){case Tu:if(h.type===p.value)return!0;break;case pl:e:{p=p.value,h=[h,0];for(var b=0;b<h.length;){var A=h[b++],L=h[b++],j=p[L];if(A.tag!==5||!Ye(A)){for(;j!=null&&Pu(A,j);)L++,j=p[L];if(L===p.length){p=!0;break e}else for(A=A.child;A!==null;)h.push(A,L),A=A.sibling}}p=!1}return p;case ml:if(h.tag===5&&We(h.stateNode,p.value))return!0;break;case wc:if((h.tag===5||h.tag===6)&&(h=Xe(h),h!==null&&0<=h.indexOf(p.value)))return!0;break;case zs:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function wo(h){switch(h.$$typeof){case Tu:return"<"+(P(h.value)||"Unknown")+">";case pl:return":has("+(wo(h)||"")+")";case ml:return'[role="'+h.value+'"]';case wc:return'"'+h.value+'"';case zs:return'[data-testname="'+h.value+'"]';default:throw Error(s(365))}}function sa(h,p){var b=[];h=[h,0];for(var A=0;A<h.length;){var L=h[A++],j=h[A++],ce=p[j];if(L.tag!==5||!Ye(L)){for(;ce!=null&&Pu(L,ce);)j++,ce=p[j];if(j===p.length)b.push(L);else for(L=L.child;L!==null;)h.push(L,j),L=L.sibling}}return b}function Vs(h,p){if(!se)throw Error(s(363));h=Au(h),h=sa(h,p),p=[],h=Array.from(h);for(var b=0;b<h.length;){var A=h[b++];if(A.tag===5)Ye(A)||p.push(A.stateNode);else for(A=A.child;A!==null;)h.push(A),A=A.sibling}return p}var Zp=Math.ceil,Ru=o.ReactCurrentDispatcher,Xa=o.ReactCurrentOwner,qn=o.ReactCurrentBatchConfig,mn=0,wr=null,Xn=null,cr=0,ui=0,yl=ar(0),vr=0,Cc=null,fs=0,oa=0,vl=0,Hs=null,Pr=null,Iu=0,Co=1/0;function _l(){Co=Lr()+500}var bc=!1,or=null,Ya=null,Mc=!1,hs=null,xl=0,Sl=0,js=null,ir=-1,_r=0;function Dn(){return mn&6?Lr():ir!==-1?ir:ir=Lr()}function Qa(h){return h.mode&1?mn&2&&cr!==0?cr&-cr:Fy.transition!==null?(_r===0&&(h=rc,rc<<=1,!(rc&4194240)&&(rc=64),_r=h),_r):(h=Sn,h!==0?h:Ue()):1}function di(h,p,b){if(50<Sl)throw Sl=0,js=null,Error(s(185));var A=bo(h,p);return A===null?null:(qo(A,p,b),(!(mn&2)||A!==wr)&&(A===wr&&(!(mn&2)&&(oa|=p),vr===4&&ri(A,cr)),Hi(A,b),p===1&&mn===0&&!(h.mode&1)&&(_l(),rf&&Ca())),A)}function bo(h,p){h.lanes|=p;var b=h.alternate;for(b!==null&&(b.lanes|=p),b=h,h=h.return;h!==null;)h.childLanes|=p,b=h.alternate,b!==null&&(b.childLanes|=p),b=h,h=h.return;return b.tag===3?b.stateNode:null}function Hi(h,p){var b=h.callbackNode;ky(h,p);var A=au(h,h===wr?cr:0);if(A===0)b!==null&&ac(b),h.callbackNode=null,h.callbackPriority=0;else if(p=A&-A,h.callbackPriority!==p){if(b!=null&&ac(b),p===1)h.tag===0?sf(la.bind(null,h)):af(la.bind(null,h)),st?yt(function(){mn===0&&Ca()}):Xo(Yo,Ca),b=null;else{switch(Ts(A)){case 1:b=Yo;break;case 4:b=hS;break;case 16:b=tf;break;case 536870912:b=nf;break;default:b=tf}b=Bf(b,ni.bind(null,h))}h.callbackPriority=p,h.callbackNode=b}}function ni(h,p){if(ir=-1,_r=0,mn&6)throw Error(s(327));var b=h.callbackNode;if(ps()&&h.callbackNode!==b)return null;var A=au(h,h===wr?cr:0);if(A===0)return null;if(A&30||A&h.expiredLanes||p)p=Du(h,A);else{p=A;var L=mn;mn|=2;var j=nm();(wr!==h||cr!==p)&&(_l(),$s(h,p));do try{Qy();break}catch(Ee){tm(h,Ee)}while(!0);Ei(),Ru.current=j,mn=L,Xn!==null?p=0:(wr=null,cr=0,p=vr)}if(p!==0){if(p===2&&(L=Jd(h),L!==0&&(A=L,p=Ou(h,L))),p===1)throw b=Cc,$s(h,0),ri(h,A),Hi(h,Lr()),b;if(p===6)ri(h,A);else{if(L=h.current.alternate,!(A&30)&&!em(L)&&(p=Du(h,A),p===2&&(j=Jd(h),j!==0&&(A=j,p=Ou(h,j))),p===1))throw b=Cc,$s(h,0),ri(h,A),Hi(h,Lr()),b;switch(h.finishedWork=L,h.finishedLanes=A,p){case 0:case 1:throw Error(s(345));case 2:Ka(h,Pr);break;case 3:if(ri(h,A),(A&130023424)===A&&(p=Iu+500-Lr(),10<p)){if(au(h,0)!==0)break;if(L=h.suspendedLanes,(L&A)!==A){Dn(),h.pingedLanes|=h.suspendedLanes&L;break}h.timeoutHandle=Le(Ka.bind(null,h,Pr),p);break}Ka(h,Pr);break;case 4:if(ri(h,A),(A&4194240)===A)break;for(p=h.eventTimes,L=-1;0<A;){var ce=31-Ni(A);j=1<<ce,ce=p[ce],ce>L&&(L=ce),A&=~j}if(A=L,A=Lr()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*Zp(A/1960))-A,10<A){h.timeoutHandle=Le(Ka.bind(null,h,Pr),A);break}Ka(h,Pr);break;case 5:Ka(h,Pr);break;default:throw Error(s(329))}}}return Hi(h,Lr()),h.callbackNode===b?ni.bind(null,h):null}function Ou(h,p){var b=Hs;return h.current.memoizedState.isDehydrated&&($s(h,p).flags|=256),h=Du(h,p),h!==2&&(p=Pr,Pr=b,p!==null&&ku(p)),h}function ku(h){Pr===null?Pr=h:Pr.push.apply(Pr,h)}function em(h){for(var p=h;;){if(p.flags&16384){var b=p.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var A=0;A<b.length;A++){var L=b[A],j=L.getSnapshot;L=L.value;try{if(!Si(j(),L))return!1}catch{return!1}}}if(b=p.child,p.subtreeFlags&16384&&b!==null)b.return=p,p=b;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function ri(h,p){for(p&=~vl,p&=~oa,h.suspendedLanes|=p,h.pingedLanes&=~p,h=h.expirationTimes;0<p;){var b=31-Ni(p),A=1<<b;h[b]=-1,p&=~A}}function la(h){if(mn&6)throw Error(s(327));ps();var p=au(h,0);if(!(p&1))return Hi(h,Lr()),null;var b=Du(h,p);if(h.tag!==0&&b===2){var A=Jd(h);A!==0&&(p=A,b=Ou(h,A))}if(b===1)throw b=Cc,$s(h,0),ri(h,p),Hi(h,Lr()),b;if(b===6)throw Error(s(345));return h.finishedWork=h.current.alternate,h.finishedLanes=p,Ka(h,Pr),Hi(h,Lr()),null}function Tc(h){hs!==null&&hs.tag===0&&!(mn&6)&&ps();var p=mn;mn|=1;var b=qn.transition,A=Sn;try{if(qn.transition=null,Sn=1,h)return h()}finally{Sn=A,qn.transition=b,mn=p,!(mn&6)&&Ca()}}function Fu(){ui=yl.current,Lt(yl)}function $s(h,p){h.finishedWork=null,h.finishedLanes=0;var b=h.timeoutHandle;if(b!==ot&&(h.timeoutHandle=ot,Je(b)),Xn!==null)for(b=Xn.return;b!==null;){var A=b;switch(Pp(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&$n();break;case 3:pc(),Lt(tr),Lt(sn),rl();break;case 5:Op(A);break;case 4:pc();break;case 13:Lt(fr);break;case 19:Lt(fr);break;case 10:uu(A.type._context);break;case 22:case 23:Fu()}b=b.return}if(wr=h,Xn=h=Ws(h.current,null),cr=ui=p,vr=0,Cc=null,vl=oa=fs=0,Pr=Hs=null,ba!==null){for(p=0;p<ba.length;p++)if(b=ba[p],A=b.interleaved,A!==null){b.interleaved=null;var L=A.next,j=b.pending;if(j!==null){var ce=j.next;j.next=L,A.next=ce}b.pending=A}ba=null}return h}function tm(h,p){do{var b=Xn;try{if(Ei(),fu.current=_c,vf){for(var A=hr.memoizedState;A!==null;){var L=A.queue;L!==null&&(L.pending=null),A=A.next}vf=!1}if(il=0,jr=Hr=hr=null,cs=!1,al=0,Xa.current=null,b===null||b.return===null){vr=1,Cc=p,Xn=null;break}e:{var j=h,ce=b.return,Ee=b,je=p;if(p=cr,Ee.flags|=32768,je!==null&&typeof je=="object"&&typeof je.then=="function"){var dt=je,kt=Ee,cn=kt.tag;if(!(kt.mode&1)&&(cn===0||cn===11||cn===15)){var Zt=kt.alternate;Zt?(kt.updateQueue=Zt.updateQueue,kt.memoizedState=Zt.memoizedState,kt.lanes=Zt.lanes):(kt.updateQueue=null,kt.memoizedState=null)}var yn=Hp(ce);if(yn!==null){yn.flags&=-257,ol(yn,ce,Ee,j,p),yn.mode&1&&Fs(j,dt,p),p=yn,je=dt;var Rt=p.updateQueue;if(Rt===null){var ii=new Set;ii.add(je),p.updateQueue=ii}else Rt.add(je);break e}else{if(!(p&1)){Fs(j,dt,p),Uf();break e}je=Error(s(426))}}else if(lr&&Ee.mode&1){var ua=Hp(ce);if(ua!==null){!(ua.flags&65536)&&(ua.flags|=256),ol(ua,ce,Ee,j,p),mf(je);break e}}j=je,vr!==4&&(vr=2),Hs===null?Hs=[j]:Hs.push(j),je=Vp(je,Ee),Ee=ce;do{switch(Ee.tag){case 3:Ee.flags|=65536,p&=-p,Ee.lanes|=p;var De=qy(Ee,je,p);cf(Ee,De);break e;case 1:j=je;var Te=Ee.type,ze=Ee.stateNode;if(!(Ee.flags&128)&&(typeof Te.getDerivedStateFromError=="function"||ze!==null&&typeof ze.componentDidCatch=="function"&&(Ya===null||!Ya.has(ze)))){Ee.flags|=65536,p&=-p,Ee.lanes|=p;var bt=Af(Ee,j,p);cf(Ee,bt);break e}}Ee=Ee.return}while(Ee!==null)}im(b)}catch(Gt){p=Gt,Xn===b&&b!==null&&(Xn=b=b.return);continue}break}while(!0)}function nm(){var h=Ru.current;return Ru.current=_c,h===null?_c:h}function Uf(){(vr===0||vr===3||vr===2)&&(vr=4),wr===null||!(fs&268435455)&&!(oa&268435455)||ri(wr,cr)}function Du(h,p){var b=mn;mn|=2;var A=nm();wr===h&&cr===p||$s(h,p);do try{Yy();break}catch(L){tm(h,L)}while(!0);if(Ei(),mn=b,Ru.current=A,Xn!==null)throw Error(s(261));return wr=null,cr=0,vr}function Yy(){for(;Xn!==null;)rm(Xn)}function Qy(){for(;Xn!==null&&!po();)rm(Xn)}function rm(h){var p=om(h.alternate,h,ui);h.memoizedProps=h.pendingProps,p===null?im(h):Xn=p,Xa.current=null}function im(h){var p=h;do{var b=p.alternate;if(h=p.return,p.flags&32768){if(b=Ff(b,p),b!==null){b.flags&=32767,Xn=b;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{vr=6,Xn=null;return}}else if(b=If(b,p,ui),b!==null){Xn=b;return}if(p=p.sibling,p!==null){Xn=p;return}Xn=p=h}while(p!==null);vr===0&&(vr=5)}function Ka(h,p){var b=Sn,A=qn.transition;try{qn.transition=null,Sn=1,Ky(h,p,b)}finally{qn.transition=A,Sn=b}return null}function Ky(h,p,b){do ps();while(hs!==null);if(mn&6)throw Error(s(327));var A=h.finishedWork,L=h.finishedLanes;if(A===null)return null;if(h.finishedWork=null,h.finishedLanes=0,A===h.current)throw Error(s(177));h.callbackNode=null,h.callbackPriority=0;var j=A.lanes|A.childLanes;if(ef(h,j),h===wr&&(Xn=wr=null,cr=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||Mc||(Mc=!0,Bf(tf,function(){return ps(),null})),j=(A.flags&15990)!==0,A.subtreeFlags&15990||j){j=qn.transition,qn.transition=null;var ce=Sn;Sn=1;var Ee=mn;mn|=4,Xa.current=null,qp(h,A),gS(h,A),oe(h.containerInfo),h.current=A,bu(A),fS(),mn=Ee,Sn=ce,qn.transition=j}else h.current=A;if(Mc&&(Mc=!1,hs=h,xl=L),j=h.pendingLanes,j===0&&(Ya=null),ou(A.stateNode),Hi(h,Lr()),p!==null)for(b=h.onRecoverableError,A=0;A<p.length;A++)b(p[A]);if(bc)throw bc=!1,h=or,or=null,h;return xl&1&&h.tag!==0&&ps(),j=h.pendingLanes,j&1?h===js?Sl++:(Sl=0,js=h):Sl=0,Ca(),null}function ps(){if(hs!==null){var h=Ts(xl),p=qn.transition,b=Sn;try{if(qn.transition=null,Sn=16>h?16:h,hs===null)var A=!1;else{if(h=hs,hs=null,xl=0,mn&6)throw Error(s(331));var L=mn;for(mn|=4,_t=h.current;_t!==null;){var j=_t,ce=j.child;if(_t.flags&16){var Ee=j.deletions;if(Ee!==null){for(var je=0;je<Ee.length;je++){var dt=Ee[je];for(_t=dt;_t!==null;){var kt=_t;switch(kt.tag){case 0:case 11:case 15:Bs(8,kt,j)}var cn=kt.child;if(cn!==null)cn.return=kt,_t=cn;else for(;_t!==null;){kt=_t;var Zt=kt.sibling,yn=kt.return;if(Xp(kt),kt===dt){_t=null;break}if(Zt!==null){Zt.return=yn,_t=Zt;break}_t=yn}}}var Rt=j.alternate;if(Rt!==null){var ii=Rt.child;if(ii!==null){Rt.child=null;do{var ua=ii.sibling;ii.sibling=null,ii=ua}while(ii!==null)}}_t=j}}if(j.subtreeFlags&2064&&ce!==null)ce.return=j,_t=ce;else e:for(;_t!==null;){if(j=_t,j.flags&2048)switch(j.tag){case 0:case 11:case 15:Bs(9,j,j.return)}var De=j.sibling;if(De!==null){De.return=j.return,_t=De;break e}_t=j.return}}var Te=h.current;for(_t=Te;_t!==null;){ce=_t;var ze=ce.child;if(ce.subtreeFlags&2064&&ze!==null)ze.return=ce,_t=ze;else e:for(ce=Te;_t!==null;){if(Ee=_t,Ee.flags&2048)try{switch(Ee.tag){case 0:case 11:case 15:ti(9,Ee)}}catch(Gt){Ti(Ee,Ee.return,Gt)}if(Ee===ce){_t=null;break e}var bt=Ee.sibling;if(bt!==null){bt.return=Ee.return,_t=bt;break e}_t=Ee.return}}if(mn=L,Ca(),ls&&typeof ls.onPostCommitFiberRoot=="function")try{ls.onPostCommitFiberRoot(su,h)}catch{}A=!0}return A}finally{Sn=b,qn.transition=p}}return!1}function Lu(h,p,b){p=Vp(b,p),p=qy(h,p,1),mo(h,p),p=Dn(),h=bo(h,1),h!==null&&(qo(h,1,p),Hi(h,p))}function Ti(h,p,b){if(h.tag===3)Lu(h,h,b);else for(;p!==null;){if(p.tag===3){Lu(p,h,b);break}else if(p.tag===1){var A=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Ya===null||!Ya.has(A))){h=Vp(b,h),h=Af(p,h,1),mo(p,h),h=Dn(),p=bo(p,1),p!==null&&(qo(p,1,h),Hi(p,h));break}}p=p.return}}function am(h,p,b){var A=h.pingCache;A!==null&&A.delete(p),p=Dn(),h.pingedLanes|=h.suspendedLanes&b,wr===h&&(cr&b)===b&&(vr===4||vr===3&&(cr&130023424)===cr&&500>Lr()-Iu?$s(h,0):vl|=b),Hi(h,p)}function sm(h,p){p===0&&(h.mode&1?(p=Fn,Fn<<=1,!(Fn&130023424)&&(Fn=4194304)):p=1);var b=Dn();h=bo(h,p),h!==null&&(qo(h,p,b),Hi(h,b))}function Jy(h){var p=h.memoizedState,b=0;p!==null&&(b=p.retryLane),sm(h,b)}function Zy(h,p){var b=0;switch(h.tag){case 13:var A=h.stateNode,L=h.memoizedState;L!==null&&(b=L.retryLane);break;case 19:A=h.stateNode;break;default:throw Error(s(314))}A!==null&&A.delete(p),sm(h,b)}var om;om=function(h,p,b){if(h!==null)if(h.memoizedProps!==p.pendingProps||tr.current)Wr=!0;else{if(!(h.lanes&b)&&!(p.flags&128))return Wr=!1,kf(h,p,b);Wr=!!(h.flags&131072)}else Wr=!1,lr&&p.flags&1048576&&By(p,hf,p.index);switch(p.lanes=0,p.tag){case 2:var A=p.type;h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps;var L=dr(p,sn.current);sc(p,b),L=mc(null,p,A,h,L,b);var j=_o();return p.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Sr(A)?(j=!0,Jr(p)):j=!1,p.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,oc(p),L.updater=df,p.stateNode=L,L._reactInternals=p,Tp(p,A,h,b),p=ci(null,p,A,!0,j,b)):(p.tag=0,lr&&j&&Ap(p),yr(null,p,L,b),p=p.child),p;case 16:A=p.elementType;e:{switch(h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps,L=A._init,A=L(A._payload),p.type=A,L=p.tag=yS(A),h=Ui(A,h),L){case 0:p=Ns(null,p,A,h,b);break e;case 1:p=cl(null,p,A,h,b);break e;case 11:p=rr(null,p,A,h,b);break e;case 14:p=Zn(null,p,A,Ui(A.type,h),b);break e}throw Error(s(306,A,""))}return p;case 0:return A=p.type,L=p.pendingProps,L=p.elementType===A?L:Ui(A,L),Ns(h,p,A,L,b);case 1:return A=p.type,L=p.pendingProps,L=p.elementType===A?L:Ui(A,L),cl(h,p,A,L,b);case 3:e:{if(Su(p),h===null)throw Error(s(387));A=p.pendingProps,j=p.memoizedState,L=j.element,Cp(h,p),uf(p,A,null,b);var ce=p.memoizedState;if(A=ce.element,Be&&j.isDehydrated)if(j={element:A,isDehydrated:!1,cache:ce.cache,transitions:ce.transitions},p.updateQueue.baseState=j,p.memoizedState=j,p.flags&256){L=Error(s(423)),p=$p(h,p,A,b,L);break e}else if(A!==L){L=Error(s(424)),p=$p(h,p,A,b,L);break e}else for(Be&&(Zr=Cn(p.stateNode.containerInfo),wi=p,lr=!0,Aa=null,cc=!1),b=Hy(p,null,A,b),p.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(uc(),A===L){p=Vi(h,p,b);break e}yr(h,p,A,b)}p=p.child}return p;case 5:return jy(p),h===null&&yo(p),A=p.type,L=p.pendingProps,j=h!==null?h.memoizedProps:null,ce=L.children,ye(A,L)?ce=null:j!==null&&ye(A,j)&&(p.flags|=32),Ci(h,p),yr(h,p,ce,b),p.child;case 6:return h===null&&yo(p),null;case 13:return Wp(h,p,b);case 4:return gf(p,p.stateNode.containerInfo),A=p.pendingProps,h===null?p.child=Os(p,null,A,b):yr(h,p,A,b),p.child;case 11:return A=p.type,L=p.pendingProps,L=p.elementType===A?L:Ui(A,L),rr(h,p,A,L,b);case 7:return yr(h,p,p.pendingProps,b),p.child;case 8:return yr(h,p,p.pendingProps.children,b),p.child;case 12:return yr(h,p,p.pendingProps.children,b),p.child;case 10:e:{if(A=p.type._context,L=p.pendingProps,j=p.memoizedProps,ce=L.value,Ko(p,A,ce),j!==null)if(Si(j.value,ce)){if(j.children===L.children&&!tr.current){p=Vi(h,p,b);break e}}else for(j=p.child,j!==null&&(j.return=p);j!==null;){var Ee=j.dependencies;if(Ee!==null){ce=j.child;for(var je=Ee.firstContext;je!==null;){if(je.context===A){if(j.tag===1){je=Ps(-1,b&-b),je.tag=2;var dt=j.updateQueue;if(dt!==null){dt=dt.shared;var kt=dt.pending;kt===null?je.next=je:(je.next=kt.next,kt.next=je),dt.pending=je}}j.lanes|=b,je=j.alternate,je!==null&&(je.lanes|=b),Jo(j.return,b,p),Ee.lanes|=b;break}je=je.next}}else if(j.tag===10)ce=j.type===p.type?null:j.child;else if(j.tag===18){if(ce=j.return,ce===null)throw Error(s(341));ce.lanes|=b,Ee=ce.alternate,Ee!==null&&(Ee.lanes|=b),Jo(ce,b,p),ce=j.sibling}else ce=j.child;if(ce!==null)ce.return=j;else for(ce=j;ce!==null;){if(ce===p){ce=null;break}if(j=ce.sibling,j!==null){j.return=ce.return,ce=j;break}ce=ce.return}j=ce}yr(h,p,L.children,b),p=p.child}return p;case 9:return L=p.type,A=p.pendingProps.children,sc(p,b),L=Bi(L),A=A(L),p.flags|=1,yr(h,p,A,b),p.child;case 14:return A=p.type,L=Ui(A,p.pendingProps),L=Ui(A.type,L),Zn(h,p,A,L,b);case 15:return Ls(h,p,p.type,p.pendingProps,b);case 17:return A=p.type,L=p.pendingProps,L=p.elementType===A?L:Ui(A,L),h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,Sr(A)?(h=!0,Jr(p)):h=!1,sc(p,b),Ny(p,A,L),Tp(p,A,L,b),ci(null,p,A,!0,h,b);case 19:return dl(h,p,b);case 22:return ei(h,p,b)}throw Error(s(156,p.tag))};function Bf(h,p){return Xo(h,p)}function ev(h,p,b,A){this.tag=h,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ca(h,p,b,A){return new ev(h,p,b,A)}function zf(h){return h=h.prototype,!(!h||!h.isReactComponent)}function yS(h){if(typeof h=="function")return zf(h)?1:0;if(h!=null){if(h=h.$$typeof,h===S)return 11;if(h===w)return 14}return 2}function Ws(h,p){var b=h.alternate;return b===null?(b=ca(h.tag,p,h.key,h.mode),b.elementType=h.elementType,b.type=h.type,b.stateNode=h.stateNode,b.alternate=h,h.alternate=b):(b.pendingProps=p,b.type=h.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=h.flags&14680064,b.childLanes=h.childLanes,b.lanes=h.lanes,b.child=h.child,b.memoizedProps=h.memoizedProps,b.memoizedState=h.memoizedState,b.updateQueue=h.updateQueue,p=h.dependencies,b.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},b.sibling=h.sibling,b.index=h.index,b.ref=h.ref,b}function Vf(h,p,b,A,L,j){var ce=2;if(A=h,typeof h=="function")zf(h)&&(ce=1);else if(typeof h=="string")ce=5;else e:switch(h){case f:return El(b.children,L,j,p);case m:ce=8,L|=8;break;case g:return h=ca(12,b,p,L|2),h.elementType=g,h.lanes=j,h;case _:return h=ca(13,b,p,L),h.elementType=_,h.lanes=j,h;case E:return h=ca(19,b,p,L),h.elementType=E,h.lanes=j,h;case T:return Nu(b,L,j,p);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case y:ce=10;break e;case x:ce=9;break e;case S:ce=11;break e;case w:ce=14;break e;case C:ce=16,A=null;break e}throw Error(s(130,h==null?h:typeof h,""))}return p=ca(ce,b,p,L),p.elementType=h,p.type=A,p.lanes=j,p}function El(h,p,b,A){return h=ca(7,h,A,p),h.lanes=b,h}function Nu(h,p,b,A){return h=ca(22,h,A,p),h.elementType=T,h.lanes=b,h.stateNode={},h}function Hf(h,p,b){return h=ca(6,h,null,p),h.lanes=b,h}function jf(h,p,b){return p=ca(4,h.children!==null?h.children:[],h.key,p),p.lanes=b,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function $f(h,p,b,A,L){this.tag=p,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ot,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zd(0),this.expirationTimes=Zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zd(0),this.identifierPrefix=A,this.onRecoverableError=L,Be&&(this.mutableSourceEagerHydrationData=null)}function tv(h,p,b,A,L,j,ce,Ee,je){return h=new $f(h,p,b,Ee,je),p===1?(p=1,j===!0&&(p|=8)):p=0,j=ca(3,null,null,p),h.current=j,j.stateNode=h,j.memoizedState={element:A,isDehydrated:b,cache:null,transitions:null},oc(j),h}function nv(h){if(!h)return Tn;h=h._reactInternals;e:{if(D(h)!==h||h.tag!==1)throw Error(s(170));var p=h;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Sr(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(s(171))}if(h.tag===1){var b=h.type;if(Sr(b))return tc(h,b,p)}return p}function rv(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(s(188)):(h=Object.keys(h).join(","),Error(s(268,h)));return h=q(p),h===null?null:h.stateNode}function Ia(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var b=h.retryLane;h.retryLane=b!==0&&b<p?b:p}}function Uu(h,p){Ia(h,p),(h=h.alternate)&&Ia(h,p)}function Wf(h){return h=q(h),h===null?null:h.stateNode}function iv(){return null}return t.attemptContinuousHydration=function(h){if(h.tag===13){var p=Dn();di(h,134217728,p),Uu(h,134217728)}},t.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var p=Dn(),b=Qa(h);di(h,b,p),Uu(h,b)}},t.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var p=h.stateNode;if(p.current.memoizedState.isDehydrated){var b=ic(p.pendingLanes);b!==0&&(os(p,b|1),Hi(p,Lr()),!(mn&6)&&(_l(),Ca()))}break;case 13:var A=Dn();Tc(function(){return di(h,1,A)}),Uu(h,1)}},t.batchedUpdates=function(h,p){var b=mn;mn|=1;try{return h(p)}finally{mn=b,mn===0&&(_l(),rf&&Ca())}},t.createComponentSelector=function(h){return{$$typeof:Tu,value:h}},t.createContainer=function(h,p,b,A,L,j,ce){return tv(h,p,!1,null,b,A,L,j,ce)},t.createHasPseudoClassSelector=function(h){return{$$typeof:pl,value:h}},t.createHydrationContainer=function(h,p,b,A,L,j,ce,Ee,je){return h=tv(b,A,!0,h,L,j,ce,Ee,je),h.context=nv(null),b=h.current,A=Dn(),L=Qa(b),j=Ps(A,L),j.callback=p??null,mo(b,j),h.current.lanes=L,qo(h,L,A),Hi(h,A),h},t.createPortal=function(h,p,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:A==null?null:""+A,children:h,containerInfo:p,implementation:b}},t.createRoleSelector=function(h){return{$$typeof:ml,value:h}},t.createTestNameSelector=function(h){return{$$typeof:zs,value:h}},t.createTextSelector=function(h){return{$$typeof:wc,value:h}},t.deferredUpdates=function(h){var p=Sn,b=qn.transition;try{return qn.transition=null,Sn=16,h()}finally{Sn=p,qn.transition=b}},t.discreteUpdates=function(h,p,b,A,L){var j=Sn,ce=qn.transition;try{return qn.transition=null,Sn=1,h(p,b,A,L)}finally{Sn=j,qn.transition=ce,mn===0&&_l()}},t.findAllNodes=Vs,t.findBoundingRects=function(h,p){if(!se)throw Error(s(363));p=Vs(h,p),h=[];for(var b=0;b<p.length;b++)h.push(Ce(p[b]));for(p=h.length-1;0<p;p--){b=h[p];for(var A=b.x,L=A+b.width,j=b.y,ce=j+b.height,Ee=p-1;0<=Ee;Ee--)if(p!==Ee){var je=h[Ee],dt=je.x,kt=dt+je.width,cn=je.y,Zt=cn+je.height;if(A>=dt&&j>=cn&&L<=kt&&ce<=Zt){h.splice(p,1);break}else if(A!==dt||b.width!==je.width||Zt<j||cn>ce){if(!(j!==cn||b.height!==je.height||kt<A||dt>L)){dt>A&&(je.width+=dt-A,je.x=A),kt<L&&(je.width=L-dt),h.splice(p,1);break}}else{cn>j&&(je.height+=cn-j,je.y=j),Zt<ce&&(je.height=ce-cn),h.splice(p,1);break}}}return h},t.findHostInstance=rv,t.findHostInstanceWithNoPortals=function(h){return h=V(h),h=h!==null?ee(h):null,h===null?null:h.stateNode},t.findHostInstanceWithWarning=function(h){return rv(h)},t.flushControlled=function(h){var p=mn;mn|=1;var b=qn.transition,A=Sn;try{qn.transition=null,Sn=1,h()}finally{Sn=A,qn.transition=b,mn=p,mn===0&&(_l(),Ca())}},t.flushPassiveEffects=ps,t.flushSync=Tc,t.focusWithin=function(h,p){if(!se)throw Error(s(363));for(h=Au(h),p=sa(h,p),p=Array.from(p),h=0;h<p.length;){var b=p[h++];if(!Ye(b)){if(b.tag===5&&Et(b.stateNode))return!0;for(b=b.child;b!==null;)p.push(b),b=b.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Sn},t.getFindAllNodesFailureDescription=function(h,p){if(!se)throw Error(s(363));var b=0,A=[];h=[Au(h),0];for(var L=0;L<h.length;){var j=h[L++],ce=h[L++],Ee=p[ce];if((j.tag!==5||!Ye(j))&&(Pu(j,Ee)&&(A.push(wo(Ee)),ce++,ce>b&&(b=ce)),ce<p.length))for(j=j.child;j!==null;)h.push(j,ce),j=j.sibling}if(b<p.length){for(h=[];b<p.length;b++)h.push(wo(p[b]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},t.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return re(h.child.stateNode);default:return h.child.stateNode}},t.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:Wf,findFiberByHostInstance:h.findFiberByHostInstance||iv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)h=!0;else{try{su=p.inject(h),ls=p}catch{}h=!!p.checkDCE}}return h},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(h,p,b,A){if(!se)throw Error(s(363));h=Vs(h,p);var L=$(h,b,A).disconnect;return{disconnect:function(){L()}}},t.registerMutableSourceForHydration=function(h,p){var b=p._getVersion;b=b(p._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[p,b]:h.mutableSourceEagerHydrationData.push(p,b)},t.runWithPriority=function(h,p){var b=Sn;try{return Sn=h,p()}finally{Sn=b}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(h,p,b,A){var L=p.current,j=Dn(),ce=Qa(L);return b=nv(b),p.context===null?p.context=b:p.pendingContext=b,p=Ps(j,ce),p.payload={element:h},A=A===void 0?null:A,A!==null&&(p.callback=A),mo(L,p),h=di(L,ce,j),h!==null&&lf(h,L,ce),ce},t}),tE}AL.exports=xte();var Ste=AL.exports;const Ete=en(Ste),rM={},iM=r=>void Object.assign(rM,r);function wte(r,e){function t(f,{args:m=[],attach:g,...y},x){let S=`${f[0].toUpperCase()}${f.slice(1)}`,_;if(f==="primitive"){if(y.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const E=y.object;_=Rh(E,{type:f,root:x,attach:g,primitive:!0})}else{const E=rM[S];if(!E)throw new Error(`R3F: ${S} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(m))throw new Error("R3F: The args prop must be an array!");_=Rh(new E(...m),{type:f,root:x,attach:g,memoizedProps:{args:m}})}return _.__r3f.attach===void 0&&(_ instanceof xn?_.__r3f.attach="geometry":_ instanceof Fi&&(_.__r3f.attach="material")),S!=="inject"&&iE(_,y),_}function n(f,m){let g=!1;if(m){var y,x;(y=m.__r3f)!=null&&y.attach?rE(f,m,m.__r3f.attach):m.isObject3D&&f.isObject3D&&(f.add(m),g=!0),g||(x=f.__r3f)==null||x.objects.push(m),m.__r3f||Rh(m,{}),m.__r3f.parent=f,mw(m),Ih(m)}}function i(f,m,g){let y=!1;if(m){var x,S;if((x=m.__r3f)!=null&&x.attach)rE(f,m,m.__r3f.attach);else if(m.isObject3D&&f.isObject3D){m.parent=f,m.dispatchEvent({type:"added"}),f.dispatchEvent({type:"childadded",child:m});const _=f.children.filter(w=>w!==m),E=_.indexOf(g);f.children=[..._.slice(0,E),m,..._.slice(E)],y=!0}y||(S=f.__r3f)==null||S.objects.push(m),m.__r3f||Rh(m,{}),m.__r3f.parent=f,mw(m),Ih(m)}}function a(f,m,g=!1){f&&[...f].forEach(y=>s(m,y,g))}function s(f,m,g){if(m){var y,x,S;if(m.__r3f&&(m.__r3f.parent=null),(y=f.__r3f)!=null&&y.objects&&(f.__r3f.objects=f.__r3f.objects.filter(T=>T!==m)),(x=m.__r3f)!=null&&x.attach)HR(f,m,m.__r3f.attach);else if(m.isObject3D&&f.isObject3D){var _;f.remove(m),(_=m.__r3f)!=null&&_.root&&Ite(j0(m),m)}const w=(S=m.__r3f)==null?void 0:S.primitive,C=!w&&(g===void 0?m.dispose!==null:g);if(!w){var E;a((E=m.__r3f)==null?void 0:E.objects,m,C),a(m.children,m,C)}if(delete m.__r3f,C&&m.dispose&&m.type!=="Scene"){const T=()=>{try{m.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?K_.unstable_scheduleCallback(K_.unstable_IdlePriority,T):T()}Ih(f)}}function o(f,m,g,y){var x;const S=(x=f.__r3f)==null?void 0:x.parent;if(!S)return;const _=t(m,g,f.__r3f.root);if(f.children){for(const E of f.children)E.__r3f&&n(_,E);f.children=f.children.filter(E=>!E.__r3f)}f.__r3f.objects.forEach(E=>n(_,E)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||s(S,f),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),n(S,_),_.raycast&&_.__r3f.eventCount&&j0(_).getState().internal.interaction.push(_),[y,y.alternate].forEach(E=>{E!==null&&(E.stateNode=_,E.ref&&(typeof E.ref=="function"?E.ref(_):E.ref.current=_))})}const c=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Ete({createInstance:t,removeChild:s,appendChild:n,appendInitialChild:n,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,m)=>{if(!m)return;const g=f.getState().scene;g.__r3f&&(g.__r3f.root=f,n(g,m))},removeChildFromContainer:(f,m)=>{m&&s(f.getState().scene,m)},insertInContainerBefore:(f,m,g)=>{if(!m||!g)return;const y=f.getState().scene;y.__r3f&&i(y,m,g)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var m;return!!((m=f==null?void 0:f.__r3f)!=null?m:{}).handlers},prepareUpdate(f,m,g,y){var x;if(((x=f==null?void 0:f.__r3f)!=null?x:{}).primitive&&y.object&&y.object!==f)return[!0];{const{args:_=[],children:E,...w}=y,{args:C=[],children:T,...O}=g;if(!Array.isArray(_))throw new Error("R3F: the args prop must be an array!");if(_.some((P,N)=>P!==C[N]))return[!0];const R=LL(f,w,O,!0);return R.changes.length?[!1,R]:null}},commitUpdate(f,[m,g],y,x,S,_){m?o(f,y,S,_):iE(f,g)},commitMount(f,m,g,y){var x;const S=(x=f.__r3f)!=null?x:{};f.raycast&&S.handlers&&S.eventCount&&j0(f).getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>Rh(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var m;const{attach:g,parent:y}=(m=f.__r3f)!=null?m:{};g&&y&&HR(y,f,g),f.isObject3D&&(f.visible=!1),Ih(f)},unhideInstance(f,m){var g;const{attach:y,parent:x}=(g=f.__r3f)!=null?g:{};y&&x&&rE(x,f,y),(f.isObject3D&&m.visible==null||m.visible)&&(f.visible=!0),Ih(f)},createTextInstance:c,hideTextInstance:c,unhideTextInstance:c,getCurrentEventPriority:()=>e?e():Bh.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&gr.fun(performance.now)?performance.now:gr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:gr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:gr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:iE}}var UR,BR;const nE=r=>"colorSpace"in r||"outputColorSpace"in r,RL=()=>{var r;return(r=rM.ColorManagement)!=null?r:null},IL=r=>r&&r.isOrthographicCamera,Cte=r=>r&&r.hasOwnProperty("current"),Ty=typeof window<"u"&&((UR=window.document)!=null&&UR.createElement||((BR=window.navigator)==null?void 0:BR.product)==="ReactNative")?z.useLayoutEffect:z.useEffect;function OL(r){const e=z.useRef(r);return Ty(()=>void(e.current=r),[r]),e}function bte({set:r}){return Ty(()=>(r(new Promise(()=>null)),()=>r(!1)),[r]),null}class kL extends z.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}kL.getDerivedStateFromError=()=>({error:!0});const FL="__default",zR=new Map,Mte=r=>r&&!!r.memoized&&!!r.changes;function DL(r){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(r)?Math.min(Math.max(r[0],t),r[1]):r}const Lm=r=>{var e;return(e=r.__r3f)==null?void 0:e.root.getState()};function j0(r){let e=r.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const gr={obj:r=>r===Object(r)&&!gr.arr(r)&&typeof r!="function",fun:r=>typeof r=="function",str:r=>typeof r=="string",num:r=>typeof r=="number",boo:r=>typeof r=="boolean",und:r=>r===void 0,arr:r=>Array.isArray(r),equ(r,e,{arrays:t="shallow",objects:n="reference",strict:i=!0}={}){if(typeof r!=typeof e||!!r!=!!e)return!1;if(gr.str(r)||gr.num(r)||gr.boo(r))return r===e;const a=gr.obj(r);if(a&&n==="reference")return r===e;const s=gr.arr(r);if(s&&t==="reference")return r===e;if((s||a)&&r===e)return!0;let o;for(o in r)if(!(o in e))return!1;if(a&&t==="shallow"&&n==="shallow"){for(o in i?e:r)if(!gr.equ(r[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:r)if(r[o]!==e[o])return!1;if(gr.und(o)){if(s&&r.length===0&&e.length===0||a&&Object.keys(r).length===0&&Object.keys(e).length===0)return!0;if(r!==e)return!1}return!0}};function Tte(r){r.dispose&&r.type!=="Scene"&&r.dispose();for(const e in r)e.dispose==null||e.dispose(),delete r[e]}function Rh(r,e){const t=r;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},r}function pw(r,e){let t=r;if(e.includes("-")){const n=e.split("-"),i=n.pop();return t=n.reduce((a,s)=>a[s],r),{target:t,key:i}}else return{target:t,key:e}}const VR=/-\d+$/;function rE(r,e,t){if(gr.str(t)){if(VR.test(t)){const a=t.replace(VR,""),{target:s,key:o}=pw(r,a);Array.isArray(s[o])||(s[o]=[])}const{target:n,key:i}=pw(r,t);e.__r3f.previousAttach=n[i],n[i]=e}else e.__r3f.previousAttach=t(r,e)}function HR(r,e,t){var n,i;if(gr.str(t)){const{target:a,key:s}=pw(r,t),o=e.__r3f.previousAttach;o===void 0?delete a[s]:a[s]=o}else(n=e.__r3f)==null||n.previousAttach==null||n.previousAttach(r,e);(i=e.__r3f)==null||delete i.previousAttach}function LL(r,{children:e,key:t,ref:n,...i},{children:a,key:s,ref:o,...c}={},d=!1){const f=r.__r3f,m=Object.entries(i),g=[];if(d){const x=Object.keys(c);for(let S=0;S<x.length;S++)i.hasOwnProperty(x[S])||m.unshift([x[S],FL+"remove"])}m.forEach(([x,S])=>{var _;if((_=r.__r3f)!=null&&_.primitive&&x==="object"||gr.equ(S,c[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return g.push([x,S,!0,[]]);let E=[];x.includes("-")&&(E=x.split("-")),g.push([x,S,!1,E]);for(const w in i){const C=i[w];w.startsWith(`${x}-`)&&g.push([w,C,!1,w.split("-")])}});const y={...i};return f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.args&&(y.args=f.memoizedProps.args),f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.attach&&(y.attach=f.memoizedProps.attach),{memoized:y,changes:g}}const Ate=typeof process<"u"&&!1;function iE(r,e){var t;const n=r.__r3f,i=n==null?void 0:n.root,a=i==null||i.getState==null?void 0:i.getState(),{memoized:s,changes:o}=Mte(e)?e:LL(r,e),c=n==null?void 0:n.eventCount;r.__r3f&&(r.__r3f.memoizedProps=s);for(let f=0;f<o.length;f++){let[m,g,y,x]=o[f];if(nE(r)){const w="srgb",C="srgb-linear";m==="encoding"?(m="colorSpace",g=g===3001?w:C):m==="outputEncoding"&&(m="outputColorSpace",g=g===3001?w:C)}let S=r,_=S[m];if(x.length&&(_=x.reduce((E,w)=>E[w],r),!(_&&_.set))){const[E,...w]=x.reverse();S=w.reverse().reduce((C,T)=>C[T],r),m=E}if(g===FL+"remove")if(S.constructor){let E=zR.get(S.constructor);E||(E=new S.constructor,zR.set(S.constructor,E)),g=E[m]}else g=0;if(y&&n)g?n.handlers[m]=g:delete n.handlers[m],n.eventCount=Object.keys(n.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Td)){if(Array.isArray(g))_.fromArray?_.fromArray(g):_.set(...g);else if(_.copy&&g&&g.constructor&&(Ate?_.constructor.name===g.constructor.name:_.constructor===g.constructor))_.copy(g);else if(g!==void 0){const E=_ instanceof At;!E&&_.setScalar?_.setScalar(g):_ instanceof Td&&g instanceof Td?_.mask=g.mask:_.set(g),!RL()&&a&&!a.linear&&E&&_.convertSRGBToLinear()}}else if(S[m]=g,S[m]instanceof Ar&&S[m].format===Yi&&S[m].type===io&&a){const E=S[m];nE(E)&&nE(a.gl)?E.colorSpace=a.gl.outputColorSpace:E.encoding=a.gl.outputEncoding}Ih(r)}if(n&&n.parent&&r.raycast&&c!==n.eventCount){const f=j0(r).getState().internal,m=f.interaction.indexOf(r);m>-1&&f.interaction.splice(m,1),n.eventCount&&f.interaction.push(r)}return!(o.length===1&&o[0][0]==="onUpdate")&&o.length&&(t=r.__r3f)!=null&&t.parent&&mw(r),r}function Ih(r){var e,t;const n=(e=r.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();n&&n.internal.frames===0&&n.invalidate()}function mw(r){r.onUpdate==null||r.onUpdate(r)}function Pte(r,e){r.manual||(IL(r)?(r.left=e.width/-2,r.right=e.width/2,r.top=e.height/2,r.bottom=e.height/-2):r.aspect=e.width/e.height,r.updateProjectionMatrix(),r.updateMatrixWorld())}function b0(r){return(r.eventObject||r.object).uuid+"/"+r.index+r.instanceId}function Rte(){var r;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Bh.DefaultEventPriority;switch((r=e.event)==null?void 0:r.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Bh.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Bh.ContinuousEventPriority;default:return Bh.DefaultEventPriority}}function NL(r,e,t,n){const i=t.get(e);i&&(t.delete(e),t.size===0&&(r.delete(n),i.target.releasePointerCapture(n)))}function Ite(r,e){const{internal:t}=r.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,i)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((n,i)=>{NL(t.capturedMap,e,n,i)})}function Ote(r){function e(c){const{internal:d}=r.getState(),f=c.offsetX-d.initialClick[0],m=c.offsetY-d.initialClick[1];return Math.round(Math.sqrt(f*f+m*m))}function t(c){return c.filter(d=>["Move","Over","Enter","Out","Leave"].some(f=>{var m;return(m=d.__r3f)==null?void 0:m.handlers["onPointer"+f]}))}function n(c,d){const f=r.getState(),m=new Set,g=[],y=d?d(f.internal.interaction):f.internal.interaction;for(let E=0;E<y.length;E++){const w=Lm(y[E]);w&&(w.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(c,f);function x(E){const w=Lm(E);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var C;w.events.compute==null||w.events.compute(c,w,(C=w.previousRoot)==null?void 0:C.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(E,!0):[]}let S=y.flatMap(x).sort((E,w)=>{const C=Lm(E.object),T=Lm(w.object);return!C||!T?E.distance-w.distance:T.events.priority-C.events.priority||E.distance-w.distance}).filter(E=>{const w=b0(E);return m.has(w)?!1:(m.add(w),!0)});f.events.filter&&(S=f.events.filter(S,f));for(const E of S){let w=E.object;for(;w;){var _;(_=w.__r3f)!=null&&_.eventCount&&g.push({...E,eventObject:w}),w=w.parent}}if("pointerId"in c&&f.internal.capturedMap.has(c.pointerId))for(let E of f.internal.capturedMap.get(c.pointerId).values())m.has(b0(E.intersection))||g.push(E.intersection);return g}function i(c,d,f,m){const g=r.getState();if(c.length){const y={stopped:!1};for(const x of c){const S=Lm(x.object)||g,{raycaster:_,pointer:E,camera:w,internal:C}=S,T=new ae(E.x,E.y,0).unproject(w),O=I=>{var V,q;return(V=(q=C.capturedMap.get(I))==null?void 0:q.has(x.eventObject))!=null?V:!1},R=I=>{const V={intersection:x,target:d.target};C.capturedMap.has(I)?C.capturedMap.get(I).set(x.eventObject,V):C.capturedMap.set(I,new Map([[x.eventObject,V]])),d.target.setPointerCapture(I)},P=I=>{const V=C.capturedMap.get(I);V&&NL(C.capturedMap,x.eventObject,V,I)};let N={};for(let I in d){let V=d[I];typeof V!="function"&&(N[I]=V)}let D={...x,...N,pointer:E,intersections:c,stopped:y.stopped,delta:f,unprojectedPoint:T,ray:_.ray,camera:w,stopPropagation(){const I="pointerId"in d&&C.capturedMap.get(d.pointerId);if((!I||I.has(x.eventObject))&&(D.stopped=y.stopped=!0,C.hovered.size&&Array.from(C.hovered.values()).find(V=>V.eventObject===x.eventObject))){const V=c.slice(0,c.indexOf(x));a([...V,x])}},target:{hasPointerCapture:O,setPointerCapture:R,releasePointerCapture:P},currentTarget:{hasPointerCapture:O,setPointerCapture:R,releasePointerCapture:P},nativeEvent:d};if(m(D),y.stopped===!0)break}}return c}function a(c){const{internal:d}=r.getState();for(const f of d.hovered.values())if(!c.length||!c.find(m=>m.object===f.object&&m.index===f.index&&m.instanceId===f.instanceId)){const g=f.eventObject.__r3f,y=g==null?void 0:g.handlers;if(d.hovered.delete(b0(f)),g!=null&&g.eventCount){const x={...f,intersections:c};y.onPointerOut==null||y.onPointerOut(x),y.onPointerLeave==null||y.onPointerLeave(x)}}}function s(c,d){for(let f=0;f<d.length;f++){const m=d[f].__r3f;m==null||m.handlers.onPointerMissed==null||m.handlers.onPointerMissed(c)}}function o(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return d=>{const{internal:f}=r.getState();"pointerId"in d&&f.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(d.pointerId)&&(f.capturedMap.delete(d.pointerId),a([]))})}}return function(f){const{onPointerMissed:m,internal:g}=r.getState();g.lastEvent.current=f;const y=c==="onPointerMove",x=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",_=n(f,y?t:void 0),E=x?e(f):0;c==="onPointerDown"&&(g.initialClick=[f.offsetX,f.offsetY],g.initialHits=_.map(C=>C.eventObject)),x&&!_.length&&E<=2&&(s(f,g.interaction),m&&m(f)),y&&a(_);function w(C){const T=C.eventObject,O=T.__r3f,R=O==null?void 0:O.handlers;if(O!=null&&O.eventCount)if(y){if(R.onPointerOver||R.onPointerEnter||R.onPointerOut||R.onPointerLeave){const P=b0(C),N=g.hovered.get(P);N?N.stopped&&C.stopPropagation():(g.hovered.set(P,C),R.onPointerOver==null||R.onPointerOver(C),R.onPointerEnter==null||R.onPointerEnter(C))}R.onPointerMove==null||R.onPointerMove(C)}else{const P=R[c];P?(!x||g.initialHits.includes(T))&&(s(f,g.interaction.filter(N=>!g.initialHits.includes(N))),P(C)):x&&g.initialHits.includes(T)&&s(f,g.interaction.filter(N=>!g.initialHits.includes(N)))}}i(_,f,E,w)}}return{handlePointer:o}}const UL=r=>!!(r!=null&&r.render),BL=z.createContext(null),kte=(r,e)=>{const t=mte((o,c)=>{const d=new ae,f=new ae,m=new ae;function g(E=c().camera,w=f,C=c().size){const{width:T,height:O,top:R,left:P}=C,N=T/O;w instanceof ae?m.copy(w):m.set(...w);const D=E.getWorldPosition(d).distanceTo(m);if(IL(E))return{width:T/E.zoom,height:O/E.zoom,top:R,left:P,factor:1,distance:D,aspect:N};{const I=E.fov*Math.PI/180,V=2*Math.tan(I/2)*D,q=V*(T/O);return{width:q,height:V,top:R,left:P,factor:T/q,distance:D,aspect:N}}}let y;const x=E=>o(w=>({performance:{...w.performance,current:E}})),S=new Qe;return{set:o,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(E=1)=>r(c(),E),advance:(E,w)=>e(E,w,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new My,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const E=c();y&&clearTimeout(y),E.performance.current!==E.performance.min&&x(E.performance.min),y=setTimeout(()=>x(c().performance.max),E.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:g},setEvents:E=>o(w=>({...w,events:{...w.events,...E}})),setSize:(E,w,C,T,O)=>{const R=c().camera,P={width:E,height:w,top:T||0,left:O||0,updateStyle:C};o(N=>({size:P,viewport:{...N.viewport,...g(R,f,P)}}))},setDpr:E=>o(w=>{const C=DL(E);return{viewport:{...w.viewport,dpr:C,initialDpr:w.viewport.initialDpr||C}}}),setFrameloop:(E="always")=>{const w=c().clock;w.stop(),w.elapsedTime=0,E!=="never"&&(w.start(),w.elapsedTime=0),o(()=>({frameloop:E}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:z.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(E,w,C)=>{const T=c().internal;return T.priority=T.priority+(w>0?1:0),T.subscribers.push({ref:E,priority:w,store:C}),T.subscribers=T.subscribers.sort((O,R)=>O.priority-R.priority),()=>{const O=c().internal;O!=null&&O.subscribers&&(O.priority=O.priority-(w>0?1:0),O.subscribers=O.subscribers.filter(R=>R.ref!==E))}}}}}),n=t.getState();let i=n.size,a=n.viewport.dpr,s=n.camera;return t.subscribe(()=>{const{camera:o,size:c,viewport:d,gl:f,set:m}=t.getState();if(c.width!==i.width||c.height!==i.height||d.dpr!==a){var g;i=c,a=d.dpr,Pte(o,c),f.setPixelRatio(d.dpr);const y=(g=c.updateStyle)!=null?g:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(c.width,c.height,y)}o!==s&&(s=o,m(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>r(o)),t};let M0,Fte=new Set,Dte=new Set,Lte=new Set;function aE(r,e){if(r.size)for(const{callback:t}of r.values())t(e)}function Nm(r,e){switch(r){case"before":return aE(Fte,e);case"after":return aE(Dte,e);case"tail":return aE(Lte,e)}}let sE,oE;function lE(r,e,t){let n=e.clock.getDelta();for(e.frameloop==="never"&&typeof r=="number"&&(n=r-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=r),sE=e.internal.subscribers,M0=0;M0<sE.length;M0++)oE=sE[M0],oE.ref.current(oE.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Nte(r){let e=!1,t=!1,n,i,a;function s(d){i=requestAnimationFrame(s),e=!0,n=0,Nm("before",d),t=!0;for(const m of r.values()){var f;a=m.store.getState(),a.internal.active&&(a.frameloop==="always"||a.internal.frames>0)&&!((f=a.gl.xr)!=null&&f.isPresenting)&&(n+=lE(d,a))}if(t=!1,Nm("after",d),n===0)return Nm("tail",d),e=!1,cancelAnimationFrame(i)}function o(d,f=1){var m;if(!d)return r.forEach(g=>o(g.store.getState(),f));(m=d.gl.xr)!=null&&m.isPresenting||!d.internal.active||d.frameloop==="never"||(f>1?d.internal.frames=Math.min(60,d.internal.frames+f):t?d.internal.frames=2:d.internal.frames=1,e||(e=!0,requestAnimationFrame(s)))}function c(d,f=!0,m,g){if(f&&Nm("before",d),m)lE(d,m,g);else for(const y of r.values())lE(d,y.store.getState());f&&Nm("after",d)}return{loop:s,invalidate:o,advance:c}}function zL(){const r=z.useContext(BL);if(!r)throw new Error("R3F: Hooks can only be used within the Canvas component!");return r}function To(r=t=>t,e){return zL()(r,e)}function aM(r,e=0){const t=zL(),n=t.getState().internal.subscribe,i=OL(r);return Ty(()=>n(i,e,t),[e,n,t]),null}const sp=new Map,{invalidate:jR,advance:$R}=Nte(sp),{reconciler:J_,applyProps:Ch}=wte(sp,Rte),bh={objects:"shallow",strict:!1},Ute=(r,e)=>{const t=typeof r=="function"?r(e):r;return UL(t)?t:new DD({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...r})};function Bte(r,e){const t=typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement;if(e){const{width:n,height:i,top:a,left:s,updateStyle:o=t}=e;return{width:n,height:i,top:a,left:s,updateStyle:o}}else if(typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&r.parentElement){const{width:n,height:i,top:a,left:s}=r.parentElement.getBoundingClientRect();return{width:n,height:i,top:a,left:s,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas)return{width:r.width,height:r.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function zte(r){const e=sp.get(r),t=e==null?void 0:e.fiber,n=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=n||kte(jR,$R),s=t||J_.createContainer(a,Bh.ConcurrentRoot,null,!1,null,"",i,null);e||sp.set(r,{fiber:s,store:a});let o,c=!1,d;return{configure(f={}){let{gl:m,size:g,scene:y,events:x,onCreated:S,shadows:_=!1,linear:E=!1,flat:w=!1,legacy:C=!1,orthographic:T=!1,frameloop:O="always",dpr:R=[1,2],performance:P,raycaster:N,camera:D,onPointerMissed:I}=f,V=a.getState(),q=V.gl;V.gl||V.set({gl:q=Ute(m,r)});let W=V.raycaster;W||V.set({raycaster:W=new tM});const{params:ee,...te}=N||{};if(gr.equ(te,W,bh)||Ch(W,{...te}),gr.equ(ee,W.params,bh)||Ch(W,{params:{...W.params,...ee}}),!V.camera||V.camera===d&&!gr.equ(d,D,bh)){d=D;const oe=D instanceof vy,X=oe?D:T?new Dl(0,0,0,0,.1,1e3):new Dr(75,0,.1,1e3);oe||(X.position.z=5,D&&(Ch(X,D),("aspect"in D||"left"in D||"right"in D||"bottom"in D||"top"in D)&&(X.manual=!0,X.updateProjectionMatrix())),!V.camera&&!(D!=null&&D.rotation)&&X.lookAt(0,0,0)),V.set({camera:X}),W.camera=X}if(!V.scene){let oe;y instanceof q_?oe=y:(oe=new q_,y&&Ch(oe,y)),V.set({scene:Rh(oe)})}if(!V.xr){var re;const oe=(we,me)=>{const ye=a.getState();ye.frameloop!=="never"&&$R(we,!0,ye,me)},X=()=>{const we=a.getState();we.gl.xr.enabled=we.gl.xr.isPresenting,we.gl.xr.setAnimationLoop(we.gl.xr.isPresenting?oe:null),we.gl.xr.isPresenting||jR(we)},ne={connect(){const we=a.getState().gl;we.xr.addEventListener("sessionstart",X),we.xr.addEventListener("sessionend",X)},disconnect(){const we=a.getState().gl;we.xr.removeEventListener("sessionstart",X),we.xr.removeEventListener("sessionend",X)}};typeof((re=q.xr)==null?void 0:re.addEventListener)=="function"&&ne.connect(),V.set({xr:ne})}if(q.shadowMap){const oe=q.shadowMap.enabled,X=q.shadowMap.type;if(q.shadowMap.enabled=!!_,gr.boo(_))q.shadowMap.type=Ym;else if(gr.str(_)){var ue;const ne={basic:T3,percentage:Tx,soft:Ym,variance:Zs};q.shadowMap.type=(ue=ne[_])!=null?ue:Ym}else gr.obj(_)&&Object.assign(q.shadowMap,_);(oe!==q.shadowMap.enabled||X!==q.shadowMap.type)&&(q.shadowMap.needsUpdate=!0)}const G=RL();G&&("enabled"in G?G.enabled=!C:"legacyMode"in G&&(G.legacyMode=C)),c||Ch(q,{outputEncoding:E?3e3:3001,toneMapping:w?Lo:ub}),V.legacy!==C&&V.set(()=>({legacy:C})),V.linear!==E&&V.set(()=>({linear:E})),V.flat!==w&&V.set(()=>({flat:w})),m&&!gr.fun(m)&&!UL(m)&&!gr.equ(m,q,bh)&&Ch(q,m),x&&!V.events.handlers&&V.set({events:x(a)});const le=Bte(r,g);return gr.equ(le,V.size,bh)||V.setSize(le.width,le.height,le.updateStyle,le.top,le.left),R&&V.viewport.dpr!==DL(R)&&V.setDpr(R),V.frameloop!==O&&V.setFrameloop(O),V.onPointerMissed||V.set({onPointerMissed:I}),P&&!gr.equ(P,V.performance,bh)&&V.set(oe=>({performance:{...oe.performance,...P}})),o=S,c=!0,this},render(f){return c||this.configure(),J_.updateContainer(H.jsx(Vte,{store:a,children:f,onCreated:o,rootElement:r}),s,null,()=>{}),a},unmount(){VL(r)}}}function Vte({store:r,children:e,onCreated:t,rootElement:n}){return Ty(()=>{const i=r.getState();i.set(a=>({internal:{...a.internal,active:!0}})),t&&t(i),r.getState().events.connected||i.events.connect==null||i.events.connect(n)},[]),H.jsx(BL.Provider,{value:r,children:e})}function VL(r,e){const t=sp.get(r),n=t==null?void 0:t.fiber;if(n){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),J_.updateContainer(null,n,null,()=>{i&&setTimeout(()=>{try{var a,s,o,c;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(c=i.gl)!=null&&c.xr&&i.xr.disconnect(),Tte(i),sp.delete(r)}catch{}},500)})}}J_.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:z.version});function gw(r,e,t){var n,i,a,s,o;e==null&&(e=100);function c(){var f=Date.now()-s;f<e&&f>=0?n=setTimeout(c,e-f):(n=null,t||(o=r.apply(a,i),a=i=null))}var d=function(){a=this,i=arguments,s=Date.now();var f=t&&!n;return n||(n=setTimeout(c,e)),f&&(o=r.apply(a,i),a=i=null),o};return d.clear=function(){n&&(clearTimeout(n),n=null)},d.flush=function(){n&&(o=r.apply(a,i),a=i=null,clearTimeout(n),n=null)},d}gw.debounce=gw;var Hte=gw;const WR=en(Hte);function jte(r){let{debounce:e,scroll:t,polyfill:n,offsetSize:i}=r===void 0?{debounce:0,scroll:!1,offsetSize:!1}:r;const a=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=z.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=z.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),d=e?typeof e=="number"?e:e.scroll:null,f=e?typeof e=="number"?e:e.resize:null,m=z.useRef(!1);z.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[g,y,x]=z.useMemo(()=>{const w=()=>{if(!c.current.element)return;const{left:C,top:T,width:O,height:R,bottom:P,right:N,x:D,y:I}=c.current.element.getBoundingClientRect(),V={left:C,top:T,width:O,height:R,bottom:P,right:N,x:D,y:I};c.current.element instanceof HTMLElement&&i&&(V.height=c.current.element.offsetHeight,V.width=c.current.element.offsetWidth),Object.freeze(V),m.current&&!qte(c.current.lastBounds,V)&&o(c.current.lastBounds=V)};return[w,f?WR(w,f):w,d?WR(w,d):w]},[o,i,d,f]);function S(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",x,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null)}function _(){c.current.element&&(c.current.resizeObserver=new a(x),c.current.resizeObserver.observe(c.current.element),t&&c.current.scrollContainers&&c.current.scrollContainers.forEach(w=>w.addEventListener("scroll",x,{capture:!0,passive:!0})))}const E=w=>{!w||w===c.current.element||(S(),c.current.element=w,c.current.scrollContainers=HL(w),_())};return Wte(x,!!t),$te(y),z.useEffect(()=>{S(),_()},[t,x,y]),z.useEffect(()=>S,[]),[E,s,g]}function $te(r){z.useEffect(()=>{const e=r;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[r])}function Wte(r,e){z.useEffect(()=>{if(e){const t=r;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[r,e])}function HL(r){const e=[];if(!r||r===document.body)return e;const{overflow:t,overflowX:n,overflowY:i}=window.getComputedStyle(r);return[t,n,i].some(a=>a==="auto"||a==="scroll")&&e.push(r),[...e,...HL(r.parentElement)]}const Gte=["x","y","top","bottom","left","right","width","height"],qte=(r,e)=>Gte.every(t=>r[t]===e[t]);var Xte=Object.defineProperty,Yte=Object.defineProperties,Qte=Object.getOwnPropertyDescriptors,GR=Object.getOwnPropertySymbols,Kte=Object.prototype.hasOwnProperty,Jte=Object.prototype.propertyIsEnumerable,qR=(r,e,t)=>e in r?Xte(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,XR=(r,e)=>{for(var t in e||(e={}))Kte.call(e,t)&&qR(r,t,e[t]);if(GR)for(var t of GR(e))Jte.call(e,t)&&qR(r,t,e[t]);return r},Zte=(r,e)=>Yte(r,Qte(e)),YR,QR;typeof window<"u"&&((YR=window.document)!=null&&YR.createElement||((QR=window.navigator)==null?void 0:QR.product)==="ReactNative")?z.useLayoutEffect:z.useEffect;function jL(r,e,t){if(!r)return;if(t(r)===!0)return r;let n=r.child;for(;n;){const i=jL(n,e,t);if(i)return i;n=n.sibling}}function $L(r){try{return Object.defineProperties(r,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return r}}const KR=console.error;console.error=function(){const r=[...arguments].join("");if(r!=null&&r.startsWith("Warning:")&&r.includes("useContext")){console.error=KR;return}return KR.apply(this,arguments)};const sM=$L(z.createContext(null));class WL extends z.Component{render(){return z.createElement(sM.Provider,{value:this._reactInternals},this.props.children)}}function ene(){const r=z.useContext(sM);if(r===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=z.useId();return z.useMemo(()=>{for(const n of[r,r==null?void 0:r.alternate]){if(!n)continue;const i=jL(n,!1,a=>{let s=a.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[r,e])}function tne(){const r=ene(),[e]=z.useState(()=>new Map);e.clear();let t=r;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==sM&&!e.has(i)&&e.set(i,z.useContext($L(i)))}t=t.return}return e}function nne(){const r=tne();return z.useMemo(()=>Array.from(r.keys()).reduce((e,t)=>n=>z.createElement(e,null,z.createElement(t.Provider,Zte(XR({},n),{value:r.get(t)}))),e=>z.createElement(WL,XR({},e))),[r])}const cE={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function rne(r){const{handlePointer:e}=Ote(r);return{priority:1,enabled:!0,compute(t,n,i){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(cE).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:i}=r.getState();(t=i.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var n;const{set:i,events:a}=r.getState();a.disconnect==null||a.disconnect(),i(s=>({events:{...s.events,connected:t}})),Object.entries((n=a.handlers)!=null?n:[]).forEach(([s,o])=>{const[c,d]=cE[s];t.addEventListener(c,o,{passive:d})})},disconnect:()=>{const{set:t,events:n}=r.getState();if(n.connected){var i;Object.entries((i=n.handlers)!=null?i:[]).forEach(([a,s])=>{if(n&&n.connected instanceof HTMLElement){const[o]=cE[a];n.connected.removeEventListener(o,s)}}),t(a=>({events:{...a.events,connected:void 0}}))}}}}const ine=z.forwardRef(function({children:e,fallback:t,resize:n,style:i,gl:a,events:s=rne,eventSource:o,eventPrefix:c,shadows:d,linear:f,flat:m,legacy:g,orthographic:y,frameloop:x,dpr:S,performance:_,raycaster:E,camera:w,scene:C,onPointerMissed:T,onCreated:O,...R},P){z.useMemo(()=>iM(dte),[]);const N=nne(),[D,I]=jte({scroll:!0,debounce:{scroll:50,resize:0},...n}),V=z.useRef(null),q=z.useRef(null);z.useImperativeHandle(P,()=>V.current);const W=OL(T),[ee,te]=z.useState(!1),[re,ue]=z.useState(!1);if(ee)throw ee;if(re)throw re;const G=z.useRef(null);Ty(()=>{const oe=V.current;I.width>0&&I.height>0&&oe&&(G.current||(G.current=zte(oe)),G.current.configure({gl:a,events:s,shadows:d,linear:f,flat:m,legacy:g,orthographic:y,frameloop:x,dpr:S,performance:_,raycaster:E,camera:w,scene:C,size:I,onPointerMissed:(...X)=>W.current==null?void 0:W.current(...X),onCreated:X=>{X.events.connect==null||X.events.connect(o?Cte(o)?o.current:o:q.current),c&&X.setEvents({compute:(ne,we)=>{const me=ne[c+"X"],ye=ne[c+"Y"];we.pointer.set(me/we.size.width*2-1,-(ye/we.size.height)*2+1),we.raycaster.setFromCamera(we.pointer,we.camera)}}),O==null||O(X)}}),G.current.render(H.jsx(N,{children:H.jsx(kL,{set:ue,children:H.jsx(z.Suspense,{fallback:H.jsx(bte,{set:te}),children:e})})})))}),z.useEffect(()=>{const oe=V.current;if(oe)return()=>VL(oe)},[]);const le=o?"none":"auto";return H.jsx("div",{ref:q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:le,...i},...R,children:H.jsx("div",{ref:D,style:{width:"100%",height:"100%"},children:H.jsx("canvas",{ref:V,style:{display:"block"},children:t})})})}),oM=z.forwardRef(function(e,t){return H.jsx(WL,{children:H.jsx(ine,{...e,ref:t})})});var ag=function(){var r=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(f){f.preventDefault(),n(++r%e.children.length)},!1);function t(f){return e.appendChild(f.dom),f}function n(f){for(var m=0;m<e.children.length;m++)e.children[m].style.display=m===f?"block":"none";r=f}var i=(performance||Date).now(),a=i,s=0,o=t(new ag.Panel("FPS","#0ff","#002")),c=t(new ag.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=t(new ag.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:e,addPanel:t,showPanel:n,begin:function(){i=(performance||Date).now()},end:function(){s++;var f=(performance||Date).now();if(c.update(f-i,200),f>=a+1e3&&(o.update(s*1e3/(f-a),100),a=f,s=0,d)){var m=performance.memory;d.update(m.usedJSHeapSize/1048576,m.jsHeapSizeLimit/1048576)}return f},update:function(){i=this.end()},domElement:e,setMode:n}};ag.Panel=function(r,e,t){var n=1/0,i=0,a=Math.round,s=a(window.devicePixelRatio||1),o=80*s,c=48*s,d=3*s,f=2*s,m=3*s,g=15*s,y=74*s,x=30*s,S=document.createElement("canvas");S.width=o,S.height=c,S.style.cssText="width:80px;height:48px";var _=S.getContext("2d");return _.font="bold "+9*s+"px Helvetica,Arial,sans-serif",_.textBaseline="top",_.fillStyle=t,_.fillRect(0,0,o,c),_.fillStyle=e,_.fillText(r,d,f),_.fillRect(m,g,y,x),_.fillStyle=t,_.globalAlpha=.9,_.fillRect(m,g,y,x),{dom:S,update:function(E,w){n=Math.min(n,E),i=Math.max(i,E),_.fillStyle=t,_.globalAlpha=1,_.fillRect(0,0,o,g),_.fillStyle=e,_.fillText(a(E)+" "+r+" ("+a(n)+"-"+a(i)+")",d,f),_.drawImage(S,m+s,g,y-s,x,m,g,y-s,x),_.fillRect(m+y-s,g,s,x),_.fillStyle=t,_.globalAlpha=.9,_.fillRect(m+y-s,g,s,a((1-E/w)*x))}}};iM({Stats:ag});const ane=()=>{const r=new Qb,e=z.useRef([]);new ql(10,32,16);const{scene:t,camera:n,gl:i}=To(),[a,s]=z.useState([]),[o,c]=z.useState([]),d=z.useRef(0),f=z.useRef(0),m=z.useRef(new Qe),g=z.useRef(new tM),y=z.useRef(new My),x=new an().makeRotationY(.0025),S=new an().makeRotationX(.0025),_=(w,C,T)=>{const O=new xn,R=C*T,P=new Float32Array(R*3),N=new Float32Array(R*3);let D=0;for(let I=0;I<C;I++)for(let V=0;V<T;V++){const q=I/C,W=V/T,ee=q-.5,te=(Math.cos(q*Math.PI*4)+Math.sin(W*Math.PI*8))/100,re=W-.5;P[3*D]=ee,P[3*D+1]=te,P[3*D+2]=re;let ue=te*2*3;N[2*D+1]=w.r*ue,N[2*D+2]=w.g*ue,N[2*D+3]=w.b*ue,ue=te*2*4,N[3*D+1]=w.r*ue,N[3*D+2]=w.g*ue,N[3*D+3]=w.b*ue,D++}return O.setAttribute("position",new Jn(P,3)),O.setAttribute("color",new Jn(N,3)),O.computeBoundingBox(),O},E=(w,C,T)=>{const O=_(w,C,T),R=new Hx({size:.025,vertexColors:!0});return new Db(O,R)};return z.useEffect(()=>{const T=E(new At(1,0,0),50,50);T.scale.set(5,10,10),T.position.set(-5,0,0),t.add(T);const O=E(new At(0,1,0),50,50);O.scale.set(5,10,10),O.position.set(0,0,0),t.add(O);const R=E(new At(0,1,1),50,50);R.scale.set(5,10,10),R.position.set(5,0,0),t.add(R),s([T,O,R]);const P=new ql(.1,32,32),N=new Wo({color:16711680}),D=[];for(let W=0;W<50;W++){const ee=new Tr(P,N);t.add(ee),D.push(ee)}c(D),g.current.params.Points.threshold=.1;const I=W=>{m.current.x=-1,m.current.y=-1},V=()=>{n.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)};return window.addEventListener("pointermove",I),window.addEventListener("resize",V),(W=>{const ee=new At("hsl(120, 100%, 50%)"),te=new iS({color:ee}),re=new Tr(P,te);re.name="AudioSphere2",t.add(re);const ue=new sS(r);{const G=new Audio(W);G.crossOrigin="anonymous",G.addEventListener("canplaythrough",()=>{ue.setMediaElementSource(G),ue.setRefDistance(10),ue.setVolume(10),G.play()},{once:!0})}re.add(ue),e.current[2]=new Kb(ue,32)})("https://ia601608.us.archive.org/5/items/beethoven-violinkonzert-d-dur-op.-61-klavierfassung-olli-mustonen-klavier-hr-sin/BEETHOVEN%20%20Violinkonzert%20D-Dur%20op.%2061%20%28Klavierfassung%29%20-%20Olli%20Mustonen%20%28Klavier%29%20-%20hr-Sinfonieorchester%2C%20Paavo%20Järvi%20-%20Frankfurt%2C%207.%203.%202011.mp3"),()=>{window.removeEventListener("pointermove",I),window.removeEventListener("resize",V)}},[t,n,i]),aM(()=>{n.applyMatrix4(x),n.applyMatrix4(S),n.updateMatrixWorld(),g.current.setFromCamera(m.current,n);const w=g.current.intersectObjects(a,!1),C=w.length>0?w[0]:null;f.current>.02&&C!==null&&(o[d.current].position.copy(C.point),o[d.current].scale.set(1,1,1),d.current=(d.current+1)%o.length,f.current=0);for(const T of o){const O=T;O.scale.multiplyScalar(.92),O.scale.clampScalar(.01,1)}f.current+=y.current.getDelta()}),null},GL=()=>H.jsx(oM,{style:{height:"1500px"},children:H.jsx(ane,{})});function sne(){return H.jsxs("div",{children:[H.jsx("div",{className:"justify-content-center mt-5",children:H.jsxs(Nn,{md:12,className:"text-center",children:[H.jsxs("h4",{children:["Follow ",H.jsx("img",{src:"src/assets/TRUSTLOVE_LOGO_LARGE.png",width:"25%"})]}),H.jsxs(Ms,{className:"social-links",children:[H.jsx("a",{href:"https://www.facebook.com/profile.php?id=61561425107918",className:"me-3",children:H.jsx(zF,{})}),H.jsx("a",{href:"https://www.instagram.com/trust.l0v3",className:"me-3",children:H.jsx(VF,{})}),H.jsx("a",{href:"mailto:john@trustlove.io",children:H.jsx(HF,{})})]})]})}),H.jsx("br",{}),H.jsx("br",{}),H.jsxs("footer",{children:["©️ TrustLove™ ",new Date().getFullYear()]})]})}class one{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const t of this._parts)e.push(t);return lne(e).buffer}}function lne(r){let e=0;for(const i of r)e+=i.byteLength;const t=new Uint8Array(e);let n=0;for(const i of r){const a=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);t.set(a,n),n+=i.byteLength}return t}function qL(r){return new cne(r).unpack()}function XL(r){const e=new une,t=e.pack(r);return t instanceof Promise?t.then(()=>e.getBuffer()):e.getBuffer()}class cne{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let t;if((t=e^160)<=15)return this.unpack_raw(t);if((t=e^176)<=15)return this.unpack_string(t);if((t=e^144)<=15)return this.unpack_array(t);if((t=e^128)<=15)return this.unpack_map(t);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),t=(e[0]&255)*256+(e[1]&255);return this.index+=2,t}unpack_uint32(){const e=this.read(4),t=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,t}unpack_uint64(){const e=this.read(8),t=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,t}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t}unpack_string(e){const t=this.read(e);let n=0,i="",a,s;for(;n<e;)a=t[n],a<160?(s=a,n++):(a^192)<32?(s=(a&31)<<6|t[n+1]&63,n+=2):(a^224)<16?(s=(a&15)<<12|(t[n+1]&63)<<6|t[n+2]&63,n+=3):(s=(a&7)<<18|(t[n+1]&63)<<12|(t[n+2]&63)<<6|t[n+3]&63,n+=4),i+=String.fromCodePoint(s);return this.index+=e,i}unpack_array(e){const t=new Array(e);for(let n=0;n<e;n++)t[n]=this.unpack();return t}unpack_map(e){const t={};for(let n=0;n<e;n++){const i=this.unpack();t[i]=this.unpack()}return t}unpack_float(){const e=this.unpack_uint32(),t=e>>31,n=(e>>23&255)-127,i=e&8388607|8388608;return(t===0?1:-1)*i*2**(n-23)}unpack_double(){const e=this.unpack_uint32(),t=this.unpack_uint32(),n=e>>31,i=(e>>20&2047)-1023,s=(e&1048575|1048576)*2**(i-20)+t*2**(i-52);return(n===0?1:-1)*s}read(e){const t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")}}class une{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const t=e.constructor;if(e instanceof Array){const n=this.pack_array(e);if(n instanceof Promise)return n.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const n=e;this.pack_bin(new Uint8Array(n.buffer,n.byteOffset,n.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(n=>{this.pack_bin(new Uint8Array(n)),this._bufferBuilder.flush()});if(t==Object||t.toString().startsWith("class")){const n=this.pack_object(e);if(n instanceof Promise)return n.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${t.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const t=e.length;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this._bufferBuilder.append(218),this.pack_uint16(t);else if(t<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(t);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const t=this._textEncoder.encode(e),n=t.length;if(n<=15)this.pack_uint8(176+n);else if(n<=65535)this._bufferBuilder.append(216),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_array(e){const t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this._bufferBuilder.append(220),this.pack_uint16(t);else if(t<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(t);else throw new Error("Invalid length");const n=i=>{if(i<t){const a=this.pack(e[i]);return a instanceof Promise?a.then(()=>n(i+1)):n(i+1)}};return n(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let t=0;e<0&&(t=1,e=-e);const n=Math.floor(Math.log(e)/Math.LN2),i=e/2**n-1,a=Math.floor(i*2**52),s=2**32,o=t<<31|n+1023<<20|a/s&1048575,c=a%s;this._bufferBuilder.append(203),this.pack_int32(o),this.pack_int32(c)}pack_object(e){const t=Object.keys(e),n=t.length;if(n<=15)this.pack_uint8(128+n);else if(n<=65535)this._bufferBuilder.append(222),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(n);else throw new Error("Invalid length");const i=a=>{if(a<t.length){const s=t[a];if(e.hasOwnProperty(s)){this.pack(s);const o=this.pack(e[s]);if(o instanceof Promise)return o.then(()=>i(a+1))}return i(a+1)}};return i(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const t=e&4294967295;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_uint64(e){const t=e/4294967296,n=e%2**32;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255),this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const t=Math.floor(e/4294967296),n=e%2**32;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255),this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}constructor(){this._bufferBuilder=new one,this._textEncoder=new TextEncoder}}let YL=!0,QL=!0;function $0(r,e,t){const n=r.match(e);return n&&n.length>=t&&parseInt(n[t],10)}function Xd(r,e,t){if(!r.RTCPeerConnection)return;const n=r.RTCPeerConnection.prototype,i=n.addEventListener;n.addEventListener=function(s,o){if(s!==e)return i.apply(this,arguments);const c=d=>{const f=t(d);f&&(o.handleEvent?o.handleEvent(f):o(f))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(o,c),i.apply(this,[s,c])};const a=n.removeEventListener;n.removeEventListener=function(s,o){if(s!==e||!this._eventMap||!this._eventMap[e])return a.apply(this,arguments);if(!this._eventMap[e].has(o))return a.apply(this,arguments);const c=this._eventMap[e].get(o);return this._eventMap[e].delete(o),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,a.apply(this,[s,c])},Object.defineProperty(n,"on"+e,{get(){return this["_on"+e]},set(s){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),s&&this.addEventListener(e,this["_on"+e]=s)},enumerable:!0,configurable:!0})}function dne(r){return typeof r!="boolean"?new Error("Argument type: "+typeof r+". Please use a boolean."):(YL=r,r?"adapter.js logging disabled":"adapter.js logging enabled")}function fne(r){return typeof r!="boolean"?new Error("Argument type: "+typeof r+". Please use a boolean."):(QL=!r,"adapter.js deprecation warnings "+(r?"disabled":"enabled"))}function KL(){if(typeof window=="object"){if(YL)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function lM(r,e){QL&&console.warn(r+" is deprecated, please use "+e+" instead.")}function hne(r){const e={browser:null,version:null};if(typeof r>"u"||!r.navigator||!r.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:t}=r;if(t.userAgentData&&t.userAgentData.brands){const n=t.userAgentData.brands.find(i=>i.brand==="Chromium");if(n)return{browser:"chrome",version:parseInt(n.version,10)}}if(t.mozGetUserMedia)e.browser="firefox",e.version=$0(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||r.isSecureContext===!1&&r.webkitRTCPeerConnection)e.browser="chrome",e.version=$0(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(r.RTCPeerConnection&&t.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=$0(t.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=r.RTCRtpTransceiver&&"currentDirection"in r.RTCRtpTransceiver.prototype;else return e.browser="Not a supported browser.",e;return e}function JR(r){return Object.prototype.toString.call(r)==="[object Object]"}function JL(r){return JR(r)?Object.keys(r).reduce(function(e,t){const n=JR(r[t]),i=n?JL(r[t]):r[t],a=n&&!Object.keys(i).length;return i===void 0||a?e:Object.assign(e,{[t]:i})},{}):r}function yw(r,e,t){!e||t.has(e.id)||(t.set(e.id,e),Object.keys(e).forEach(n=>{n.endsWith("Id")?yw(r,r.get(e[n]),t):n.endsWith("Ids")&&e[n].forEach(i=>{yw(r,r.get(i),t)})}))}function ZR(r,e,t){const n=t?"outbound-rtp":"inbound-rtp",i=new Map;if(e===null)return i;const a=[];return r.forEach(s=>{s.type==="track"&&s.trackIdentifier===e.id&&a.push(s)}),a.forEach(s=>{r.forEach(o=>{o.type===n&&o.trackId===s.id&&yw(r,o,i)})}),i}const e2=KL;function ZL(r,e){const t=r&&r.navigator;if(!t.mediaDevices)return;const n=function(o){if(typeof o!="object"||o.mandatory||o.optional)return o;const c={};return Object.keys(o).forEach(d=>{if(d==="require"||d==="advanced"||d==="mediaSource")return;const f=typeof o[d]=="object"?o[d]:{ideal:o[d]};f.exact!==void 0&&typeof f.exact=="number"&&(f.min=f.max=f.exact);const m=function(g,y){return g?g+y.charAt(0).toUpperCase()+y.slice(1):y==="deviceId"?"sourceId":y};if(f.ideal!==void 0){c.optional=c.optional||[];let g={};typeof f.ideal=="number"?(g[m("min",d)]=f.ideal,c.optional.push(g),g={},g[m("max",d)]=f.ideal,c.optional.push(g)):(g[m("",d)]=f.ideal,c.optional.push(g))}f.exact!==void 0&&typeof f.exact!="number"?(c.mandatory=c.mandatory||{},c.mandatory[m("",d)]=f.exact):["min","max"].forEach(g=>{f[g]!==void 0&&(c.mandatory=c.mandatory||{},c.mandatory[m(g,d)]=f[g])})}),o.advanced&&(c.optional=(c.optional||[]).concat(o.advanced)),c},i=function(o,c){if(e.version>=61)return c(o);if(o=JSON.parse(JSON.stringify(o)),o&&typeof o.audio=="object"){const d=function(f,m,g){m in f&&!(g in f)&&(f[g]=f[m],delete f[m])};o=JSON.parse(JSON.stringify(o)),d(o.audio,"autoGainControl","googAutoGainControl"),d(o.audio,"noiseSuppression","googNoiseSuppression"),o.audio=n(o.audio)}if(o&&typeof o.video=="object"){let d=o.video.facingMode;d=d&&(typeof d=="object"?d:{ideal:d});const f=e.version<66;if(d&&(d.exact==="user"||d.exact==="environment"||d.ideal==="user"||d.ideal==="environment")&&!(t.mediaDevices.getSupportedConstraints&&t.mediaDevices.getSupportedConstraints().facingMode&&!f)){delete o.video.facingMode;let m;if(d.exact==="environment"||d.ideal==="environment"?m=["back","rear"]:(d.exact==="user"||d.ideal==="user")&&(m=["front"]),m)return t.mediaDevices.enumerateDevices().then(g=>{g=g.filter(x=>x.kind==="videoinput");let y=g.find(x=>m.some(S=>x.label.toLowerCase().includes(S)));return!y&&g.length&&m.includes("back")&&(y=g[g.length-1]),y&&(o.video.deviceId=d.exact?{exact:y.deviceId}:{ideal:y.deviceId}),o.video=n(o.video),e2("chrome: "+JSON.stringify(o)),c(o)})}o.video=n(o.video)}return e2("chrome: "+JSON.stringify(o)),c(o)},a=function(o){return e.version>=64?o:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[o.name]||o.name,message:o.message,constraint:o.constraint||o.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},s=function(o,c,d){i(o,f=>{t.webkitGetUserMedia(f,c,m=>{d&&d(a(m))})})};if(t.getUserMedia=s.bind(t),t.mediaDevices.getUserMedia){const o=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(c){return i(c,d=>o(d).then(f=>{if(d.audio&&!f.getAudioTracks().length||d.video&&!f.getVideoTracks().length)throw f.getTracks().forEach(m=>{m.stop()}),new DOMException("","NotFoundError");return f},f=>Promise.reject(a(f))))}}}function eN(r){r.MediaStream=r.MediaStream||r.webkitMediaStream}function tN(r){if(typeof r=="object"&&r.RTCPeerConnection&&!("ontrack"in r.RTCPeerConnection.prototype)){Object.defineProperty(r.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(t){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=t)},enumerable:!0,configurable:!0});const e=r.RTCPeerConnection.prototype.setRemoteDescription;r.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=n=>{n.stream.addEventListener("addtrack",i=>{let a;r.RTCPeerConnection.prototype.getReceivers?a=this.getReceivers().find(o=>o.track&&o.track.id===i.track.id):a={track:i.track};const s=new Event("track");s.track=i.track,s.receiver=a,s.transceiver={receiver:a},s.streams=[n.stream],this.dispatchEvent(s)}),n.stream.getTracks().forEach(i=>{let a;r.RTCPeerConnection.prototype.getReceivers?a=this.getReceivers().find(o=>o.track&&o.track.id===i.id):a={track:i};const s=new Event("track");s.track=i,s.receiver=a,s.transceiver={receiver:a},s.streams=[n.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else Xd(r,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function nN(r){if(typeof r=="object"&&r.RTCPeerConnection&&!("getSenders"in r.RTCPeerConnection.prototype)&&"createDTMFSender"in r.RTCPeerConnection.prototype){const e=function(i,a){return{track:a,get dtmf(){return this._dtmf===void 0&&(a.kind==="audio"?this._dtmf=i.createDTMFSender(a):this._dtmf=null),this._dtmf},_pc:i}};if(!r.RTCPeerConnection.prototype.getSenders){r.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=r.RTCPeerConnection.prototype.addTrack;r.RTCPeerConnection.prototype.addTrack=function(o,c){let d=i.apply(this,arguments);return d||(d=e(this,o),this._senders.push(d)),d};const a=r.RTCPeerConnection.prototype.removeTrack;r.RTCPeerConnection.prototype.removeTrack=function(o){a.apply(this,arguments);const c=this._senders.indexOf(o);c!==-1&&this._senders.splice(c,1)}}const t=r.RTCPeerConnection.prototype.addStream;r.RTCPeerConnection.prototype.addStream=function(a){this._senders=this._senders||[],t.apply(this,[a]),a.getTracks().forEach(s=>{this._senders.push(e(this,s))})};const n=r.RTCPeerConnection.prototype.removeStream;r.RTCPeerConnection.prototype.removeStream=function(a){this._senders=this._senders||[],n.apply(this,[a]),a.getTracks().forEach(s=>{const o=this._senders.find(c=>c.track===s);o&&this._senders.splice(this._senders.indexOf(o),1)})}}else if(typeof r=="object"&&r.RTCPeerConnection&&"getSenders"in r.RTCPeerConnection.prototype&&"createDTMFSender"in r.RTCPeerConnection.prototype&&r.RTCRtpSender&&!("dtmf"in r.RTCRtpSender.prototype)){const e=r.RTCPeerConnection.prototype.getSenders;r.RTCPeerConnection.prototype.getSenders=function(){const n=e.apply(this,[]);return n.forEach(i=>i._pc=this),n},Object.defineProperty(r.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function rN(r){if(!(typeof r=="object"&&r.RTCPeerConnection&&r.RTCRtpSender&&r.RTCRtpReceiver))return;if(!("getStats"in r.RTCRtpSender.prototype)){const t=r.RTCPeerConnection.prototype.getSenders;t&&(r.RTCPeerConnection.prototype.getSenders=function(){const a=t.apply(this,[]);return a.forEach(s=>s._pc=this),a});const n=r.RTCPeerConnection.prototype.addTrack;n&&(r.RTCPeerConnection.prototype.addTrack=function(){const a=n.apply(this,arguments);return a._pc=this,a}),r.RTCRtpSender.prototype.getStats=function(){const a=this;return this._pc.getStats().then(s=>ZR(s,a.track,!0))}}if(!("getStats"in r.RTCRtpReceiver.prototype)){const t=r.RTCPeerConnection.prototype.getReceivers;t&&(r.RTCPeerConnection.prototype.getReceivers=function(){const i=t.apply(this,[]);return i.forEach(a=>a._pc=this),i}),Xd(r,"track",n=>(n.receiver._pc=n.srcElement,n)),r.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(a=>ZR(a,i.track,!1))}}if(!("getStats"in r.RTCRtpSender.prototype&&"getStats"in r.RTCRtpReceiver.prototype))return;const e=r.RTCPeerConnection.prototype.getStats;r.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof r.MediaStreamTrack){const n=arguments[0];let i,a,s;return this.getSenders().forEach(o=>{o.track===n&&(i?s=!0:i=o)}),this.getReceivers().forEach(o=>(o.track===n&&(a?s=!0:a=o),o.track===n)),s||i&&a?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():a?a.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function iN(r){r.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(s=>this._shimmedLocalStreams[s][0])};const e=r.RTCPeerConnection.prototype.addTrack;r.RTCPeerConnection.prototype.addTrack=function(s,o){if(!o)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const c=e.apply(this,arguments);return this._shimmedLocalStreams[o.id]?this._shimmedLocalStreams[o.id].indexOf(c)===-1&&this._shimmedLocalStreams[o.id].push(c):this._shimmedLocalStreams[o.id]=[o,c],c};const t=r.RTCPeerConnection.prototype.addStream;r.RTCPeerConnection.prototype.addStream=function(s){this._shimmedLocalStreams=this._shimmedLocalStreams||{},s.getTracks().forEach(d=>{if(this.getSenders().find(m=>m.track===d))throw new DOMException("Track already exists.","InvalidAccessError")});const o=this.getSenders();t.apply(this,arguments);const c=this.getSenders().filter(d=>o.indexOf(d)===-1);this._shimmedLocalStreams[s.id]=[s].concat(c)};const n=r.RTCPeerConnection.prototype.removeStream;r.RTCPeerConnection.prototype.removeStream=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[s.id],n.apply(this,arguments)};const i=r.RTCPeerConnection.prototype.removeTrack;r.RTCPeerConnection.prototype.removeTrack=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},s&&Object.keys(this._shimmedLocalStreams).forEach(o=>{const c=this._shimmedLocalStreams[o].indexOf(s);c!==-1&&this._shimmedLocalStreams[o].splice(c,1),this._shimmedLocalStreams[o].length===1&&delete this._shimmedLocalStreams[o]}),i.apply(this,arguments)}}function aN(r,e){if(!r.RTCPeerConnection)return;if(r.RTCPeerConnection.prototype.addTrack&&e.version>=65)return iN(r);const t=r.RTCPeerConnection.prototype.getLocalStreams;r.RTCPeerConnection.prototype.getLocalStreams=function(){const f=t.apply(this);return this._reverseStreams=this._reverseStreams||{},f.map(m=>this._reverseStreams[m.id])};const n=r.RTCPeerConnection.prototype.addStream;r.RTCPeerConnection.prototype.addStream=function(f){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},f.getTracks().forEach(m=>{if(this.getSenders().find(y=>y.track===m))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[f.id]){const m=new r.MediaStream(f.getTracks());this._streams[f.id]=m,this._reverseStreams[m.id]=f,f=m}n.apply(this,[f])};const i=r.RTCPeerConnection.prototype.removeStream;r.RTCPeerConnection.prototype.removeStream=function(f){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[f.id]||f]),delete this._reverseStreams[this._streams[f.id]?this._streams[f.id].id:f.id],delete this._streams[f.id]},r.RTCPeerConnection.prototype.addTrack=function(f,m){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const g=[].slice.call(arguments,1);if(g.length!==1||!g[0].getTracks().find(S=>S===f))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(S=>S.track===f))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const x=this._streams[m.id];if(x)x.addTrack(f),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const S=new r.MediaStream([f]);this._streams[m.id]=S,this._reverseStreams[S.id]=m,this.addStream(S)}return this.getSenders().find(S=>S.track===f)};function a(d,f){let m=f.sdp;return Object.keys(d._reverseStreams||[]).forEach(g=>{const y=d._reverseStreams[g],x=d._streams[y.id];m=m.replace(new RegExp(x.id,"g"),y.id)}),new RTCSessionDescription({type:f.type,sdp:m})}function s(d,f){let m=f.sdp;return Object.keys(d._reverseStreams||[]).forEach(g=>{const y=d._reverseStreams[g],x=d._streams[y.id];m=m.replace(new RegExp(y.id,"g"),x.id)}),new RTCSessionDescription({type:f.type,sdp:m})}["createOffer","createAnswer"].forEach(function(d){const f=r.RTCPeerConnection.prototype[d],m={[d](){const g=arguments;return arguments.length&&typeof arguments[0]=="function"?f.apply(this,[x=>{const S=a(this,x);g[0].apply(null,[S])},x=>{g[1]&&g[1].apply(null,x)},arguments[2]]):f.apply(this,arguments).then(x=>a(this,x))}};r.RTCPeerConnection.prototype[d]=m[d]});const o=r.RTCPeerConnection.prototype.setLocalDescription;r.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?o.apply(this,arguments):(arguments[0]=s(this,arguments[0]),o.apply(this,arguments))};const c=Object.getOwnPropertyDescriptor(r.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(r.RTCPeerConnection.prototype,"localDescription",{get(){const d=c.get.apply(this);return d.type===""?d:a(this,d)}}),r.RTCPeerConnection.prototype.removeTrack=function(f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!f._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(f._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let g;Object.keys(this._streams).forEach(y=>{this._streams[y].getTracks().find(S=>f.track===S)&&(g=this._streams[y])}),g&&(g.getTracks().length===1?this.removeStream(this._reverseStreams[g.id]):g.removeTrack(f.track),this.dispatchEvent(new Event("negotiationneeded")))}}function vw(r,e){!r.RTCPeerConnection&&r.webkitRTCPeerConnection&&(r.RTCPeerConnection=r.webkitRTCPeerConnection),r.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const n=r.RTCPeerConnection.prototype[t],i={[t](){return arguments[0]=new(t==="addIceCandidate"?r.RTCIceCandidate:r.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};r.RTCPeerConnection.prototype[t]=i[t]})}function sN(r,e){Xd(r,"negotiationneeded",t=>{const n=t.target;if(!((e.version<72||n.getConfiguration&&n.getConfiguration().sdpSemantics==="plan-b")&&n.signalingState!=="stable"))return t})}const t2=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:sN,shimAddTrackRemoveTrack:aN,shimAddTrackRemoveTrackWithNative:iN,shimGetSendersWithDtmf:nN,shimGetUserMedia:ZL,shimMediaStream:eN,shimOnTrack:tN,shimPeerConnection:vw,shimSenderReceiverGetStats:rN},Symbol.toStringTag,{value:"Module"}));function oN(r,e){const t=r&&r.navigator,n=r&&r.MediaStreamTrack;if(t.getUserMedia=function(i,a,s){lM("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),t.mediaDevices.getUserMedia(i).then(a,s)},!(e.version>55&&"autoGainControl"in t.mediaDevices.getSupportedConstraints())){const i=function(s,o,c){o in s&&!(c in s)&&(s[c]=s[o],delete s[o])},a=t.mediaDevices.getUserMedia.bind(t.mediaDevices);if(t.mediaDevices.getUserMedia=function(s){return typeof s=="object"&&typeof s.audio=="object"&&(s=JSON.parse(JSON.stringify(s)),i(s.audio,"autoGainControl","mozAutoGainControl"),i(s.audio,"noiseSuppression","mozNoiseSuppression")),a(s)},n&&n.prototype.getSettings){const s=n.prototype.getSettings;n.prototype.getSettings=function(){const o=s.apply(this,arguments);return i(o,"mozAutoGainControl","autoGainControl"),i(o,"mozNoiseSuppression","noiseSuppression"),o}}if(n&&n.prototype.applyConstraints){const s=n.prototype.applyConstraints;n.prototype.applyConstraints=function(o){return this.kind==="audio"&&typeof o=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o,"autoGainControl","mozAutoGainControl"),i(o,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[o])}}}}function pne(r,e){r.navigator.mediaDevices&&"getDisplayMedia"in r.navigator.mediaDevices||r.navigator.mediaDevices&&(r.navigator.mediaDevices.getDisplayMedia=function(n){if(!(n&&n.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return n.video===!0?n.video={mediaSource:e}:n.video.mediaSource=e,r.navigator.mediaDevices.getUserMedia(n)})}function lN(r){typeof r=="object"&&r.RTCTrackEvent&&"receiver"in r.RTCTrackEvent.prototype&&!("transceiver"in r.RTCTrackEvent.prototype)&&Object.defineProperty(r.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function _w(r,e){if(typeof r!="object"||!(r.RTCPeerConnection||r.mozRTCPeerConnection))return;!r.RTCPeerConnection&&r.mozRTCPeerConnection&&(r.RTCPeerConnection=r.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const a=r.RTCPeerConnection.prototype[i],s={[i](){return arguments[0]=new(i==="addIceCandidate"?r.RTCIceCandidate:r.RTCSessionDescription)(arguments[0]),a.apply(this,arguments)}};r.RTCPeerConnection.prototype[i]=s[i]});const t={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=r.RTCPeerConnection.prototype.getStats;r.RTCPeerConnection.prototype.getStats=function(){const[a,s,o]=arguments;return n.apply(this,[a||null]).then(c=>{if(e.version<53&&!s)try{c.forEach(d=>{d.type=t[d.type]||d.type})}catch(d){if(d.name!=="TypeError")throw d;c.forEach((f,m)=>{c.set(m,Object.assign({},f,{type:t[f.type]||f.type}))})}return c}).then(s,o)}}function cN(r){if(!(typeof r=="object"&&r.RTCPeerConnection&&r.RTCRtpSender)||r.RTCRtpSender&&"getStats"in r.RTCRtpSender.prototype)return;const e=r.RTCPeerConnection.prototype.getSenders;e&&(r.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(a=>a._pc=this),i});const t=r.RTCPeerConnection.prototype.addTrack;t&&(r.RTCPeerConnection.prototype.addTrack=function(){const i=t.apply(this,arguments);return i._pc=this,i}),r.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function uN(r){if(!(typeof r=="object"&&r.RTCPeerConnection&&r.RTCRtpSender)||r.RTCRtpSender&&"getStats"in r.RTCRtpReceiver.prototype)return;const e=r.RTCPeerConnection.prototype.getReceivers;e&&(r.RTCPeerConnection.prototype.getReceivers=function(){const n=e.apply(this,[]);return n.forEach(i=>i._pc=this),n}),Xd(r,"track",t=>(t.receiver._pc=t.srcElement,t)),r.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function dN(r){!r.RTCPeerConnection||"removeStream"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.removeStream=function(t){lM("removeStream","removeTrack"),this.getSenders().forEach(n=>{n.track&&t.getTracks().includes(n.track)&&this.removeTrack(n)})})}function fN(r){r.DataChannel&&!r.RTCDataChannel&&(r.RTCDataChannel=r.DataChannel)}function hN(r){if(!(typeof r=="object"&&r.RTCPeerConnection))return;const e=r.RTCPeerConnection.prototype.addTransceiver;e&&(r.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let n=arguments[1]&&arguments[1].sendEncodings;n===void 0&&(n=[]),n=[...n];const i=n.length>0;i&&n.forEach(s=>{if("rid"in s&&!/^[a-z0-9]{0,16}$/i.test(s.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in s&&!(parseFloat(s.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in s&&!(parseFloat(s.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const a=e.apply(this,arguments);if(i){const{sender:s}=a,o=s.getParameters();(!("encodings"in o)||o.encodings.length===1&&Object.keys(o.encodings[0]).length===0)&&(o.encodings=n,s.sendEncodings=n,this.setParametersPromises.push(s.setParameters(o).then(()=>{delete s.sendEncodings}).catch(()=>{delete s.sendEncodings})))}return a})}function pN(r){if(!(typeof r=="object"&&r.RTCRtpSender))return;const e=r.RTCRtpSender.prototype.getParameters;e&&(r.RTCRtpSender.prototype.getParameters=function(){const n=e.apply(this,arguments);return"encodings"in n||(n.encodings=[].concat(this.sendEncodings||[{}])),n})}function mN(r){if(!(typeof r=="object"&&r.RTCPeerConnection))return;const e=r.RTCPeerConnection.prototype.createOffer;r.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function gN(r){if(!(typeof r=="object"&&r.RTCPeerConnection))return;const e=r.RTCPeerConnection.prototype.createAnswer;r.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const n2=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:hN,shimCreateAnswer:gN,shimCreateOffer:mN,shimGetDisplayMedia:pne,shimGetParameters:pN,shimGetUserMedia:oN,shimOnTrack:lN,shimPeerConnection:_w,shimRTCDataChannel:fN,shimReceiverGetStats:uN,shimRemoveStream:dN,shimSenderGetStats:cN},Symbol.toStringTag,{value:"Module"}));function yN(r){if(!(typeof r!="object"||!r.RTCPeerConnection)){if("getLocalStreams"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in r.RTCPeerConnection.prototype)){const e=r.RTCPeerConnection.prototype.addTrack;r.RTCPeerConnection.prototype.addStream=function(n){this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(i=>e.call(this,i,n)),n.getVideoTracks().forEach(i=>e.call(this,i,n))},r.RTCPeerConnection.prototype.addTrack=function(n,...i){return i&&i.forEach(a=>{this._localStreams?this._localStreams.includes(a)||this._localStreams.push(a):this._localStreams=[a]}),e.apply(this,arguments)}}"removeStream"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.removeStream=function(t){this._localStreams||(this._localStreams=[]);const n=this._localStreams.indexOf(t);if(n===-1)return;this._localStreams.splice(n,1);const i=t.getTracks();this.getSenders().forEach(a=>{i.includes(a.track)&&this.removeTrack(a)})})}}function vN(r){if(!(typeof r!="object"||!r.RTCPeerConnection)&&("getRemoteStreams"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in r.RTCPeerConnection.prototype))){Object.defineProperty(r.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(t){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=t),this.addEventListener("track",this._onaddstreampoly=n=>{n.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const a=new Event("addstream");a.stream=i,this.dispatchEvent(a)})})}});const e=r.RTCPeerConnection.prototype.setRemoteDescription;r.RTCPeerConnection.prototype.setRemoteDescription=function(){const n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(a=>{if(n._remoteStreams||(n._remoteStreams=[]),n._remoteStreams.indexOf(a)>=0)return;n._remoteStreams.push(a);const s=new Event("addstream");s.stream=a,n.dispatchEvent(s)})}),e.apply(n,arguments)}}}function _N(r){if(typeof r!="object"||!r.RTCPeerConnection)return;const e=r.RTCPeerConnection.prototype,t=e.createOffer,n=e.createAnswer,i=e.setLocalDescription,a=e.setRemoteDescription,s=e.addIceCandidate;e.createOffer=function(d,f){const m=arguments.length>=2?arguments[2]:arguments[0],g=t.apply(this,[m]);return f?(g.then(d,f),Promise.resolve()):g},e.createAnswer=function(d,f){const m=arguments.length>=2?arguments[2]:arguments[0],g=n.apply(this,[m]);return f?(g.then(d,f),Promise.resolve()):g};let o=function(c,d,f){const m=i.apply(this,[c]);return f?(m.then(d,f),Promise.resolve()):m};e.setLocalDescription=o,o=function(c,d,f){const m=a.apply(this,[c]);return f?(m.then(d,f),Promise.resolve()):m},e.setRemoteDescription=o,o=function(c,d,f){const m=s.apply(this,[c]);return f?(m.then(d,f),Promise.resolve()):m},e.addIceCandidate=o}function xN(r){const e=r&&r.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const t=e.mediaDevices,n=t.getUserMedia.bind(t);e.mediaDevices.getUserMedia=i=>n(SN(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(n,i,a){e.mediaDevices.getUserMedia(n).then(i,a)}).bind(e))}function SN(r){return r&&r.video!==void 0?Object.assign({},r,{video:JL(r.video)}):r}function EN(r){if(!r.RTCPeerConnection)return;const e=r.RTCPeerConnection;r.RTCPeerConnection=function(n,i){if(n&&n.iceServers){const a=[];for(let s=0;s<n.iceServers.length;s++){let o=n.iceServers[s];o.urls===void 0&&o.url?(lM("RTCIceServer.url","RTCIceServer.urls"),o=JSON.parse(JSON.stringify(o)),o.urls=o.url,delete o.url,a.push(o)):a.push(n.iceServers[s])}n.iceServers=a}return new e(n,i)},r.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(r.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function wN(r){typeof r=="object"&&r.RTCTrackEvent&&"receiver"in r.RTCTrackEvent.prototype&&!("transceiver"in r.RTCTrackEvent.prototype)&&Object.defineProperty(r.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function CN(r){const e=r.RTCPeerConnection.prototype.createOffer;r.RTCPeerConnection.prototype.createOffer=function(n){if(n){typeof n.offerToReceiveAudio<"u"&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);const i=this.getTransceivers().find(s=>s.receiver.track.kind==="audio");n.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):n.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof n.offerToReceiveVideo<"u"&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);const a=this.getTransceivers().find(s=>s.receiver.track.kind==="video");n.offerToReceiveVideo===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):n.offerToReceiveVideo===!0&&!a&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function bN(r){typeof r!="object"||r.AudioContext||(r.AudioContext=r.webkitAudioContext)}const r2=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:bN,shimCallbacksAPI:_N,shimConstraints:SN,shimCreateOfferLegacy:CN,shimGetUserMedia:xN,shimLocalStreamsAPI:yN,shimRTCIceServerUrls:EN,shimRemoteStreamsAPI:vN,shimTrackEventTransceiver:wN},Symbol.toStringTag,{value:"Module"}));var MN={exports:{}};(function(r){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(t){return t.trim().split(`
`).map(n=>n.trim())},e.splitSections=function(t){return t.split(`
m=`).map((i,a)=>(a>0?"m="+i:i).trim()+`\r
`)},e.getDescription=function(t){const n=e.splitSections(t);return n&&n[0]},e.getMediaSections=function(t){const n=e.splitSections(t);return n.shift(),n},e.matchPrefix=function(t,n){return e.splitLines(t).filter(i=>i.indexOf(n)===0)},e.parseCandidate=function(t){let n;t.indexOf("a=candidate:")===0?n=t.substring(12).split(" "):n=t.substring(10).split(" ");const i={foundation:n[0],component:{1:"rtp",2:"rtcp"}[n[1]]||n[1],protocol:n[2].toLowerCase(),priority:parseInt(n[3],10),ip:n[4],address:n[4],port:parseInt(n[5],10),type:n[7]};for(let a=8;a<n.length;a+=2)switch(n[a]){case"raddr":i.relatedAddress=n[a+1];break;case"rport":i.relatedPort=parseInt(n[a+1],10);break;case"tcptype":i.tcpType=n[a+1];break;case"ufrag":i.ufrag=n[a+1],i.usernameFragment=n[a+1];break;default:i[n[a]]===void 0&&(i[n[a]]=n[a+1]);break}return i},e.writeCandidate=function(t){const n=[];n.push(t.foundation);const i=t.component;i==="rtp"?n.push(1):i==="rtcp"?n.push(2):n.push(i),n.push(t.protocol.toUpperCase()),n.push(t.priority),n.push(t.address||t.ip),n.push(t.port);const a=t.type;return n.push("typ"),n.push(a),a!=="host"&&t.relatedAddress&&t.relatedPort&&(n.push("raddr"),n.push(t.relatedAddress),n.push("rport"),n.push(t.relatedPort)),t.tcpType&&t.protocol.toLowerCase()==="tcp"&&(n.push("tcptype"),n.push(t.tcpType)),(t.usernameFragment||t.ufrag)&&(n.push("ufrag"),n.push(t.usernameFragment||t.ufrag)),"candidate:"+n.join(" ")},e.parseIceOptions=function(t){return t.substring(14).split(" ")},e.parseRtpMap=function(t){let n=t.substring(9).split(" ");const i={payloadType:parseInt(n.shift(),10)};return n=n[0].split("/"),i.name=n[0],i.clockRate=parseInt(n[1],10),i.channels=n.length===3?parseInt(n[2],10):1,i.numChannels=i.channels,i},e.writeRtpMap=function(t){let n=t.payloadType;t.preferredPayloadType!==void 0&&(n=t.preferredPayloadType);const i=t.channels||t.numChannels||1;return"a=rtpmap:"+n+" "+t.name+"/"+t.clockRate+(i!==1?"/"+i:"")+`\r
`},e.parseExtmap=function(t){const n=t.substring(9).split(" ");return{id:parseInt(n[0],10),direction:n[0].indexOf("/")>0?n[0].split("/")[1]:"sendrecv",uri:n[1],attributes:n.slice(2).join(" ")}},e.writeExtmap=function(t){return"a=extmap:"+(t.id||t.preferredId)+(t.direction&&t.direction!=="sendrecv"?"/"+t.direction:"")+" "+t.uri+(t.attributes?" "+t.attributes:"")+`\r
`},e.parseFmtp=function(t){const n={};let i;const a=t.substring(t.indexOf(" ")+1).split(";");for(let s=0;s<a.length;s++)i=a[s].trim().split("="),n[i[0].trim()]=i[1];return n},e.writeFmtp=function(t){let n="",i=t.payloadType;if(t.preferredPayloadType!==void 0&&(i=t.preferredPayloadType),t.parameters&&Object.keys(t.parameters).length){const a=[];Object.keys(t.parameters).forEach(s=>{t.parameters[s]!==void 0?a.push(s+"="+t.parameters[s]):a.push(s)}),n+="a=fmtp:"+i+" "+a.join(";")+`\r
`}return n},e.parseRtcpFb=function(t){const n=t.substring(t.indexOf(" ")+1).split(" ");return{type:n.shift(),parameter:n.join(" ")}},e.writeRtcpFb=function(t){let n="",i=t.payloadType;return t.preferredPayloadType!==void 0&&(i=t.preferredPayloadType),t.rtcpFeedback&&t.rtcpFeedback.length&&t.rtcpFeedback.forEach(a=>{n+="a=rtcp-fb:"+i+" "+a.type+(a.parameter&&a.parameter.length?" "+a.parameter:"")+`\r
`}),n},e.parseSsrcMedia=function(t){const n=t.indexOf(" "),i={ssrc:parseInt(t.substring(7,n),10)},a=t.indexOf(":",n);return a>-1?(i.attribute=t.substring(n+1,a),i.value=t.substring(a+1)):i.attribute=t.substring(n+1),i},e.parseSsrcGroup=function(t){const n=t.substring(13).split(" ");return{semantics:n.shift(),ssrcs:n.map(i=>parseInt(i,10))}},e.getMid=function(t){const n=e.matchPrefix(t,"a=mid:")[0];if(n)return n.substring(6)},e.parseFingerprint=function(t){const n=t.substring(14).split(" ");return{algorithm:n[0].toLowerCase(),value:n[1].toUpperCase()}},e.getDtlsParameters=function(t,n){return{role:"auto",fingerprints:e.matchPrefix(t+n,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(t,n){let i="a=setup:"+n+`\r
`;return t.fingerprints.forEach(a=>{i+="a=fingerprint:"+a.algorithm+" "+a.value+`\r
`}),i},e.parseCryptoLine=function(t){const n=t.substring(9).split(" ");return{tag:parseInt(n[0],10),cryptoSuite:n[1],keyParams:n[2],sessionParams:n.slice(3)}},e.writeCryptoLine=function(t){return"a=crypto:"+t.tag+" "+t.cryptoSuite+" "+(typeof t.keyParams=="object"?e.writeCryptoKeyParams(t.keyParams):t.keyParams)+(t.sessionParams?" "+t.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(t){if(t.indexOf("inline:")!==0)return null;const n=t.substring(7).split("|");return{keyMethod:"inline",keySalt:n[0],lifeTime:n[1],mkiValue:n[2]?n[2].split(":")[0]:void 0,mkiLength:n[2]?n[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(t){return t.keyMethod+":"+t.keySalt+(t.lifeTime?"|"+t.lifeTime:"")+(t.mkiValue&&t.mkiLength?"|"+t.mkiValue+":"+t.mkiLength:"")},e.getCryptoParameters=function(t,n){return e.matchPrefix(t+n,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(t,n){const i=e.matchPrefix(t+n,"a=ice-ufrag:")[0],a=e.matchPrefix(t+n,"a=ice-pwd:")[0];return i&&a?{usernameFragment:i.substring(12),password:a.substring(10)}:null},e.writeIceParameters=function(t){let n="a=ice-ufrag:"+t.usernameFragment+`\r
a=ice-pwd:`+t.password+`\r
`;return t.iceLite&&(n+=`a=ice-lite\r
`),n},e.parseRtpParameters=function(t){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},a=e.splitLines(t)[0].split(" ");n.profile=a[2];for(let o=3;o<a.length;o++){const c=a[o],d=e.matchPrefix(t,"a=rtpmap:"+c+" ")[0];if(d){const f=e.parseRtpMap(d),m=e.matchPrefix(t,"a=fmtp:"+c+" ");switch(f.parameters=m.length?e.parseFmtp(m[0]):{},f.rtcpFeedback=e.matchPrefix(t,"a=rtcp-fb:"+c+" ").map(e.parseRtcpFb),n.codecs.push(f),f.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(f.name.toUpperCase());break}}}e.matchPrefix(t,"a=extmap:").forEach(o=>{n.headerExtensions.push(e.parseExtmap(o))});const s=e.matchPrefix(t,"a=rtcp-fb:* ").map(e.parseRtcpFb);return n.codecs.forEach(o=>{s.forEach(c=>{o.rtcpFeedback.find(f=>f.type===c.type&&f.parameter===c.parameter)||o.rtcpFeedback.push(c)})}),n},e.writeRtpDescription=function(t,n){let i="";i+="m="+t+" ",i+=n.codecs.length>0?"9":"0",i+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=n.codecs.map(s=>s.preferredPayloadType!==void 0?s.preferredPayloadType:s.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,n.codecs.forEach(s=>{i+=e.writeRtpMap(s),i+=e.writeFmtp(s),i+=e.writeRtcpFb(s)});let a=0;return n.codecs.forEach(s=>{s.maxptime>a&&(a=s.maxptime)}),a>0&&(i+="a=maxptime:"+a+`\r
`),n.headerExtensions&&n.headerExtensions.forEach(s=>{i+=e.writeExtmap(s)}),i},e.parseRtpEncodingParameters=function(t){const n=[],i=e.parseRtpParameters(t),a=i.fecMechanisms.indexOf("RED")!==-1,s=i.fecMechanisms.indexOf("ULPFEC")!==-1,o=e.matchPrefix(t,"a=ssrc:").map(g=>e.parseSsrcMedia(g)).filter(g=>g.attribute==="cname"),c=o.length>0&&o[0].ssrc;let d;const f=e.matchPrefix(t,"a=ssrc-group:FID").map(g=>g.substring(17).split(" ").map(x=>parseInt(x,10)));f.length>0&&f[0].length>1&&f[0][0]===c&&(d=f[0][1]),i.codecs.forEach(g=>{if(g.name.toUpperCase()==="RTX"&&g.parameters.apt){let y={ssrc:c,codecPayloadType:parseInt(g.parameters.apt,10)};c&&d&&(y.rtx={ssrc:d}),n.push(y),a&&(y=JSON.parse(JSON.stringify(y)),y.fec={ssrc:c,mechanism:s?"red+ulpfec":"red"},n.push(y))}}),n.length===0&&c&&n.push({ssrc:c});let m=e.matchPrefix(t,"b=");return m.length&&(m[0].indexOf("b=TIAS:")===0?m=parseInt(m[0].substring(7),10):m[0].indexOf("b=AS:")===0?m=parseInt(m[0].substring(5),10)*1e3*.95-50*40*8:m=void 0,n.forEach(g=>{g.maxBitrate=m})),n},e.parseRtcpParameters=function(t){const n={},i=e.matchPrefix(t,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="cname")[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);const a=e.matchPrefix(t,"a=rtcp-rsize");n.reducedSize=a.length>0,n.compound=a.length===0;const s=e.matchPrefix(t,"a=rtcp-mux");return n.mux=s.length>0,n},e.writeRtcpParameters=function(t){let n="";return t.reducedSize&&(n+=`a=rtcp-rsize\r
`),t.mux&&(n+=`a=rtcp-mux\r
`),t.ssrc!==void 0&&t.cname&&(n+="a=ssrc:"+t.ssrc+" cname:"+t.cname+`\r
`),n},e.parseMsid=function(t){let n;const i=e.matchPrefix(t,"a=msid:");if(i.length===1)return n=i[0].substring(7).split(" "),{stream:n[0],track:n[1]};const a=e.matchPrefix(t,"a=ssrc:").map(s=>e.parseSsrcMedia(s)).filter(s=>s.attribute==="msid");if(a.length>0)return n=a[0].value.split(" "),{stream:n[0],track:n[1]}},e.parseSctpDescription=function(t){const n=e.parseMLine(t),i=e.matchPrefix(t,"a=max-message-size:");let a;i.length>0&&(a=parseInt(i[0].substring(19),10)),isNaN(a)&&(a=65536);const s=e.matchPrefix(t,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substring(12),10),protocol:n.fmt,maxMessageSize:a};const o=e.matchPrefix(t,"a=sctpmap:");if(o.length>0){const c=o[0].substring(10).split(" ");return{port:parseInt(c[0],10),protocol:c[1],maxMessageSize:a}}},e.writeSctpDescription=function(t,n){let i=[];return t.protocol!=="DTLS/SCTP"?i=["m="+t.kind+" 9 "+t.protocol+" "+n.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+n.port+`\r
`]:i=["m="+t.kind+" 9 "+t.protocol+" "+n.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+n.port+" "+n.protocol+` 65535\r
`],n.maxMessageSize!==void 0&&i.push("a=max-message-size:"+n.maxMessageSize+`\r
`),i.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(t,n,i){let a;const s=n!==void 0?n:2;return t?a=t:a=e.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+a+" "+s+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(t,n){const i=e.splitLines(t);for(let a=0;a<i.length;a++)switch(i[a]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[a].substring(2)}return n?e.getDirection(n):"sendrecv"},e.getKind=function(t){return e.splitLines(t)[0].split(" ")[0].substring(2)},e.isRejected=function(t){return t.split(" ",2)[1]==="0"},e.parseMLine=function(t){const i=e.splitLines(t)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.parseOLine=function(t){const i=e.matchPrefix(t,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(t){if(typeof t!="string"||t.length===0)return!1;const n=e.splitLines(t);for(let i=0;i<n.length;i++)if(n[i].length<2||n[i].charAt(1)!=="=")return!1;return!0},r.exports=e})(MN);var TN=MN.exports;const Gh=en(TN),mne=Wt({__proto__:null,default:Gh},[TN]);function W0(r){if(!r.RTCIceCandidate||r.RTCIceCandidate&&"foundation"in r.RTCIceCandidate.prototype)return;const e=r.RTCIceCandidate;r.RTCIceCandidate=function(n){if(typeof n=="object"&&n.candidate&&n.candidate.indexOf("a=")===0&&(n=JSON.parse(JSON.stringify(n)),n.candidate=n.candidate.substring(2)),n.candidate&&n.candidate.length){const i=new e(n),a=Gh.parseCandidate(n.candidate);for(const s in a)s in i||Object.defineProperty(i,s,{value:a[s]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new e(n)},r.RTCIceCandidate.prototype=e.prototype,Xd(r,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new r.RTCIceCandidate(t.candidate),writable:"false"}),t))}function xw(r){!r.RTCIceCandidate||r.RTCIceCandidate&&"relayProtocol"in r.RTCIceCandidate.prototype||Xd(r,"icecandidate",e=>{if(e.candidate){const t=Gh.parseCandidate(e.candidate.candidate);t.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e})}function G0(r,e){if(!r.RTCPeerConnection)return;"sctp"in r.RTCPeerConnection.prototype||Object.defineProperty(r.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const t=function(o){if(!o||!o.sdp)return!1;const c=Gh.splitSections(o.sdp);return c.shift(),c.some(d=>{const f=Gh.parseMLine(d);return f&&f.kind==="application"&&f.protocol.indexOf("SCTP")!==-1})},n=function(o){const c=o.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(c===null||c.length<2)return-1;const d=parseInt(c[1],10);return d!==d?-1:d},i=function(o){let c=65536;return e.browser==="firefox"&&(e.version<57?o===-1?c=16384:c=2147483637:e.version<60?c=e.version===57?65535:65536:c=2147483637),c},a=function(o,c){let d=65536;e.browser==="firefox"&&e.version===57&&(d=65535);const f=Gh.matchPrefix(o.sdp,"a=max-message-size:");return f.length>0?d=parseInt(f[0].substring(19),10):e.browser==="firefox"&&c!==-1&&(d=2147483637),d},s=r.RTCPeerConnection.prototype.setRemoteDescription;r.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:c}=this.getConfiguration();c==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(t(arguments[0])){const c=n(arguments[0]),d=i(c),f=a(arguments[0],c);let m;d===0&&f===0?m=Number.POSITIVE_INFINITY:d===0||f===0?m=Math.max(d,f):m=Math.min(d,f);const g={};Object.defineProperty(g,"maxMessageSize",{get(){return m}}),this._sctp=g}return s.apply(this,arguments)}}function q0(r){if(!(r.RTCPeerConnection&&"createDataChannel"in r.RTCPeerConnection.prototype))return;function e(n,i){const a=n.send;n.send=function(){const o=arguments[0],c=o.length||o.size||o.byteLength;if(n.readyState==="open"&&i.sctp&&c>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return a.apply(n,arguments)}}const t=r.RTCPeerConnection.prototype.createDataChannel;r.RTCPeerConnection.prototype.createDataChannel=function(){const i=t.apply(this,arguments);return e(i,this),i},Xd(r,"datachannel",n=>(e(n.channel,n.target),n))}function Sw(r){if(!r.RTCPeerConnection||"connectionState"in r.RTCPeerConnection.prototype)return;const e=r.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(t){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),t&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=t)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(t=>{const n=e[t];e[t]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const a=i.target;if(a._lastConnectionState!==a.connectionState){a._lastConnectionState=a.connectionState;const s=new Event("connectionstatechange",i);a.dispatchEvent(s)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function Ew(r,e){if(!r.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e.version>=605)return;const t=r.RTCPeerConnection.prototype.setRemoteDescription;r.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const a=i.sdp.split(`
`).filter(s=>s.trim()!=="a=extmap-allow-mixed").join(`
`);r.RTCSessionDescription&&i instanceof r.RTCSessionDescription?arguments[0]=new r.RTCSessionDescription({type:i.type,sdp:a}):i.sdp=a}return t.apply(this,arguments)}}function X0(r,e){if(!(r.RTCPeerConnection&&r.RTCPeerConnection.prototype))return;const t=r.RTCPeerConnection.prototype.addIceCandidate;!t||t.length===0||(r.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Y0(r,e){if(!(r.RTCPeerConnection&&r.RTCPeerConnection.prototype))return;const t=r.RTCPeerConnection.prototype.setLocalDescription;!t||t.length===0||(r.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return t.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?t.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(s=>t.apply(this,[s]))})}const gne=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Ew,shimAddIceCandidateNullOrEmpty:X0,shimConnectionState:Sw,shimMaxMessageSize:G0,shimParameterlessSetLocalDescription:Y0,shimRTCIceCandidate:W0,shimRTCIceCandidateRelayProtocol:xw,shimSendThrowTypeError:q0},Symbol.toStringTag,{value:"Module"}));function yne({window:r}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const t=KL,n=hne(r),i={browserDetails:n,commonShim:gne,extractVersion:$0,disableLog:dne,disableWarnings:fne,sdp:mne};switch(n.browser){case"chrome":if(!t2||!vw||!e.shimChrome)return t("Chrome shim is not included in this adapter release."),i;if(n.version===null)return t("Chrome shim can not determine version, not shimming."),i;t("adapter.js shimming chrome."),i.browserShim=t2,X0(r,n),Y0(r),ZL(r,n),eN(r),vw(r,n),tN(r),aN(r,n),nN(r),rN(r),sN(r,n),W0(r),xw(r),Sw(r),G0(r,n),q0(r),Ew(r,n);break;case"firefox":if(!n2||!_w||!e.shimFirefox)return t("Firefox shim is not included in this adapter release."),i;t("adapter.js shimming firefox."),i.browserShim=n2,X0(r,n),Y0(r),oN(r,n),_w(r,n),lN(r),dN(r),cN(r),uN(r),fN(r),hN(r),pN(r),mN(r),gN(r),W0(r),Sw(r),G0(r,n),q0(r);break;case"safari":if(!r2||!e.shimSafari)return t("Safari shim is not included in this adapter release."),i;t("adapter.js shimming safari."),i.browserShim=r2,X0(r,n),Y0(r),EN(r),CN(r),_N(r),yN(r),vN(r),wN(r),xN(r),bN(r),W0(r),xw(r),G0(r,n),q0(r),Ew(r,n);break;default:t("Unsupported browser!");break}return i}const i2=yne({window:typeof window>"u"?void 0:window});function Yd(r,e,t,n){Object.defineProperty(r,e,{get:t,set:n,enumerable:!0,configurable:!0})}class AN{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const t=[],n=e.byteLength,i=Math.ceil(n/this.chunkedMTU);let a=0,s=0;for(;s<n;){const o=Math.min(n,s+this.chunkedMTU),c=e.slice(s,o),d={__peerData:this._dataCount,n:a,data:c,total:i};t.push(d),s=o,a++}return this._dataCount++,t}}}function vne(r){let e=0;for(const i of r)e+=i.byteLength;const t=new Uint8Array(e);let n=0;for(const i of r)t.set(i,n),n+=i.byteLength;return t}const uE=i2.default||i2,Um=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const r=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(r)?r==="chrome"?e>=this.minChromeVersion:r==="firefox"?e>=this.minFirefoxVersion:r==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return uE.browserDetails.browser}getVersion(){return uE.browserDetails.version||0}isUnifiedPlanSupported(){const r=this.getBrowser(),e=uE.browserDetails.version||0;if(r==="chrome"&&e<this.minChromeVersion)return!1;if(r==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let t,n=!1;try{t=new RTCPeerConnection,t.addTransceiver("audio"),n=!0}catch{}finally{t&&t.close()}return n}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},_ne=r=>!r||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(r),PN=()=>Math.random().toString(36).slice(2),a2={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class xne extends AN{noop(){}blobToArrayBuffer(e,t){const n=new FileReader;return n.onload=function(i){i.target&&t(i.target.result)},n.readAsArrayBuffer(e),n}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n)&255;return t.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=a2,this.browser=Um.getBrowser(),this.browserVersion=Um.getVersion(),this.pack=XL,this.unpack=qL,this.supports=function(){const t={browser:Um.isBrowserSupported(),webRTC:Um.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;let n;try{n=new RTCPeerConnection(a2),t.audioVideo=!0;let i;try{i=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!i.ordered;try{i.binaryType="blob",t.binaryBlob=!Um.isIOS}catch{}}catch{}finally{i&&i.close()}}catch{}finally{n&&n.close()}return t}(),this.validateId=_ne,this.randomToken=PN}}const La=new xne,Sne="PeerJS: ";var s2;(function(r){r[r.Disabled=0]="Disabled",r[r.Errors=1]="Errors",r[r.Warnings=2]="Warnings",r[r.All=3]="All"})(s2||(s2={}));class Ene{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const n=[Sne,...t];for(const i in n)n[i]instanceof Error&&(n[i]="("+n[i].name+") "+n[i].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}constructor(){this._logLevel=0}}var Ht=new Ene,cM={},wne=Object.prototype.hasOwnProperty,xa="~";function Gg(){}Object.create&&(Gg.prototype=Object.create(null),new Gg().__proto__||(xa=!1));function Cne(r,e,t){this.fn=r,this.context=e,this.once=t||!1}function RN(r,e,t,n,i){if(typeof t!="function")throw new TypeError("The listener must be a function");var a=new Cne(t,n||r,i),s=xa?xa+e:e;return r._events[s]?r._events[s].fn?r._events[s]=[r._events[s],a]:r._events[s].push(a):(r._events[s]=a,r._eventsCount++),r}function Q0(r,e){--r._eventsCount===0?r._events=new Gg:delete r._events[e]}function ea(){this._events=new Gg,this._eventsCount=0}ea.prototype.eventNames=function(){var e=[],t,n;if(this._eventsCount===0)return e;for(n in t=this._events)wne.call(t,n)&&e.push(xa?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};ea.prototype.listeners=function(e){var t=xa?xa+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,s=new Array(a);i<a;i++)s[i]=n[i].fn;return s};ea.prototype.listenerCount=function(e){var t=xa?xa+e:e,n=this._events[t];return n?n.fn?1:n.length:0};ea.prototype.emit=function(e,t,n,i,a,s){var o=xa?xa+e:e;if(!this._events[o])return!1;var c=this._events[o],d=arguments.length,f,m;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,a),!0;case 6:return c.fn.call(c.context,t,n,i,a,s),!0}for(m=1,f=new Array(d-1);m<d;m++)f[m-1]=arguments[m];c.fn.apply(c.context,f)}else{var g=c.length,y;for(m=0;m<g;m++)switch(c[m].once&&this.removeListener(e,c[m].fn,void 0,!0),d){case 1:c[m].fn.call(c[m].context);break;case 2:c[m].fn.call(c[m].context,t);break;case 3:c[m].fn.call(c[m].context,t,n);break;case 4:c[m].fn.call(c[m].context,t,n,i);break;default:if(!f)for(y=1,f=new Array(d-1);y<d;y++)f[y-1]=arguments[y];c[m].fn.apply(c[m].context,f)}}return!0};ea.prototype.on=function(e,t,n){return RN(this,e,t,n,!1)};ea.prototype.once=function(e,t,n){return RN(this,e,t,n,!0)};ea.prototype.removeListener=function(e,t,n,i){var a=xa?xa+e:e;if(!this._events[a])return this;if(!t)return Q0(this,a),this;var s=this._events[a];if(s.fn)s.fn===t&&(!i||s.once)&&(!n||s.context===n)&&Q0(this,a);else{for(var o=0,c=[],d=s.length;o<d;o++)(s[o].fn!==t||i&&!s[o].once||n&&s[o].context!==n)&&c.push(s[o]);c.length?this._events[a]=c.length===1?c[0]:c:Q0(this,a)}return this};ea.prototype.removeAllListeners=function(e){var t;return e?(t=xa?xa+e:e,this._events[t]&&Q0(this,t)):(this._events=new Gg,this._eventsCount=0),this};ea.prototype.off=ea.prototype.removeListener;ea.prototype.addListener=ea.prototype.on;ea.prefixed=xa;ea.EventEmitter=ea;cM=ea;var Qd={};Yd(Qd,"ConnectionType",()=>Bo);Yd(Qd,"PeerErrorType",()=>kr);Yd(Qd,"BaseConnectionErrorType",()=>qg);Yd(Qd,"DataConnectionErrorType",()=>Xg);Yd(Qd,"SerializationType",()=>op);Yd(Qd,"SocketEventType",()=>Fo);Yd(Qd,"ServerMessageType",()=>vi);var Bo;(function(r){r.Data="data",r.Media="media"})(Bo||(Bo={}));var kr;(function(r){r.BrowserIncompatible="browser-incompatible",r.Disconnected="disconnected",r.InvalidID="invalid-id",r.InvalidKey="invalid-key",r.Network="network",r.PeerUnavailable="peer-unavailable",r.SslUnavailable="ssl-unavailable",r.ServerError="server-error",r.SocketError="socket-error",r.SocketClosed="socket-closed",r.UnavailableID="unavailable-id",r.WebRTC="webrtc"})(kr||(kr={}));var qg;(function(r){r.NegotiationFailed="negotiation-failed",r.ConnectionClosed="connection-closed"})(qg||(qg={}));var Xg;(function(r){r.NotOpenYet="not-open-yet",r.MessageToBig="message-too-big"})(Xg||(Xg={}));var op;(function(r){r.Binary="binary",r.BinaryUTF8="binary-utf8",r.JSON="json",r.None="raw"})(op||(op={}));var Fo;(function(r){r.Message="message",r.Disconnected="disconnected",r.Error="error",r.Close="close"})(Fo||(Fo={}));var vi;(function(r){r.Heartbeat="HEARTBEAT",r.Candidate="CANDIDATE",r.Offer="OFFER",r.Answer="ANSWER",r.Open="OPEN",r.Error="ERROR",r.IdTaken="ID-TAKEN",r.InvalidKey="INVALID-KEY",r.Leave="LEAVE",r.Expire="EXPIRE"})(vi||(vi={}));var uM={};uM=JSON.parse('{"name":"peerjs","version":"1.5.4","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stückler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Sören Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^9.0.0"},"alias":{"process":false,"buffer":false}}');class bne extends cM.EventEmitter{constructor(e,t,n,i,a,s=5e3){super(),this.pingInterval=s,this._disconnected=!0,this._messagesQueue=[];const o=e?"wss://":"ws://";this._baseUrl=o+t+":"+n+i+"peerjs?key="+a}start(e,t){this._id=e;const n=`${this._baseUrl}&id=${e}&token=${t}`;this._socket||!this._disconnected||(this._socket=new WebSocket(n+"&version="+uM.version),this._disconnected=!1,this._socket.onmessage=i=>{let a;try{a=JSON.parse(i.data),Ht.log("Server message received:",a)}catch{Ht.log("Invalid server message",i.data);return}this.emit(Fo.Message,a)},this._socket.onclose=i=>{this._disconnected||(Ht.log("Socket closed.",i),this._cleanup(),this._disconnected=!0,this.emit(Fo.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),Ht.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){Ht.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:vi.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(Fo.Error,"Invalid message");return}if(!this._wsOpen())return;const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class IN{constructor(e){this.connection=e}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type===Bo.Media&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){const n=this.connection,i={ordered:!!e.reliable},a=t.createDataChannel(n.label,i);n._initializeDataChannel(a),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){Ht.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,i=this.connection.type,a=this.connection.provider;Ht.log("Listening for ICE candidates."),e.onicecandidate=s=>{!s.candidate||!s.candidate.candidate||(Ht.log(`Received ICE candidates for ${t}:`,s.candidate),a.socket.send({type:vi.Candidate,payload:{candidate:s.candidate,type:i,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":Ht.log("iceConnectionState is failed, closing connections to "+t),this.connection.emitError(qg.NegotiationFailed,"Negotiation of connection to "+t+" failed."),this.connection.close();break;case"closed":Ht.log("iceConnectionState is closed, closing connections to "+t),this.connection.emitError(qg.ConnectionClosed,"Connection to "+t+" closed."),this.connection.close();break;case"disconnected":Ht.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},Ht.log("Listening for data channel"),e.ondatachannel=s=>{Ht.log("Received data channel");const o=s.channel;a.getConnection(t,n)._initializeDataChannel(o)},Ht.log("Listening for remote stream"),e.ontrack=s=>{Ht.log("Received remote stream");const o=s.streams[0],c=a.getConnection(t,n);if(c.type===Bo.Media){const d=c;this._addStreamToMediaConnection(o,d)}}}cleanup(){Ht.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const t=e.signalingState!=="closed";let n=!1;const i=this.connection.dataChannel;i&&(n=!!i.readyState&&i.readyState!=="closed"),(t||n)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=await e.createOffer(this.connection.options.constraints);Ht.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{await e.setLocalDescription(n),Ht.log("Set localDescription:",n,`for:${this.connection.peer}`);let i={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Bo.Data){const a=this.connection;i={...i,label:a.label,reliable:a.reliable,serialization:a.serialization}}t.socket.send({type:vi.Offer,payload:i,dst:this.connection.peer})}catch(i){i!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError(kr.WebRTC,i),Ht.log("Failed to setLocalDescription, ",i))}}catch(n){t.emitError(kr.WebRTC,n),Ht.log("Failed to createOffer, ",n)}}async _makeAnswer(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=await e.createAnswer();Ht.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{await e.setLocalDescription(n),Ht.log("Set localDescription:",n,`for:${this.connection.peer}`),t.socket.send({type:vi.Answer,payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(i){t.emitError(kr.WebRTC,i),Ht.log("Failed to setLocalDescription, ",i)}}catch(n){t.emitError(kr.WebRTC,n),Ht.log("Failed to create answer, ",n)}}async handleSDP(e,t){t=new RTCSessionDescription(t);const n=this.connection.peerConnection,i=this.connection.provider;Ht.log("Setting remote description",t);const a=this;try{await n.setRemoteDescription(t),Ht.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await a._makeAnswer()}catch(s){i.emitError(kr.WebRTC,s),Ht.log("Failed to setRemoteDescription, ",s)}}async handleCandidate(e){Ht.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),Ht.log(`Added ICE candidate for:${this.connection.peer}`)}catch(t){this.connection.provider.emitError(kr.WebRTC,t),Ht.log("Failed to handleCandidate, ",t)}}_addTracksToConnection(e,t){if(Ht.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return Ht.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{t.addTrack(n,e)})}_addStreamToMediaConnection(e,t){Ht.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}}class ON extends cM.EventEmitter{emitError(e,t){Ht.error("Error:",t),this.emit("error",new Mne(`${e}`,t))}}class Mne extends Error{constructor(e,t){typeof t=="string"?super(t):(super(),Object.assign(this,t)),this.type=e}}class kN extends ON{get open(){return this._open}constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}}var $w;const lg=class lg extends kN{get type(){return Bo.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||lg.ID_PREFIX+La.randomToken(),this._negotiator=new IN(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{Ht.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{Ht.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){Ht.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case vi.Answer:this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case vi.Candidate:this._negotiator.handleCandidate(n.candidate);break;default:Ht.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){Ht.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const n=this.provider._getMessages(this.connectionId);for(const i of n)this.handleMessage(i);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};$w=new WeakMap,mm(lg,$w,lg.ID_PREFIX="mc_");let Z_=lg;class Tne{constructor(e){this._options=e}_buildRequest(e){const t=this._options.secure?"https":"http",{host:n,port:i,path:a,key:s}=this._options,o=new URL(`${t}://${n}:${i}${a}${s}/${e}`);return o.searchParams.set("ts",`${Date.now()}${Math.random()}`),o.searchParams.set("version",uM.version),fetch(o.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){Ht.error("Error retrieving ID",e);let t="";throw this._options.path==="/"&&this._options.host!==La.CLOUD_HOST&&(t=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+t)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let t="";throw this._options.host===La.CLOUD_HOST?t="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":t="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+t)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw Ht.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}var Ww,Gw;const dd=class dd extends kN{get type(){return Bo.Data}constructor(e,t,n){super(e,t,n),this.connectionId=this.options.connectionId||dd.ID_PREFIX+PN(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new IN(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{Ht.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=t=>{Ht.log(`DC#${this.connectionId} dc onmessage:`,t.data)},this.dataChannel.onclose=()=>{Ht.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t=!1){if(!this.open){this.emitError(Xg.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,t)}async handleMessage(e){const t=e.payload;switch(e.type){case vi.Answer:await this._negotiator.handleSDP(e.type,t.sdp);break;case vi.Candidate:await this._negotiator.handleCandidate(t.candidate);break;default:Ht.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}};Ww=new WeakMap,Gw=new WeakMap,mm(dd,Ww,dd.ID_PREFIX="dc_"),mm(dd,Gw,dd.MAX_BUFFERED_AMOUNT=8388608);let ex=dd;class dM extends ex{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",t=>this._handleDataMessage(t))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>ex.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return Ht.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class dE extends dM{close(e){super.close(e),this._chunkedData={}}constructor(e,t,n){super(e,t,n),this.chunker=new AN,this.serialization=op.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const t=qL(e),n=t.__peerData;if(n){if(n.type==="close"){this.close();return}this._handleChunk(t);return}this.emit("data",t)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=new Uint8Array(e.data),n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const i=vne(n.data);this._handleDataMessage({data:i})}}_send(e,t){const n=XL(e);if(n instanceof Promise)return this._send_blob(n);if(!t&&n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}async _send_blob(e){const t=await e;if(t.byteLength>this.chunker.chunkedMTU){this._sendChunks(t);return}this._bufferedSend(t)}_sendChunks(e){const t=this.chunker.chunk(e);Ht.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(const n of t)this.send(n,!0)}}class Ane extends dM{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,t){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=op.None}}class Pne extends dM{_handleDataMessage({data:e}){const t=this.parse(this.decoder.decode(e)),n=t.__peerData;if(n&&n.type==="close"){this.close();return}this.emit("data",t)}_send(e,t){const n=this.encoder.encode(this.stringify(e));if(n.byteLength>=La.chunkedMTU){this.emitError(Xg.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(n)}constructor(...e){super(...e),this.serialization=op.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var qw;const cg=class cg extends ON{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,t){super(),this._serializers={raw:Ane,json:Pne,binary:dE,"binary-utf8":dE,default:dE},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let n;if(e&&e.constructor==Object?t=e:e&&(n=e.toString()),t={debug:0,host:La.CLOUD_HOST,port:La.CLOUD_PORT,path:"/",key:cg.DEFAULT_KEY,token:La.randomToken(),config:La.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...t},this._options=t,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==La.CLOUD_HOST?this._options.secure=La.isSecure():this._options.host==La.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&Ht.setLogFunction(this._options.logFunction),Ht.logLevel=this._options.debug||0,this._api=new Tne(t),this._socket=this._createServerConnection(),!La.supports.audioVideo&&!La.supports.data){this._delayedAbort(kr.BrowserIncompatible,"The current browser does not support WebRTC");return}if(n&&!La.validateId(n)){this._delayedAbort(kr.InvalidID,`ID "${n}" is invalid`);return}n?this._initialize(n):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort(kr.ServerError,i))}_createServerConnection(){const e=new bne(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(Fo.Message,t=>{this._handleMessage(t)}),e.on(Fo.Error,t=>{this._abort(kr.SocketError,t)}),e.on(Fo.Disconnected,()=>{this.disconnected||(this.emitError(kr.Network,"Lost connection to server."),this.disconnect())}),e.on(Fo.Close,()=>{this.disconnected||this._abort(kr.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const t=e.type,n=e.payload,i=e.src;switch(t){case vi.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case vi.Error:this._abort(kr.ServerError,n.msg);break;case vi.IdTaken:this._abort(kr.UnavailableID,`ID "${this.id}" is taken`);break;case vi.InvalidKey:this._abort(kr.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case vi.Leave:Ht.log(`Received leave message from ${i}`),this._cleanupPeer(i),this._connections.delete(i);break;case vi.Expire:this.emitError(kr.PeerUnavailable,`Could not connect to peer ${i}`);break;case vi.Offer:{const a=n.connectionId;let s=this.getConnection(i,a);if(s&&(s.close(),Ht.warn(`Offer received for existing Connection ID:${a}`)),n.type===Bo.Media){const c=new Z_(i,this,{connectionId:a,_payload:n,metadata:n.metadata});s=c,this._addConnection(i,s),this.emit("call",c)}else if(n.type===Bo.Data){const c=new this._serializers[n.serialization](i,this,{connectionId:a,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable});s=c,this._addConnection(i,s),this.emit("connection",c)}else{Ht.warn(`Received malformed connection type:${n.type}`);return}const o=this._getMessages(a);for(const c of o)s.handleMessage(c);break}default:{if(!n){Ht.warn(`You received a malformed message from ${i} of type ${t}`);return}const a=n.connectionId,s=this.getConnection(i,a);s&&s.peerConnection?s.handleMessage(e):a?this._storeMessage(a,e):Ht.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(t={serialization:"default",...t},this.disconnected){Ht.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(kr.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const n=new this._serializers[t.serialization](e,this,t);return this._addConnection(e,n),n}call(e,t,n={}){if(this.disconnected){Ht.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(kr.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!t){Ht.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const i=new Z_(e,this,{...n,_stream:t});return this._addConnection(e,i),i}_addConnection(e,t){Ht.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);n!==-1&&t.splice(n,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(const i of n)if(i.connectionId===t)return i;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){Ht.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(Ht.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(const n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;Ht.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)Ht.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Ht.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort(kr.ServerError,t))}};qw=new WeakMap,mm(cg,qw,cg.DEFAULT_KEY="peerjs");let ww=cg;var Rne=ww;const Ho=Object.create(null);Ho.open="0";Ho.close="1";Ho.ping="2";Ho.pong="3";Ho.message="4";Ho.upgrade="5";Ho.noop="6";const K0=Object.create(null);Object.keys(Ho).forEach(r=>{K0[Ho[r]]=r});const Cw={type:"error",data:"parser error"},FN=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",DN=typeof ArrayBuffer=="function",LN=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,fM=({type:r,data:e},t,n)=>FN&&e instanceof Blob?t?n(e):o2(e,n):DN&&(e instanceof ArrayBuffer||LN(e))?t?n(e):o2(new Blob([e]),n):n(Ho[r]+(e||"")),o2=(r,e)=>{const t=new FileReader;return t.onload=function(){const n=t.result.split(",")[1];e("b"+(n||""))},t.readAsDataURL(r)};function l2(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}let fE;function Ine(r,e){if(FN&&r.data instanceof Blob)return r.data.arrayBuffer().then(l2).then(e);if(DN&&(r.data instanceof ArrayBuffer||LN(r.data)))return e(l2(r.data));fM(r,!1,t=>{fE||(fE=new TextEncoder),e(fE.encode(t))})}const c2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wm=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<c2.length;r++)Wm[c2.charCodeAt(r)]=r;const One=r=>{let e=r.length*.75,t=r.length,n,i=0,a,s,o,c;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);const d=new ArrayBuffer(e),f=new Uint8Array(d);for(n=0;n<t;n+=4)a=Wm[r.charCodeAt(n)],s=Wm[r.charCodeAt(n+1)],o=Wm[r.charCodeAt(n+2)],c=Wm[r.charCodeAt(n+3)],f[i++]=a<<2|s>>4,f[i++]=(s&15)<<4|o>>2,f[i++]=(o&3)<<6|c&63;return d},kne=typeof ArrayBuffer=="function",hM=(r,e)=>{if(typeof r!="string")return{type:"message",data:NN(r,e)};const t=r.charAt(0);return t==="b"?{type:"message",data:Fne(r.substring(1),e)}:K0[t]?r.length>1?{type:K0[t],data:r.substring(1)}:{type:K0[t]}:Cw},Fne=(r,e)=>{if(kne){const t=One(r);return NN(t,e)}else return{base64:!0,data:r}},NN=(r,e)=>{switch(e){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}},UN="",Dne=(r,e)=>{const t=r.length,n=new Array(t);let i=0;r.forEach((a,s)=>{fM(a,!1,o=>{n[s]=o,++i===t&&e(n.join(UN))})})},Lne=(r,e)=>{const t=r.split(UN),n=[];for(let i=0;i<t.length;i++){const a=hM(t[i],e);if(n.push(a),a.type==="error")break}return n};function Nne(){return new TransformStream({transform(r,e){Ine(r,t=>{const n=t.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}r.data&&typeof r.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}let hE;function T0(r){return r.reduce((e,t)=>e+t.length,0)}function A0(r,e){if(r[0].length===e)return r.shift();const t=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)t[i]=r[0][n++],n===r[0].length&&(r.shift(),n=0);return r.length&&n<r[0].length&&(r[0]=r[0].slice(n)),t}function Une(r,e){hE||(hE=new TextDecoder);const t=[];let n=0,i=-1,a=!1;return new TransformStream({transform(s,o){for(t.push(s);;){if(n===0){if(T0(t)<1)break;const c=A0(t,1);a=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(T0(t)<2)break;const c=A0(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(T0(t)<8)break;const c=A0(t,8),d=new DataView(c.buffer,c.byteOffset,c.length),f=d.getUint32(0);if(f>Math.pow(2,21)-1){o.enqueue(Cw);break}i=f*Math.pow(2,32)+d.getUint32(4),n=3}else{if(T0(t)<i)break;const c=A0(t,i);o.enqueue(hM(a?c:hE.decode(c),e)),n=0}if(i===0||i>r){o.enqueue(Cw);break}}}})}const BN=4;function Kr(r){if(r)return Bne(r)}function Bne(r){for(var e in Kr.prototype)r[e]=Kr.prototype[e];return r}Kr.prototype.on=Kr.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this};Kr.prototype.once=function(r,e){function t(){this.off(r,t),e.apply(this,arguments)}return t.fn=e,this.on(r,t),this};Kr.prototype.off=Kr.prototype.removeListener=Kr.prototype.removeAllListeners=Kr.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+r];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var n,i=0;i<t.length;i++)if(n=t[i],n===e||n.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+r],this};Kr.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+r],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t){t=t.slice(0);for(var n=0,i=t.length;n<i;++n)t[n].apply(this,e)}return this};Kr.prototype.emitReserved=Kr.prototype.emit;Kr.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};Kr.prototype.hasListeners=function(r){return!!this.listeners(r).length};const Cs=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function zN(r,...e){return e.reduce((t,n)=>(r.hasOwnProperty(n)&&(t[n]=r[n]),t),{})}const zne=Cs.setTimeout,Vne=Cs.clearTimeout;function oS(r,e){e.useNativeTimers?(r.setTimeoutFn=zne.bind(Cs),r.clearTimeoutFn=Vne.bind(Cs)):(r.setTimeoutFn=Cs.setTimeout.bind(Cs),r.clearTimeoutFn=Cs.clearTimeout.bind(Cs))}const Hne=1.33;function jne(r){return typeof r=="string"?$ne(r):Math.ceil((r.byteLength||r.size)*Hne)}function $ne(r){let e=0,t=0;for(let n=0,i=r.length;n<i;n++)e=r.charCodeAt(n),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(n++,t+=4);return t}function Wne(r){let e="";for(let t in r)r.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return e}function Gne(r){let e={},t=r.split("&");for(let n=0,i=t.length;n<i;n++){let a=t[n].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}class qne extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class pM extends Kr{constructor(e){super(),this.writable=!1,oS(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new qne(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=hM(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=Wne(e);return t.length?"?"+t:""}}const VN="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),bw=64,Xne={};let u2=0,P0=0,d2;function f2(r){let e="";do e=VN[r%bw]+e,r=Math.floor(r/bw);while(r>0);return e}function HN(){const r=f2(+new Date);return r!==d2?(u2=0,d2=r):r+"."+f2(u2++)}for(;P0<bw;P0++)Xne[VN[P0]]=P0;let jN=!1;try{jN=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Yne=jN;function $N(r){const e=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Yne))return new XMLHttpRequest}catch{}if(!e)try{return new Cs[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Qne(){}const Kne=function(){return new $N({xdomain:!1}).responseType!=null}();class Jne extends pM{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}const t=e&&e.forceBase64;this.supportsBinary=Kne&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||t()})),this.writable||(n++,this.once("drain",function(){--n||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Lne(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Dne(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=HN()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new qh(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,n)=>{this.onError("xhr poll error",t,n)}),this.pollXhr=e}}let qh=class J0 extends Kr{constructor(e,t){super(),oS(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=t.data!==void 0?t.data:null,this.create()}create(){var e;const t=zN(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const n=this.xhr=new $N(t);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=J0.requestsCount++,J0.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Qne,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete J0.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};qh.requestsCount=0;qh.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",h2);else if(typeof addEventListener=="function"){const r="onpagehide"in Cs?"pagehide":"unload";addEventListener(r,h2,!1)}}function h2(){for(let r in qh.requests)qh.requests.hasOwnProperty(r)&&qh.requests[r].abort()}const mM=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),R0=Cs.WebSocket||Cs.MozWebSocket,p2=!0,Zne="arraybuffer",m2=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ere extends pM{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=m2?{}:zN(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=p2&&!m2?t?new R0(e,t):new R0(e):new R0(e,t,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],i=t===e.length-1;fM(n,this.supportsBinary,a=>{const s={};try{p2&&this.ws.send(a)}catch{}i&&mM(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=HN()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!R0}}class tre extends pM{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const t=Une(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),i=Nne();i.readable.pipeTo(e.writable),this.writer=i.writable.getWriter();const a=()=>{n.read().then(({done:o,value:c})=>{o||(this.onPacket(c),a())}).catch(o=>{})};a();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this.writer.write(s).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],i=t===e.length-1;this.writer.write(n).then(()=>{i&&mM(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const nre={websocket:ere,webtransport:tre,polling:Jne},rre=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ire=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Mw(r){if(r.length>2e3)throw"URI too long";const e=r,t=r.indexOf("["),n=r.indexOf("]");t!=-1&&n!=-1&&(r=r.substring(0,t)+r.substring(t,n).replace(/:/g,";")+r.substring(n,r.length));let i=rre.exec(r||""),a={},s=14;for(;s--;)a[ire[s]]=i[s]||"";return t!=-1&&n!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=are(a,a.path),a.queryKey=sre(a,a.query),a}function are(r,e){const t=/\/{2,9}/g,n=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function sre(r,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(t[i]=a)}),t}let WN=class Oh extends Kr{constructor(e,t={}){super(),this.binaryType=Zne,this.writeBuffer=[],e&&typeof e=="object"&&(t=e,e=null),e?(e=Mw(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Mw(t.host).host),oS(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Gne(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=BN,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new nre[e](n)}open(){let e;if(this.opts.rememberUpgrade&&Oh.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(e){let t=this.createTransport(e),n=!1;Oh.priorWebsocketSuccess=!1;const i=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",m=>{if(!n)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Oh.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(f(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=t.name,this.emitReserved("upgradeError",g)}}))};function a(){n||(n=!0,f(),t.close(),t=null)}const s=m=>{const g=new Error("probe error: "+m);g.transport=t.name,a(),this.emitReserved("upgradeError",g)};function o(){s("transport closed")}function c(){s("socket closed")}function d(m){t&&m.name!==t.name&&a()}const f=()=>{t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",o),this.off("close",c),this.off("upgrading",d)};t.once("open",i),t.once("error",s),t.once("close",o),this.once("close",c),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onOpen(){if(this.readyState="open",Oh.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(t+=jne(i)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,i){if(typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:e,data:t,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){Oh.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}};WN.protocol=BN;function ore(r,e="",t){let n=r;t=t||typeof location<"u"&&location,r==null&&(r=t.protocol+"//"+t.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=t.protocol+r:r=t.host+r),/^(https?|wss?):\/\//.test(r)||(typeof t<"u"?r=t.protocol+"//"+r:r="https://"+r),n=Mw(r)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+e,n.href=n.protocol+"://"+a+(t&&t.port===n.port?"":":"+n.port),n}const lre=typeof ArrayBuffer=="function",cre=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,GN=Object.prototype.toString,ure=typeof Blob=="function"||typeof Blob<"u"&&GN.call(Blob)==="[object BlobConstructor]",dre=typeof File=="function"||typeof File<"u"&&GN.call(File)==="[object FileConstructor]";function gM(r){return lre&&(r instanceof ArrayBuffer||cre(r))||ure&&r instanceof Blob||dre&&r instanceof File}function Z0(r,e){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let t=0,n=r.length;t<n;t++)if(Z0(r[t]))return!0;return!1}if(gM(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return Z0(r.toJSON(),!0);for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&Z0(r[t]))return!0;return!1}function fre(r){const e=[],t=r.data,n=r;return n.data=Tw(t,e),n.attachments=e.length,{packet:n,buffers:e}}function Tw(r,e){if(!r)return r;if(gM(r)){const t={_placeholder:!0,num:e.length};return e.push(r),t}else if(Array.isArray(r)){const t=new Array(r.length);for(let n=0;n<r.length;n++)t[n]=Tw(r[n],e);return t}else if(typeof r=="object"&&!(r instanceof Date)){const t={};for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=Tw(r[n],e));return t}return r}function hre(r,e){return r.data=Aw(r.data,e),delete r.attachments,r}function Aw(r,e){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<e.length)return e[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let t=0;t<r.length;t++)r[t]=Aw(r[t],e);else if(typeof r=="object")for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&(r[t]=Aw(r[t],e));return r}const pre=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],mre=5;var kn;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(kn||(kn={}));class gre{constructor(e){this.replacer=e}encode(e){return(e.type===kn.EVENT||e.type===kn.ACK)&&Z0(e)?this.encodeAsBinary({type:e.type===kn.EVENT?kn.BINARY_EVENT:kn.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===kn.BINARY_EVENT||e.type===kn.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=fre(e),n=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(n),i}}function g2(r){return Object.prototype.toString.call(r)==="[object Object]"}class yM extends Kr{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===kn.BINARY_EVENT;n||t.type===kn.BINARY_ACK?(t.type=n?kn.EVENT:kn.ACK,this.reconstructor=new yre(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(gM(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(kn[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===kn.BINARY_EVENT||n.type===kn.BINARY_ACK){const a=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const s=e.substring(a,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");n.attachments=Number(s)}if(e.charAt(t+1)==="/"){const a=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););n.nsp=e.substring(a,t)}else n.nsp="/";const i=e.charAt(t+1);if(i!==""&&Number(i)==i){const a=t+1;for(;++t;){const s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}n.id=Number(e.substring(a,t+1))}if(e.charAt(++t)){const a=this.tryParse(e.substr(t));if(yM.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case kn.CONNECT:return g2(t);case kn.DISCONNECT:return t===void 0;case kn.CONNECT_ERROR:return typeof t=="string"||g2(t);case kn.EVENT:case kn.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&pre.indexOf(t[0])===-1);case kn.ACK:case kn.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class yre{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=hre(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const vre=Object.freeze(Object.defineProperty({__proto__:null,Decoder:yM,Encoder:gre,get PacketType(){return kn},protocol:mre},Symbol.toStringTag,{value:"Module"}));function to(r,e,t){return r.on(e,t),function(){r.off(e,t)}}const _re=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class qN extends Kr{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[to(e,"open",this.onopen.bind(this)),to(e,"packet",this.onpacket.bind(this)),to(e,"error",this.onerror.bind(this)),to(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(_re.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const n={type:kn.EVENT,data:t};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const s=this.ids++,o=t.pop();this._registerAckCallback(s,o),n.id=s}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,t){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);t.call(this,new Error("operation has timed out"))},i),s=(...o)=>{this.io.clearTimeoutFn(a),t.apply(this,o)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((n,i)=>{const a=(s,o)=>s?i(s):n(o);a.withError=!0,t.push(a),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...a)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:kn.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case kn.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case kn.EVENT:case kn.BINARY_EVENT:this.onevent(e);break;case kn.ACK:case kn.BINARY_ACK:this.onack(e);break;case kn.DISCONNECT:this.ondisconnect();break;case kn.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...i){n||(n=!0,t.packet({type:kn.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:kn.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function xp(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}xp.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*r);r=Math.floor(e*10)&1?r+t:r-t}return Math.min(r,this.max)|0};xp.prototype.reset=function(){this.attempts=0};xp.prototype.setMin=function(r){this.ms=r};xp.prototype.setMax=function(r){this.max=r};xp.prototype.setJitter=function(r){this.jitter=r};class Pw extends Kr{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,oS(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((n=t.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new xp({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||vre;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new WN(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=to(t,"open",function(){n.onopen(),e&&e()}),a=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),e?e(o):this.maybeReconnectOnOpen()},s=to(t,"error",a);if(this._timeout!==!1){const o=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),t.close()},o);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(to(e,"ping",this.onping.bind(this)),to(e,"data",this.ondata.bind(this)),to(e,"error",this.onerror.bind(this)),to(e,"close",this.onclose.bind(this)),to(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){mM(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new qN(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t)if(this.nsps[n].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Bm={};function e_(r,e){typeof r=="object"&&(e=r,r=void 0),e=e||{};const t=ore(r,e.path||"/socket.io"),n=t.source,i=t.id,a=t.path,s=Bm[i]&&a in Bm[i].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||s;let c;return o?c=new Pw(n,e):(Bm[i]||(Bm[i]=new Pw(n,e)),c=Bm[i]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}Object.assign(e_,{Manager:Pw,Socket:qN,io:e_,connect:e_});function Ri(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var xre=typeof Symbol=="function"&&Symbol.observable||"@@observable",y2=xre,pE=()=>Math.random().toString(36).substring(7).split("").join("."),Sre={INIT:`@@redux/INIT${pE()}`,REPLACE:`@@redux/REPLACE${pE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${pE()}`},tx=Sre;function jo(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function XN(r,e,t){if(typeof r!="function")throw new Error(Ri(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Ri(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Ri(1));return t(XN)(r,e)}let n=r,i=e,a=new Map,s=a,o=0,c=!1;function d(){s===a&&(s=new Map,a.forEach((_,E)=>{s.set(E,_)}))}function f(){if(c)throw new Error(Ri(3));return i}function m(_){if(typeof _!="function")throw new Error(Ri(4));if(c)throw new Error(Ri(5));let E=!0;d();const w=o++;return s.set(w,_),function(){if(E){if(c)throw new Error(Ri(6));E=!1,d(),s.delete(w),a=null}}}function g(_){if(!jo(_))throw new Error(Ri(7));if(typeof _.type>"u")throw new Error(Ri(8));if(typeof _.type!="string")throw new Error(Ri(17));if(c)throw new Error(Ri(9));try{c=!0,i=n(i,_)}finally{c=!1}return(a=s).forEach(w=>{w()}),_}function y(_){if(typeof _!="function")throw new Error(Ri(10));n=_,g({type:tx.REPLACE})}function x(){const _=m;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(Ri(11));function w(){const T=E;T.next&&T.next(f())}return w(),{unsubscribe:_(w)}},[y2](){return this}}}return g({type:tx.INIT}),{dispatch:g,subscribe:m,getState:f,replaceReducer:y,[y2]:x}}function Ere(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:tx.INIT})>"u")throw new Error(Ri(12));if(typeof t(void 0,{type:tx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ri(13))})}function vM(r){const e=Object.keys(r),t={};for(let a=0;a<e.length;a++){const s=e[a];typeof r[s]=="function"&&(t[s]=r[s])}const n=Object.keys(t);let i;try{Ere(t)}catch(a){i=a}return function(s={},o){if(i)throw i;let c=!1;const d={};for(let f=0;f<n.length;f++){const m=n[f],g=t[m],y=s[m],x=g(y,o);if(typeof x>"u")throw o&&o.type,new Error(Ri(14));d[m]=x,c=c||x!==y}return c=c||n.length!==Object.keys(s).length,c?d:s}}function nx(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...n)=>e(t(...n)))}function wre(...r){return e=>(t,n)=>{const i=e(t,n);let a=()=>{throw new Error(Ri(15))};const s={getState:i.getState,dispatch:(c,...d)=>a(c,...d)},o=r.map(c=>c(s));return a=nx(...o)(i.dispatch),{...i,dispatch:a}}}function YN(r){return jo(r)&&"type"in r&&typeof r.type=="string"}var _M=Symbol.for("immer-nothing"),sg=Symbol.for("immer-draftable"),Va=Symbol.for("immer-state");function ki(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var Nd=Object.getPrototypeOf;function oo(r){return!!r&&!!r[Va]}function lo(r){var e;return r?QN(r)||Array.isArray(r)||!!r[sg]||!!((e=r.constructor)!=null&&e[sg])||Ay(r)||Py(r):!1}var Cre=Object.prototype.constructor.toString();function QN(r){if(!r||typeof r!="object")return!1;const e=Nd(r);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===Cre}function bre(r){return oo(r)||ki(15,r),r[Va].base_}function Yg(r,e){Ud(r)===0?Reflect.ownKeys(r).forEach(t=>{e(t,r[t],r)}):r.forEach((t,n)=>e(n,t,r))}function Ud(r){const e=r[Va];return e?e.type_:Array.isArray(r)?1:Ay(r)?2:Py(r)?3:0}function Qg(r,e){return Ud(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function mE(r,e){return Ud(r)===2?r.get(e):r[e]}function KN(r,e,t){const n=Ud(r);n===2?r.set(e,t):n===3?r.add(t):r[e]=t}function Mre(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function Ay(r){return r instanceof Map}function Py(r){return r instanceof Set}function cd(r){return r.copy_||r.base_}function Rw(r,e){if(Ay(r))return new Map(r);if(Py(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const t=QN(r);if(e===!0||e==="class_only"&&!t){const n=Object.getOwnPropertyDescriptors(r);delete n[Va];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:r[s]})}return Object.create(Nd(r),n)}else{const n=Nd(r);if(n!==null&&t)return{...r};const i=Object.create(n);return Object.assign(i,r)}}function xM(r,e=!1){return lS(r)||oo(r)||!lo(r)||(Ud(r)>1&&(r.set=r.add=r.clear=r.delete=Tre),Object.freeze(r),e&&Object.entries(r).forEach(([t,n])=>xM(n,!0))),r}function Tre(){ki(2)}function lS(r){return Object.isFrozen(r)}var Iw={};function Bd(r){const e=Iw[r];return e||ki(0,r),e}function Are(r,e){Iw[r]||(Iw[r]=e)}var Kg;function JN(){return Kg}function Pre(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function v2(r,e){e&&(Bd("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function Ow(r){kw(r),r.drafts_.forEach(Rre),r.drafts_=null}function kw(r){r===Kg&&(Kg=r.parent_)}function _2(r){return Kg=Pre(Kg,r)}function Rre(r){const e=r[Va];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function x2(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return r!==void 0&&r!==t?(t[Va].modified_&&(Ow(e),ki(4)),lo(r)&&(r=rx(e,r),e.parent_||ix(e,r)),e.patches_&&Bd("Patches").generateReplacementPatches_(t[Va].base_,r,e.patches_,e.inversePatches_)):r=rx(e,t,[]),Ow(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==_M?r:void 0}function rx(r,e,t){if(lS(e))return e;const n=e[Va];if(!n)return Yg(e,(i,a)=>S2(r,n,e,i,a,t)),e;if(n.scope_!==r)return e;if(!n.modified_)return ix(r,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,s=!1;n.type_===3&&(a=new Set(i),i.clear(),s=!0),Yg(a,(o,c)=>S2(r,n,i,o,c,t,s)),ix(r,i,!1),t&&r.patches_&&Bd("Patches").generatePatches_(n,t,r.patches_,r.inversePatches_)}return n.copy_}function S2(r,e,t,n,i,a,s){if(oo(i)){const o=a&&e&&e.type_!==3&&!Qg(e.assigned_,n)?a.concat(n):void 0,c=rx(r,i,o);if(KN(t,n,c),oo(c))r.canAutoFreeze_=!1;else return}else s&&t.add(i);if(lo(i)&&!lS(i)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;rx(r,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,n)&&ix(r,i)}}function ix(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&xM(e,t)}function Ire(r,e){const t=Array.isArray(r),n={type_:t?1:0,scope_:e?e.scope_:JN(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=SM;t&&(i=[n],a=Jg);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var SM={get(r,e){if(e===Va)return r;const t=cd(r);if(!Qg(t,e))return Ore(r,t,e);const n=t[e];return r.finalized_||!lo(n)?n:n===gE(r.base_,e)?(yE(r),r.copy_[e]=Dw(n,r)):n},has(r,e){return e in cd(r)},ownKeys(r){return Reflect.ownKeys(cd(r))},set(r,e,t){const n=ZN(cd(r),e);if(n!=null&&n.set)return n.set.call(r.draft_,t),!0;if(!r.modified_){const i=gE(cd(r),e),a=i==null?void 0:i[Va];if(a&&a.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(Mre(t,i)&&(t!==void 0||Qg(r.base_,e)))return!0;yE(r),Fw(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return gE(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,yE(r),Fw(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=cd(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty(){ki(11)},getPrototypeOf(r){return Nd(r.base_)},setPrototypeOf(){ki(12)}},Jg={};Yg(SM,(r,e)=>{Jg[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Jg.deleteProperty=function(r,e){return Jg.set.call(this,r,e,void 0)};Jg.set=function(r,e,t){return SM.set.call(this,r[0],e,t,r[0])};function gE(r,e){const t=r[Va];return(t?cd(t):r)[e]}function Ore(r,e,t){var i;const n=ZN(e,t);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(r.draft_):void 0}function ZN(r,e){if(!(e in r))return;let t=Nd(r);for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Nd(t)}}function Fw(r){r.modified_||(r.modified_=!0,r.parent_&&Fw(r.parent_))}function yE(r){r.copy_||(r.copy_=Rw(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var kre=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if(typeof e=="function"&&typeof t!="function"){const a=t;t=e;const s=this;return function(c=a,...d){return s.produce(c,f=>t.call(this,f,...d))}}typeof t!="function"&&ki(6),n!==void 0&&typeof n!="function"&&ki(7);let i;if(lo(e)){const a=_2(this),s=Dw(e,void 0);let o=!0;try{i=t(s),o=!1}finally{o?Ow(a):kw(a)}return v2(a,n),x2(i,a)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===_M&&(i=void 0),this.autoFreeze_&&xM(i,!0),n){const a=[],s=[];Bd("Patches").generateReplacementPatches_(e,i,a,s),n(a,s)}return i}else ki(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,c=>e(c,...o));let n,i;return[this.produce(e,t,(s,o)=>{n=s,i=o}),n,i]},typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof(r==null?void 0:r.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){lo(r)||ki(8),oo(r)&&(r=eU(r));const e=_2(this),t=Dw(r,void 0);return t[Va].isManual_=!0,kw(e),t}finishDraft(r,e){const t=r&&r[Va];(!t||!t.isManual_)&&ki(9);const{scope_:n}=t;return v2(n,e),x2(void 0,n)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){r=i.value;break}}t>-1&&(e=e.slice(t+1));const n=Bd("Patches").applyPatches_;return oo(r)?n(r,e):this.produce(r,i=>n(i,e))}};function Dw(r,e){const t=Ay(r)?Bd("MapSet").proxyMap_(r,e):Py(r)?Bd("MapSet").proxySet_(r,e):Ire(r,e);return(e?e.scope_:JN()).drafts_.push(t),t}function eU(r){return oo(r)||ki(10,r),tU(r)}function tU(r){if(!lo(r)||lS(r))return r;const e=r[Va];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Rw(r,e.scope_.immer_.useStrictShallowCopy_)}else t=Rw(r,!0);return Yg(t,(n,i)=>{KN(t,n,tU(i))}),e&&(e.finalized_=!1),t}function Fre(){const e="replace",t="add",n="remove";function i(g,y,x,S){switch(g.type_){case 0:case 2:return s(g,y,x,S);case 1:return a(g,y,x,S);case 3:return o(g,y,x,S)}}function a(g,y,x,S){let{base_:_,assigned_:E}=g,w=g.copy_;w.length<_.length&&([_,w]=[w,_],[x,S]=[S,x]);for(let C=0;C<_.length;C++)if(E[C]&&w[C]!==_[C]){const T=y.concat([C]);x.push({op:e,path:T,value:m(w[C])}),S.push({op:e,path:T,value:m(_[C])})}for(let C=_.length;C<w.length;C++){const T=y.concat([C]);x.push({op:t,path:T,value:m(w[C])})}for(let C=w.length-1;_.length<=C;--C){const T=y.concat([C]);S.push({op:n,path:T})}}function s(g,y,x,S){const{base_:_,copy_:E}=g;Yg(g.assigned_,(w,C)=>{const T=mE(_,w),O=mE(E,w),R=C?Qg(_,w)?e:t:n;if(T===O&&R===e)return;const P=y.concat(w);x.push(R===n?{op:R,path:P}:{op:R,path:P,value:O}),S.push(R===t?{op:n,path:P}:R===n?{op:t,path:P,value:m(T)}:{op:e,path:P,value:m(T)})})}function o(g,y,x,S){let{base_:_,copy_:E}=g,w=0;_.forEach(C=>{if(!E.has(C)){const T=y.concat([w]);x.push({op:n,path:T,value:C}),S.unshift({op:t,path:T,value:C})}w++}),w=0,E.forEach(C=>{if(!_.has(C)){const T=y.concat([w]);x.push({op:t,path:T,value:C}),S.unshift({op:n,path:T,value:C})}w++})}function c(g,y,x,S){x.push({op:e,path:[],value:y===_M?void 0:y}),S.push({op:e,path:[],value:g})}function d(g,y){return y.forEach(x=>{const{path:S,op:_}=x;let E=g;for(let O=0;O<S.length-1;O++){const R=Ud(E);let P=S[O];typeof P!="string"&&typeof P!="number"&&(P=""+P),(R===0||R===1)&&(P==="__proto__"||P==="constructor")&&ki(19),typeof E=="function"&&P==="prototype"&&ki(19),E=mE(E,P),typeof E!="object"&&ki(18,S.join("/"))}const w=Ud(E),C=f(x.value),T=S[S.length-1];switch(_){case e:switch(w){case 2:return E.set(T,C);case 3:ki(16);default:return E[T]=C}case t:switch(w){case 1:return T==="-"?E.push(C):E.splice(T,0,C);case 2:return E.set(T,C);case 3:return E.add(C);default:return E[T]=C}case n:switch(w){case 1:return E.splice(T,1);case 2:return E.delete(T);case 3:return E.delete(x.value);default:return delete E[T]}default:ki(17,_)}}),g}function f(g){if(!lo(g))return g;if(Array.isArray(g))return g.map(f);if(Ay(g))return new Map(Array.from(g.entries()).map(([x,S])=>[x,f(S)]));if(Py(g))return new Set(Array.from(g).map(f));const y=Object.create(Nd(g));for(const x in g)y[x]=f(g[x]);return Qg(g,sg)&&(y[sg]=g[sg]),y}function m(g){return oo(g)?f(g):g}Are("Patches",{applyPatches_:d,generatePatches_:i,generateReplacementPatches_:c})}var ss=new kre,Ry=ss.produce,nU=ss.produceWithPatches.bind(ss);ss.setAutoFreeze.bind(ss);ss.setUseStrictShallowCopy.bind(ss);var E2=ss.applyPatches.bind(ss);ss.createDraft.bind(ss);ss.finishDraft.bind(ss);function Dre(r,e=`expected a function, instead received ${typeof r}`){if(typeof r!="function")throw new TypeError(e)}function Lre(r,e=`expected an object, instead received ${typeof r}`){if(typeof r!="object")throw new TypeError(e)}function Nre(r,e="expected all items to be functions, instead received the following types: "){if(!r.every(t=>typeof t=="function")){const t=r.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${t}]`)}}var w2=r=>Array.isArray(r)?r:[r];function Ure(r){const e=Array.isArray(r[0])?r[0]:r;return Nre(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Bre(r,e){const t=[],{length:n}=r;for(let i=0;i<n;i++)t.push(r[i].apply(null,e));return t}var zre=class{constructor(r){this.value=r}deref(){return this.value}},Vre=typeof WeakRef<"u"?WeakRef:zre,Hre=0,C2=1;function I0(){return{s:Hre,v:void 0,o:null,p:null}}function Zg(r,e={}){let t=I0();const{resultEqualityCheck:n}=e;let i,a=0;function s(){var m;let o=t;const{length:c}=arguments;for(let g=0,y=c;g<y;g++){const x=arguments[g];if(typeof x=="function"||typeof x=="object"&&x!==null){let S=o.o;S===null&&(o.o=S=new WeakMap);const _=S.get(x);_===void 0?(o=I0(),S.set(x,o)):o=_}else{let S=o.p;S===null&&(o.p=S=new Map);const _=S.get(x);_===void 0?(o=I0(),S.set(x,o)):o=_}}const d=o;let f;if(o.s===C2)f=o.v;else if(f=r.apply(null,arguments),a++,n){const g=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;g!=null&&n(g,f)&&(f=g,a!==0&&a--),i=typeof f=="object"&&f!==null||typeof f=="function"?new Vre(f):f}return d.s=C2,d.v=f,f}return s.clearCache=()=>{t=I0(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function rU(r,...e){const t=typeof r=="function"?{memoize:r,memoizeOptions:e}:r,n=(...i)=>{let a=0,s=0,o,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),Dre(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...t,...c},{memoize:m,memoizeOptions:g=[],argsMemoize:y=Zg,argsMemoizeOptions:x=[],devModeChecks:S={}}=f,_=w2(g),E=w2(x),w=Ure(i),C=m(function(){return a++,d.apply(null,arguments)},..._),T=y(function(){s++;const R=Bre(w,arguments);return o=C.apply(null,R),o},...E);return Object.assign(T,{resultFunc:d,memoizedResultFunc:C,dependencies:w,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:m,argsMemoize:y})};return Object.assign(n,{withTypes:()=>n}),n}var EM=rU(Zg),jre=Object.assign((r,e=EM)=>{Lre(r,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof r}`);const t=Object.keys(r),n=t.map(a=>r[a]);return e(n,(...a)=>a.reduce((s,o,c)=>(s[t[c]]=o,s),{}))},{withTypes:()=>jre});function iU(r){return({dispatch:t,getState:n})=>i=>a=>typeof a=="function"?a(t,n,r):i(a)}var $re=iU(),Wre=iU,Gre=(...r)=>{const e=rU(...r),t=Object.assign((...n)=>{const i=e(...n),a=(s,...o)=>i(oo(s)?eU(s):s,...o);return Object.assign(a,i),a},{withTypes:()=>t});return t};Gre(Zg);var qre=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?nx:nx.apply(null,arguments)},Xre=r=>r&&typeof r.match=="function";function _a(r,e){function t(...n){if(e){let i=e(...n);if(!i)throw new Error(Zi(0));return{type:r,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:r,payload:n[0]}}return t.toString=()=>`${r}`,t.type=r,t.match=n=>YN(n)&&n.type===r,t}var aU=class Gm extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Gm.prototype)}static get[Symbol.species](){return Gm}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Gm(...e[0].concat(this)):new Gm(...e.concat(this))}};function b2(r){return lo(r)?Ry(r,()=>{}):r}function M2(r,e,t){if(r.has(e)){let i=r.get(e);return t.update&&(i=t.update(i,e,r),r.set(e,i)),i}if(!t.insert)throw new Error(Zi(10));const n=t.insert(e,r);return r.set(e,n),n}function Yre(r){return typeof r=="boolean"}var Qre=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new aU;return t&&(Yre(t)?s.push($re):s.push(Wre(t.extraArgument))),s},zh="RTK_autoBatch",zm=()=>r=>({payload:r,meta:{[zh]:!0}}),sU=r=>e=>{setTimeout(e,r)},Kre=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:sU(10),Jre=(r={type:"raf"})=>e=>(...t)=>{const n=e(...t);let i=!0,a=!1,s=!1;const o=new Set,c=r.type==="tick"?queueMicrotask:r.type==="raf"?Kre:r.type==="callback"?r.queueNotification:sU(r.timeout),d=()=>{s=!1,a&&(a=!1,o.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const m=()=>i&&f(),g=n.subscribe(m);return o.add(f),()=>{g(),o.delete(f)}},dispatch(f){var m;try{return i=!((m=f==null?void 0:f.meta)!=null&&m[zh]),a=!i,a&&(s||(s=!0,c(d))),n.dispatch(f)}finally{i=!0}}})},Zre=r=>function(t){const{autoBatch:n=!0}=t??{};let i=new aU(r);return n&&i.push(Jre(typeof n=="object"?n:void 0)),i},eie=!0;function tie(r){const e=Qre(),{reducer:t=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=r||{};let o;if(typeof t=="function")o=t;else if(jo(t))o=vM(t);else throw new Error(Zi(1));let c;typeof n=="function"?c=n(e):c=e();let d=nx;i&&(d=qre({trace:!eie,...typeof i=="object"&&i}));const f=wre(...c),m=Zre(f);let g=typeof s=="function"?s(m):m();const y=d(...g);return XN(o,a,y)}function oU(r){const e={},t=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Zi(28));if(o in e)throw new Error(Zi(29));return e[o]=s,i},addMatcher(a,s){return t.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return r(i),[e,t,n]}function nie(r){return typeof r=="function"}function rie(r,e){let[t,n,i]=oU(e),a;if(nie(r))a=()=>b2(r());else{const o=b2(r);a=()=>o}function s(o=a(),c){let d=[t[c.type],...n.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,m)=>{if(m)if(oo(f)){const y=m(f,c);return y===void 0?f:y}else{if(lo(f))return Ry(f,g=>m(g,c));{const g=m(f,c);if(g===void 0){if(f===null)return f;throw new Error(Zi(9))}return g}}return f},o)}return s.getInitialState=a,s}var iie="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wM=(r=21)=>{let e="",t=r;for(;t--;)e+=iie[Math.random()*64|0];return e},lU=(r,e)=>Xre(r)?r.match(e):r(e);function Yl(...r){return e=>r.some(t=>lU(t,e))}function og(...r){return e=>r.every(t=>lU(t,e))}function cS(r,e){if(!r||!r.meta)return!1;const t=typeof r.meta.requestId=="string",n=e.indexOf(r.meta.requestStatus)>-1;return t&&n}function Iy(r){return typeof r[0]=="function"&&"pending"in r[0]&&"fulfilled"in r[0]&&"rejected"in r[0]}function CM(...r){return r.length===0?e=>cS(e,["pending"]):Iy(r)?Yl(...r.map(e=>e.pending)):CM()(r[0])}function lp(...r){return r.length===0?e=>cS(e,["rejected"]):Iy(r)?Yl(...r.map(e=>e.rejected)):lp()(r[0])}function uS(...r){const e=t=>t&&t.meta&&t.meta.rejectedWithValue;return r.length===0?og(lp(...r),e):Iy(r)?og(lp(...r),e):uS()(r[0])}function Jc(...r){return r.length===0?e=>cS(e,["fulfilled"]):Iy(r)?Yl(...r.map(e=>e.fulfilled)):Jc()(r[0])}function Lw(...r){return r.length===0?e=>cS(e,["pending","fulfilled","rejected"]):Iy(r)?Yl(...r.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):Lw()(r[0])}var aie=["name","message","stack","code"],vE=class{constructor(r,e){VS(this,"_type");this.payload=r,this.meta=e}},T2=class{constructor(r,e){VS(this,"_type");this.payload=r,this.meta=e}},sie=r=>{if(typeof r=="object"&&r!==null){const e={};for(const t of aie)typeof r[t]=="string"&&(e[t]=r[t]);return e}return{message:String(r)}},A2=(()=>{function r(e,t,n){const i=_a(e+"/fulfilled",(c,d,f,m)=>({payload:c,meta:{...m||{},arg:f,requestId:d,requestStatus:"fulfilled"}})),a=_a(e+"/pending",(c,d,f)=>({payload:void 0,meta:{...f||{},arg:d,requestId:c,requestStatus:"pending"}})),s=_a(e+"/rejected",(c,d,f,m,g)=>({payload:m,error:(n&&n.serializeError||sie)(c||"Rejected"),meta:{...g||{},arg:f,requestId:d,rejectedWithValue:!!m,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function o(c){return(d,f,m)=>{const g=n!=null&&n.idGenerator?n.idGenerator(c):wM(),y=new AbortController;let x,S;function _(w){S=w,y.abort()}const E=async function(){var T,O;let w;try{let R=(T=n==null?void 0:n.condition)==null?void 0:T.call(n,c,{getState:f,extra:m});if(lie(R)&&(R=await R),R===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const P=new Promise((N,D)=>{x=()=>{D({name:"AbortError",message:S||"Aborted"})},y.signal.addEventListener("abort",x)});d(a(g,c,(O=n==null?void 0:n.getPendingMeta)==null?void 0:O.call(n,{requestId:g,arg:c},{getState:f,extra:m}))),w=await Promise.race([P,Promise.resolve(t(c,{dispatch:d,getState:f,extra:m,requestId:g,signal:y.signal,abort:_,rejectWithValue:(N,D)=>new vE(N,D),fulfillWithValue:(N,D)=>new T2(N,D)})).then(N=>{if(N instanceof vE)throw N;return N instanceof T2?i(N.payload,g,c,N.meta):i(N,g,c)})])}catch(R){w=R instanceof vE?s(null,g,c,R.payload,R.meta):s(R,g,c)}finally{x&&y.signal.removeEventListener("abort",x)}return n&&!n.dispatchConditionRejection&&s.match(w)&&w.meta.condition||d(w),w}();return Object.assign(E,{abort:_,requestId:g,arg:c,unwrap(){return E.then(oie)}})}}return Object.assign(o,{pending:a,rejected:s,fulfilled:i,settled:Yl(s,i),typePrefix:e})}return r.withTypes=()=>r,r})();function oie(r){if(r.meta&&r.meta.rejectedWithValue)throw r.payload;if(r.error)throw r.error;return r.payload}function lie(r){return r!==null&&typeof r=="object"&&typeof r.then=="function"}var cie=Symbol.for("rtk-slice-createasyncthunk");function uie(r,e){return`${r}/${e}`}function die({creators:r}={}){var t;const e=(t=r==null?void 0:r.asyncThunk)==null?void 0:t[cie];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Zi(11));typeof process<"u";const o=(typeof i.reducers=="function"?i.reducers(hie()):i.reducers)||{},c=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(C,T){const O=typeof C=="string"?C:C.type;if(!O)throw new Error(Zi(12));if(O in d.sliceCaseReducersByType)throw new Error(Zi(13));return d.sliceCaseReducersByType[O]=T,f},addMatcher(C,T){return d.sliceMatchers.push({matcher:C,reducer:T}),f},exposeAction(C,T){return d.actionCreators[C]=T,f},exposeCaseReducer(C,T){return d.sliceCaseReducersByName[C]=T,f}};c.forEach(C=>{const T=o[C],O={reducerName:C,type:uie(a,C),createNotation:typeof i.reducers=="function"};mie(T)?yie(O,T,f,e):pie(O,T,f)});function m(){const[C={},T=[],O=void 0]=typeof i.extraReducers=="function"?oU(i.extraReducers):[i.extraReducers],R={...C,...d.sliceCaseReducersByType};return rie(i.initialState,P=>{for(let N in R)P.addCase(N,R[N]);for(let N of d.sliceMatchers)P.addMatcher(N.matcher,N.reducer);for(let N of T)P.addMatcher(N.matcher,N.reducer);O&&P.addDefaultCase(O)})}const g=C=>C,y=new Map;let x;function S(C,T){return x||(x=m()),x(C,T)}function _(){return x||(x=m()),x.getInitialState()}function E(C,T=!1){function O(P){let N=P[C];return typeof N>"u"&&T&&(N=_()),N}function R(P=g){const N=M2(y,T,{insert:()=>new WeakMap});return M2(N,P,{insert:()=>{const D={};for(const[I,V]of Object.entries(i.selectors??{}))D[I]=fie(V,P,_,T);return D}})}return{reducerPath:C,getSelectors:R,get selectors(){return R(O)},selectSlice:O}}const w={name:a,reducer:S,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:_,...E(s),injectInto(C,{reducerPath:T,...O}={}){const R=T??s;return C.inject({reducerPath:R,reducer:S},O),{...w,...E(R,!0)}}};return w}}function fie(r,e,t,n){function i(a,...s){let o=e(a);return typeof o>"u"&&n&&(o=t()),r(o,...s)}return i.unwrapped=r,i}var Mh=die();function hie(){function r(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:r}}function pie({type:r,reducerName:e,createNotation:t},n,i){let a,s;if("reducer"in n){if(t&&!gie(n))throw new Error(Zi(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(r,a).exposeCaseReducer(e,a).exposeAction(e,s?_a(r,s):_a(r))}function mie(r){return r._reducerDefinitionType==="asyncThunk"}function gie(r){return r._reducerDefinitionType==="reducerWithPrepare"}function yie({type:r,reducerName:e},t,n,i){if(!i)throw new Error(Zi(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:c,settled:d,options:f}=t,m=i(r,a,f);n.exposeAction(e,m),s&&n.addCase(m.fulfilled,s),o&&n.addCase(m.pending,o),c&&n.addCase(m.rejected,c),d&&n.addMatcher(m.settled,d),n.exposeCaseReducer(e,{fulfilled:s||O0,pending:o||O0,rejected:c||O0,settled:d||O0})}function O0(){}var vie=(r,e)=>{if(typeof r!="function")throw new Error(Zi(32))},bM="listenerMiddleware",_ie=r=>{let{type:e,actionCreator:t,matcher:n,predicate:i,effect:a}=r;if(e)i=_a(e).match;else if(t)e=t.type,i=t.match;else if(n)i=n;else if(!i)throw new Error(Zi(21));return vie(a),{predicate:i,type:e,effect:a}},xie=Object.assign(r=>{const{type:e,predicate:t,effect:n}=_ie(r);return{id:wM(),effect:n,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(Zi(22))}}},{withTypes:()=>xie}),Sie=Object.assign(_a(`${bM}/add`),{withTypes:()=>Sie});_a(`${bM}/removeAll`);var Eie=Object.assign(_a(`${bM}/remove`),{withTypes:()=>Eie});function Zi(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var cU=(r=>(r.uninitialized="uninitialized",r.pending="pending",r.fulfilled="fulfilled",r.rejected="rejected",r))(cU||{});function wie(r){return{status:r,isUninitialized:r==="uninitialized",isLoading:r==="pending",isSuccess:r==="fulfilled",isError:r==="rejected"}}function Cie(r){return new RegExp("(^|:)//").test(r)}var bie=r=>r.replace(/\/$/,""),Mie=r=>r.replace(/^\//,"");function Tie(r,e){if(!r)return e;if(!e)return r;if(Cie(e))return e;const t=r.endsWith("/")||!e.startsWith("?")?"/":"";return r=bie(r),e=Mie(e),`${r}${t}${e}`}var P2=r=>[].concat(...r);function Aie(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function Pie(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var R2=jo;function uU(r,e){if(r===e||!(R2(r)&&R2(e)||Array.isArray(r)&&Array.isArray(e)))return e;const t=Object.keys(e),n=Object.keys(r);let i=t.length===n.length;const a=Array.isArray(e)?[]:{};for(const s of t)a[s]=uU(r[s],e[s]),i&&(i=r[s]===a[s]);return i?r:a}var I2=(...r)=>fetch(...r),Rie=r=>r.status>=200&&r.status<=299,Iie=r=>/ion\/(vnd\.api\+)?json/.test(r.get("content-type")||"");function O2(r){if(!jo(r))return r;const e={...r};for(const[t,n]of Object.entries(e))n===void 0&&delete e[t];return e}function Oie({baseUrl:r,prepareHeaders:e=m=>m,fetchFn:t=I2,paramsSerializer:n,isJsonContentType:i=Iie,jsonContentType:a="application/json",jsonReplacer:s,timeout:o,responseHandler:c,validateStatus:d,...f}={}){return typeof fetch>"u"&&t===I2&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(g,y)=>{const{signal:x,getState:S,extra:_,endpoint:E,forced:w,type:C}=y;let T,{url:O,headers:R=new Headers(f.headers),params:P=void 0,responseHandler:N=c??"json",validateStatus:D=d??Rie,timeout:I=o,...V}=typeof g=="string"?{url:g}:g,q={...f,signal:x,...V};R=new Headers(O2(R)),q.headers=await e(R,{getState:S,extra:_,endpoint:E,forced:w,type:C})||R;const W=ne=>typeof ne=="object"&&(jo(ne)||Array.isArray(ne)||typeof ne.toJSON=="function");if(!q.headers.has("content-type")&&W(q.body)&&q.headers.set("content-type",a),W(q.body)&&i(q.headers)&&(q.body=JSON.stringify(q.body,s)),P){const ne=~O.indexOf("?")?"&":"?",we=n?n(P):new URLSearchParams(O2(P));O+=ne+we}O=Tie(r,O);const ee=new Request(O,q);T={request:new Request(O,q)};let re,ue=!1,G=I&&setTimeout(()=>{ue=!0,y.abort()},I);try{re=await t(ee)}catch(ne){return{error:{status:ue?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(ne)},meta:T}}finally{G&&clearTimeout(G)}const le=re.clone();T.response=le;let oe,X="";try{let ne;if(await Promise.all([m(re,N).then(we=>oe=we,we=>ne=we),le.text().then(we=>X=we,()=>{})]),ne)throw ne}catch(ne){return{error:{status:"PARSING_ERROR",originalStatus:re.status,data:X,error:String(ne)},meta:T}}return D(re,oe)?{data:oe,meta:T}:{error:{status:re.status,data:oe},meta:T}};async function m(g,y){if(typeof y=="function")return y(g);if(y==="content-type"&&(y=i(g.headers)?"json":"text"),y==="json"){const x=await g.text();return x.length?JSON.parse(x):null}return g.text()}}var k2=class{constructor(r,e=void 0){this.value=r,this.meta=e}},MM=_a("__rtkq/focused"),dU=_a("__rtkq/unfocused"),TM=_a("__rtkq/online"),fU=_a("__rtkq/offline");function hU(r){return r.type==="query"}function kie(r){return r.type==="mutation"}function AM(r,e,t,n,i,a){return Fie(r)?r(e,t,n,i).map(Nw).map(a):Array.isArray(r)?r.map(Nw).map(a):[]}function Fie(r){return typeof r=="function"}function Nw(r){return typeof r=="string"?{type:r}:r}function F2(r){return r!=null}function Xh(r){let e=0;for(const t in r)e++;return e}function Die(r,e){return r.catch(e)}var ey=Symbol("forceQueryFn"),Uw=r=>typeof r[ey]=="function";function Lie({serializeQueryArgs:r,queryThunk:e,mutationThunk:t,api:n,context:i}){const a=new Map,s=new Map,{unsubscribeQueryResult:o,removeMutationResult:c,updateSubscriptionOptions:d}=n.internalActions;return{buildInitiateQuery:x,buildInitiateMutation:S,getRunningQueryThunk:f,getRunningMutationThunk:m,getRunningQueriesThunk:g,getRunningMutationsThunk:y};function f(_,E){return w=>{var O;const C=i.endpointDefinitions[_],T=r({queryArgs:E,endpointDefinition:C,endpointName:_});return(O=a.get(w))==null?void 0:O[T]}}function m(_,E){return w=>{var C;return(C=s.get(w))==null?void 0:C[E]}}function g(){return _=>Object.values(a.get(_)||{}).filter(F2)}function y(){return _=>Object.values(s.get(_)||{}).filter(F2)}function x(_,E){const w=(C,{subscribe:T=!0,forceRefetch:O,subscriptionOptions:R,[ey]:P,...N}={})=>(D,I)=>{var ne;const V=r({queryArgs:C,endpointDefinition:E,endpointName:_}),q=e({...N,type:"query",subscribe:T,forceRefetch:O,subscriptionOptions:R,endpointName:_,originalArgs:C,queryCacheKey:V,[ey]:P}),W=n.endpoints[_].select(C),ee=D(q),te=W(I()),{requestId:re,abort:ue}=ee,G=te.requestId!==re,le=(ne=a.get(D))==null?void 0:ne[V],oe=()=>W(I()),X=Object.assign(P?ee.then(oe):G&&!le?Promise.resolve(te):Promise.all([le,ee]).then(oe),{arg:C,requestId:re,subscriptionOptions:R,queryCacheKey:V,abort:ue,async unwrap(){const we=await X;if(we.isError)throw we.error;return we.data},refetch:()=>D(w(C,{subscribe:!1,forceRefetch:!0})),unsubscribe(){T&&D(o({queryCacheKey:V,requestId:re}))},updateSubscriptionOptions(we){X.subscriptionOptions=we,D(d({endpointName:_,requestId:re,queryCacheKey:V,options:we}))}});if(!le&&!G&&!P){const we=a.get(D)||{};we[V]=X,a.set(D,we),X.then(()=>{delete we[V],Xh(we)||a.delete(D)})}return X};return w}function S(_){return(E,{track:w=!0,fixedCacheKey:C}={})=>(T,O)=>{const R=t({type:"mutation",endpointName:_,originalArgs:E,track:w,fixedCacheKey:C}),P=T(R),{requestId:N,abort:D,unwrap:I}=P,V=Die(P.unwrap().then(te=>({data:te})),te=>({error:te})),q=()=>{T(c({requestId:N,fixedCacheKey:C}))},W=Object.assign(V,{arg:P.arg,requestId:N,abort:D,unwrap:I,reset:q}),ee=s.get(T)||{};return s.set(T,ee),ee[N]=W,W.then(()=>{delete ee[N],Xh(ee)||s.delete(T)}),C&&(ee[C]=W,W.then(()=>{ee[C]===W&&(delete ee[C],Xh(ee)||s.delete(T))})),W}}}function D2(r){return r}function Nie({reducerPath:r,baseQuery:e,context:{endpointDefinitions:t},serializeQueryArgs:n,api:i,assertTagType:a}){const s=(w,C,T,O)=>(R,P)=>{const N=t[w],D=n({queryArgs:C,endpointDefinition:N,endpointName:w});if(R(i.internalActions.queryResultPatched({queryCacheKey:D,patches:T})),!O)return;const I=i.endpoints[w].select(C)(P()),V=AM(N.providesTags,I.data,void 0,C,{},a);R(i.internalActions.updateProvidedBy({queryCacheKey:D,providedTags:V}))},o=(w,C,T,O=!0)=>(R,P)=>{const D=i.endpoints[w].select(C)(P());let I={patches:[],inversePatches:[],undo:()=>R(i.util.patchQueryData(w,C,I.inversePatches,O))};if(D.status==="uninitialized")return I;let V;if("data"in D)if(lo(D.data)){const[q,W,ee]=nU(D.data,T);I.patches.push(...W),I.inversePatches.push(...ee),V=q}else V=T(D.data),I.patches.push({op:"replace",path:[],value:V}),I.inversePatches.push({op:"replace",path:[],value:D.data});return I.patches.length===0||R(i.util.patchQueryData(w,C,I.patches,O)),I},c=(w,C,T)=>O=>O(i.endpoints[w].initiate(C,{subscribe:!1,forceRefetch:!0,[ey]:()=>({data:T})})),d=async(w,{signal:C,abort:T,rejectWithValue:O,fulfillWithValue:R,dispatch:P,getState:N,extra:D})=>{const I=t[w.endpointName];try{let V=D2,q;const W={signal:C,abort:T,dispatch:P,getState:N,extra:D,endpoint:w.endpointName,type:w.type,forced:w.type==="query"?f(w,N()):void 0},ee=w.type==="query"?w[ey]:void 0;if(ee?q=ee():I.query?(q=await e(I.query(w.originalArgs),W,I.extraOptions),I.transformResponse&&(V=I.transformResponse)):q=await I.queryFn(w.originalArgs,W,I.extraOptions,te=>e(te,W,I.extraOptions)),typeof process<"u",q.error)throw new k2(q.error,q.meta);return R(await V(q.data,q.meta,w.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:q.meta,[zh]:!0})}catch(V){let q=V;if(q instanceof k2){let W=D2;I.query&&I.transformErrorResponse&&(W=I.transformErrorResponse);try{return O(await W(q.value,q.meta,w.originalArgs),{baseQueryMeta:q.meta,[zh]:!0})}catch(ee){q=ee}}throw typeof process<"u",console.error(q),q}};function f(w,C){var N,D,I;const T=(D=(N=C[r])==null?void 0:N.queries)==null?void 0:D[w.queryCacheKey],O=(I=C[r])==null?void 0:I.config.refetchOnMountOrArgChange,R=T==null?void 0:T.fulfilledTimeStamp,P=w.forceRefetch??(w.subscribe&&O);return P?P===!0||(Number(new Date)-Number(R))/1e3>=P:!1}const m=A2(`${r}/executeQuery`,d,{getPendingMeta(){return{startedTimeStamp:Date.now(),[zh]:!0}},condition(w,{getState:C}){var I,V,q;const T=C(),O=(V=(I=T[r])==null?void 0:I.queries)==null?void 0:V[w.queryCacheKey],R=O==null?void 0:O.fulfilledTimeStamp,P=w.originalArgs,N=O==null?void 0:O.originalArgs,D=t[w.endpointName];return Uw(w)?!0:(O==null?void 0:O.status)==="pending"?!1:f(w,T)||hU(D)&&((q=D==null?void 0:D.forceRefetch)!=null&&q.call(D,{currentArg:P,previousArg:N,endpointState:O,state:T}))?!0:!R},dispatchConditionRejection:!0}),g=A2(`${r}/executeMutation`,d,{getPendingMeta(){return{startedTimeStamp:Date.now(),[zh]:!0}}}),y=w=>"force"in w,x=w=>"ifOlderThan"in w,S=(w,C,T)=>(O,R)=>{const P=y(T)&&T.force,N=x(T)&&T.ifOlderThan,D=(V=!0)=>{const q={forceRefetch:V,isPrefetch:!0};return i.endpoints[w].initiate(C,q)},I=i.endpoints[w].select(C)(R());if(P)O(D());else if(N){const V=I==null?void 0:I.fulfilledTimeStamp;if(!V){O(D());return}(Number(new Date)-Number(new Date(V)))/1e3>=N&&O(D())}else O(D(!1))};function _(w){return C=>{var T,O;return((O=(T=C==null?void 0:C.meta)==null?void 0:T.arg)==null?void 0:O.endpointName)===w}}function E(w,C){return{matchPending:og(CM(w),_(C)),matchFulfilled:og(Jc(w),_(C)),matchRejected:og(lp(w),_(C))}}return{queryThunk:m,mutationThunk:g,prefetch:S,updateQueryData:o,upsertQueryData:c,patchQueryData:s,buildMatchThunkActions:E}}function pU(r,e,t,n){return AM(t[r.meta.arg.endpointName][e],Jc(r)?r.payload:void 0,uS(r)?r.payload:void 0,r.meta.arg.originalArgs,"baseQueryMeta"in r.meta?r.meta.baseQueryMeta:void 0,n)}function k0(r,e,t){const n=r[e];n&&t(n)}function ty(r){return("arg"in r?r.arg.fixedCacheKey:r.fixedCacheKey)??r.requestId}function L2(r,e,t){const n=r[ty(e)];n&&t(n)}var Vm={};function Uie({reducerPath:r,queryThunk:e,mutationThunk:t,context:{endpointDefinitions:n,apiUid:i,extractRehydrationInfo:a,hasRehydrationInfo:s},assertTagType:o,config:c}){const d=_a(`${r}/resetApiState`),f=Mh({name:`${r}/queries`,initialState:Vm,reducers:{removeQueryResult:{reducer(C,{payload:{queryCacheKey:T}}){delete C[T]},prepare:zm()},queryResultPatched:{reducer(C,{payload:{queryCacheKey:T,patches:O}}){k0(C,T,R=>{R.data=E2(R.data,O.concat())})},prepare:zm()}},extraReducers(C){C.addCase(e.pending,(T,{meta:O,meta:{arg:R}})=>{var N;const P=Uw(R);T[N=R.queryCacheKey]??(T[N]={status:"uninitialized",endpointName:R.endpointName}),k0(T,R.queryCacheKey,D=>{D.status="pending",D.requestId=P&&D.requestId?D.requestId:O.requestId,R.originalArgs!==void 0&&(D.originalArgs=R.originalArgs),D.startedTimeStamp=O.startedTimeStamp})}).addCase(e.fulfilled,(T,{meta:O,payload:R})=>{k0(T,O.arg.queryCacheKey,P=>{if(P.requestId!==O.requestId&&!Uw(O.arg))return;const{merge:N}=n[O.arg.endpointName];if(P.status="fulfilled",N)if(P.data!==void 0){const{fulfilledTimeStamp:D,arg:I,baseQueryMeta:V,requestId:q}=O;let W=Ry(P.data,ee=>N(ee,R,{arg:I.originalArgs,baseQueryMeta:V,fulfilledTimeStamp:D,requestId:q}));P.data=W}else P.data=R;else P.data=n[O.arg.endpointName].structuralSharing??!0?uU(oo(P.data)?bre(P.data):P.data,R):R;delete P.error,P.fulfilledTimeStamp=O.fulfilledTimeStamp})}).addCase(e.rejected,(T,{meta:{condition:O,arg:R,requestId:P},error:N,payload:D})=>{k0(T,R.queryCacheKey,I=>{if(!O){if(I.requestId!==P)return;I.status="rejected",I.error=D??N}})}).addMatcher(s,(T,O)=>{const{queries:R}=a(O);for(const[P,N]of Object.entries(R))((N==null?void 0:N.status)==="fulfilled"||(N==null?void 0:N.status)==="rejected")&&(T[P]=N)})}}),m=Mh({name:`${r}/mutations`,initialState:Vm,reducers:{removeMutationResult:{reducer(C,{payload:T}){const O=ty(T);O in C&&delete C[O]},prepare:zm()}},extraReducers(C){C.addCase(t.pending,(T,{meta:O,meta:{requestId:R,arg:P,startedTimeStamp:N}})=>{P.track&&(T[ty(O)]={requestId:R,status:"pending",endpointName:P.endpointName,startedTimeStamp:N})}).addCase(t.fulfilled,(T,{payload:O,meta:R})=>{R.arg.track&&L2(T,R,P=>{P.requestId===R.requestId&&(P.status="fulfilled",P.data=O,P.fulfilledTimeStamp=R.fulfilledTimeStamp)})}).addCase(t.rejected,(T,{payload:O,error:R,meta:P})=>{P.arg.track&&L2(T,P,N=>{N.requestId===P.requestId&&(N.status="rejected",N.error=O??R)})}).addMatcher(s,(T,O)=>{const{mutations:R}=a(O);for(const[P,N]of Object.entries(R))((N==null?void 0:N.status)==="fulfilled"||(N==null?void 0:N.status)==="rejected")&&P!==(N==null?void 0:N.requestId)&&(T[P]=N)})}}),g=Mh({name:`${r}/invalidation`,initialState:Vm,reducers:{updateProvidedBy:{reducer(C,T){var P,N;const{queryCacheKey:O,providedTags:R}=T.payload;for(const D of Object.values(C))for(const I of Object.values(D)){const V=I.indexOf(O);V!==-1&&I.splice(V,1)}for(const{type:D,id:I}of R){const V=(P=C[D]??(C[D]={}))[N=I||"__internal_without_id"]??(P[N]=[]);V.includes(O)||V.push(O)}},prepare:zm()}},extraReducers(C){C.addCase(f.actions.removeQueryResult,(T,{payload:{queryCacheKey:O}})=>{for(const R of Object.values(T))for(const P of Object.values(R)){const N=P.indexOf(O);N!==-1&&P.splice(N,1)}}).addMatcher(s,(T,O)=>{var P,N;const{provided:R}=a(O);for(const[D,I]of Object.entries(R))for(const[V,q]of Object.entries(I)){const W=(P=T[D]??(T[D]={}))[N=V||"__internal_without_id"]??(P[N]=[]);for(const ee of q)W.includes(ee)||W.push(ee)}}).addMatcher(Yl(Jc(e),uS(e)),(T,O)=>{const R=pU(O,"providesTags",n,o),{queryCacheKey:P}=O.meta.arg;g.caseReducers.updateProvidedBy(T,g.actions.updateProvidedBy({queryCacheKey:P,providedTags:R}))})}}),y=Mh({name:`${r}/subscriptions`,initialState:Vm,reducers:{updateSubscriptionOptions(C,T){},unsubscribeQueryResult(C,T){},internal_getRTKQSubscriptions(){}}}),x=Mh({name:`${r}/internalSubscriptions`,initialState:Vm,reducers:{subscriptionsUpdated:{reducer(C,T){return E2(C,T.payload)},prepare:zm()}}}),S=Mh({name:`${r}/config`,initialState:{online:Aie(),focused:Pie(),middlewareRegistered:!1,...c},reducers:{middlewareRegistered(C,{payload:T}){C.middlewareRegistered=C.middlewareRegistered==="conflict"||i!==T?"conflict":!0}},extraReducers:C=>{C.addCase(TM,T=>{T.online=!0}).addCase(fU,T=>{T.online=!1}).addCase(MM,T=>{T.focused=!0}).addCase(dU,T=>{T.focused=!1}).addMatcher(s,T=>({...T}))}}),_=vM({queries:f.reducer,mutations:m.reducer,provided:g.reducer,subscriptions:x.reducer,config:S.reducer}),E=(C,T)=>_(d.match(T)?void 0:C,T),w={...S.actions,...f.actions,...y.actions,...x.actions,...m.actions,...g.actions,resetApiState:d};return{reducer:E,actions:w}}var _d=Symbol.for("RTKQ/skipToken"),mU={status:"uninitialized"},N2=Ry(mU,()=>{}),U2=Ry(mU,()=>{});function Bie({serializeQueryArgs:r,reducerPath:e,createSelector:t}){const n=m=>N2,i=m=>U2;return{buildQuerySelector:o,buildMutationSelector:c,selectInvalidatedBy:d,selectCachedArgsForQuery:f};function a(m){return{...m,...wie(m.status)}}function s(m){return m[e]}function o(m,g){return y=>{const x=r({queryArgs:y,endpointDefinition:g,endpointName:m});return t(y===_d?n:E=>{var w,C;return((C=(w=s(E))==null?void 0:w.queries)==null?void 0:C[x])??N2},a)}}function c(){return m=>{let g;return typeof m=="object"?g=ty(m)??_d:g=m,t(g===_d?i:S=>{var _,E;return((E=(_=s(S))==null?void 0:_.mutations)==null?void 0:E[g])??U2},a)}}function d(m,g){const y=m[e],x=new Set;for(const S of g.map(Nw)){const _=y.provided[S.type];if(!_)continue;let E=(S.id!==void 0?_[S.id]:P2(Object.values(_)))??[];for(const w of E)x.add(w)}return P2(Array.from(x.values()).map(S=>{const _=y.queries[S];return _?[{queryCacheKey:S,endpointName:_.endpointName,originalArgs:_.originalArgs}]:[]}))}function f(m,g){return Object.values(m[e].queries).filter(y=>(y==null?void 0:y.endpointName)===g&&y.status!=="uninitialized").map(y=>y.originalArgs)}}var Th=WeakMap?new WeakMap:void 0,B2=({endpointName:r,queryArgs:e})=>{let t="";const n=Th==null?void 0:Th.get(e);if(typeof n=="string")t=n;else{const i=JSON.stringify(e,(a,s)=>(s=typeof s=="bigint"?{$bigint:s.toString()}:s,s=jo(s)?Object.keys(s).sort().reduce((o,c)=>(o[c]=s[c],o),{}):s,s));jo(e)&&(Th==null||Th.set(e,i)),t=i}return`${r}(${t})`};function zie(...r){return function(t){const n=Zg(d=>{var f;return(f=t.extractRehydrationInfo)==null?void 0:f.call(t,d,{reducerPath:t.reducerPath??"api"})}),i={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...t,extractRehydrationInfo:n,serializeQueryArgs(d){let f=B2;if("serializeQueryArgs"in d.endpointDefinition){const m=d.endpointDefinition.serializeQueryArgs;f=g=>{const y=m(g);return typeof y=="string"?y:B2({...g,queryArgs:y})}}else t.serializeQueryArgs&&(f=t.serializeQueryArgs);return f(d)},tagTypes:[...t.tagTypes||[]]},a={endpointDefinitions:{},batch(d){d()},apiUid:wM(),extractRehydrationInfo:n,hasRehydrationInfo:Zg(d=>n(d)!=null)},s={injectEndpoints:c,enhanceEndpoints({addTagTypes:d,endpoints:f}){if(d)for(const m of d)i.tagTypes.includes(m)||i.tagTypes.push(m);if(f)for(const[m,g]of Object.entries(f))typeof g=="function"?g(a.endpointDefinitions[m]):Object.assign(a.endpointDefinitions[m]||{},g);return s}},o=r.map(d=>d.init(s,i,a));function c(d){const f=d.endpoints({query:m=>({...m,type:"query"}),mutation:m=>({...m,type:"mutation"})});for(const[m,g]of Object.entries(f)){if(d.overrideExisting!==!0&&m in a.endpointDefinitions){if(d.overrideExisting==="throw")throw new Error(Zi(39));typeof process<"u";continue}a.endpointDefinitions[m]=g;for(const y of o)y.injectEndpoint(m,g)}return s}return s.injectEndpoints({endpoints:t.endpoints})}}function Vie(r){for(let e in r)return!1;return!0}var Hie=2147483647/1e3-1,jie=({reducerPath:r,api:e,queryThunk:t,context:n,internalState:i})=>{const{removeQueryResult:a,unsubscribeQueryResult:s}=e.internalActions,o=Yl(s.match,t.fulfilled,t.rejected);function c(g){const y=i.currentSubscriptions[g];return!!y&&!Vie(y)}const d={},f=(g,y,x)=>{var S;if(o(g)){const _=y.getState()[r],{queryCacheKey:E}=s.match(g)?g.payload:g.meta.arg;m(E,(S=_.queries[E])==null?void 0:S.endpointName,y,_.config)}if(e.util.resetApiState.match(g))for(const[_,E]of Object.entries(d))E&&clearTimeout(E),delete d[_];if(n.hasRehydrationInfo(g)){const _=y.getState()[r],{queries:E}=n.extractRehydrationInfo(g);for(const[w,C]of Object.entries(E))m(w,C==null?void 0:C.endpointName,y,_.config)}};function m(g,y,x,S){const _=n.endpointDefinitions[y],E=(_==null?void 0:_.keepUnusedDataFor)??S.keepUnusedDataFor;if(E===1/0)return;const w=Math.max(0,Math.min(E,Hie));if(!c(g)){const C=d[g];C&&clearTimeout(C),d[g]=setTimeout(()=>{c(g)||x.dispatch(a({queryCacheKey:g})),delete d[g]},w*1e3)}}return f},$ie=({reducerPath:r,context:e,context:{endpointDefinitions:t},mutationThunk:n,queryThunk:i,api:a,assertTagType:s,refetchQuery:o,internalState:c})=>{const{removeQueryResult:d}=a.internalActions,f=Yl(Jc(n),uS(n)),m=Yl(Jc(n,i),lp(n,i));let g=[];const y=(_,E)=>{f(_)?S(pU(_,"invalidatesTags",t,s),E):m(_)?S([],E):a.util.invalidateTags.match(_)&&S(AM(_.payload,void 0,void 0,void 0,void 0,s),E)};function x(_){var E,w;for(const C in _.queries)if(((E=_.queries[C])==null?void 0:E.status)==="pending")return!0;for(const C in _.mutations)if(((w=_.mutations[C])==null?void 0:w.status)==="pending")return!0;return!1}function S(_,E){const w=E.getState(),C=w[r];if(g.push(..._),C.config.invalidationBehavior==="delayed"&&x(C))return;const T=g;if(g=[],T.length===0)return;const O=a.util.selectInvalidatedBy(w,T);e.batch(()=>{const R=Array.from(O.values());for(const{queryCacheKey:P}of R){const N=C.queries[P],D=c.currentSubscriptions[P]??{};N&&(Xh(D)===0?E.dispatch(d({queryCacheKey:P})):N.status!=="uninitialized"&&E.dispatch(o(N,P)))}})}return y},Wie=({reducerPath:r,queryThunk:e,api:t,refetchQuery:n,internalState:i})=>{const a={},s=(g,y)=>{(t.internalActions.updateSubscriptionOptions.match(g)||t.internalActions.unsubscribeQueryResult.match(g))&&c(g.payload,y),(e.pending.match(g)||e.rejected.match(g)&&g.meta.condition)&&c(g.meta.arg,y),(e.fulfilled.match(g)||e.rejected.match(g)&&!g.meta.condition)&&o(g.meta.arg,y),t.util.resetApiState.match(g)&&f()};function o({queryCacheKey:g},y){const x=y.getState()[r],S=x.queries[g],_=i.currentSubscriptions[g];if(!S||S.status==="uninitialized")return;const{lowestPollingInterval:E,skipPollingIfUnfocused:w}=m(_);if(!Number.isFinite(E))return;const C=a[g];C!=null&&C.timeout&&(clearTimeout(C.timeout),C.timeout=void 0);const T=Date.now()+E;a[g]={nextPollTimestamp:T,pollingInterval:E,timeout:setTimeout(()=>{(x.config.focused||!w)&&y.dispatch(n(S,g)),o({queryCacheKey:g},y)},E)}}function c({queryCacheKey:g},y){const S=y.getState()[r].queries[g],_=i.currentSubscriptions[g];if(!S||S.status==="uninitialized")return;const{lowestPollingInterval:E}=m(_);if(!Number.isFinite(E)){d(g);return}const w=a[g],C=Date.now()+E;(!w||C<w.nextPollTimestamp)&&o({queryCacheKey:g},y)}function d(g){const y=a[g];y!=null&&y.timeout&&clearTimeout(y.timeout),delete a[g]}function f(){for(const g of Object.keys(a))d(g)}function m(g={}){let y=!1,x=Number.POSITIVE_INFINITY;for(let S in g)g[S].pollingInterval&&(x=Math.min(g[S].pollingInterval,x),y=g[S].skipPollingIfUnfocused||y);return{lowestPollingInterval:x,skipPollingIfUnfocused:y}}return s},Gie=({reducerPath:r,context:e,api:t,refetchQuery:n,internalState:i})=>{const{removeQueryResult:a}=t.internalActions,s=(c,d)=>{MM.match(c)&&o(d,"refetchOnFocus"),TM.match(c)&&o(d,"refetchOnReconnect")};function o(c,d){const f=c.getState()[r],m=f.queries,g=i.currentSubscriptions;e.batch(()=>{for(const y of Object.keys(g)){const x=m[y],S=g[y];if(!S||!x)continue;(Object.values(S).some(E=>E[d]===!0)||Object.values(S).every(E=>E[d]===void 0)&&f.config[d])&&(Xh(S)===0?c.dispatch(a({queryCacheKey:y})):x.status!=="uninitialized"&&c.dispatch(n(x,y)))}})}return s},z2=new Error("Promise never resolved before cacheEntryRemoved."),qie=({api:r,reducerPath:e,context:t,queryThunk:n,mutationThunk:i,internalState:a})=>{const s=Lw(n),o=Lw(i),c=Jc(n,i),d={},f=(y,x,S)=>{const _=m(y);if(n.pending.match(y)){const E=S[e].queries[_],w=x.getState()[e].queries[_];!E&&w&&g(y.meta.arg.endpointName,y.meta.arg.originalArgs,_,x,y.meta.requestId)}else if(i.pending.match(y))x.getState()[e].mutations[_]&&g(y.meta.arg.endpointName,y.meta.arg.originalArgs,_,x,y.meta.requestId);else if(c(y)){const E=d[_];E!=null&&E.valueResolved&&(E.valueResolved({data:y.payload,meta:y.meta.baseQueryMeta}),delete E.valueResolved)}else if(r.internalActions.removeQueryResult.match(y)||r.internalActions.removeMutationResult.match(y)){const E=d[_];E&&(delete d[_],E.cacheEntryRemoved())}else if(r.util.resetApiState.match(y))for(const[E,w]of Object.entries(d))delete d[E],w.cacheEntryRemoved()};function m(y){return s(y)?y.meta.arg.queryCacheKey:o(y)?y.meta.arg.fixedCacheKey??y.meta.requestId:r.internalActions.removeQueryResult.match(y)?y.payload.queryCacheKey:r.internalActions.removeMutationResult.match(y)?ty(y.payload):""}function g(y,x,S,_,E){const w=t.endpointDefinitions[y],C=w==null?void 0:w.onCacheEntryAdded;if(!C)return;let T={};const O=new Promise(V=>{T.cacheEntryRemoved=V}),R=Promise.race([new Promise(V=>{T.valueResolved=V}),O.then(()=>{throw z2})]);R.catch(()=>{}),d[S]=T;const P=r.endpoints[y].select(w.type==="query"?x:S),N=_.dispatch((V,q,W)=>W),D={..._,getCacheEntry:()=>P(_.getState()),requestId:E,extra:N,updateCachedData:w.type==="query"?V=>_.dispatch(r.util.updateQueryData(y,x,V)):void 0,cacheDataLoaded:R,cacheEntryRemoved:O},I=C(x,D);Promise.resolve(I).catch(V=>{if(V!==z2)throw V})}return f},Xie=({api:r,context:e,queryThunk:t,mutationThunk:n})=>{const i=CM(t,n),a=lp(t,n),s=Jc(t,n),o={};return(d,f)=>{var m,g;if(i(d)){const{requestId:y,arg:{endpointName:x,originalArgs:S}}=d.meta,_=e.endpointDefinitions[x],E=_==null?void 0:_.onQueryStarted;if(E){const w={},C=new Promise((P,N)=>{w.resolve=P,w.reject=N});C.catch(()=>{}),o[y]=w;const T=r.endpoints[x].select(_.type==="query"?S:y),O=f.dispatch((P,N,D)=>D),R={...f,getCacheEntry:()=>T(f.getState()),requestId:y,extra:O,updateCachedData:_.type==="query"?P=>f.dispatch(r.util.updateQueryData(x,S,P)):void 0,queryFulfilled:C};E(S,R)}}else if(s(d)){const{requestId:y,baseQueryMeta:x}=d.meta;(m=o[y])==null||m.resolve({data:d.payload,meta:x}),delete o[y]}else if(a(d)){const{requestId:y,rejectedWithValue:x,baseQueryMeta:S}=d.meta;(g=o[y])==null||g.reject({error:d.payload??d.error,isUnhandledError:!x,meta:S}),delete o[y]}}},Yie=({api:r,context:{apiUid:e},reducerPath:t})=>(n,i)=>{r.util.resetApiState.match(n)&&i.dispatch(r.internalActions.middlewareRegistered(e)),typeof process<"u"},Qie=({api:r,queryThunk:e,internalState:t})=>{const n=`${r.reducerPath}/subscriptions`;let i=null,a=null;const{updateSubscriptionOptions:s,unsubscribeQueryResult:o}=r.internalActions,c=(y,x)=>{var _,E,w;if(s.match(x)){const{queryCacheKey:C,requestId:T,options:O}=x.payload;return(_=y==null?void 0:y[C])!=null&&_[T]&&(y[C][T]=O),!0}if(o.match(x)){const{queryCacheKey:C,requestId:T}=x.payload;return y[C]&&delete y[C][T],!0}if(r.internalActions.removeQueryResult.match(x))return delete y[x.payload.queryCacheKey],!0;if(e.pending.match(x)){const{meta:{arg:C,requestId:T}}=x,O=y[E=C.queryCacheKey]??(y[E]={});return O[`${T}_running`]={},C.subscribe&&(O[T]=C.subscriptionOptions??O[T]??{}),!0}let S=!1;if(e.fulfilled.match(x)||e.rejected.match(x)){const C=y[x.meta.arg.queryCacheKey]||{},T=`${x.meta.requestId}_running`;S||(S=!!C[T]),delete C[T]}if(e.rejected.match(x)){const{meta:{condition:C,arg:T,requestId:O}}=x;if(C&&T.subscribe){const R=y[w=T.queryCacheKey]??(y[w]={});R[O]=T.subscriptionOptions??R[O]??{},S=!0}}return S},d=()=>t.currentSubscriptions,g={getSubscriptions:d,getSubscriptionCount:y=>{const S=d()[y]??{};return Xh(S)},isRequestSubscribed:(y,x)=>{var _;const S=d();return!!((_=S==null?void 0:S[y])!=null&&_[x])}};return(y,x)=>{if(i||(i=JSON.parse(JSON.stringify(t.currentSubscriptions))),r.util.resetApiState.match(y))return i=t.currentSubscriptions={},a=null,[!0,!1];if(r.internalActions.internal_getRTKQSubscriptions.match(y))return[!1,g];const S=c(t.currentSubscriptions,y);let _=!0;if(S){a||(a=setTimeout(()=>{const C=JSON.parse(JSON.stringify(t.currentSubscriptions)),[,T]=nU(i,()=>C);x.next(r.internalActions.subscriptionsUpdated(T)),i=C,a=null},500));const E=typeof y.type=="string"&&!!y.type.startsWith(n),w=e.rejected.match(y)&&y.meta.condition&&!!y.meta.arg.subscribe;_=!E&&!w}return[_,!1]}};function Kie(r){const{reducerPath:e,queryThunk:t,api:n,context:i}=r,{apiUid:a}=i,s={invalidateTags:_a(`${e}/invalidateTags`)},o=m=>m.type.startsWith(`${e}/`),c=[Yie,jie,$ie,Wie,qie,Xie];return{middleware:m=>{let g=!1;const x={...r,internalState:{currentSubscriptions:{}},refetchQuery:f,isThisApiSliceAction:o},S=c.map(w=>w(x)),_=Qie(x),E=Gie(x);return w=>C=>{if(!YN(C))return w(C);g||(g=!0,m.dispatch(n.internalActions.middlewareRegistered(a)));const T={...m,next:w},O=m.getState(),[R,P]=_(C,T,O);let N;if(R?N=w(C):N=P,m.getState()[e]&&(E(C,T,O),o(C)||i.hasRehydrationInfo(C)))for(let D of S)D(C,T,O);return N}},actions:s};function f(m,g,y={}){return t({type:"query",endpointName:m.endpointName,originalArgs:m.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:g,...y})}}function $c(r,...e){return Object.assign(r,...e)}var V2=Symbol(),Jie=({createSelector:r=EM}={})=>({name:V2,init(e,{baseQuery:t,tagTypes:n,reducerPath:i,serializeQueryArgs:a,keepUnusedDataFor:s,refetchOnMountOrArgChange:o,refetchOnFocus:c,refetchOnReconnect:d,invalidationBehavior:f},m){Fre();const g=G=>(typeof process<"u",G);Object.assign(e,{reducerPath:i,endpoints:{},internalActions:{onOnline:TM,onOffline:fU,onFocus:MM,onFocusLost:dU},util:{}});const{queryThunk:y,mutationThunk:x,patchQueryData:S,updateQueryData:_,upsertQueryData:E,prefetch:w,buildMatchThunkActions:C}=Nie({baseQuery:t,reducerPath:i,context:m,api:e,serializeQueryArgs:a,assertTagType:g}),{reducer:T,actions:O}=Uie({context:m,queryThunk:y,mutationThunk:x,reducerPath:i,assertTagType:g,config:{refetchOnFocus:c,refetchOnReconnect:d,refetchOnMountOrArgChange:o,keepUnusedDataFor:s,reducerPath:i,invalidationBehavior:f}});$c(e.util,{patchQueryData:S,updateQueryData:_,upsertQueryData:E,prefetch:w,resetApiState:O.resetApiState}),$c(e.internalActions,O);const{middleware:R,actions:P}=Kie({reducerPath:i,context:m,queryThunk:y,mutationThunk:x,api:e,assertTagType:g});$c(e.util,P),$c(e,{reducer:T,middleware:R});const{buildQuerySelector:N,buildMutationSelector:D,selectInvalidatedBy:I,selectCachedArgsForQuery:V}=Bie({serializeQueryArgs:a,reducerPath:i,createSelector:r});$c(e.util,{selectInvalidatedBy:I,selectCachedArgsForQuery:V});const{buildInitiateQuery:q,buildInitiateMutation:W,getRunningMutationThunk:ee,getRunningMutationsThunk:te,getRunningQueriesThunk:re,getRunningQueryThunk:ue}=Lie({queryThunk:y,mutationThunk:x,api:e,serializeQueryArgs:a,context:m});return $c(e.util,{getRunningMutationThunk:ee,getRunningMutationsThunk:te,getRunningQueryThunk:ue,getRunningQueriesThunk:re}),{name:V2,injectEndpoint(G,le){var X;const oe=e;(X=oe.endpoints)[G]??(X[G]={}),hU(le)?$c(oe.endpoints[G],{name:G,select:N(G,le),initiate:q(G,le)},C(y,G)):kie(le)&&$c(oe.endpoints[G],{name:G,select:D(),initiate:W(G)},C(x,G))}}}});function Zie(r){return r.type==="query"}function eae(r){return r.type==="mutation"}function F0(r,...e){return Object.assign(r,...e)}function _E(r){return r.replace(r[0],r[0].toUpperCase())}var Ah=WeakMap?new WeakMap:void 0,tae=({endpointName:r,queryArgs:e})=>{let t="";const n=Ah==null?void 0:Ah.get(e);if(typeof n=="string")t=n;else{const i=JSON.stringify(e,(a,s)=>(s=typeof s=="bigint"?{$bigint:s.toString()}:s,s=jo(s)?Object.keys(s).sort().reduce((o,c)=>(o[c]=s[c],o),{}):s,s));jo(e)&&(Ah==null||Ah.set(e,i)),t=i}return`${r}(${t})`},xE=Symbol();function H2(r,e,t,n){const i=z.useMemo(()=>({queryArgs:r,serialized:typeof r=="object"?e({queryArgs:r,endpointDefinition:t,endpointName:n}):r}),[r,e,t,n]),a=z.useRef(i);return z.useEffect(()=>{a.current.serialized!==i.serialized&&(a.current=i)},[i]),a.current.serialized===i.serialized?a.current.queryArgs:r}function SE(r){const e=z.useRef(r);return z.useEffect(()=>{Nl(e.current,r)||(e.current=r)},[r]),Nl(e.current,r)?e.current:r}var nae=typeof window<"u"&&window.document&&window.document.createElement?z.useLayoutEffect:z.useEffect,rae=r=>r.isUninitialized?{...r,isUninitialized:!1,isFetching:!0,isLoading:r.data===void 0,status:cU.pending}:r;function iae({api:r,moduleOptions:{batch:e,hooks:{useDispatch:t,useSelector:n,useStore:i},unstable__sideEffectsInRender:a,createSelector:s},serializeQueryArgs:o,context:c}){const d=a?x=>x():z.useEffect;return{buildQueryHooks:g,buildMutationHook:y,usePrefetch:m};function f(x,S,_){if(S!=null&&S.endpointName&&x.isUninitialized){const{endpointName:R}=S,P=c.endpointDefinitions[R];o({queryArgs:S.originalArgs,endpointDefinition:P,endpointName:R})===o({queryArgs:_,endpointDefinition:P,endpointName:R})&&(S=void 0)}let E=x.isSuccess?x.data:S==null?void 0:S.data;E===void 0&&(E=x.data);const w=E!==void 0,C=x.isLoading,T=(!S||S.isLoading||S.isUninitialized)&&!w&&C,O=x.isSuccess||C&&w;return{...x,data:E,currentData:x.data,isFetching:C,isLoading:T,isSuccess:O}}function m(x,S){const _=t(),E=SE(S);return z.useCallback((w,C)=>_(r.util.prefetch(x,w,{...E,...C})),[x,_,E])}function g(x){const S=(w,{refetchOnReconnect:C,refetchOnFocus:T,refetchOnMountOrArgChange:O,skip:R=!1,pollingInterval:P=0,skipPollingIfUnfocused:N=!1}={})=>{const{initiate:D}=r.endpoints[x],I=t(),V=z.useRef(void 0);if(!V.current){const oe=I(r.internalActions.internal_getRTKQSubscriptions());V.current=oe}const q=H2(R?_d:w,tae,c.endpointDefinitions[x],x),W=SE({refetchOnReconnect:C,refetchOnFocus:T,pollingInterval:P,skipPollingIfUnfocused:N}),ee=z.useRef(!1),te=z.useRef(void 0);let{queryCacheKey:re,requestId:ue}=te.current||{},G=!1;re&&ue&&(G=V.current.isRequestSubscribed(re,ue));const le=!G&&ee.current;return d(()=>{ee.current=G}),d(()=>{le&&(te.current=void 0)},[le]),d(()=>{var ne;const oe=te.current;if(typeof process<"u",q===_d){oe==null||oe.unsubscribe(),te.current=void 0;return}const X=(ne=te.current)==null?void 0:ne.subscriptionOptions;if(!oe||oe.arg!==q){oe==null||oe.unsubscribe();const we=I(D(q,{subscriptionOptions:W,forceRefetch:O}));te.current=we}else W!==X&&oe.updateSubscriptionOptions(W)},[I,D,O,q,W,le]),z.useEffect(()=>()=>{var oe;(oe=te.current)==null||oe.unsubscribe(),te.current=void 0},[]),z.useMemo(()=>({refetch:()=>{var oe;if(!te.current)throw new Error(Zi(38));return(oe=te.current)==null?void 0:oe.refetch()}}),[])},_=({refetchOnReconnect:w,refetchOnFocus:C,pollingInterval:T=0,skipPollingIfUnfocused:O=!1}={})=>{const{initiate:R}=r.endpoints[x],P=t(),[N,D]=z.useState(xE),I=z.useRef(void 0),V=SE({refetchOnReconnect:w,refetchOnFocus:C,pollingInterval:T,skipPollingIfUnfocused:O});d(()=>{var te,re;const ee=(te=I.current)==null?void 0:te.subscriptionOptions;V!==ee&&((re=I.current)==null||re.updateSubscriptionOptions(V))},[V]);const q=z.useRef(V);d(()=>{q.current=V},[V]);const W=z.useCallback(function(ee,te=!1){let re;return e(()=>{var ue;(ue=I.current)==null||ue.unsubscribe(),I.current=re=P(R(ee,{subscriptionOptions:q.current,forceRefetch:!te})),D(ee)}),re},[P,R]);return z.useEffect(()=>()=>{var ee;(ee=I==null?void 0:I.current)==null||ee.unsubscribe()},[]),z.useEffect(()=>{N!==xE&&!I.current&&W(N,!0)},[N,W]),z.useMemo(()=>[W,N],[W,N])},E=(w,{skip:C=!1,selectFromResult:T}={})=>{const{select:O}=r.endpoints[x],R=H2(C?_d:w,o,c.endpointDefinitions[x],x),P=z.useRef(void 0),N=z.useMemo(()=>s([O(R),(W,ee)=>ee,W=>R],f,{memoizeOptions:{resultEqualityCheck:Nl}}),[O,R]),D=z.useMemo(()=>T?s([N],T,{devModeChecks:{identityFunctionCheck:"never"}}):N,[N,T]),I=n(W=>D(W,P.current),Nl),V=i(),q=N(V.getState(),P.current);return nae(()=>{P.current=q},[q]),I};return{useQueryState:E,useQuerySubscription:S,useLazyQuerySubscription:_,useLazyQuery(w){const[C,T]=_(w),O=E(T,{...w,skip:T===xE}),R=z.useMemo(()=>({lastArg:T}),[T]);return z.useMemo(()=>[C,O,R],[C,O,R])},useQuery(w,C){const T=S(w,C),O=E(w,{selectFromResult:w===_d||C!=null&&C.skip?void 0:rae,...C}),{data:R,status:P,isLoading:N,isSuccess:D,isError:I,error:V}=O;return z.useDebugValue({data:R,status:P,isLoading:N,isSuccess:D,isError:I,error:V}),z.useMemo(()=>({...O,...T}),[O,T])}}}function y(x){return({selectFromResult:S,fixedCacheKey:_}={})=>{const{select:E,initiate:w}=r.endpoints[x],C=t(),[T,O]=z.useState();z.useEffect(()=>()=>{T!=null&&T.arg.fixedCacheKey||T==null||T.reset()},[T]);const R=z.useCallback(function(X){const ne=C(w(X,{fixedCacheKey:_}));return O(ne),ne},[C,w,_]),{requestId:P}=T||{},N=z.useMemo(()=>E({fixedCacheKey:_,requestId:T==null?void 0:T.requestId}),[_,T,E]),D=z.useMemo(()=>S?s([N],S):N,[S,N]),I=n(D,Nl),V=_==null?T==null?void 0:T.arg.originalArgs:void 0,q=z.useCallback(()=>{e(()=>{T&&O(void 0),_&&C(r.internalActions.removeMutationResult({requestId:P,fixedCacheKey:_}))})},[C,_,T,P]),{endpointName:W,data:ee,status:te,isLoading:re,isSuccess:ue,isError:G,error:le}=I;z.useDebugValue({endpointName:W,data:ee,status:te,isLoading:re,isSuccess:ue,isError:G,error:le});const oe=z.useMemo(()=>({...I,originalArgs:V,reset:q}),[I,V,q]);return z.useMemo(()=>[R,oe],[R,oe])}}}var aae=Symbol(),sae=({batch:r=wI,hooks:e={useDispatch:EI,useSelector:hI,useStore:Jw},createSelector:t=EM,unstable__sideEffectsInRender:n=!1,...i}={})=>({name:aae,init(a,{serializeQueryArgs:s},o){const c=a,{buildQueryHooks:d,buildMutationHook:f,usePrefetch:m}=iae({api:a,moduleOptions:{batch:r,hooks:e,unstable__sideEffectsInRender:n,createSelector:t},serializeQueryArgs:s,context:o});return F0(c,{usePrefetch:m}),F0(o,{batch:r}),{injectEndpoint(g,y){if(Zie(y)){const{useQuery:x,useLazyQuery:S,useLazyQuerySubscription:_,useQueryState:E,useQuerySubscription:w}=d(g);F0(c.endpoints[g],{useQuery:x,useLazyQuery:S,useLazyQuerySubscription:_,useQueryState:E,useQuerySubscription:w}),a[`use${_E(g)}Query`]=x,a[`useLazy${_E(g)}Query`]=S}else if(eae(y)){const x=f(g);F0(c.endpoints[g],{useMutation:x}),a[`use${_E(g)}Mutation`]=x}}}}}),oae=zie(Jie(),sae());const ny=oae({baseQuery:Oie({baseUrl:"http://localhost:8080/v1/"}),tagTypes:["Track"],endpoints:r=>({getTracks:r.query({query:()=>"Track",providesTags:e=>e?[...e.map(({id:t})=>({type:"Track",id:t})),{type:"Track",id:"LIST"}]:[{type:"Track",id:"LIST"}]}),addTrack:r.mutation({query:e=>({url:"Track",method:"POST",body:e}),invalidatesTags:[{type:"Track",id:"LIST"}]}),getTrack:r.query({query:e=>`Track/${e}`,providesTags:(e,t,n)=>[{type:"Track",id:n}]}),updateTrack:r.mutation({query:({id:e,...t})=>({url:`Track/${e}`,method:"PUT",body:t}),async onQueryStarted({id:e,...t},{dispatch:n,queryFulfilled:i}){const a=n(ny.util.updateQueryData("getTrack",e,s=>{Object.assign(s,t)}));try{await i}catch{a.undo()}},invalidatesTags:(e,t,{id:n})=>[{type:"Track",id:n}]}),deleteTrack:r.mutation({query(e){return{url:`Track/${e}`,method:"DELETE"}},invalidatesTags:(e,t,n)=>[{type:"Track",id:n}]})})}),{useGetTrackQuery:gse,useGetTracksQuery:gU,useAddTrackMutation:yse,useUpdateTrackMutation:lae,useDeleteTrackMutation:vse}=ny;function Zc(r){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(r)}function cae(r,e){if(Zc(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function uae(r){var e=cae(r,"string");return Zc(e)=="symbol"?e:e+""}function ro(r,e,t){return(e=uae(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function j2(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Qi(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(t),!0).forEach(function(n){ro(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):j2(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Bw(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function dae(r){if(Array.isArray(r))return Bw(r)}function fae(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function yU(r,e){if(r){if(typeof r=="string")return Bw(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Bw(r,e):void 0}}function hae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xc(r){return dae(r)||fae(r)||yU(r)||hae()}function pae(r){if(Array.isArray(r))return r}function mae(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,o=[],c=!0,d=!1;try{if(a=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=a.call(t)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(d)throw i}}return o}}function gae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Na(r,e){return pae(r)||mae(r,e)||yU(r,e)||gae()}function zw(r){var e=z.useRef();e.current=r;var t=z.useCallback(function(){for(var n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(n=e.current)===null||n===void 0?void 0:n.call.apply(n,[e].concat(a))},[]);return t}function yae(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var $2=yae()?z.useLayoutEffect:z.useEffect,vae=function(e,t){var n=z.useRef(!0);$2(function(){return e(n.current)},t),$2(function(){return n.current=!1,function(){n.current=!0}},[])},W2=function(e,t){vae(function(n){if(!n)return e()},t)};function G2(r){var e=z.useRef(!1),t=z.useState(r),n=Na(t,2),i=n[0],a=n[1];z.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function s(o,c){c&&e.current||a(o)}return[i,s]}function EE(r){return r!==void 0}function _ae(r,e){var t=e||{},n=t.defaultValue,i=t.value,a=t.onChange,s=t.postState,o=G2(function(){return EE(i)?i:EE(n)?typeof n=="function"?n():n:typeof r=="function"?r():r}),c=Na(o,2),d=c[0],f=c[1],m=i!==void 0?i:d,g=s?s(m):m,y=zw(a),x=G2([m]),S=Na(x,2),_=S[0],E=S[1];W2(function(){var C=_[0];d!==C&&y(d,C)},[_]),W2(function(){EE(i)||f(i)},[i]);var w=zw(function(C,T){f(C,T),E([m],T)});return[g,w]}var Vw={},xae=function(e){};function Sae(r,e){}function Eae(r,e){}function wae(){Vw={}}function vU(r,e,t){!e&&!Vw[t]&&(r(!1,t),Vw[t]=!0)}function Oy(r,e){vU(Sae,r,e)}function Cae(r,e){vU(Eae,r,e)}Oy.preMessage=xae;Oy.resetWarned=wae;Oy.noteOnce=Cae;function bae(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=new Set;function i(a,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,c=n.has(a);if(Oy(!c,"Warning: There may be circular references"),c)return!1;if(a===s)return!0;if(t&&o>1)return!1;n.add(a);var d=o+1;if(Array.isArray(a)){if(!Array.isArray(s)||a.length!==s.length)return!1;for(var f=0;f<a.length;f++)if(!i(a[f],s[f],d))return!1;return!0}if(a&&s&&Zc(a)==="object"&&Zc(s)==="object"){var m=Object.keys(a);return m.length!==Object.keys(s).length?!1:m.every(function(g){return i(a[g],s[g],d)})}return!1}return i(r,e)}function _U(r,e){if(r==null)return{};var t,n,i=OC(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)>=0||{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function Hw(r,e,t){return(r-e)/(t-e)}function PM(r,e,t,n){var i=Hw(e,t,n),a={};switch(r){case"rtl":a.right="".concat(i*100,"%"),a.transform="translateX(50%)";break;case"btt":a.bottom="".concat(i*100,"%"),a.transform="translateY(50%)";break;case"ttb":a.top="".concat(i*100,"%"),a.transform="translateY(-50%)";break;default:a.left="".concat(i*100,"%"),a.transform="translateX(-50%)";break}return a}function Vh(r,e){return Array.isArray(r)?r[e]:r}var zt={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=zt.F1&&t<=zt.F12)return!1;switch(t){case zt.ALT:case zt.CAPS_LOCK:case zt.CONTEXT_MENU:case zt.CTRL:case zt.DOWN:case zt.END:case zt.ESC:case zt.HOME:case zt.INSERT:case zt.LEFT:case zt.MAC_FF_META:case zt.META:case zt.NUMLOCK:case zt.NUM_CENTER:case zt.PAGE_DOWN:case zt.PAGE_UP:case zt.PAUSE:case zt.PRINT_SCREEN:case zt.RIGHT:case zt.SHIFT:case zt.UP:case zt.WIN_KEY:case zt.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=zt.ZERO&&e<=zt.NINE||e>=zt.NUM_ZERO&&e<=zt.NUM_MULTIPLY||e>=zt.A&&e<=zt.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case zt.SPACE:case zt.QUESTION_MARK:case zt.NUM_PLUS:case zt.NUM_MINUS:case zt.NUM_PERIOD:case zt.NUM_DIVISION:case zt.SEMICOLON:case zt.DASH:case zt.EQUALS:case zt.COMMA:case zt.PERIOD:case zt.SLASH:case zt.APOSTROPHE:case zt.SINGLE_QUOTE:case zt.OPEN_SQUARE_BRACKET:case zt.BACKSLASH:case zt.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Kd=z.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),Mae=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],q2=z.forwardRef(function(r,e){var t=r.prefixCls,n=r.value,i=r.valueIndex,a=r.onStartMove,s=r.style,o=r.render,c=r.dragging,d=r.onOffsetChange,f=r.onChangeComplete,m=r.onFocus,g=r.onMouseEnter,y=_U(r,Mae),x=z.useContext(Kd),S=x.min,_=x.max,E=x.direction,w=x.disabled,C=x.keyboard,T=x.range,O=x.tabIndex,R=x.ariaLabelForHandle,P=x.ariaLabelledByForHandle,N=x.ariaValueTextFormatterForHandle,D=x.styles,I=x.classNames,V="".concat(t,"-handle"),q=function(ne){w||a(ne,i)},W=function(ne){m==null||m(ne,i)},ee=function(ne){g(ne,i)},te=function(ne){if(!w&&C){var we=null;switch(ne.which||ne.keyCode){case zt.LEFT:we=E==="ltr"||E==="btt"?-1:1;break;case zt.RIGHT:we=E==="ltr"||E==="btt"?1:-1;break;case zt.UP:we=E!=="ttb"?1:-1;break;case zt.DOWN:we=E!=="ttb"?-1:1;break;case zt.HOME:we="min";break;case zt.END:we="max";break;case zt.PAGE_UP:we=2;break;case zt.PAGE_DOWN:we=-2;break}we!==null&&(ne.preventDefault(),d(we,i))}},re=function(ne){switch(ne.which||ne.keyCode){case zt.LEFT:case zt.RIGHT:case zt.UP:case zt.DOWN:case zt.HOME:case zt.END:case zt.PAGE_UP:case zt.PAGE_DOWN:f==null||f();break}},ue=PM(E,n,S,_),G={};if(i!==null){var le;G={tabIndex:w?null:Vh(O,i),role:"slider","aria-valuemin":S,"aria-valuemax":_,"aria-valuenow":n,"aria-disabled":w,"aria-label":Vh(R,i),"aria-labelledby":Vh(P,i),"aria-valuetext":(le=Vh(N,i))===null||le===void 0?void 0:le(n),"aria-orientation":E==="ltr"||E==="rtl"?"horizontal":"vertical",onMouseDown:q,onTouchStart:q,onFocus:W,onMouseEnter:ee,onKeyDown:te,onKeyUp:re}}var oe=z.createElement("div",Rd({ref:e,className:Ft(V,ro(ro({},"".concat(V,"-").concat(i+1),i!==null&&T),"".concat(V,"-dragging"),c),I.handle),style:Qi(Qi(Qi({},ue),s),D.handle)},G,y));return o&&(oe=o(oe,{index:i,prefixCls:t,value:n,dragging:c})),oe}),Tae=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","onFocus"],Aae=z.forwardRef(function(r,e){var t=r.prefixCls,n=r.style,i=r.onStartMove,a=r.onOffsetChange,s=r.values,o=r.handleRender,c=r.activeHandleRender,d=r.draggingIndex,f=r.onFocus,m=_U(r,Tae),g=z.useRef({});z.useImperativeHandle(e,function(){return{focus:function(O){var R;(R=g.current[O])===null||R===void 0||R.focus()}}});var y=z.useState(-1),x=Na(y,2),S=x[0],_=x[1],E=function(O,R){_(R),f==null||f(O)},w=function(O,R){_(R)},C=Qi({prefixCls:t,onStartMove:i,onOffsetChange:a,render:o,onFocus:E,onMouseEnter:w},m);return z.createElement(z.Fragment,null,s.map(function(T,O){return z.createElement(q2,Rd({ref:function(P){P?g.current[O]=P:delete g.current[O]},dragging:d===O,style:Vh(n,O),key:O,value:T,valueIndex:O},C))}),c&&z.createElement(q2,Rd({key:"a11y"},C,{value:s[S],valueIndex:null,dragging:d!==-1,render:c,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),Pae=function(e){var t=e.prefixCls,n=e.style,i=e.children,a=e.value,s=e.onClick,o=z.useContext(Kd),c=o.min,d=o.max,f=o.direction,m=o.includedStart,g=o.includedEnd,y=o.included,x="".concat(t,"-text"),S=PM(f,a,c,d);return z.createElement("span",{className:Ft(x,ro({},"".concat(x,"-active"),y&&m<=a&&a<=g)),style:Qi(Qi({},S),n),onMouseDown:function(E){E.stopPropagation()},onClick:function(){s(a)}},i)},Rae=function(e){var t=e.prefixCls,n=e.marks,i=e.onClick,a="".concat(t,"-mark");return n.length?z.createElement("div",{className:a},n.map(function(s){var o=s.value,c=s.style,d=s.label;return z.createElement(Pae,{key:o,prefixCls:a,style:c,value:o,onClick:i},d)})):null},Iae=function(e){var t=e.prefixCls,n=e.value,i=e.style,a=e.activeStyle,s=z.useContext(Kd),o=s.min,c=s.max,d=s.direction,f=s.included,m=s.includedStart,g=s.includedEnd,y="".concat(t,"-dot"),x=f&&m<=n&&n<=g,S=Qi(Qi({},PM(d,n,o,c)),typeof i=="function"?i(n):i);return x&&(S=Qi(Qi({},S),typeof a=="function"?a(n):a)),z.createElement("span",{className:Ft(y,ro({},"".concat(y,"-active"),x)),style:S})},Oae=function(e){var t=e.prefixCls,n=e.marks,i=e.dots,a=e.style,s=e.activeStyle,o=z.useContext(Kd),c=o.min,d=o.max,f=o.step,m=z.useMemo(function(){var g=new Set;if(n.forEach(function(x){g.add(x.value)}),i&&f!==null)for(var y=c;y<=d;)g.add(y),y+=f;return Array.from(g)},[c,d,f,i,n]);return z.createElement("div",{className:"".concat(t,"-step")},m.map(function(g){return z.createElement(Iae,{prefixCls:t,key:g,value:g,style:a,activeStyle:s})}))},X2=function(e){var t=e.prefixCls,n=e.style,i=e.start,a=e.end,s=e.index,o=e.onStartMove,c=e.replaceCls,d=z.useContext(Kd),f=d.direction,m=d.min,g=d.max,y=d.disabled,x=d.range,S=d.classNames,_="".concat(t,"-track"),E=Hw(i,m,g),w=Hw(a,m,g),C=function(P){!y&&o&&o(P,-1)},T={};switch(f){case"rtl":T.right="".concat(E*100,"%"),T.width="".concat(w*100-E*100,"%");break;case"btt":T.bottom="".concat(E*100,"%"),T.height="".concat(w*100-E*100,"%");break;case"ttb":T.top="".concat(E*100,"%"),T.height="".concat(w*100-E*100,"%");break;default:T.left="".concat(E*100,"%"),T.width="".concat(w*100-E*100,"%")}var O=c||Ft(_,ro(ro({},"".concat(_,"-").concat(s+1),s!==null&&x),"".concat(t,"-track-draggable"),o),S.track);return z.createElement("div",{className:O,style:Qi(Qi({},T),n),onMouseDown:C,onTouchStart:C})},kae=function(e){var t=e.prefixCls,n=e.style,i=e.values,a=e.startPoint,s=e.onStartMove,o=z.useContext(Kd),c=o.included,d=o.range,f=o.min,m=o.styles,g=o.classNames,y=z.useMemo(function(){if(!d){if(i.length===0)return[];var S=a??f,_=i[0];return[{start:Math.min(S,_),end:Math.max(S,_)}]}for(var E=[],w=0;w<i.length-1;w+=1)E.push({start:i[w],end:i[w+1]});return E},[i,d,a,f]);if(!c)return null;var x=g.tracks||m.tracks?z.createElement(X2,{index:null,prefixCls:t,start:y[0].start,end:y[y.length-1].end,replaceCls:Ft(g.tracks,"".concat(t,"-tracks")),style:m.tracks}):null;return z.createElement(z.Fragment,null,x,y.map(function(S,_){var E=S.start,w=S.end;return z.createElement(X2,{index:_,prefixCls:t,style:Qi(Qi({},Vh(n,_)),m.track),start:E,end:w,key:_,onStartMove:s})}))};function Y2(r){var e="touches"in r?r.touches[0]:r;return{pageX:e.pageX,pageY:e.pageY}}function Fae(r,e,t,n,i,a,s,o,c){var d=z.useState(null),f=Na(d,2),m=f[0],g=f[1],y=z.useState(-1),x=Na(y,2),S=x[0],_=x[1],E=z.useState(t),w=Na(E,2),C=w[0],T=w[1],O=z.useState(t),R=Na(O,2),P=R[0],N=R[1],D=z.useRef(null),I=z.useRef(null);z.useLayoutEffect(function(){S===-1&&T(t)},[t,S]),z.useEffect(function(){return function(){document.removeEventListener("mousemove",D.current),document.removeEventListener("mouseup",I.current),document.removeEventListener("touchmove",D.current),document.removeEventListener("touchend",I.current)}},[]);var V=function(re,ue){C.some(function(G,le){return G!==re[le]})&&(ue!==void 0&&g(ue),T(re),s(re))},q=zw(function(te,re){if(te===-1){var ue=P[0],G=P[P.length-1],le=n-ue,oe=i-G,X=re*(i-n);X=Math.max(X,le),X=Math.min(X,oe);var ne=a(ue+X);X=ne-ue;var we=P.map(function(Le){return Le+X});V(we)}else{var me=(i-n)*re,ye=Xc(C);ye[te]=P[te];var Pe=c(ye,me,te,"dist");V(Pe.values,Pe.value)}}),W=function(re,ue,G){re.stopPropagation();var le=G||t,oe=le[ue];_(ue),g(oe),N(le);var X=Y2(re),ne=X.pageX,we=X.pageY,me=function(Le){Le.preventDefault();var Je=Y2(Le),ot=Je.pageX,ft=Je.pageY,wt=ot-ne,Z=ft-we,Be=r.current.getBoundingClientRect(),Ge=Be.width,qe=Be.height,Ue;switch(e){case"btt":Ue=-Z/qe;break;case"ttb":Ue=Z/qe;break;case"rtl":Ue=-wt/Ge;break;default:Ue=wt/Ge}q(ue,Ue)},ye=function Pe(Le){Le.preventDefault(),document.removeEventListener("mouseup",Pe),document.removeEventListener("mousemove",me),document.removeEventListener("touchend",Pe),document.removeEventListener("touchmove",me),D.current=null,I.current=null,_(-1),o()};document.addEventListener("mouseup",ye),document.addEventListener("mousemove",me),document.addEventListener("touchend",ye),document.addEventListener("touchmove",me),D.current=me,I.current=ye},ee=z.useMemo(function(){var te=Xc(t).sort(function(ue,G){return ue-G}),re=Xc(C).sort(function(ue,G){return ue-G});return te.every(function(ue,G){return ue===re[G]})?C:t},[t,C]);return[S,m,ee,W]}function Dae(r,e,t,n,i,a){var s=z.useCallback(function(y){return Math.max(r,Math.min(e,y))},[r,e]),o=z.useCallback(function(y){if(t!==null){var x=r+Math.round((s(y)-r)/t)*t,S=function(C){return(String(C).split(".")[1]||"").length},_=Math.max(S(t),S(e),S(r)),E=Number(x.toFixed(_));return r<=E&&E<=e?E:null}return null},[t,r,e,s]),c=z.useCallback(function(y){var x=s(y),S=n.map(function(w){return w.value});t!==null&&S.push(o(y)),S.push(r,e);var _=S[0],E=e-r;return S.forEach(function(w){var C=Math.abs(x-w);C<=E&&(_=w,E=C)}),_},[r,e,n,t,s,o]),d=function y(x,S,_){var E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof S=="number"){var w,C=x[_],T=C+S,O=[];n.forEach(function(I){O.push(I.value)}),O.push(r,e),O.push(o(C));var R=S>0?1:-1;E==="unit"?O.push(o(C+R*t)):O.push(o(T)),O=O.filter(function(I){return I!==null}).filter(function(I){return S<0?I<=C:I>=C}),E==="unit"&&(O=O.filter(function(I){return I!==C}));var P=E==="unit"?C:T;w=O[0];var N=Math.abs(w-P);if(O.forEach(function(I){var V=Math.abs(I-P);V<N&&(w=I,N=V)}),w===void 0)return S<0?r:e;if(E==="dist")return w;if(Math.abs(S)>1){var D=Xc(x);return D[_]=w,y(D,S-R,_,E)}return w}else{if(S==="min")return r;if(S==="max")return e}},f=function(x,S,_){var E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",w=x[_],C=d(x,S,_,E);return{value:C,changed:C!==w}},m=function(x){return a===null&&x===0||typeof a=="number"&&x<a},g=function(x,S,_){var E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",w=x.map(c),C=w[_],T=d(w,S,_,E);if(w[_]=T,i===!1){var O=a||0;_>0&&w[_-1]!==C&&(w[_]=Math.max(w[_],w[_-1]+O)),_<w.length-1&&w[_+1]!==C&&(w[_]=Math.min(w[_],w[_+1]-O))}else if(typeof a=="number"||a===null){for(var R=_+1;R<w.length;R+=1)for(var P=!0;m(w[R]-w[R-1])&&P;){var N=f(w,1,R);w[R]=N.value,P=N.changed}for(var D=_;D>0;D-=1)for(var I=!0;m(w[D]-w[D-1])&&I;){var V=f(w,-1,D-1);w[D-1]=V.value,I=V.changed}for(var q=w.length-1;q>0;q-=1)for(var W=!0;m(w[q]-w[q-1])&&W;){var ee=f(w,-1,q-1);w[q-1]=ee.value,W=ee.changed}for(var te=0;te<w.length-1;te+=1)for(var re=!0;m(w[te+1]-w[te])&&re;){var ue=f(w,1,te+1);w[te+1]=ue.value,re=ue.changed}}return{value:w[_],values:w}};return[c,g]}var Lae=z.forwardRef(function(r,e){var t=r.prefixCls,n=t===void 0?"rc-slider":t,i=r.className,a=r.style,s=r.classNames,o=r.styles,c=r.disabled,d=c===void 0?!1:c,f=r.keyboard,m=f===void 0?!0:f,g=r.autoFocus,y=r.onFocus,x=r.onBlur,S=r.min,_=S===void 0?0:S,E=r.max,w=E===void 0?100:E,C=r.step,T=C===void 0?1:C,O=r.value,R=r.defaultValue,P=r.range,N=r.count,D=r.onChange,I=r.onBeforeChange,V=r.onAfterChange,q=r.onChangeComplete,W=r.allowCross,ee=W===void 0?!0:W,te=r.pushable,re=te===void 0?!1:te,ue=r.draggableTrack,G=r.reverse,le=r.vertical,oe=r.included,X=oe===void 0?!0:oe,ne=r.startPoint,we=r.trackStyle,me=r.handleStyle,ye=r.railStyle,Pe=r.dotStyle,Le=r.activeDotStyle,Je=r.marks,ot=r.dots,ft=r.handleRender,wt=r.activeHandleRender,Z=r.tabIndex,Be=Z===void 0?0:Z,Ge=r.ariaLabelForHandle,qe=r.ariaLabelledByForHandle,Ue=r.ariaValueTextFormatterForHandle,xt=z.useRef(null),st=z.useRef(null),yt=z.useMemo(function(){return le?G?"ttb":"btt":G?"rtl":"ltr"},[G,le]),se=z.useMemo(function(){return isFinite(_)?_:0},[_]),K=z.useMemo(function(){return isFinite(w)?w:100},[w]),Ce=z.useMemo(function(){return T!==null&&T<=0?1:T},[T]),Xe=z.useMemo(function(){return typeof re=="boolean"?re?Ce:!1:re>=0?re:!1},[re,Ce]),Ye=z.useMemo(function(){return Object.keys(Je||{}).map(function(dn){var Dt=Je[dn],pn={value:Number(dn)};return Dt&&Zc(Dt)==="object"&&!z.isValidElement(Dt)&&("label"in Dt||"style"in Dt)?(pn.style=Dt.style,pn.label=Dt.label):pn.label=Dt,pn}).filter(function(dn){var Dt=dn.label;return Dt||typeof Dt=="number"}).sort(function(dn,Dt){return dn.value-Dt.value})},[Je]),We=Dae(se,K,Ce,Ye,ee,Xe),Et=Na(We,2),$=Et[0],F=Et[1],B=_ae(R,{value:O}),Q=Na(B,2),ie=Q[0],pe=Q[1],ve=z.useMemo(function(){var dn=ie==null?[]:Array.isArray(ie)?ie:[ie],Dt=Na(dn,1),pn=Dt[0],J=pn===void 0?se:pn,xe=ie===null?[]:[J];if(P){if(xe=Xc(dn),N||ie===void 0){var Ae=N>=0?N+1:2;for(xe=xe.slice(0,Ae);xe.length<Ae;){var Oe;xe.push((Oe=xe[xe.length-1])!==null&&Oe!==void 0?Oe:se)}}xe.sort(function(be,it){return be-it})}return xe.forEach(function(be,it){xe[it]=$(be)}),xe},[ie,P,se,N,$]),Ve=z.useRef(ve);Ve.current=ve;var de=function(Dt){return P?Dt:Dt[0]},ke=function(Dt){var pn=Xc(Dt).sort(function(J,xe){return J-xe});D&&!bae(pn,Ve.current,!0)&&D(de(pn)),pe(pn)},tt=function(){var Dt=de(Ve.current);V==null||V(Dt),Oy(!V,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),q==null||q(Dt)},fe=Fae(st,yt,ve,se,K,$,ke,tt,F),Ke=Na(fe,4),He=Ke[0],$e=Ke[1],lt=Ke[2],Ut=Ke[3],Xt=function(Dt,pn){if(!d){var J=0,xe=K-se;ve.forEach(function(it,et){var mt=Math.abs(Dt-it);mt<=xe&&(xe=mt,J=et)});var Ae=Xc(ve);if(Ae[J]=Dt,P&&!ve.length&&N===void 0&&Ae.push(Dt),I==null||I(de(Ae)),ke(Ae),pn){var Oe,be;(Oe=document.activeElement)===null||Oe===void 0||(be=Oe.blur)===null||be===void 0||be.call(Oe),xt.current.focus(J),Ut(pn,J,Ae)}}},ge=function(Dt){Dt.preventDefault();var pn=st.current.getBoundingClientRect(),J=pn.width,xe=pn.height,Ae=pn.left,Oe=pn.top,be=pn.bottom,it=pn.right,et=Dt.clientX,mt=Dt.clientY,nt;switch(yt){case"btt":nt=(be-mt)/xe;break;case"ttb":nt=(mt-Oe)/xe;break;case"rtl":nt=(it-et)/J;break;default:nt=(et-Ae)/J}var Tt=se+nt*(K-se);Xt($(Tt),Dt)},Me=z.useState(null),Re=Na(Me,2),Ze=Re[0],ut=Re[1],Vt=function(Dt,pn){if(!d){var J=F(ve,Dt,pn);I==null||I(de(ve)),ke(J.values),ut(J.value)}};z.useEffect(function(){if(Ze!==null){var dn=ve.indexOf(Ze);dn>=0&&xt.current.focus(dn)}ut(null)},[Ze]);var Ct=z.useMemo(function(){return ue&&Ce===null?!1:ue},[ue,Ce]),pt=function(Dt,pn){Ut(Dt,pn),I==null||I(de(Ve.current))},Jt=He!==-1;z.useEffect(function(){if(!Jt){var dn=ve.lastIndexOf($e);xt.current.focus(dn)}},[Jt]);var Pt=z.useMemo(function(){return Xc(lt).sort(function(dn,Dt){return dn-Dt})},[lt]),hn=z.useMemo(function(){return P?[Pt[0],Pt[Pt.length-1]]:[se,Pt[0]]},[Pt,P,se]),gn=Na(hn,2),Ot=gn[0],Cn=gn[1];z.useImperativeHandle(e,function(){return{focus:function(){xt.current.focus(0)},blur:function(){var Dt,pn=document,J=pn.activeElement;(Dt=st.current)!==null&&Dt!==void 0&&Dt.contains(J)&&(J==null||J.blur())}}}),z.useEffect(function(){g&&xt.current.focus(0)},[]);var Pn=z.useMemo(function(){return{min:se,max:K,direction:yt,disabled:d,keyboard:m,step:Ce,included:X,includedStart:Ot,includedEnd:Cn,range:P,tabIndex:Be,ariaLabelForHandle:Ge,ariaLabelledByForHandle:qe,ariaValueTextFormatterForHandle:Ue,styles:o||{},classNames:s||{}}},[se,K,yt,d,m,Ce,X,Ot,Cn,P,Be,Ge,qe,Ue,o,s]);return z.createElement(Kd.Provider,{value:Pn},z.createElement("div",{ref:st,className:Ft(n,i,ro(ro(ro(ro({},"".concat(n,"-disabled"),d),"".concat(n,"-vertical"),le),"".concat(n,"-horizontal"),!le),"".concat(n,"-with-marks"),Ye.length)),style:a,onMouseDown:ge},z.createElement("div",{className:Ft("".concat(n,"-rail"),s==null?void 0:s.rail),style:Qi(Qi({},ye),o==null?void 0:o.rail)}),z.createElement(kae,{prefixCls:n,style:we,values:Pt,startPoint:ne,onStartMove:Ct?pt:void 0}),z.createElement(Oae,{prefixCls:n,marks:Ye,dots:ot,style:Pe,activeStyle:Le}),z.createElement(Aae,{ref:xt,prefixCls:n,style:me,values:lt,draggingIndex:He,onStartMove:pt,onOffsetChange:Vt,onFocus:y,onBlur:x,handleRender:ft,activeHandleRender:wt,onChangeComplete:tt}),z.createElement(Rae,{prefixCls:n,marks:Ye,onClick:Xt})))}),qm=(r=>(r.Playback="playback",r.Recording="recording",r.Ready="ready",r.Disabled="disabled",r.Warning="warning",r.Error="error",r))(qm||{});const wE=({children:r,variant:e,onClick:t})=>H.jsx("button",{onClick:n=>t(n),className:e,children:r}),Nae=r=>H.jsx(bn,{style:{marginLeft:"-40px",width:"40px",padding:"3px",height:"200px"},children:H.jsxs(oM,{children:[H.jsx("ambientLight",{intensity:Math.PI/2}),H.jsx("spotLight",{position:[10,10,10],angle:.15,penumbra:1,decay:0,intensity:Math.PI}),H.jsx("pointLight",{position:[-10,-10,-10],decay:0,intensity:Math.PI}),H.jsx(Q2,{position:[-.6,-3,0],level:r.leftLevel}),H.jsx(Q2,{position:[.6,-3,0],level:r.rightLevel})]})}),Q2=r=>{const e=z.useRef();z.useRef();const[t,n]=z.useState(!1),[i,a]=z.useState(!1);return aM((s,o)=>e.current.rotation.x+=o),H.jsxs("mesh",{...r,ref:e,scale:i?2:1,onClick:s=>a(!i),onPointerOver:s=>n(!0),onPointerOut:s=>n(!1),children:[H.jsx("boxGeometry",{args:[1,2,r.level/10]}),H.jsx("meshStandardMaterial",{color:t?"hotpink":"orange"})]})},Uae=({track:r})=>{const[e,{isLoading:t}]=lae({fixedCacheKey:"shared-update-track"}),n=o=>{let c={...r};return c.inputGainDB=o,e(c)},i=()=>{let o={...r};return o.muted=!r.muted,e(o)},a=()=>{let o={...r};return o.solo=!r.solo,e(o)},s=()=>({...r},r.status===qm.Recording?qm.Ready:qm.Recording,e(r));return H.jsx(H.Fragment,{children:H.jsx(Ms,{className:"trackCard "+r.status+" "+(t?" connect":""),children:H.jsxs(HE,{className:"trackTable",children:[H.jsx(Vr,{children:H.jsx(Nn,{md:12,children:H.jsx(bn,{children:H.jsx(bn.Title,{style:{minHeight:"50px",maxHeight:"50px",maxWidth:"80px",overflow:"hidden"},children:r.name})})})}),H.jsx(Vr,{children:H.jsx(Nn,{md:12,children:"----------"})}),H.jsx(Vr,{children:H.jsxs(Nn,{md:12,children:[H.jsx(wE,{variant:r.muted?"muted":"info",onClick:()=>i(),children:"m"}),H.jsx(wE,{variant:r.solo?"solo":"info",onClick:()=>a(),children:"s"})]})}),H.jsx(Vr,{children:H.jsx(Nn,{md:12,children:"----------"})}),H.jsx(Vr,{children:H.jsx(Nn,{children:H.jsx(Mj.Range,{style:{backgroundColor:"#222",borderColor:"#ddd"}})})}),H.jsxs(Vr,{style:{minHeight:"230px",padding:"5px"},children:[H.jsx(Nn,{children:H.jsx(Lae,{vertical:!0,dots:!0,style:{marginRight:"25px",height:"190px"},onChange:o=>n(o),min:0,max:100,value:r.inputGainDB,railStyle:{background:"#222",color:"#ff9900"},handleStyle:{borderRadius:5,height:15,width:40,marginLeft:-10,opacity:1,borderWidth:3,background:"#222",borderColor:"#ddd"},trackStyle:{width:"50px",background:"#ff9900",color:"#ff9900"}})}),H.jsx(Nn,{children:H.jsx(Nae,{leftLevel:r.inputGainDB,rightLevel:r.inputGainDB})})]}),H.jsx(Vr,{children:H.jsxs(Nn,{children:["Level: ",r.inputGainDB]})}),H.jsx(Vr,{children:H.jsx(Nn,{children:H.jsx(wE,{onClick:()=>s(),variant:r.status===qm.Ready?"dark":"danger",children:"REC"})})}),H.jsx(Vr,{children:H.jsx(Nn,{md:12,children:"----------"})})]})})})},Bae=()=>{const{data:r,error:e,isLoading:t}=gU();return e?"ERROR:"+e:t?"Loading...":r?H.jsx("div",{className:"trackRow",children:r.map(n=>H.jsx(Uae,{track:n},n.name))}):"NO TRACKS"};var zae=Object.defineProperty,Vae=(r,e,t)=>e in r?zae(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ln=(r,e,t)=>(Vae(r,typeof e!="symbol"?e+"":e,t),t);const D0=new $d,K2=new Il,Hae=Math.cos(70*(Math.PI/180)),J2=(r,e)=>(r%e+e)%e;let jae=class extends $o{constructor(e,t){super(),ln(this,"object"),ln(this,"domElement"),ln(this,"enabled",!0),ln(this,"target",new ae),ln(this,"minDistance",0),ln(this,"maxDistance",1/0),ln(this,"minZoom",0),ln(this,"maxZoom",1/0),ln(this,"minPolarAngle",0),ln(this,"maxPolarAngle",Math.PI),ln(this,"minAzimuthAngle",-1/0),ln(this,"maxAzimuthAngle",1/0),ln(this,"enableDamping",!1),ln(this,"dampingFactor",.05),ln(this,"enableZoom",!0),ln(this,"zoomSpeed",1),ln(this,"enableRotate",!0),ln(this,"rotateSpeed",1),ln(this,"enablePan",!0),ln(this,"panSpeed",1),ln(this,"screenSpacePanning",!0),ln(this,"keyPanSpeed",7),ln(this,"zoomToCursor",!1),ln(this,"autoRotate",!1),ln(this,"autoRotateSpeed",2),ln(this,"reverseOrbit",!1),ln(this,"reverseHorizontalOrbit",!1),ln(this,"reverseVerticalOrbit",!1),ln(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ln(this,"mouseButtons",{LEFT:ad.ROTATE,MIDDLE:ad.DOLLY,RIGHT:ad.PAN}),ln(this,"touches",{ONE:sd.ROTATE,TWO:sd.DOLLY_PAN}),ln(this,"target0"),ln(this,"position0"),ln(this,"zoom0"),ln(this,"_domElementKeyEvents",null),ln(this,"getPolarAngle"),ln(this,"getAzimuthalAngle"),ln(this,"setPolarAngle"),ln(this,"setAzimuthalAngle"),ln(this,"getDistance"),ln(this,"listenToKeyEvents"),ln(this,"stopListenToKeyEvents"),ln(this,"saveState"),ln(this,"reset"),ln(this,"update"),ln(this,"connect"),ln(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=de=>{let ke=J2(de,2*Math.PI),tt=f.phi;tt<0&&(tt+=2*Math.PI),ke<0&&(ke+=2*Math.PI);let fe=Math.abs(ke-tt);2*Math.PI-fe<fe&&(ke<tt?ke+=2*Math.PI:tt+=2*Math.PI),m.phi=ke-tt,n.update()},this.setAzimuthalAngle=de=>{let ke=J2(de,2*Math.PI),tt=f.theta;tt<0&&(tt+=2*Math.PI),ke<0&&(ke+=2*Math.PI);let fe=Math.abs(ke-tt);2*Math.PI-fe<fe&&(ke<tt?ke+=2*Math.PI:tt+=2*Math.PI),m.theta=ke-tt,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=de=>{de.addEventListener("keydown",$),this._domElementKeyEvents=de},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",$),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(i),n.update(),c=o.NONE},this.update=(()=>{const de=new ae,ke=new ae(0,1,0),tt=new Ki().setFromUnitVectors(e.up,ke),fe=tt.clone().invert(),Ke=new ae,He=new Ki,$e=2*Math.PI;return function(){const Ut=n.object.position;tt.setFromUnitVectors(e.up,ke),fe.copy(tt).invert(),de.copy(Ut).sub(n.target),de.applyQuaternion(tt),f.setFromVector3(de),n.autoRotate&&c===o.NONE&&ee(q()),n.enableDamping?(f.theta+=m.theta*n.dampingFactor,f.phi+=m.phi*n.dampingFactor):(f.theta+=m.theta,f.phi+=m.phi);let Xt=n.minAzimuthAngle,ge=n.maxAzimuthAngle;isFinite(Xt)&&isFinite(ge)&&(Xt<-Math.PI?Xt+=$e:Xt>Math.PI&&(Xt-=$e),ge<-Math.PI?ge+=$e:ge>Math.PI&&(ge-=$e),Xt<=ge?f.theta=Math.max(Xt,Math.min(ge,f.theta)):f.theta=f.theta>(Xt+ge)/2?Math.max(Xt,f.theta):Math.min(ge,f.theta)),f.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,f.phi)),f.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(y,n.dampingFactor):n.target.add(y),n.zoomToCursor&&D||n.object.isOrthographicCamera?f.radius=ne(f.radius):f.radius=ne(f.radius*g),de.setFromSpherical(f),de.applyQuaternion(fe),Ut.copy(n.target).add(de),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(m.theta*=1-n.dampingFactor,m.phi*=1-n.dampingFactor,y.multiplyScalar(1-n.dampingFactor)):(m.set(0,0,0),y.set(0,0,0));let Me=!1;if(n.zoomToCursor&&D){let Re=null;if(n.object instanceof Dr&&n.object.isPerspectiveCamera){const Ze=de.length();Re=ne(Ze*g);const ut=Ze-Re;n.object.position.addScaledVector(P,ut),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const Ze=new ae(N.x,N.y,0);Ze.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/g)),n.object.updateProjectionMatrix(),Me=!0;const ut=new ae(N.x,N.y,0);ut.unproject(n.object),n.object.position.sub(ut).add(Ze),n.object.updateMatrixWorld(),Re=de.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;Re!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(Re).add(n.object.position):(D0.origin.copy(n.object.position),D0.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(D0.direction))<Hae?e.lookAt(n.target):(K2.setFromNormalAndCoplanarPoint(n.object.up,n.target),D0.intersectPlane(K2,n.target))))}else n.object instanceof Dl&&n.object.isOrthographicCamera&&(Me=g!==1,Me&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/g)),n.object.updateProjectionMatrix()));return g=1,D=!1,Me||Ke.distanceToSquared(n.object.position)>d||8*(1-He.dot(n.object.quaternion))>d?(n.dispatchEvent(i),Ke.copy(n.object.position),He.copy(n.object.quaternion),Me=!1,!0):!1}})(),this.connect=de=>{de===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),n.domElement=de,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",Q),n.domElement.addEventListener("pointerdown",K),n.domElement.addEventListener("pointercancel",Xe),n.domElement.addEventListener("wheel",Et)},this.dispose=()=>{var de,ke,tt,fe,Ke,He;n.domElement&&(n.domElement.style.touchAction="auto"),(de=n.domElement)==null||de.removeEventListener("contextmenu",Q),(ke=n.domElement)==null||ke.removeEventListener("pointerdown",K),(tt=n.domElement)==null||tt.removeEventListener("pointercancel",Xe),(fe=n.domElement)==null||fe.removeEventListener("wheel",Et),(Ke=n.domElement)==null||Ke.ownerDocument.removeEventListener("pointermove",Ce),(He=n.domElement)==null||He.ownerDocument.removeEventListener("pointerup",Xe),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",$)};const n=this,i={type:"change"},a={type:"start"},s={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=o.NONE;const d=1e-6,f=new hw,m=new hw;let g=1;const y=new ae,x=new Qe,S=new Qe,_=new Qe,E=new Qe,w=new Qe,C=new Qe,T=new Qe,O=new Qe,R=new Qe,P=new ae,N=new Qe;let D=!1;const I=[],V={};function q(){return 2*Math.PI/60/60*n.autoRotateSpeed}function W(){return Math.pow(.95,n.zoomSpeed)}function ee(de){n.reverseOrbit||n.reverseHorizontalOrbit?m.theta+=de:m.theta-=de}function te(de){n.reverseOrbit||n.reverseVerticalOrbit?m.phi+=de:m.phi-=de}const re=(()=>{const de=new ae;return function(tt,fe){de.setFromMatrixColumn(fe,0),de.multiplyScalar(-tt),y.add(de)}})(),ue=(()=>{const de=new ae;return function(tt,fe){n.screenSpacePanning===!0?de.setFromMatrixColumn(fe,1):(de.setFromMatrixColumn(fe,0),de.crossVectors(n.object.up,de)),de.multiplyScalar(tt),y.add(de)}})(),G=(()=>{const de=new ae;return function(tt,fe){const Ke=n.domElement;if(Ke&&n.object instanceof Dr&&n.object.isPerspectiveCamera){const He=n.object.position;de.copy(He).sub(n.target);let $e=de.length();$e*=Math.tan(n.object.fov/2*Math.PI/180),re(2*tt*$e/Ke.clientHeight,n.object.matrix),ue(2*fe*$e/Ke.clientHeight,n.object.matrix)}else Ke&&n.object instanceof Dl&&n.object.isOrthographicCamera?(re(tt*(n.object.right-n.object.left)/n.object.zoom/Ke.clientWidth,n.object.matrix),ue(fe*(n.object.top-n.object.bottom)/n.object.zoom/Ke.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function le(de){n.object instanceof Dr&&n.object.isPerspectiveCamera||n.object instanceof Dl&&n.object.isOrthographicCamera?g/=de:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function oe(de){n.object instanceof Dr&&n.object.isPerspectiveCamera||n.object instanceof Dl&&n.object.isOrthographicCamera?g*=de:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function X(de){if(!n.zoomToCursor||!n.domElement)return;D=!0;const ke=n.domElement.getBoundingClientRect(),tt=de.clientX-ke.left,fe=de.clientY-ke.top,Ke=ke.width,He=ke.height;N.x=tt/Ke*2-1,N.y=-(fe/He)*2+1,P.set(N.x,N.y,1).unproject(n.object).sub(n.object.position).normalize()}function ne(de){return Math.max(n.minDistance,Math.min(n.maxDistance,de))}function we(de){x.set(de.clientX,de.clientY)}function me(de){X(de),T.set(de.clientX,de.clientY)}function ye(de){E.set(de.clientX,de.clientY)}function Pe(de){S.set(de.clientX,de.clientY),_.subVectors(S,x).multiplyScalar(n.rotateSpeed);const ke=n.domElement;ke&&(ee(2*Math.PI*_.x/ke.clientHeight),te(2*Math.PI*_.y/ke.clientHeight)),x.copy(S),n.update()}function Le(de){O.set(de.clientX,de.clientY),R.subVectors(O,T),R.y>0?le(W()):R.y<0&&oe(W()),T.copy(O),n.update()}function Je(de){w.set(de.clientX,de.clientY),C.subVectors(w,E).multiplyScalar(n.panSpeed),G(C.x,C.y),E.copy(w),n.update()}function ot(de){X(de),de.deltaY<0?oe(W()):de.deltaY>0&&le(W()),n.update()}function ft(de){let ke=!1;switch(de.code){case n.keys.UP:G(0,n.keyPanSpeed),ke=!0;break;case n.keys.BOTTOM:G(0,-n.keyPanSpeed),ke=!0;break;case n.keys.LEFT:G(n.keyPanSpeed,0),ke=!0;break;case n.keys.RIGHT:G(-n.keyPanSpeed,0),ke=!0;break}ke&&(de.preventDefault(),n.update())}function wt(){if(I.length==1)x.set(I[0].pageX,I[0].pageY);else{const de=.5*(I[0].pageX+I[1].pageX),ke=.5*(I[0].pageY+I[1].pageY);x.set(de,ke)}}function Z(){if(I.length==1)E.set(I[0].pageX,I[0].pageY);else{const de=.5*(I[0].pageX+I[1].pageX),ke=.5*(I[0].pageY+I[1].pageY);E.set(de,ke)}}function Be(){const de=I[0].pageX-I[1].pageX,ke=I[0].pageY-I[1].pageY,tt=Math.sqrt(de*de+ke*ke);T.set(0,tt)}function Ge(){n.enableZoom&&Be(),n.enablePan&&Z()}function qe(){n.enableZoom&&Be(),n.enableRotate&&wt()}function Ue(de){if(I.length==1)S.set(de.pageX,de.pageY);else{const tt=Ve(de),fe=.5*(de.pageX+tt.x),Ke=.5*(de.pageY+tt.y);S.set(fe,Ke)}_.subVectors(S,x).multiplyScalar(n.rotateSpeed);const ke=n.domElement;ke&&(ee(2*Math.PI*_.x/ke.clientHeight),te(2*Math.PI*_.y/ke.clientHeight)),x.copy(S)}function xt(de){if(I.length==1)w.set(de.pageX,de.pageY);else{const ke=Ve(de),tt=.5*(de.pageX+ke.x),fe=.5*(de.pageY+ke.y);w.set(tt,fe)}C.subVectors(w,E).multiplyScalar(n.panSpeed),G(C.x,C.y),E.copy(w)}function st(de){const ke=Ve(de),tt=de.pageX-ke.x,fe=de.pageY-ke.y,Ke=Math.sqrt(tt*tt+fe*fe);O.set(0,Ke),R.set(0,Math.pow(O.y/T.y,n.zoomSpeed)),le(R.y),T.copy(O)}function yt(de){n.enableZoom&&st(de),n.enablePan&&xt(de)}function se(de){n.enableZoom&&st(de),n.enableRotate&&Ue(de)}function K(de){var ke,tt;n.enabled!==!1&&(I.length===0&&((ke=n.domElement)==null||ke.ownerDocument.addEventListener("pointermove",Ce),(tt=n.domElement)==null||tt.ownerDocument.addEventListener("pointerup",Xe)),ie(de),de.pointerType==="touch"?F(de):Ye(de))}function Ce(de){n.enabled!==!1&&(de.pointerType==="touch"?B(de):We(de))}function Xe(de){var ke,tt,fe;pe(de),I.length===0&&((ke=n.domElement)==null||ke.releasePointerCapture(de.pointerId),(tt=n.domElement)==null||tt.ownerDocument.removeEventListener("pointermove",Ce),(fe=n.domElement)==null||fe.ownerDocument.removeEventListener("pointerup",Xe)),n.dispatchEvent(s),c=o.NONE}function Ye(de){let ke;switch(de.button){case 0:ke=n.mouseButtons.LEFT;break;case 1:ke=n.mouseButtons.MIDDLE;break;case 2:ke=n.mouseButtons.RIGHT;break;default:ke=-1}switch(ke){case ad.DOLLY:if(n.enableZoom===!1)return;me(de),c=o.DOLLY;break;case ad.ROTATE:if(de.ctrlKey||de.metaKey||de.shiftKey){if(n.enablePan===!1)return;ye(de),c=o.PAN}else{if(n.enableRotate===!1)return;we(de),c=o.ROTATE}break;case ad.PAN:if(de.ctrlKey||de.metaKey||de.shiftKey){if(n.enableRotate===!1)return;we(de),c=o.ROTATE}else{if(n.enablePan===!1)return;ye(de),c=o.PAN}break;default:c=o.NONE}c!==o.NONE&&n.dispatchEvent(a)}function We(de){if(n.enabled!==!1)switch(c){case o.ROTATE:if(n.enableRotate===!1)return;Pe(de);break;case o.DOLLY:if(n.enableZoom===!1)return;Le(de);break;case o.PAN:if(n.enablePan===!1)return;Je(de);break}}function Et(de){n.enabled===!1||n.enableZoom===!1||c!==o.NONE&&c!==o.ROTATE||(de.preventDefault(),n.dispatchEvent(a),ot(de),n.dispatchEvent(s))}function $(de){n.enabled===!1||n.enablePan===!1||ft(de)}function F(de){switch(ve(de),I.length){case 1:switch(n.touches.ONE){case sd.ROTATE:if(n.enableRotate===!1)return;wt(),c=o.TOUCH_ROTATE;break;case sd.PAN:if(n.enablePan===!1)return;Z(),c=o.TOUCH_PAN;break;default:c=o.NONE}break;case 2:switch(n.touches.TWO){case sd.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Ge(),c=o.TOUCH_DOLLY_PAN;break;case sd.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;qe(),c=o.TOUCH_DOLLY_ROTATE;break;default:c=o.NONE}break;default:c=o.NONE}c!==o.NONE&&n.dispatchEvent(a)}function B(de){switch(ve(de),c){case o.TOUCH_ROTATE:if(n.enableRotate===!1)return;Ue(de),n.update();break;case o.TOUCH_PAN:if(n.enablePan===!1)return;xt(de),n.update();break;case o.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;yt(de),n.update();break;case o.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;se(de),n.update();break;default:c=o.NONE}}function Q(de){n.enabled!==!1&&de.preventDefault()}function ie(de){I.push(de)}function pe(de){delete V[de.pointerId];for(let ke=0;ke<I.length;ke++)if(I[ke].pointerId==de.pointerId){I.splice(ke,1);return}}function ve(de){let ke=V[de.pointerId];ke===void 0&&(ke=new Qe,V[de.pointerId]=ke),ke.set(de.pageX,de.pageY)}function Ve(de){const ke=de.pointerId===I[0].pointerId?I[1]:I[0];return V[ke.pointerId]}t!==void 0&&this.connect(t),this.update()}};const $ae=z.forwardRef(({makeDefault:r,camera:e,regress:t,domElement:n,enableDamping:i=!0,keyEvents:a=!1,onChange:s,onStart:o,onEnd:c,...d},f)=>{const m=To(R=>R.invalidate),g=To(R=>R.camera),y=To(R=>R.gl),x=To(R=>R.events),S=To(R=>R.setEvents),_=To(R=>R.set),E=To(R=>R.get),w=To(R=>R.performance),C=e||g,T=n||x.connected||y.domElement,O=z.useMemo(()=>new jae(C),[C]);return aM(()=>{O.enabled&&O.update()},-1),z.useEffect(()=>(a&&O.connect(a===!0?T:a),O.connect(T),()=>void O.dispose()),[a,T,t,O,m]),z.useEffect(()=>{const R=D=>{m(),t&&w.regress(),s&&s(D)},P=D=>{o&&o(D)},N=D=>{c&&c(D)};return O.addEventListener("change",R),O.addEventListener("start",P),O.addEventListener("end",N),()=>{O.removeEventListener("start",P),O.removeEventListener("end",N),O.removeEventListener("change",R)}},[s,o,c,O,m,S]),z.useEffect(()=>{if(r){const R=E().controls;return _({controls:O}),()=>_({controls:R})}},[r,O]),z.createElement("primitive",Rd({ref:f,object:O,enableDamping:i},d))});/**
 * lil-gui
 * https://lil-gui.georgealways.com
 * @version 0.17.0
 * @author George Michael Brower
 * @license MIT
 */class zo{constructor(e,t,n,i,a="div"){this.parent=e,this.object=t,this.property=n,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement("div"),this.domElement.classList.add("controller"),this.domElement.classList.add(i),this.$name=document.createElement("div"),this.$name.classList.add("name"),zo.nextNameID=zo.nextNameID||0,this.$name.id="lil-gui-name-"+ ++zo.nextNameID,this.$widget=document.createElement(a),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(n)}name(e){return this._name=e,this.$name.innerHTML=e,this}onChange(e){return this._onChange=e,this}_callOnChange(){this.parent._callOnChange(this),this._onChange!==void 0&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),this._onFinishChange!==void 0&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(e=!0){return this.disable(!e)}disable(e=!0){return e===this._disabled||(this._disabled=e,this.domElement.classList.toggle("disabled",e),this.$disable.toggleAttribute("disabled",e)),this}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(e){const t=this.parent.add(this.object,this.property,e);return t.name(this._name),this.destroy(),t}min(e){return this}max(e){return this}step(e){return this}decimals(e){return this}listen(e=!0){return this._listening=e,this._listenCallbackID!==void 0&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);const e=this.save();e!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=e}getValue(){return this.object[this.property]}setValue(e){return this.object[this.property]=e,this._callOnChange(),this.updateDisplay(),this}updateDisplay(){return this}load(e){return this.setValue(e),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}}class Wae extends zo{constructor(e,t,n){super(e,t,n,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}}function jw(r){let e,t;return(e=r.match(/(#|0x)?([a-f0-9]{6})/i))?t=e[2]:(e=r.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?t=parseInt(e[1]).toString(16).padStart(2,0)+parseInt(e[2]).toString(16).padStart(2,0)+parseInt(e[3]).toString(16).padStart(2,0):(e=r.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(t=e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),!!t&&"#"+t}const Gae={isPrimitive:!0,match:r=>typeof r=="string",fromHexString:jw,toHexString:jw},ry={isPrimitive:!0,match:r=>typeof r=="number",fromHexString:r=>parseInt(r.substring(1),16),toHexString:r=>"#"+r.toString(16).padStart(6,0)},qae={isPrimitive:!1,match:Array.isArray,fromHexString(r,e,t=1){const n=ry.fromHexString(r);e[0]=(n>>16&255)/255*t,e[1]=(n>>8&255)/255*t,e[2]=(255&n)/255*t},toHexString:([r,e,t],n=1)=>ry.toHexString(r*(n=255/n)<<16^e*n<<8^t*n<<0)},Xae={isPrimitive:!1,match:r=>Object(r)===r,fromHexString(r,e,t=1){const n=ry.fromHexString(r);e.r=(n>>16&255)/255*t,e.g=(n>>8&255)/255*t,e.b=(255&n)/255*t},toHexString:({r,g:e,b:t},n=1)=>ry.toHexString(r*(n=255/n)<<16^e*n<<8^t*n<<0)},Yae=[Gae,ry,qae,Xae];class Qae extends zo{constructor(e,t,n,i){var a;super(e,t,n,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=(a=this.initialValue,Yae.find(s=>s.match(a))),this._rgbScale=i,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$text.addEventListener("input",()=>{const s=jw(this.$text.value);s&&this._setValueFromHexString(s)}),this.$text.addEventListener("focus",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener("blur",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(e){if(this._format.isPrimitive){const t=this._format.fromHexString(e);this.setValue(t)}else this._format.fromHexString(e,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(e){return this._setValueFromHexString(e),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class CE extends zo{constructor(e,t,n){super(e,t,n,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",i=>{i.preventDefault(),this.getValue().call(this.object)}),this.$button.addEventListener("touchstart",()=>{},{passive:!0}),this.$disable=this.$button}}class Kae extends zo{constructor(e,t,n,i,a,s){super(e,t,n,"number"),this._initInput(),this.min(i),this.max(a);const o=s!==void 0;this.step(o?s:this._getImplicitStep(),o),this.updateDisplay()}decimals(e){return this._decimals=e,this.updateDisplay(),this}min(e){return this._min=e,this._onUpdateMinMax(),this}max(e){return this._max=e,this._onUpdateMinMax(),this}step(e,t=!0){return this._step=e,this._stepExplicit=t,this}updateDisplay(){const e=this.getValue();if(this._hasSlider){let t=(e-this._min)/(this._max-this._min);t=Math.max(0,Math.min(t,1)),this.$fill.style.width=100*t+"%"}return this._inputFocused||(this.$input.value=this._decimals===void 0?e:e.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$disable=this.$input;const e=f=>{const m=parseFloat(this.$input.value);isNaN(m)||(this._snapClampSetValue(m+f),this.$input.value=this.getValue())};let t,n,i,a,s,o=!1;const c=f=>{if(o){const m=f.clientX-t,g=f.clientY-n;Math.abs(g)>5?(f.preventDefault(),this.$input.blur(),o=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(m)>5&&d()}if(!o){const m=f.clientY-i;s-=m*this._step*this._arrowKeyMultiplier(f),a+s>this._max?s=this._max-a:a+s<this._min&&(s=this._min-a),this._snapClampSetValue(a+s)}i=f.clientY},d=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",d)};this.$input.addEventListener("input",()=>{let f=parseFloat(this.$input.value);isNaN(f)||(this._stepExplicit&&(f=this._snap(f)),this.setValue(this._clamp(f)))}),this.$input.addEventListener("keydown",f=>{f.code==="Enter"&&this.$input.blur(),f.code==="ArrowUp"&&(f.preventDefault(),e(this._step*this._arrowKeyMultiplier(f))),f.code==="ArrowDown"&&(f.preventDefault(),e(this._step*this._arrowKeyMultiplier(f)*-1))}),this.$input.addEventListener("wheel",f=>{this._inputFocused&&(f.preventDefault(),e(this._step*this._normalizeMouseWheel(f)))},{passive:!1}),this.$input.addEventListener("mousedown",f=>{t=f.clientX,n=i=f.clientY,o=!0,a=this.getValue(),s=0,window.addEventListener("mousemove",c),window.addEventListener("mouseup",d)}),this.$input.addEventListener("focus",()=>{this._inputFocused=!0}),this.$input.addEventListener("blur",()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()})}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");const e=g=>{const y=this.$slider.getBoundingClientRect();let x=(S=g,_=y.left,E=y.right,w=this._min,C=this._max,(S-_)/(E-_)*(C-w)+w);var S,_,E,w,C;this._snapClampSetValue(x)},t=g=>{e(g.clientX)},n=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",n)};let i,a,s=!1;const o=g=>{g.preventDefault(),this._setDraggingStyle(!0),e(g.touches[0].clientX),s=!1},c=g=>{if(s){const y=g.touches[0].clientX-i,x=g.touches[0].clientY-a;Math.abs(y)>Math.abs(x)?o(g):(window.removeEventListener("touchmove",c),window.removeEventListener("touchend",d))}else g.preventDefault(),e(g.touches[0].clientX)},d=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",c),window.removeEventListener("touchend",d)},f=this._callOnFinishChange.bind(this);let m;this.$slider.addEventListener("mousedown",g=>{this._setDraggingStyle(!0),e(g.clientX),window.addEventListener("mousemove",t),window.addEventListener("mouseup",n)}),this.$slider.addEventListener("touchstart",g=>{g.touches.length>1||(this._hasScrollBar?(i=g.touches[0].clientX,a=g.touches[0].clientY,s=!0):o(g),window.addEventListener("touchmove",c,{passive:!1}),window.addEventListener("touchend",d))},{passive:!1}),this.$slider.addEventListener("wheel",g=>{if(Math.abs(g.deltaX)<Math.abs(g.deltaY)&&this._hasScrollBar)return;g.preventDefault();const y=this._normalizeMouseWheel(g)*this._step;this._snapClampSetValue(this.getValue()+y),this.$input.value=this.getValue(),clearTimeout(m),m=setTimeout(f,400)},{passive:!1})}_setDraggingStyle(e,t="horizontal"){this.$slider&&this.$slider.classList.toggle("active",e),document.body.classList.toggle("lil-gui-dragging",e),document.body.classList.toggle("lil-gui-"+t,e)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(e){let{deltaX:t,deltaY:n}=e;return Math.floor(e.deltaY)!==e.deltaY&&e.wheelDelta&&(t=0,n=-e.wheelDelta/120,n*=this._stepExplicit?1:10),t+-n}_arrowKeyMultiplier(e){let t=this._stepExplicit?1:10;return e.shiftKey?t*=10:e.altKey&&(t/=10),t}_snap(e){const t=Math.round(e/this._step)*this._step;return parseFloat(t.toPrecision(15))}_clamp(e){return e<this._min&&(e=this._min),e>this._max&&(e=this._max),e}_snapClampSetValue(e){this.setValue(this._clamp(this._snap(e)))}get _hasScrollBar(){const e=this.parent.root.$children;return e.scrollHeight>e.clientHeight}get _hasMin(){return this._min!==void 0}get _hasMax(){return this._max!==void 0}}class Jae extends zo{constructor(e,t,n,i){super(e,t,n,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this._values=Array.isArray(i)?i:Object.values(i),this._names=Array.isArray(i)?i:Object.keys(i),this._names.forEach(a=>{const s=document.createElement("option");s.innerHTML=a,this.$select.appendChild(s)}),this.$select.addEventListener("change",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener("focus",()=>{this.$display.classList.add("focus")}),this.$select.addEventListener("blur",()=>{this.$display.classList.remove("focus")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.updateDisplay()}updateDisplay(){const e=this.getValue(),t=this._values.indexOf(e);return this.$select.selectedIndex=t,this.$display.innerHTML=t===-1?e:this._names[t],this}}class Zae extends zo{constructor(e,t,n){super(e,t,n,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener("keydown",i=>{i.code==="Enter"&&this.$input.blur()}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}let Z2=!1;class RM{constructor({parent:e,autoPlace:t=e===void 0,container:n,width:i,title:a="Controls",injectStyles:s=!0,touchStyles:o=!0}={}){if(this.parent=e,this.root=e?e.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("div"),this.$title.classList.add("title"),this.$title.setAttribute("role","button"),this.$title.setAttribute("aria-expanded",!0),this.$title.setAttribute("tabindex",0),this.$title.addEventListener("click",()=>this.openAnimated(this._closed)),this.$title.addEventListener("keydown",c=>{c.code!=="Enter"&&c.code!=="Space"||(c.preventDefault(),this.$title.click())}),this.$title.addEventListener("touchstart",()=>{},{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(a),o&&this.domElement.classList.add("allow-touch-styles"),this.parent)return this.parent.children.push(this),this.parent.folders.push(this),void this.parent.$children.appendChild(this.domElement);this.domElement.classList.add("root"),!Z2&&s&&(function(c){const d=document.createElement("style");d.innerHTML=c;const f=document.querySelector("head link[rel=stylesheet], head style");f?document.head.insertBefore(d,f):document.head.appendChild(d)}('.lil-gui{--background-color:#1f1f1f;--text-color:#ebebeb;--title-background-color:#111;--title-text-color:#ebebeb;--widget-color:#424242;--hover-color:#4f4f4f;--focus-color:#595959;--number-color:#2cc9ff;--string-color:#a2db3c;--font-size:11px;--input-font-size:11px;--font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;--font-family-mono:Menlo,Monaco,Consolas,"Droid Sans Mono",monospace;--padding:4px;--spacing:4px;--widget-height:20px;--name-width:45%;--slider-knob-width:2px;--slider-input-width:27%;--color-input-width:27%;--slider-input-min-width:45px;--color-input-min-width:45px;--folder-indent:7px;--widget-padding:0 0 0 3px;--widget-border-radius:2px;--checkbox-size:calc(var(--widget-height)*0.75);--scrollbar-width:5px;background-color:var(--background-color);color:var(--text-color);font-family:var(--font-family);font-size:var(--font-size);font-style:normal;font-weight:400;line-height:1;text-align:left;touch-action:manipulation;user-select:none;-webkit-user-select:none}.lil-gui,.lil-gui *{box-sizing:border-box;margin:0;padding:0}.lil-gui.root{display:flex;flex-direction:column;width:var(--width,245px)}.lil-gui.root>.title{background:var(--title-background-color);color:var(--title-text-color)}.lil-gui.root>.children{overflow-x:hidden;overflow-y:auto}.lil-gui.root>.children::-webkit-scrollbar{background:var(--background-color);height:var(--scrollbar-width);width:var(--scrollbar-width)}.lil-gui.root>.children::-webkit-scrollbar-thumb{background:var(--focus-color);border-radius:var(--scrollbar-width)}.lil-gui.force-touch-styles{--widget-height:28px;--padding:6px;--spacing:6px;--font-size:13px;--input-font-size:16px;--folder-indent:10px;--scrollbar-width:7px;--slider-input-min-width:50px;--color-input-min-width:65px}.lil-gui.autoPlace{max-height:100%;position:fixed;right:15px;top:0;z-index:1001}.lil-gui .controller{align-items:center;display:flex;margin:var(--spacing) 0;padding:0 var(--padding)}.lil-gui .controller.disabled{opacity:.5}.lil-gui .controller.disabled,.lil-gui .controller.disabled *{pointer-events:none!important}.lil-gui .controller>.name{flex-shrink:0;line-height:var(--widget-height);min-width:var(--name-width);padding-right:var(--spacing);white-space:pre}.lil-gui .controller .widget{align-items:center;display:flex;min-height:var(--widget-height);position:relative;width:100%}.lil-gui .controller.string input{color:var(--string-color)}.lil-gui .controller.boolean .widget{cursor:pointer}.lil-gui .controller.color .display{border-radius:var(--widget-border-radius);height:var(--widget-height);position:relative;width:100%}.lil-gui .controller.color input[type=color]{cursor:pointer;height:100%;opacity:0;width:100%}.lil-gui .controller.color input[type=text]{flex-shrink:0;font-family:var(--font-family-mono);margin-left:var(--spacing);min-width:var(--color-input-min-width);width:var(--color-input-width)}.lil-gui .controller.option select{max-width:100%;opacity:0;position:absolute;width:100%}.lil-gui .controller.option .display{background:var(--widget-color);border-radius:var(--widget-border-radius);height:var(--widget-height);line-height:var(--widget-height);max-width:100%;overflow:hidden;padding-left:.55em;padding-right:1.75em;pointer-events:none;position:relative;word-break:break-all}.lil-gui .controller.option .display.active{background:var(--focus-color)}.lil-gui .controller.option .display:after{bottom:0;content:"↕";font-family:lil-gui;padding-right:.375em;position:absolute;right:0;top:0}.lil-gui .controller.option .widget,.lil-gui .controller.option select{cursor:pointer}.lil-gui .controller.number input{color:var(--number-color)}.lil-gui .controller.number.hasSlider input{flex-shrink:0;margin-left:var(--spacing);min-width:var(--slider-input-min-width);width:var(--slider-input-width)}.lil-gui .controller.number .slider{background-color:var(--widget-color);border-radius:var(--widget-border-radius);cursor:ew-resize;height:var(--widget-height);overflow:hidden;padding-right:var(--slider-knob-width);touch-action:pan-y;width:100%}.lil-gui .controller.number .slider.active{background-color:var(--focus-color)}.lil-gui .controller.number .slider.active .fill{opacity:.95}.lil-gui .controller.number .fill{border-right:var(--slider-knob-width) solid var(--number-color);box-sizing:content-box;height:100%}.lil-gui-dragging .lil-gui{--hover-color:var(--widget-color)}.lil-gui-dragging *{cursor:ew-resize!important}.lil-gui-dragging.lil-gui-vertical *{cursor:ns-resize!important}.lil-gui .title{--title-height:calc(var(--widget-height) + var(--spacing)*1.25);-webkit-tap-highlight-color:transparent;text-decoration-skip:objects;cursor:pointer;font-weight:600;height:var(--title-height);line-height:calc(var(--title-height) - 4px);outline:none;padding:0 var(--padding)}.lil-gui .title:before{content:"▾";display:inline-block;font-family:lil-gui;padding-right:2px}.lil-gui .title:active{background:var(--title-background-color);opacity:.75}.lil-gui.root>.title:focus{text-decoration:none!important}.lil-gui.closed>.title:before{content:"▸"}.lil-gui.closed>.children{opacity:0;transform:translateY(-7px)}.lil-gui.closed:not(.transition)>.children{display:none}.lil-gui.transition>.children{overflow:hidden;pointer-events:none;transition-duration:.3s;transition-property:height,opacity,transform;transition-timing-function:cubic-bezier(.2,.6,.35,1)}.lil-gui .children:empty:before{content:"Empty";display:block;font-style:italic;height:var(--widget-height);line-height:var(--widget-height);margin:var(--spacing) 0;opacity:.5;padding:0 var(--padding)}.lil-gui.root>.children>.lil-gui>.title{border-width:0;border-bottom:1px solid var(--widget-color);border-left:0 solid var(--widget-color);border-right:0 solid var(--widget-color);border-top:1px solid var(--widget-color);transition:border-color .3s}.lil-gui.root>.children>.lil-gui.closed>.title{border-bottom-color:transparent}.lil-gui+.controller{border-top:1px solid var(--widget-color);margin-top:0;padding-top:var(--spacing)}.lil-gui .lil-gui .lil-gui>.title{border:none}.lil-gui .lil-gui .lil-gui>.children{border:none;border-left:2px solid var(--widget-color);margin-left:var(--folder-indent)}.lil-gui .lil-gui .controller{border:none}.lil-gui input{-webkit-tap-highlight-color:transparent;background:var(--widget-color);border:0;border-radius:var(--widget-border-radius);color:var(--text-color);font-family:var(--font-family);font-size:var(--input-font-size);height:var(--widget-height);outline:none;width:100%}.lil-gui input:disabled{opacity:1}.lil-gui input[type=number],.lil-gui input[type=text]{padding:var(--widget-padding)}.lil-gui input[type=number]:focus,.lil-gui input[type=text]:focus{background:var(--focus-color)}.lil-gui input::-webkit-inner-spin-button,.lil-gui input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.lil-gui input[type=number]{-moz-appearance:textfield}.lil-gui input[type=checkbox]{appearance:none;-webkit-appearance:none;border-radius:var(--widget-border-radius);cursor:pointer;height:var(--checkbox-size);text-align:center;width:var(--checkbox-size)}.lil-gui input[type=checkbox]:checked:before{content:"✓";font-family:lil-gui;font-size:var(--checkbox-size);line-height:var(--checkbox-size)}.lil-gui button{-webkit-tap-highlight-color:transparent;background:var(--widget-color);border:1px solid var(--widget-color);border-radius:var(--widget-border-radius);color:var(--text-color);cursor:pointer;font-family:var(--font-family);font-size:var(--font-size);height:var(--widget-height);line-height:calc(var(--widget-height) - 4px);outline:none;text-align:center;text-transform:none;width:100%}.lil-gui button:active{background:var(--focus-color)}@font-face{font-family:lil-gui;src:url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff")}@media (pointer:coarse){.lil-gui.allow-touch-styles{--widget-height:28px;--padding:6px;--spacing:6px;--font-size:13px;--input-font-size:16px;--folder-indent:10px;--scrollbar-width:7px;--slider-input-min-width:50px;--color-input-min-width:65px}}@media (hover:hover){.lil-gui .controller.color .display:hover:before{border:1px solid #fff9;border-radius:var(--widget-border-radius);bottom:0;content:" ";display:block;left:0;position:absolute;right:0;top:0}.lil-gui .controller.option .display.focus{background:var(--focus-color)}.lil-gui .controller.option .widget:hover .display{background:var(--hover-color)}.lil-gui .controller.number .slider:hover{background-color:var(--hover-color)}body:not(.lil-gui-dragging) .lil-gui .title:hover{background:var(--title-background-color);opacity:.85}.lil-gui .title:focus{text-decoration:underline var(--focus-color)}.lil-gui input:hover{background:var(--hover-color)}.lil-gui input:active{background:var(--focus-color)}.lil-gui input[type=checkbox]:focus{box-shadow:inset 0 0 0 1px var(--focus-color)}.lil-gui button:hover{background:var(--hover-color);border-color:var(--hover-color)}.lil-gui button:focus{border-color:var(--focus-color)}}'),Z2=!0),n?n.appendChild(this.domElement):t&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),i&&this.domElement.style.setProperty("--width",i+"px"),this.domElement.addEventListener("keydown",c=>c.stopPropagation()),this.domElement.addEventListener("keyup",c=>c.stopPropagation())}add(e,t,n,i,a){if(Object(n)===n)return new Jae(this,e,t,n);const s=e[t];switch(typeof s){case"number":return new Kae(this,e,t,n,i,a);case"boolean":return new Wae(this,e,t);case"string":return new Zae(this,e,t);case"function":return new CE(this,e,t)}console.error(`gui.add failed
	property:`,t,`
	object:`,e,`
	value:`,s)}addColor(e,t,n=1){return new Qae(this,e,t,n)}addFolder(e){return new RM({parent:this,title:e})}load(e,t=!0){return e.controllers&&this.controllers.forEach(n=>{n instanceof CE||n._name in e.controllers&&n.load(e.controllers[n._name])}),t&&e.folders&&this.folders.forEach(n=>{n._title in e.folders&&n.load(e.folders[n._title])}),this}save(e=!0){const t={controllers:{},folders:{}};return this.controllers.forEach(n=>{if(!(n instanceof CE)){if(n._name in t.controllers)throw new Error(`Cannot save GUI with duplicate property "${n._name}"`);t.controllers[n._name]=n.save()}}),e&&this.folders.forEach(n=>{if(n._title in t.folders)throw new Error(`Cannot save GUI with duplicate folder "${n._title}"`);t.folders[n._title]=n.save()}),t}open(e=!0){return this._closed=!e,this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(e=!0){return this._closed=!e,this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame(()=>{const t=this.$children.clientHeight;this.$children.style.height=t+"px",this.domElement.classList.add("transition");const n=a=>{a.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",n))};this.$children.addEventListener("transitionend",n);const i=e?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!e),requestAnimationFrame(()=>{this.$children.style.height=i+"px"})}),this}title(e){return this._title=e,this.$title.innerHTML=e,this}reset(e=!0){return(e?this.controllersRecursive():this.controllers).forEach(t=>t.reset()),this}onChange(e){return this._onChange=e,this}_callOnChange(e){this.parent&&this.parent._callOnChange(e),this._onChange!==void 0&&this._onChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(e){this.parent&&this.parent._callOnFinishChange(e),this._onFinishChange!==void 0&&this._onFinishChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(e=>e.destroy())}controllersRecursive(){let e=Array.from(this.controllers);return this.folders.forEach(t=>{e=e.concat(t.controllersRecursive())}),e}foldersRecursive(){let e=Array.from(this.folders);return this.folders.forEach(t=>{e=e.concat(t.foldersRecursive())}),e}}iM({SphereGeometry:ql,PositionalAudio:sS});let eI;const ese=()=>{const{scene:r,camera:e,gl:t}=To(),n=z.useRef(),i=new My,a=new Qb,s=z.useRef([]),o=z.useRef(),[c,d]=z.useState({}),[f,m]=z.useState(!1),{data:g,error:y,isLoading:x}=gU();if(x)return"Loading...";if(typeof g>"u"||g.length===0)return"No tracks :(";if(y)return"ERROR:"+y;if(!g)return"No tracks :(";z.useEffect(()=>{f?w():(S(),m(!0))},[g]);const S=()=>{e.add(a),r.fog=new Sy(0,.0025);const T=new Xb(16777215,3);T.position.set(0,.5,1).normalize(),r.add(T);const O=new ql(10,32,16),R=new Ab(1024);eI=new Tb(.05,50,R),r.add(eI),new Wo({envMap:R.texture}),g==null||g.map((D,I)=>{const V=new At(`hsl(${I*60}, 100%, 50%)`),q=new iS({color:V});_(O,q,a,Math.random()*300,D,I),c[`material${I}`]=q}),d(c);const P=new ML(10,10,16750848,8947848);P.position.y=0,r.add(P);const N=new RM;E(N,a),w(),t.setAnimationLoop(C)},_=(T,O,R,P,N,D)=>{const I=new Tr(T,O);I.position.set(D%1===0?P*(Math.random()*1):P*(Math.random()*-1),D%2===0?P*(Math.random()*2):P*(Math.random()*-2),D%3===0?P*(Math.random()*3):P*(Math.random()*-3)),I.name=`AudioSphere${D}`,r.add(I);const V=new sS(R);if(N){const q=new Audio(N.url);q.crossOrigin="anonymous",q.addEventListener("canplaythrough",()=>{V.setMediaElementSource(q),V.setRefDistance(10),N.muted?V.setVolume(0):V.setVolume(N.inputGainDB/100),q.play()},{once:!0})}else{const q=R.context.createOscillator();q.type="sine",q.frequency.setValueAtTime(440,V.context.currentTime),q.start(0),V.setNodeSource(q),V.setRefDistance(1),V.setVolume(.015),o.current=q}I.add(V),s.current[D]=new Kb(V,32)},E=(T,O)=>{const R=function(){this.master=O.getMasterVolume()},P=function(){this.frequency=50,this.type="triangle"},N=new R,D=new P,I=T.addFolder("sound volume");I.add(N,"master").min(0).max(1).step(.01).onChange(q=>O.setMasterVolume(q)),I.open();const V=T.addFolder("sound generator");V.add(D,"frequency").min(20).max(2e4).step(1).onChange(q=>{o.current&&o.current.frequency.setValueAtTime(q,O.context.currentTime)}),V.add(D,"type",["sine","square","sawtooth","triangle"]).onChange(q=>{o.current&&(o.current.type=q)}),V.open()},w=()=>{try{g.forEach((T,O)=>{const R=r.getObjectByName(`AudioSphere${O}`).children[0];T.solo?R.setVolume(T.muted?0:T.inputGainDB/100):g.some(P=>P.solo)?R.setVolume(0):R.setVolume(T.muted?0:T.inputGainDB/100)})}catch(T){console.warn("Updating Sphere Volumes failed: "+JSON.stringify(T))}},C=()=>{const T=i.getDelta();n.current.update(T),g.forEach((O,R)=>{const P=s.current[R],N=c[`material${R}`];if(P&&N){const D=P.getAverageFrequency();N.emissive.b=D/400,N.emissive.r=D/400,N.emissive.g=D/400}}),t.render(r,e)};return H.jsxs(H.Fragment,{children:[H.jsx($ae,{ref:n,enableDamping:!0,enableZoom:!0,enablePan:!0}),H.jsxs("mesh",{children:[H.jsx("sphereGeometry",{}),H.jsx("meshPhongMaterial",{color:16750848})]})]})},tse=()=>H.jsx(oM,{style:{height:"500px"},children:H.jsx(ese,{})});let nse={"force new connection":!0,reconnectionAttempts:10,timeout:1e4,transports:["websocket"]};const rse=({isVideoMute:r,isAudioMute:e})=>{let t=new Rne({config:{iceServers:[{urls:"stun:35.91.176.184"},{urls:"turn:35.91.176.184",credential:"badpassword",username:"web@jamroom.io"}]}});const[n,i]=z.useState(!0),[a,s]=z.useState(!0),o={},[c,d]=z.useState(null),{id:f}=L6(),m=document.getElementById("video-grid");z.useEffect(()=>{const T=e_("https://jamroom.online/video-connect",nse);return d(T),()=>{T.disconnect()}},[]);const[g,y]=z.useState(null),x=()=>{g.getAudioTracks()[0].enabled?g.getAudioTracks()[0].enabled=!0:g.getAudioTracks()[0].enabled=!1},S=()=>{g.getVideoTracks()[0].enabled?(g.getVideoTracks()[0].enabled=!1,i(!1)):(g.getVideoTracks()[0].enabled=!0,i(!0))};z.useEffect(()=>{g&&S()},[r]),z.useEffect(()=>{g&&x()},[e]),z.useEffect(()=>{if(c==null)return;t.on("open",O=>{c.emit("join-room",f,O)});const T=document.createElement("video");T.muted=!0,navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(O=>{window.localStream=O,y(O),console.log(g,"myvideostream"),_(T,O),t.on("call",R=>{R.answer(O);const P=document.createElement("video");R.on("stream",N=>{_(P,N)})}),c.on("user-connected",R=>{E(R,O)}),c.on("user-disconnected",R=>{o[R]&&o[R].close()})})},[c,f]);function _(T,O){T.srcObject=O,T.addEventListener("loadedmetadata",()=>{T.play()}),m.append(T)}function E(T,O){const R=t.call(T,O),P=document.createElement("video");R.on("stream",N=>{_(P,N)}),R.on("close",()=>{P.remove()}),o[T]=R}const[w,C]=z.useState(!0);return H.jsxs(H.Fragment,{children:[H.jsx(Ms,{className:"jumbotron text-center",children:H.jsxs("h2",{children:["You are in JamRoom : ",""+Math.round(Math.random()*1e3)]})}),H.jsxs(mi,{defaultActiveKey:["0"],alwaysOpen:!0,children:[H.jsxs(mi.Item,{eventKey:"0",children:[H.jsx(mi.Header,{children:"Host Video"}),H.jsxs(mi.Body,{children:[H.jsxs(UE,{children:[!n&&H.jsxs("button",{onClick:()=>S(),children:["un-mute ",H.jsx(DA,{})]}),n&&H.jsxs("button",{onClick:()=>S(),children:["mute ",H.jsx(DA,{})]}),!a&&H.jsxs("button",{onClick:()=>x(),children:["un-mute ",H.jsx(FA,{})]}),a&&H.jsxs("button",{onClick:()=>x(),children:["mute ",H.jsx(FA,{})]}),H.jsx("button",{children:"pause"}),H.jsx("button",{children:"share"})]}),H.jsx(HE,{children:H.jsxs(Vr,{children:[H.jsx(Nn,{children:H.jsx(bn,{id:"video-grid"})}),H.jsx(Nn,{children:H.jsxs(HE,{children:[H.jsx(Vr,{children:H.jsx(Nn,{children:H.jsx(bn,{className:"bg-dark",children:H.jsxs(bn.Body,{children:[H.jsxs(bn.Header,{children:[H.jsx(Ed,{bg:"warning",children:"STAFF"})," Jim James"]}),H.jsx(bn.Title,{})]})})})}),H.jsx(Vr,{children:H.jsx(Nn,{children:H.jsx(bn,{className:"bg-dark",children:H.jsxs(bn.Body,{children:[H.jsxs(bn.Header,{children:[H.jsx(Ed,{bg:"info",children:"BOSS"})," Carla Tan"]}),H.jsx(bn.Title,{children:H.jsxs(UE,{children:[H.jsx("button",{children:"mute audio"}),H.jsx("button",{children:"mute video"})]})})]})})})})]})})]})})]})]}),H.jsxs(mi.Item,{eventKey:"2",children:[H.jsx(mi.Header,{children:"Spatial Audio"}),H.jsx(mi.Body,{children:H.jsx(tse,{})})]}),H.jsxs(mi.Item,{eventKey:"3",children:[H.jsx(mi.Header,{children:"Session Audio Mixer"}),H.jsx(mi.Body,{children:H.jsx(bn,{id:"audio-mixer",children:H.jsx(Bae,{})})})]}),H.jsxs(mi.Item,{eventKey:"4",children:[H.jsx(mi.Header,{children:"Visualizations"}),H.jsx(mi.Body,{children:H.jsx(GL,{})})]})]}),H.jsxs(u1,{bg:"warning",onClose:()=>C(!1),show:w,delay:1e4,autohide:!0,children:[H.jsxs(u1.Header,{children:[H.jsx("img",{src:"holder.js/20x20?text=%20",className:"rounded me-2",alt:""}),H.jsx("strong",{className:"me-auto",children:"Bootstrap"}),H.jsx("small",{})]}),H.jsxs(u1.Body,{children:["You are now the HOST of JamRoom:"," ",""+Math.round(Math.random()*1e3)," "]})]})]})};function ise(){return H.jsx(Ms,{fluid:!0,className:"App p-3",style:{backgroundColor:"#333",color:"white"},children:H.jsx(br,{cascade:!0,children:H.jsx(rse,{isVideoMute:!1,isAudioMute:!1})})})}window.Buffer=w3.Buffer;function ase(){return H.jsx(K6,{children:H.jsxs(rd,{element:H.jsx(sse,{}),children:[H.jsx(rd,{path:"/JamRoom",element:H.jsx(ise,{})}),H.jsx(rd,{path:"/all-members",element:H.jsx(rG,{})}),H.jsx(rd,{path:"/about",element:H.jsx(nG,{})}),H.jsx(rd,{path:"/contact-us",element:H.jsx(q7,{})}),H.jsx(rd,{path:"/",element:H.jsx(G7,{})})]})})}function sse(){return H.jsxs("div",{className:"App",children:[H.jsx(S$,{}),H.jsxs("div",{className:"background-container",children:[H.jsx(GL,{}),H.jsx("div",{className:"content-container",children:H.jsx(Y6,{})})]}),H.jsx(sne,{})]})}const ose=iH([{path:"*",element:H.jsx(ase,{})}]);function lse(){return H.jsx(hH,{router:ose})}const cse=vM({[ny.reducerPath]:ny.reducer}),use=tie({reducer:cse,middleware:r=>r().concat(ny.middleware)}),dse=r=>r.queries;oI(document.getElementById("root")).render(H.jsx(xI,{store:use,children:H.jsx(CI.Provider,{queriesSelector:dse,children:H.jsx(lse,{})})}));
